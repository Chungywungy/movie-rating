(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var wc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xb(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Kd={exports:{}},Sl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rv;function Zb(){if(rv)return Sl;rv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Sl.Fragment=t,Sl.jsx=n,Sl.jsxs=n,Sl}var sv;function Wb(){return sv||(sv=1,Kd.exports=Zb()),Kd.exports}var me=Wb(),Qd={exports:{}},Rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var av;function Jb(){if(av)return Rt;av=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),S=Symbol.iterator;function M(O){return O===null||typeof O!="object"?null:(O=S&&O[S]||O["@@iterator"],typeof O=="function"?O:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q=Object.assign,$={};function H(O,W,ot){this.props=O,this.context=W,this.refs=$,this.updater=ot||j}H.prototype.isReactComponent={},H.prototype.setState=function(O,W){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,W,"setState")},H.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function et(){}et.prototype=H.prototype;function it(O,W,ot){this.props=O,this.context=W,this.refs=$,this.updater=ot||j}var st=it.prototype=new et;st.constructor=it,q(st,H.prototype),st.isPureReactComponent=!0;var gt=Array.isArray,tt={H:null,A:null,T:null,S:null,V:null},lt=Object.prototype.hasOwnProperty;function C(O,W,ot,nt,mt,It){return ot=It.ref,{$$typeof:r,type:O,key:W,ref:ot!==void 0?ot:null,props:It}}function b(O,W){return C(O.type,W,void 0,void 0,void 0,O.props)}function w(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function N(O){var W={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ot){return W[ot]})}var V=/\/+/g;function P(O,W){return typeof O=="object"&&O!==null&&O.key!=null?N(""+O.key):W.toString(36)}function I(){}function se(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(I,I):(O.status="pending",O.then(function(W){O.status==="pending"&&(O.status="fulfilled",O.value=W)},function(W){O.status==="pending"&&(O.status="rejected",O.reason=W)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function ee(O,W,ot,nt,mt){var It=typeof O;(It==="undefined"||It==="boolean")&&(O=null);var _t=!1;if(O===null)_t=!0;else switch(It){case"bigint":case"string":case"number":_t=!0;break;case"object":switch(O.$$typeof){case r:case t:_t=!0;break;case T:return _t=O._init,ee(_t(O._payload),W,ot,nt,mt)}}if(_t)return mt=mt(O),_t=nt===""?"."+P(O,0):nt,gt(mt)?(ot="",_t!=null&&(ot=_t.replace(V,"$&/")+"/"),ee(mt,W,ot,"",function(Fe){return Fe})):mt!=null&&(w(mt)&&(mt=b(mt,ot+(mt.key==null||O&&O.key===mt.key?"":(""+mt.key).replace(V,"$&/")+"/")+_t)),W.push(mt)),1;_t=0;var Dt=nt===""?".":nt+":";if(gt(O))for(var kt=0;kt<O.length;kt++)nt=O[kt],It=Dt+P(nt,kt),_t+=ee(nt,W,ot,It,mt);else if(kt=M(O),typeof kt=="function")for(O=kt.call(O),kt=0;!(nt=O.next()).done;)nt=nt.value,It=Dt+P(nt,kt++),_t+=ee(nt,W,ot,It,mt);else if(It==="object"){if(typeof O.then=="function")return ee(se(O),W,ot,nt,mt);throw W=String(O),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return _t}function K(O,W,ot){if(O==null)return O;var nt=[],mt=0;return ee(O,nt,"","",function(It){return W.call(ot,It,mt++)}),nt}function at(O){if(O._status===-1){var W=O._result;W=W(),W.then(function(ot){(O._status===0||O._status===-1)&&(O._status=1,O._result=ot)},function(ot){(O._status===0||O._status===-1)&&(O._status=2,O._result=ot)}),O._status===-1&&(O._status=0,O._result=W)}if(O._status===1)return O._result.default;throw O._result}var ft=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function qt(){}return Rt.Children={map:K,forEach:function(O,W,ot){K(O,function(){W.apply(this,arguments)},ot)},count:function(O){var W=0;return K(O,function(){W++}),W},toArray:function(O){return K(O,function(W){return W})||[]},only:function(O){if(!w(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Rt.Component=H,Rt.Fragment=n,Rt.Profiler=o,Rt.PureComponent=it,Rt.StrictMode=s,Rt.Suspense=g,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=tt,Rt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return tt.H.useMemoCache(O)}},Rt.cache=function(O){return function(){return O.apply(null,arguments)}},Rt.cloneElement=function(O,W,ot){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var nt=q({},O.props),mt=O.key,It=void 0;if(W!=null)for(_t in W.ref!==void 0&&(It=void 0),W.key!==void 0&&(mt=""+W.key),W)!lt.call(W,_t)||_t==="key"||_t==="__self"||_t==="__source"||_t==="ref"&&W.ref===void 0||(nt[_t]=W[_t]);var _t=arguments.length-2;if(_t===1)nt.children=ot;else if(1<_t){for(var Dt=Array(_t),kt=0;kt<_t;kt++)Dt[kt]=arguments[kt+2];nt.children=Dt}return C(O.type,mt,void 0,void 0,It,nt)},Rt.createContext=function(O){return O={$$typeof:f,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},Rt.createElement=function(O,W,ot){var nt,mt={},It=null;if(W!=null)for(nt in W.key!==void 0&&(It=""+W.key),W)lt.call(W,nt)&&nt!=="key"&&nt!=="__self"&&nt!=="__source"&&(mt[nt]=W[nt]);var _t=arguments.length-2;if(_t===1)mt.children=ot;else if(1<_t){for(var Dt=Array(_t),kt=0;kt<_t;kt++)Dt[kt]=arguments[kt+2];mt.children=Dt}if(O&&O.defaultProps)for(nt in _t=O.defaultProps,_t)mt[nt]===void 0&&(mt[nt]=_t[nt]);return C(O,It,void 0,void 0,null,mt)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(O){return{$$typeof:m,render:O}},Rt.isValidElement=w,Rt.lazy=function(O){return{$$typeof:T,_payload:{_status:-1,_result:O},_init:at}},Rt.memo=function(O,W){return{$$typeof:y,type:O,compare:W===void 0?null:W}},Rt.startTransition=function(O){var W=tt.T,ot={};tt.T=ot;try{var nt=O(),mt=tt.S;mt!==null&&mt(ot,nt),typeof nt=="object"&&nt!==null&&typeof nt.then=="function"&&nt.then(qt,ft)}catch(It){ft(It)}finally{tt.T=W}},Rt.unstable_useCacheRefresh=function(){return tt.H.useCacheRefresh()},Rt.use=function(O){return tt.H.use(O)},Rt.useActionState=function(O,W,ot){return tt.H.useActionState(O,W,ot)},Rt.useCallback=function(O,W){return tt.H.useCallback(O,W)},Rt.useContext=function(O){return tt.H.useContext(O)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(O,W){return tt.H.useDeferredValue(O,W)},Rt.useEffect=function(O,W,ot){var nt=tt.H;if(typeof ot=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return nt.useEffect(O,W)},Rt.useId=function(){return tt.H.useId()},Rt.useImperativeHandle=function(O,W,ot){return tt.H.useImperativeHandle(O,W,ot)},Rt.useInsertionEffect=function(O,W){return tt.H.useInsertionEffect(O,W)},Rt.useLayoutEffect=function(O,W){return tt.H.useLayoutEffect(O,W)},Rt.useMemo=function(O,W){return tt.H.useMemo(O,W)},Rt.useOptimistic=function(O,W){return tt.H.useOptimistic(O,W)},Rt.useReducer=function(O,W,ot){return tt.H.useReducer(O,W,ot)},Rt.useRef=function(O){return tt.H.useRef(O)},Rt.useState=function(O){return tt.H.useState(O)},Rt.useSyncExternalStore=function(O,W,ot){return tt.H.useSyncExternalStore(O,W,ot)},Rt.useTransition=function(){return tt.H.useTransition()},Rt.version="19.1.0",Rt}var ov;function Xm(){return ov||(ov=1,Qd.exports=Jb()),Qd.exports}var Yi=Xm(),Yd={exports:{}},bl={},$d={exports:{}},Xd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lv;function tw(){return lv||(lv=1,function(r){function t(K,at){var ft=K.length;K.push(at);t:for(;0<ft;){var qt=ft-1>>>1,O=K[qt];if(0<o(O,at))K[qt]=at,K[ft]=O,ft=qt;else break t}}function n(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var at=K[0],ft=K.pop();if(ft!==at){K[0]=ft;t:for(var qt=0,O=K.length,W=O>>>1;qt<W;){var ot=2*(qt+1)-1,nt=K[ot],mt=ot+1,It=K[mt];if(0>o(nt,ft))mt<O&&0>o(It,nt)?(K[qt]=It,K[mt]=ft,qt=mt):(K[qt]=nt,K[ot]=ft,qt=ot);else if(mt<O&&0>o(It,ft))K[qt]=It,K[mt]=ft,qt=mt;else break t}}return at}function o(K,at){var ft=K.sortIndex-at.sortIndex;return ft!==0?ft:K.id-at.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var g=[],y=[],T=1,S=null,M=3,j=!1,q=!1,$=!1,H=!1,et=typeof setTimeout=="function"?setTimeout:null,it=typeof clearTimeout=="function"?clearTimeout:null,st=typeof setImmediate<"u"?setImmediate:null;function gt(K){for(var at=n(y);at!==null;){if(at.callback===null)s(y);else if(at.startTime<=K)s(y),at.sortIndex=at.expirationTime,t(g,at);else break;at=n(y)}}function tt(K){if($=!1,gt(K),!q)if(n(g)!==null)q=!0,lt||(lt=!0,P());else{var at=n(y);at!==null&&ee(tt,at.startTime-K)}}var lt=!1,C=-1,b=5,w=-1;function N(){return H?!0:!(r.unstable_now()-w<b)}function V(){if(H=!1,lt){var K=r.unstable_now();w=K;var at=!0;try{t:{q=!1,$&&($=!1,it(C),C=-1),j=!0;var ft=M;try{e:{for(gt(K),S=n(g);S!==null&&!(S.expirationTime>K&&N());){var qt=S.callback;if(typeof qt=="function"){S.callback=null,M=S.priorityLevel;var O=qt(S.expirationTime<=K);if(K=r.unstable_now(),typeof O=="function"){S.callback=O,gt(K),at=!0;break e}S===n(g)&&s(g),gt(K)}else s(g);S=n(g)}if(S!==null)at=!0;else{var W=n(y);W!==null&&ee(tt,W.startTime-K),at=!1}}break t}finally{S=null,M=ft,j=!1}at=void 0}}finally{at?P():lt=!1}}}var P;if(typeof st=="function")P=function(){st(V)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,se=I.port2;I.port1.onmessage=V,P=function(){se.postMessage(null)}}else P=function(){et(V,0)};function ee(K,at){C=et(function(){K(r.unstable_now())},at)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(K){K.callback=null},r.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<K?Math.floor(1e3/K):5},r.unstable_getCurrentPriorityLevel=function(){return M},r.unstable_next=function(K){switch(M){case 1:case 2:case 3:var at=3;break;default:at=M}var ft=M;M=at;try{return K()}finally{M=ft}},r.unstable_requestPaint=function(){H=!0},r.unstable_runWithPriority=function(K,at){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var ft=M;M=K;try{return at()}finally{M=ft}},r.unstable_scheduleCallback=function(K,at,ft){var qt=r.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?qt+ft:qt):ft=qt,K){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=ft+O,K={id:T++,callback:at,priorityLevel:K,startTime:ft,expirationTime:O,sortIndex:-1},ft>qt?(K.sortIndex=ft,t(y,K),n(g)===null&&K===n(y)&&($?(it(C),C=-1):$=!0,ee(tt,ft-qt))):(K.sortIndex=O,t(g,K),q||j||(q=!0,lt||(lt=!0,P()))),K},r.unstable_shouldYield=N,r.unstable_wrapCallback=function(K){var at=M;return function(){var ft=M;M=at;try{return K.apply(this,arguments)}finally{M=ft}}}}(Xd)),Xd}var uv;function ew(){return uv||(uv=1,$d.exports=tw()),$d.exports}var Zd={exports:{}},Qe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cv;function nw(){if(cv)return Qe;cv=1;var r=Xm();function t(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,y,T){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:g,containerInfo:y,implementation:T}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Qe.createPortal=function(g,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return u(g,y,null,T)},Qe.flushSync=function(g){var y=f.T,T=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=y,s.p=T,s.d.f()}},Qe.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},Qe.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Qe.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var T=y.as,S=m(T,y.crossOrigin),M=typeof y.integrity=="string"?y.integrity:void 0,j=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:M,fetchPriority:j}):T==="script"&&s.d.X(g,{crossOrigin:S,integrity:M,fetchPriority:j,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Qe.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=m(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},Qe.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,S=m(T,y.crossOrigin);s.d.L(g,T,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Qe.preloadModule=function(g,y){if(typeof g=="string")if(y){var T=m(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},Qe.requestFormReset=function(g){s.d.r(g)},Qe.unstable_batchedUpdates=function(g,y){return g(y)},Qe.useFormState=function(g,y,T){return f.H.useFormState(g,y,T)},Qe.useFormStatus=function(){return f.H.useHostTransitionStatus()},Qe.version="19.1.0",Qe}var hv;function iw(){if(hv)return Zd.exports;hv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Zd.exports=nw(),Zd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fv;function rw(){if(fv)return bl;fv=1;var r=ew(),t=Xm(),n=iw();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function m(e){if(u(e)!==e)throw Error(s(188))}function g(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),e;if(d===l)return m(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,E=h.child;E;){if(E===a){v=!0,a=h,l=d;break}if(E===l){v=!0,l=h,a=d;break}E=E.sibling}if(!v){for(E=d.child;E;){if(E===a){v=!0,a=d,l=h;break}if(E===l){v=!0,l=d,a=h;break}E=E.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function y(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=y(e),i!==null)return i;e=e.sibling}return null}var T=Object.assign,S=Symbol.for("react.element"),M=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),et=Symbol.for("react.provider"),it=Symbol.for("react.consumer"),st=Symbol.for("react.context"),gt=Symbol.for("react.forward_ref"),tt=Symbol.for("react.suspense"),lt=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function P(e){return e===null||typeof e!="object"?null:(e=V&&e[V]||e["@@iterator"],typeof e=="function"?e:null)}var I=Symbol.for("react.client.reference");function se(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===I?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case q:return"Fragment";case H:return"Profiler";case $:return"StrictMode";case tt:return"Suspense";case lt:return"SuspenseList";case w:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case j:return"Portal";case st:return(e.displayName||"Context")+".Provider";case it:return(e._context.displayName||"Context")+".Consumer";case gt:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return i=e.displayName||null,i!==null?i:se(e.type)||"Memo";case b:i=e._payload,e=e._init;try{return se(e(i))}catch{}}return null}var ee=Array.isArray,K=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},qt=[],O=-1;function W(e){return{current:e}}function ot(e){0>O||(e.current=qt[O],qt[O]=null,O--)}function nt(e,i){O++,qt[O]=e.current,e.current=i}var mt=W(null),It=W(null),_t=W(null),Dt=W(null);function kt(e,i){switch(nt(_t,i),nt(It,e),nt(mt,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?M_(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=M_(i),e=V_(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ot(mt),nt(mt,e)}function Fe(){ot(mt),ot(It),ot(_t)}function Ln(e){e.memoizedState!==null&&nt(Dt,e);var i=mt.current,a=V_(i,e.type);i!==a&&(nt(It,e),nt(mt,a))}function Ai(e){It.current===e&&(ot(mt),ot(It)),Dt.current===e&&(ot(Dt),_l._currentValue=ft)}var Zr=Object.prototype.hasOwnProperty,Wr=r.unstable_scheduleCallback,Jr=r.unstable_cancelCallback,po=r.unstable_shouldYield,eu=r.unstable_requestPaint,An=r.unstable_now,Gh=r.unstable_getCurrentPriorityLevel,go=r.unstable_ImmediatePriority,Zs=r.unstable_UserBlockingPriority,ts=r.unstable_NormalPriority,Kh=r.unstable_LowPriority,Ws=r.unstable_IdlePriority,yo=r.log,nu=r.unstable_setDisableYieldValue,le=null,Kt=null;function hn(e){if(typeof yo=="function"&&nu(e),Kt&&typeof Kt.setStrictMode=="function")try{Kt.setStrictMode(le,e)}catch{}}var Ge=Math.clz32?Math.clz32:es,iu=Math.log,Qh=Math.LN2;function es(e){return e>>>=0,e===0?32:31-(iu(e)/Qh|0)|0}var ns=256,is=4194304;function zn(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Js(e,i,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var E=l&134217727;return E!==0?(l=E&~d,l!==0?h=zn(l):(v&=E,v!==0?h=zn(v):a||(a=E&~e,a!==0&&(h=zn(a))))):(E=l&~d,E!==0?h=zn(E):v!==0?h=zn(v):a||(a=l&~e,a!==0&&(h=zn(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function rs(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function _o(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vo(){var e=ns;return ns<<=1,(ns&4194048)===0&&(ns=256),e}function To(){var e=is;return is<<=1,(is&62914560)===0&&(is=4194304),e}function Si(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function bi(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Eo(e,i,a,l,h,d){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,L=e.hiddenUpdates;for(a=v&~a;0<a;){var Q=31-Ge(a),X=1<<Q;E[Q]=0,R[Q]=-1;var z=L[Q];if(z!==null)for(L[Q]=null,Q=0;Q<z.length;Q++){var B=z[Q];B!==null&&(B.lane&=-536870913)}a&=~X}l!==0&&Wn(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(v&~i))}function Wn(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-Ge(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194090}function Ao(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-Ge(a),h=1<<l;h&i|e[l]&i&&(e[l]|=i),a&=~h}}function ir(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ta(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function rr(){var e=at.p;return e!==0?e:(e=window.event,e===void 0?32:W_(e.type))}function ru(e,i){var a=at.p;try{return at.p=e,i()}finally{at.p=a}}var ie=Math.random().toString(36).slice(2),Se="__reactFiber$"+ie,ye="__reactProps$"+ie,Sn="__reactContainer$"+ie,So="__reactEvents$"+ie,Yh="__reactListeners$"+ie,sr="__reactHandles$"+ie,su="__reactResources$"+ie,ss="__reactMarker$"+ie;function ar(e){delete e[Se],delete e[ye],delete e[So],delete e[Yh],delete e[sr]}function wi(e){var i=e[Se];if(i)return i;for(var a=e.parentNode;a;){if(i=a[Sn]||a[Se]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=x_(e);e!==null;){if(a=e[Se])return a;e=x_(e)}return i}e=a,a=e.parentNode}return null}function Jn(e){if(e=e[Se]||e[Sn]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function ti(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function Je(e){var i=e[su];return i||(i=e[su]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function he(e){e[ss]=!0}var bo=new Set,ea={};function Bn(e,i){Ri(e,i),Ri(e+"Capture",i)}function Ri(e,i){for(ea[e]=i,e=0;e<i.length;e++)bo.add(i[e])}var au=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ou={},as={};function lu(e){return Zr.call(as,e)?!0:Zr.call(ou,e)?!1:au.test(e)?as[e]=!0:(ou[e]=!0,!1)}function or(e,i,a){if(lu(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function ei(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function ke(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}var os,uu;function Ii(e){if(os===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);os=i&&i[1]||"",uu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+os+e+uu}var na=!1;function ia(e,i){if(!e||na)return"";na=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(B){var z=B}Reflect.construct(e,[],X)}else{try{X.call()}catch(B){z=B}e.call(X.prototype)}}else{try{throw Error()}catch(B){z=B}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(B){if(B&&z&&typeof B.stack=="string")return[B.stack,z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],E=d[1];if(v&&E){var R=v.split(`
`),L=E.split(`
`);for(h=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;h<L.length&&!L[h].includes("DetermineComponentFrameRoot");)h++;if(l===R.length||h===L.length)for(l=R.length-1,h=L.length-1;1<=l&&0<=h&&R[l]!==L[h];)h--;for(;1<=l&&0<=h;l--,h--)if(R[l]!==L[h]){if(l!==1||h!==1)do if(l--,h--,0>h||R[l]!==L[h]){var Q=`
`+R[l].replace(" at new "," at ");return e.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",e.displayName)),Q}while(1<=l&&0<=h);break}}}finally{na=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Ii(a):""}function wo(e){switch(e.tag){case 26:case 27:case 5:return Ii(e.type);case 16:return Ii("Lazy");case 13:return Ii("Suspense");case 19:return Ii("SuspenseList");case 0:case 15:return ia(e.type,!1);case 11:return ia(e.type.render,!1);case 1:return ia(e.type,!0);case 31:return Ii("Activity");default:return""}}function ra(e){try{var i="";do i+=wo(e),e=e.return;while(e);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function tn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ro(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function $h(e){var i=Ro(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),l=""+e[i];if(!e.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(e,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function sa(e){e._valueTracker||(e._valueTracker=$h(e))}function Io(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=Ro(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function ls(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Xh=/[\n"\\]/g;function _e(e){return e.replace(Xh,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function fn(e,i,a,l,h,d,v,E){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),i!=null?v==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+tn(i)):e.value!==""+tn(i)&&(e.value=""+tn(i)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),i!=null?lr(e,v,tn(i)):a!=null?lr(e,v,tn(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+tn(E):e.removeAttribute("name")}function us(e,i,a,l,h,d,v,E){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+tn(a):"",i=i!=null?""+tn(i):a,E||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=E?e.checked:!!l,e.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function lr(e,i,a){i==="number"&&ls(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Ci(e,i,a,l){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+tn(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function $t(e,i,a){if(i!=null&&(i=""+tn(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+tn(a):""}function cs(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(ee(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=tn(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function bn(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var hs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function cu(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||hs.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function Co(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&cu(e,h,l)}else for(var d in i)i.hasOwnProperty(d)&&cu(e,d,i[d])}function Oo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Wh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function aa(e){return Wh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Oi=null;function wn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Di=null,Ni=null;function Do(e){var i=Jn(e);if(i&&(e=i.stateNode)){var a=e[ye]||null;t:switch(e=i.stateNode,i.type){case"input":if(fn(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+_e(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var h=l[ye]||null;if(!h)throw Error(s(90));fn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&Io(l)}break t;case"textarea":$t(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&Ci(e,!!a.multiple,i,!1)}}}var ni=!1;function hu(e,i,a){if(ni)return e(i,a);ni=!0;try{var l=e(i);return l}finally{if(ni=!1,(Di!==null||Ni!==null)&&(rc(),Di&&(i=Di,e=Ni,Ni=Di=null,Do(i),e)))for(i=0;i<e.length;i++)Do(e[i])}}function fs(e,i){var a=e.stateNode;if(a===null)return null;var l=a[ye]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rn=!1;if(qn)try{var ds={};Object.defineProperty(ds,"passive",{get:function(){Rn=!0}}),window.addEventListener("test",ds,ds),window.removeEventListener("test",ds,ds)}catch{Rn=!1}var ii=null,ur=null,Mi=null;function No(){if(Mi)return Mi;var e,i=ur,a=i.length,l,h="value"in ii?ii.value:ii.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var v=a-e;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return Mi=h.slice(e,1<l?1-l:void 0)}function ri(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function si(){return!0}function Mo(){return!1}function De(e){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(d):d[E]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?si:Mo,this.isPropagationStopped=Mo,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=si)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=si)},persist:function(){},isPersistent:si}),i}var Ft={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oa=De(Ft),ms=T({},Ft,{view:0,detail:0}),fu=De(ms),la,ua,ai,ps=T({},ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_s,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ai&&(ai&&e.type==="mousemove"?(la=e.screenX-ai.screenX,ua=e.screenY-ai.screenY):ua=la=0,ai=e),la)},movementY:function(e){return"movementY"in e?e.movementY:ua}}),In=De(ps),du=T({},ps,{dataTransfer:0}),Jh=De(du),gs=T({},ms,{relatedTarget:0}),ca=De(gs),Vo=T({},Ft,{animationName:0,elapsedTime:0,pseudoElement:0}),ha=De(Vo),mu=T({},Ft,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),fa=De(mu),tf=T({},Ft,{data:0}),Po=De(tf),ys={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Uo(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=gu[e])?!!i[e]:!1}function _s(){return Uo}var yu=T({},ms,{key:function(e){if(e.key){var i=ys[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=ri(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?pu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_s,charCode:function(e){return e.type==="keypress"?ri(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ri(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),da=De(yu),_u=T({},ps,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ko=De(_u),Vi=T({},ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_s}),vu=De(Vi),Tu=T({},Ft,{propertyName:0,elapsedTime:0,pseudoElement:0}),Eu=De(Tu),Au=T({},ps,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ma=De(Au),en=T({},Ft,{newState:0,oldState:0}),Su=De(en),bu=[9,13,27,32],oi=qn&&"CompositionEvent"in window,c=null;qn&&"documentMode"in document&&(c=document.documentMode);var p=qn&&"TextEvent"in window&&!c,_=qn&&(!oi||c&&8<c&&11>=c),A=" ",k=!1;function F(e,i){switch(e){case"keyup":return bu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rt(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var xt=!1;function be(e,i){switch(e){case"compositionend":return rt(i);case"keypress":return i.which!==32?null:(k=!0,A);case"textInput":return e=i.data,e===A&&k?null:e;default:return null}}function Lt(e,i){if(xt)return e==="compositionend"||!oi&&F(e,i)?(e=No(),Mi=ur=ii=null,xt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var Ne={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function we(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!Ne[e.type]:i==="textarea"}function Pi(e,i,a,l){Di?Ni?Ni.push(l):Ni=[l]:Di=l,i=cc(i,"onChange"),0<i.length&&(a=new oa("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var xe=null,li=null;function xo(e){I_(e,0)}function wu(e){var i=ti(e);if(Io(i))return e}function Yp(e,i){if(e==="change")return i}var $p=!1;if(qn){var ef;if(qn){var nf="oninput"in document;if(!nf){var Xp=document.createElement("div");Xp.setAttribute("oninput","return;"),nf=typeof Xp.oninput=="function"}ef=nf}else ef=!1;$p=ef&&(!document.documentMode||9<document.documentMode)}function Zp(){xe&&(xe.detachEvent("onpropertychange",Wp),li=xe=null)}function Wp(e){if(e.propertyName==="value"&&wu(li)){var i=[];Pi(i,li,e,wn(e)),hu(xo,i)}}function RS(e,i,a){e==="focusin"?(Zp(),xe=i,li=a,xe.attachEvent("onpropertychange",Wp)):e==="focusout"&&Zp()}function IS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return wu(li)}function CS(e,i){if(e==="click")return wu(i)}function OS(e,i){if(e==="input"||e==="change")return wu(i)}function DS(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var dn=typeof Object.is=="function"?Object.is:DS;function Lo(e,i){if(dn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Zr.call(i,h)||!dn(e[h],i[h]))return!1}return!0}function Jp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tg(e,i){var a=Jp(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Jp(a)}}function eg(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?eg(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function ng(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=ls(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=ls(e.document)}return i}function rf(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var NS=qn&&"documentMode"in document&&11>=document.documentMode,pa=null,sf=null,zo=null,af=!1;function ig(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;af||pa==null||pa!==ls(l)||(l=pa,"selectionStart"in l&&rf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),zo&&Lo(zo,l)||(zo=l,l=cc(sf,"onSelect"),0<l.length&&(i=new oa("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=pa)))}function vs(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var ga={animationend:vs("Animation","AnimationEnd"),animationiteration:vs("Animation","AnimationIteration"),animationstart:vs("Animation","AnimationStart"),transitionrun:vs("Transition","TransitionRun"),transitionstart:vs("Transition","TransitionStart"),transitioncancel:vs("Transition","TransitionCancel"),transitionend:vs("Transition","TransitionEnd")},of={},rg={};qn&&(rg=document.createElement("div").style,"AnimationEvent"in window||(delete ga.animationend.animation,delete ga.animationiteration.animation,delete ga.animationstart.animation),"TransitionEvent"in window||delete ga.transitionend.transition);function Ts(e){if(of[e])return of[e];if(!ga[e])return e;var i=ga[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in rg)return of[e]=i[a];return e}var sg=Ts("animationend"),ag=Ts("animationiteration"),og=Ts("animationstart"),MS=Ts("transitionrun"),VS=Ts("transitionstart"),PS=Ts("transitioncancel"),lg=Ts("transitionend"),ug=new Map,lf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");lf.push("scrollEnd");function jn(e,i){ug.set(e,i),Bn(i,[e])}var cg=new WeakMap;function Cn(e,i){if(typeof e=="object"&&e!==null){var a=cg.get(e);return a!==void 0?a:(i={value:e,source:i,stack:ra(i)},cg.set(e,i),i)}return{value:e,source:i,stack:ra(i)}}var On=[],ya=0,uf=0;function Ru(){for(var e=ya,i=uf=ya=0;i<e;){var a=On[i];On[i++]=null;var l=On[i];On[i++]=null;var h=On[i];On[i++]=null;var d=On[i];if(On[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&hg(a,h,d)}}function Iu(e,i,a,l){On[ya++]=e,On[ya++]=i,On[ya++]=a,On[ya++]=l,uf|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function cf(e,i,a,l){return Iu(e,i,a,l),Cu(e)}function _a(e,i){return Iu(e,null,null,i),Cu(e)}function hg(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-Ge(a),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Cu(e){if(50<cl)throw cl=0,gd=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var va={};function US(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(e,i,a,l){return new US(e,i,a,l)}function hf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ui(e,i){var a=e.alternate;return a===null?(a=mn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function fg(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Ou(e,i,a,l,h,d){var v=0;if(l=e,typeof e=="function")hf(e)&&(v=1);else if(typeof e=="string")v=xb(e,a,mt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case w:return e=mn(31,a,i,h),e.elementType=w,e.lanes=d,e;case q:return Es(a.children,h,d,i);case $:v=8,h|=24;break;case H:return e=mn(12,a,i,h|2),e.elementType=H,e.lanes=d,e;case tt:return e=mn(13,a,i,h),e.elementType=tt,e.lanes=d,e;case lt:return e=mn(19,a,i,h),e.elementType=lt,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case et:case st:v=10;break t;case it:v=9;break t;case gt:v=11;break t;case C:v=14;break t;case b:v=16,l=null;break t}v=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return i=mn(v,a,i,h),i.elementType=e,i.type=l,i.lanes=d,i}function Es(e,i,a,l){return e=mn(7,e,l,i),e.lanes=a,e}function ff(e,i,a){return e=mn(6,e,null,i),e.lanes=a,e}function df(e,i,a){return i=mn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var Ta=[],Ea=0,Du=null,Nu=0,Dn=[],Nn=0,As=null,ki=1,xi="";function Ss(e,i){Ta[Ea++]=Nu,Ta[Ea++]=Du,Du=e,Nu=i}function dg(e,i,a){Dn[Nn++]=ki,Dn[Nn++]=xi,Dn[Nn++]=As,As=e;var l=ki;e=xi;var h=32-Ge(l)-1;l&=~(1<<h),a+=1;var d=32-Ge(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,ki=1<<32-Ge(i)+h|a<<h|l,xi=d+e}else ki=1<<d|a<<h|l,xi=e}function mf(e){e.return!==null&&(Ss(e,1),dg(e,1,0))}function pf(e){for(;e===Du;)Du=Ta[--Ea],Ta[Ea]=null,Nu=Ta[--Ea],Ta[Ea]=null;for(;e===As;)As=Dn[--Nn],Dn[Nn]=null,xi=Dn[--Nn],Dn[Nn]=null,ki=Dn[--Nn],Dn[Nn]=null}var nn=null,ue=null,Ht=!1,bs=null,ui=!1,gf=Error(s(519));function ws(e){var i=Error(s(418,""));throw jo(Cn(i,e)),gf}function mg(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[Se]=e,i[ye]=l,a){case"dialog":Vt("cancel",i),Vt("close",i);break;case"iframe":case"object":case"embed":Vt("load",i);break;case"video":case"audio":for(a=0;a<fl.length;a++)Vt(fl[a],i);break;case"source":Vt("error",i);break;case"img":case"image":case"link":Vt("error",i),Vt("load",i);break;case"details":Vt("toggle",i);break;case"input":Vt("invalid",i),us(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),sa(i);break;case"select":Vt("invalid",i);break;case"textarea":Vt("invalid",i),cs(i,l.value,l.defaultValue,l.children),sa(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||N_(i.textContent,a)?(l.popover!=null&&(Vt("beforetoggle",i),Vt("toggle",i)),l.onScroll!=null&&Vt("scroll",i),l.onScrollEnd!=null&&Vt("scrollend",i),l.onClick!=null&&(i.onclick=hc),i=!0):i=!1,i||ws(e)}function pg(e){for(nn=e.return;nn;)switch(nn.tag){case 5:case 13:ui=!1;return;case 27:case 3:ui=!0;return;default:nn=nn.return}}function Bo(e){if(e!==nn)return!1;if(!Ht)return pg(e),Ht=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Md(e.type,e.memoizedProps)),a=!a),a&&ue&&ws(e),pg(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(i===0){ue=Fn(e.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;e=e.nextSibling}ue=null}}else i===27?(i=ue,wr(e.type)?(e=kd,kd=null,ue=e):ue=i):ue=nn?Fn(e.stateNode.nextSibling):null;return!0}function qo(){ue=nn=null,Ht=!1}function gg(){var e=bs;return e!==null&&(an===null?an=e:an.push.apply(an,e),bs=null),e}function jo(e){bs===null?bs=[e]:bs.push(e)}var yf=W(null),Rs=null,Li=null;function cr(e,i,a){nt(yf,i._currentValue),i._currentValue=a}function zi(e){e._currentValue=yf.current,ot(yf)}function _f(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function vf(e,i,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;t:for(;d!==null;){var E=d;d=h;for(var R=0;R<i.length;R++)if(E.context===i[R]){d.lanes|=a,E=d.alternate,E!==null&&(E.lanes|=a),_f(d.return,a,e),l||(v=null);break t}d=E.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),_f(v,a,e),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===e){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Ho(e,i,a,l){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var E=h.type;dn(h.pendingProps.value,v.value)||(e!==null?e.push(E):e=[E])}}else if(h===Dt.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(_l):e=[_l])}h=h.return}e!==null&&vf(i,e,a,l),i.flags|=262144}function Mu(e){for(e=e.firstContext;e!==null;){if(!dn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Is(e){Rs=e,Li=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ke(e){return yg(Rs,e)}function Vu(e,i){return Rs===null&&Is(e),yg(e,i)}function yg(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Li===null){if(e===null)throw Error(s(308));Li=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Li=Li.next=i;return a}var kS=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},xS=r.unstable_scheduleCallback,LS=r.unstable_NormalPriority,Re={$$typeof:st,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Tf(){return{controller:new kS,data:new Map,refCount:0}}function Fo(e){e.refCount--,e.refCount===0&&xS(LS,function(){e.controller.abort()})}var Go=null,Ef=0,Aa=0,Sa=null;function zS(e,i){if(Go===null){var a=Go=[];Ef=0,Aa=Sd(),Sa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Ef++,i.then(_g,_g),i}function _g(){if(--Ef===0&&Go!==null){Sa!==null&&(Sa.status="fulfilled");var e=Go;Go=null,Aa=0,Sa=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function BS(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var vg=K.S;K.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&zS(e,i),vg!==null&&vg(e,i)};var Cs=W(null);function Af(){var e=Cs.current;return e!==null?e:te.pooledCache}function Pu(e,i){i===null?nt(Cs,Cs.current):nt(Cs,i.pool)}function Tg(){var e=Af();return e===null?null:{parent:Re._currentValue,pool:e}}var Ko=Error(s(460)),Eg=Error(s(474)),Uu=Error(s(542)),Sf={then:function(){}};function Ag(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ku(){}function Sg(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(ku,ku),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,wg(e),e;default:if(typeof i.status=="string")i.then(ku,ku);else{if(e=te,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,wg(e),e}throw Qo=i,Ko}}var Qo=null;function bg(){if(Qo===null)throw Error(s(459));var e=Qo;return Qo=null,e}function wg(e){if(e===Ko||e===Uu)throw Error(s(483))}var hr=!1;function bf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function fr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function dr(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Qt&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Cu(e),hg(e,null,a),i}return Iu(e,l,i,a),Cu(e)}function Yo(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,Ao(e,a)}}function Rf(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var If=!1;function $o(){if(If){var e=Sa;if(e!==null)throw e}}function Xo(e,i,a,l){If=!1;var h=e.updateQueue;hr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,L=R.next;R.next=null,v===null?d=L:v.next=L,v=R;var Q=e.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==v&&(E===null?Q.firstBaseUpdate=L:E.next=L,Q.lastBaseUpdate=R))}if(d!==null){var X=h.baseState;v=0,Q=L=R=null,E=d;do{var z=E.lane&-536870913,B=z!==E.lane;if(B?(zt&z)===z:(l&z)===z){z!==0&&z===Aa&&(If=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var Tt=e,yt=E;z=i;var Wt=a;switch(yt.tag){case 1:if(Tt=yt.payload,typeof Tt=="function"){X=Tt.call(Wt,X,z);break t}X=Tt;break t;case 3:Tt.flags=Tt.flags&-65537|128;case 0:if(Tt=yt.payload,z=typeof Tt=="function"?Tt.call(Wt,X,z):Tt,z==null)break t;X=T({},X,z);break t;case 2:hr=!0}}z=E.callback,z!==null&&(e.flags|=64,B&&(e.flags|=8192),B=h.callbacks,B===null?h.callbacks=[z]:B.push(z))}else B={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(L=Q=B,R=X):Q=Q.next=B,v|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;B=E,E=B.next,B.next=null,h.lastBaseUpdate=B,h.shared.pending=null}}while(!0);Q===null&&(R=X),h.baseState=R,h.firstBaseUpdate=L,h.lastBaseUpdate=Q,d===null&&(h.shared.lanes=0),Er|=v,e.lanes=v,e.memoizedState=X}}function Rg(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function Ig(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Rg(a[e],i)}var ba=W(null),xu=W(0);function Cg(e,i){e=Ki,nt(xu,e),nt(ba,i),Ki=e|i.baseLanes}function Cf(){nt(xu,Ki),nt(ba,ba.current)}function Of(){Ki=xu.current,ot(ba),ot(xu)}var mr=0,Ct=null,Xt=null,ve=null,Lu=!1,wa=!1,Os=!1,zu=0,Zo=0,Ra=null,qS=0;function fe(){throw Error(s(321))}function Df(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!dn(e[a],i[a]))return!1;return!0}function Nf(e,i,a,l,h,d){return mr=d,Ct=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,K.H=e===null||e.memoizedState===null?hy:fy,Os=!1,d=a(l,h),Os=!1,wa&&(d=Dg(i,a,l,h)),Og(e),d}function Og(e){K.H=Gu;var i=Xt!==null&&Xt.next!==null;if(mr=0,ve=Xt=Ct=null,Lu=!1,Zo=0,Ra=null,i)throw Error(s(300));e===null||Me||(e=e.dependencies,e!==null&&Mu(e)&&(Me=!0))}function Dg(e,i,a,l){Ct=e;var h=0;do{if(wa&&(Ra=null),Zo=0,wa=!1,25<=h)throw Error(s(301));if(h+=1,ve=Xt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}K.H=YS,d=i(a,l)}while(wa);return d}function jS(){var e=K.H,i=e.useState()[0];return i=typeof i.then=="function"?Wo(i):i,e=e.useState()[0],(Xt!==null?Xt.memoizedState:null)!==e&&(Ct.flags|=1024),i}function Mf(){var e=zu!==0;return zu=0,e}function Vf(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function Pf(e){if(Lu){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Lu=!1}mr=0,ve=Xt=Ct=null,wa=!1,Zo=zu=0,Ra=null}function rn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ve===null?Ct.memoizedState=ve=e:ve=ve.next=e,ve}function Te(){if(Xt===null){var e=Ct.alternate;e=e!==null?e.memoizedState:null}else e=Xt.next;var i=ve===null?Ct.memoizedState:ve.next;if(i!==null)ve=i,Xt=e;else{if(e===null)throw Ct.alternate===null?Error(s(467)):Error(s(310));Xt=e,e={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},ve===null?Ct.memoizedState=ve=e:ve=ve.next=e}return ve}function Uf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wo(e){var i=Zo;return Zo+=1,Ra===null&&(Ra=[]),e=Sg(Ra,e,i),i=Ct,(ve===null?i.memoizedState:ve.next)===null&&(i=i.alternate,K.H=i===null||i.memoizedState===null?hy:fy),e}function Bu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Wo(e);if(e.$$typeof===st)return Ke(e)}throw Error(s(438,String(e)))}function kf(e){var i=null,a=Ct.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ct.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Uf(),Ct.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=N;return i.index++,a}function Bi(e,i){return typeof i=="function"?i(e):i}function qu(e){var i=Te();return xf(i,Xt,e)}function xf(e,i,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var E=v=null,R=null,L=i,Q=!1;do{var X=L.lane&-536870913;if(X!==L.lane?(zt&X)===X:(mr&X)===X){var z=L.revertLane;if(z===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),X===Aa&&(Q=!0);else if((mr&z)===z){L=L.next,z===Aa&&(Q=!0);continue}else X={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},R===null?(E=R=X,v=d):R=R.next=X,Ct.lanes|=z,Er|=z;X=L.action,Os&&a(d,X),d=L.hasEagerState?L.eagerState:a(d,X)}else z={lane:X,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},R===null?(E=R=z,v=d):R=R.next=z,Ct.lanes|=X,Er|=X;L=L.next}while(L!==null&&L!==i);if(R===null?v=d:R.next=E,!dn(d,e.memoizedState)&&(Me=!0,Q&&(a=Sa,a!==null)))throw a;e.memoizedState=d,e.baseState=v,e.baseQueue=R,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Lf(e){var i=Te(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=e(d,v.action),v=v.next;while(v!==h);dn(d,i.memoizedState)||(Me=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Ng(e,i,a){var l=Ct,h=Te(),d=Ht;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!dn((Xt||h).memoizedState,a);v&&(h.memoizedState=a,Me=!0),h=h.queue;var E=Pg.bind(null,l,h,e);if(Jo(2048,8,E,[e]),h.getSnapshot!==i||v||ve!==null&&ve.memoizedState.tag&1){if(l.flags|=2048,Ia(9,ju(),Vg.bind(null,l,h,a,i),null),te===null)throw Error(s(349));d||(mr&124)!==0||Mg(l,i,a)}return a}function Mg(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=Ct.updateQueue,i===null?(i=Uf(),Ct.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function Vg(e,i,a,l){i.value=a,i.getSnapshot=l,Ug(i)&&kg(e)}function Pg(e,i,a){return a(function(){Ug(i)&&kg(e)})}function Ug(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!dn(e,a)}catch{return!0}}function kg(e){var i=_a(e,2);i!==null&&vn(i,e,2)}function zf(e){var i=rn();if(typeof e=="function"){var a=e;if(e=a(),Os){hn(!0);try{a()}finally{hn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:e},i}function xg(e,i,a,l){return e.baseState=a,xf(e,Xt,typeof l=="function"?l:Bi)}function HS(e,i,a,l,h){if(Fu(e))throw Error(s(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};K.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Lg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Lg(e,i){var a=i.action,l=i.payload,h=e.state;if(i.isTransition){var d=K.T,v={};K.T=v;try{var E=a(h,l),R=K.S;R!==null&&R(v,E),zg(e,i,E)}catch(L){Bf(e,i,L)}finally{K.T=d}}else try{d=a(h,l),zg(e,i,d)}catch(L){Bf(e,i,L)}}function zg(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Bg(e,i,l)},function(l){return Bf(e,i,l)}):Bg(e,i,a)}function Bg(e,i,a){i.status="fulfilled",i.value=a,qg(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,Lg(e,a)))}function Bf(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,qg(i),i=i.next;while(i!==l)}e.action=null}function qg(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function jg(e,i){return i}function Hg(e,i){if(Ht){var a=te.formState;if(a!==null){t:{var l=Ct;if(Ht){if(ue){e:{for(var h=ue,d=ui;h.nodeType!==8;){if(!d){h=null;break e}if(h=Fn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ue=Fn(h.nextSibling),l=h.data==="F!";break t}}ws(l)}l=!1}l&&(i=a[0])}}return a=rn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jg,lastRenderedState:i},a.queue=l,a=ly.bind(null,Ct,l),l.dispatch=a,l=zf(!1),d=Gf.bind(null,Ct,!1,l.queue),l=rn(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,a=HS.bind(null,Ct,h,d,a),h.dispatch=a,l.memoizedState=e,[i,a,!1]}function Fg(e){var i=Te();return Gg(i,Xt,e)}function Gg(e,i,a){if(i=xf(e,i,jg)[0],e=qu(Bi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Wo(i)}catch(v){throw v===Ko?Uu:v}else l=i;i=Te();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Ct.flags|=2048,Ia(9,ju(),FS.bind(null,h,a),null)),[l,d,e]}function FS(e,i){e.action=i}function Kg(e){var i=Te(),a=Xt;if(a!==null)return Gg(i,a,e);Te(),i=i.memoizedState,a=Te();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function Ia(e,i,a,l){return e={tag:e,create:a,deps:l,inst:i,next:null},i=Ct.updateQueue,i===null&&(i=Uf(),Ct.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function ju(){return{destroy:void 0,resource:void 0}}function Qg(){return Te().memoizedState}function Hu(e,i,a,l){var h=rn();l=l===void 0?null:l,Ct.flags|=e,h.memoizedState=Ia(1|i,ju(),a,l)}function Jo(e,i,a,l){var h=Te();l=l===void 0?null:l;var d=h.memoizedState.inst;Xt!==null&&l!==null&&Df(l,Xt.memoizedState.deps)?h.memoizedState=Ia(i,d,a,l):(Ct.flags|=e,h.memoizedState=Ia(1|i,d,a,l))}function Yg(e,i){Hu(8390656,8,e,i)}function $g(e,i){Jo(2048,8,e,i)}function Xg(e,i){return Jo(4,2,e,i)}function Zg(e,i){return Jo(4,4,e,i)}function Wg(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function Jg(e,i,a){a=a!=null?a.concat([e]):null,Jo(4,4,Wg.bind(null,i,e),a)}function qf(){}function ty(e,i){var a=Te();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Df(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function ey(e,i){var a=Te();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Df(i,l[1]))return l[0];if(l=e(),Os){hn(!0);try{e()}finally{hn(!1)}}return a.memoizedState=[l,i],l}function jf(e,i,a){return a===void 0||(mr&1073741824)!==0?e.memoizedState=i:(e.memoizedState=a,e=r_(),Ct.lanes|=e,Er|=e,a)}function ny(e,i,a,l){return dn(a,i)?a:ba.current!==null?(e=jf(e,a,l),dn(e,i)||(Me=!0),e):(mr&42)===0?(Me=!0,e.memoizedState=a):(e=r_(),Ct.lanes|=e,Er|=e,i)}function iy(e,i,a,l,h){var d=at.p;at.p=d!==0&&8>d?d:8;var v=K.T,E={};K.T=E,Gf(e,!1,i,a);try{var R=h(),L=K.S;if(L!==null&&L(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var Q=BS(R,l);tl(e,i,Q,_n(e))}else tl(e,i,l,_n(e))}catch(X){tl(e,i,{then:function(){},status:"rejected",reason:X},_n())}finally{at.p=d,K.T=v}}function GS(){}function Hf(e,i,a,l){if(e.tag!==5)throw Error(s(476));var h=ry(e).queue;iy(e,h,i,ft,a===null?GS:function(){return sy(e),a(l)})}function ry(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:ft},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function sy(e){var i=ry(e).next.queue;tl(e,i,{},_n())}function Ff(){return Ke(_l)}function ay(){return Te().memoizedState}function oy(){return Te().memoizedState}function KS(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=_n();e=fr(a);var l=dr(i,e,a);l!==null&&(vn(l,i,a),Yo(l,i,a)),i={cache:Tf()},e.payload=i;return}i=i.return}}function QS(e,i,a){var l=_n();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Fu(e)?uy(i,a):(a=cf(e,i,a,l),a!==null&&(vn(a,e,l),cy(a,i,l)))}function ly(e,i,a){var l=_n();tl(e,i,a,l)}function tl(e,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Fu(e))uy(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,E=d(v,a);if(h.hasEagerState=!0,h.eagerState=E,dn(E,v))return Iu(e,i,h,0),te===null&&Ru(),!1}catch{}finally{}if(a=cf(e,i,h,l),a!==null)return vn(a,e,l),cy(a,i,l),!0}return!1}function Gf(e,i,a,l){if(l={lane:2,revertLane:Sd(),action:l,hasEagerState:!1,eagerState:null,next:null},Fu(e)){if(i)throw Error(s(479))}else i=cf(e,a,l,2),i!==null&&vn(i,e,2)}function Fu(e){var i=e.alternate;return e===Ct||i!==null&&i===Ct}function uy(e,i){wa=Lu=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function cy(e,i,a){if((a&4194048)!==0){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,Ao(e,a)}}var Gu={readContext:Ke,use:Bu,useCallback:fe,useContext:fe,useEffect:fe,useImperativeHandle:fe,useLayoutEffect:fe,useInsertionEffect:fe,useMemo:fe,useReducer:fe,useRef:fe,useState:fe,useDebugValue:fe,useDeferredValue:fe,useTransition:fe,useSyncExternalStore:fe,useId:fe,useHostTransitionStatus:fe,useFormState:fe,useActionState:fe,useOptimistic:fe,useMemoCache:fe,useCacheRefresh:fe},hy={readContext:Ke,use:Bu,useCallback:function(e,i){return rn().memoizedState=[e,i===void 0?null:i],e},useContext:Ke,useEffect:Yg,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,Hu(4194308,4,Wg.bind(null,i,e),a)},useLayoutEffect:function(e,i){return Hu(4194308,4,e,i)},useInsertionEffect:function(e,i){Hu(4,2,e,i)},useMemo:function(e,i){var a=rn();i=i===void 0?null:i;var l=e();if(Os){hn(!0);try{e()}finally{hn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=rn();if(a!==void 0){var h=a(i);if(Os){hn(!0);try{a(i)}finally{hn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=QS.bind(null,Ct,e),[l.memoizedState,e]},useRef:function(e){var i=rn();return e={current:e},i.memoizedState=e},useState:function(e){e=zf(e);var i=e.queue,a=ly.bind(null,Ct,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:qf,useDeferredValue:function(e,i){var a=rn();return jf(a,e,i)},useTransition:function(){var e=zf(!1);return e=iy.bind(null,Ct,e.queue,!0,!1),rn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=Ct,h=rn();if(Ht){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),te===null)throw Error(s(349));(zt&124)!==0||Mg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Yg(Pg.bind(null,l,d,e),[e]),l.flags|=2048,Ia(9,ju(),Vg.bind(null,l,d,a,i),null),a},useId:function(){var e=rn(),i=te.identifierPrefix;if(Ht){var a=xi,l=ki;a=(l&~(1<<32-Ge(l)-1)).toString(32)+a,i=""+i+"R"+a,a=zu++,0<a&&(i+="H"+a.toString(32)),i+=""}else a=qS++,i=""+i+"r"+a.toString(32)+"";return e.memoizedState=i},useHostTransitionStatus:Ff,useFormState:Hg,useActionState:Hg,useOptimistic:function(e){var i=rn();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Gf.bind(null,Ct,!0,a),a.dispatch=i,[e,i]},useMemoCache:kf,useCacheRefresh:function(){return rn().memoizedState=KS.bind(null,Ct)}},fy={readContext:Ke,use:Bu,useCallback:ty,useContext:Ke,useEffect:$g,useImperativeHandle:Jg,useInsertionEffect:Xg,useLayoutEffect:Zg,useMemo:ey,useReducer:qu,useRef:Qg,useState:function(){return qu(Bi)},useDebugValue:qf,useDeferredValue:function(e,i){var a=Te();return ny(a,Xt.memoizedState,e,i)},useTransition:function(){var e=qu(Bi)[0],i=Te().memoizedState;return[typeof e=="boolean"?e:Wo(e),i]},useSyncExternalStore:Ng,useId:ay,useHostTransitionStatus:Ff,useFormState:Fg,useActionState:Fg,useOptimistic:function(e,i){var a=Te();return xg(a,Xt,e,i)},useMemoCache:kf,useCacheRefresh:oy},YS={readContext:Ke,use:Bu,useCallback:ty,useContext:Ke,useEffect:$g,useImperativeHandle:Jg,useInsertionEffect:Xg,useLayoutEffect:Zg,useMemo:ey,useReducer:Lf,useRef:Qg,useState:function(){return Lf(Bi)},useDebugValue:qf,useDeferredValue:function(e,i){var a=Te();return Xt===null?jf(a,e,i):ny(a,Xt.memoizedState,e,i)},useTransition:function(){var e=Lf(Bi)[0],i=Te().memoizedState;return[typeof e=="boolean"?e:Wo(e),i]},useSyncExternalStore:Ng,useId:ay,useHostTransitionStatus:Ff,useFormState:Kg,useActionState:Kg,useOptimistic:function(e,i){var a=Te();return Xt!==null?xg(a,Xt,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:kf,useCacheRefresh:oy},Ca=null,el=0;function Ku(e){var i=el;return el+=1,Ca===null&&(Ca=[]),Sg(Ca,e,i)}function nl(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Qu(e,i){throw i.$$typeof===S?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function dy(e){var i=e._init;return i(e._payload)}function my(e){function i(U,D){if(e){var x=U.deletions;x===null?(U.deletions=[D],U.flags|=16):x.push(D)}}function a(U,D){if(!e)return null;for(;D!==null;)i(U,D),D=D.sibling;return null}function l(U){for(var D=new Map;U!==null;)U.key!==null?D.set(U.key,U):D.set(U.index,U),U=U.sibling;return D}function h(U,D){return U=Ui(U,D),U.index=0,U.sibling=null,U}function d(U,D,x){return U.index=x,e?(x=U.alternate,x!==null?(x=x.index,x<D?(U.flags|=67108866,D):x):(U.flags|=67108866,D)):(U.flags|=1048576,D)}function v(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function E(U,D,x,Y){return D===null||D.tag!==6?(D=ff(x,U.mode,Y),D.return=U,D):(D=h(D,x),D.return=U,D)}function R(U,D,x,Y){var ct=x.type;return ct===q?Q(U,D,x.props.children,Y,x.key):D!==null&&(D.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===b&&dy(ct)===D.type)?(D=h(D,x.props),nl(D,x),D.return=U,D):(D=Ou(x.type,x.key,x.props,null,U.mode,Y),nl(D,x),D.return=U,D)}function L(U,D,x,Y){return D===null||D.tag!==4||D.stateNode.containerInfo!==x.containerInfo||D.stateNode.implementation!==x.implementation?(D=df(x,U.mode,Y),D.return=U,D):(D=h(D,x.children||[]),D.return=U,D)}function Q(U,D,x,Y,ct){return D===null||D.tag!==7?(D=Es(x,U.mode,Y,ct),D.return=U,D):(D=h(D,x),D.return=U,D)}function X(U,D,x){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=ff(""+D,U.mode,x),D.return=U,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case M:return x=Ou(D.type,D.key,D.props,null,U.mode,x),nl(x,D),x.return=U,x;case j:return D=df(D,U.mode,x),D.return=U,D;case b:var Y=D._init;return D=Y(D._payload),X(U,D,x)}if(ee(D)||P(D))return D=Es(D,U.mode,x,null),D.return=U,D;if(typeof D.then=="function")return X(U,Ku(D),x);if(D.$$typeof===st)return X(U,Vu(U,D),x);Qu(U,D)}return null}function z(U,D,x,Y){var ct=D!==null?D.key:null;if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return ct!==null?null:E(U,D,""+x,Y);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case M:return x.key===ct?R(U,D,x,Y):null;case j:return x.key===ct?L(U,D,x,Y):null;case b:return ct=x._init,x=ct(x._payload),z(U,D,x,Y)}if(ee(x)||P(x))return ct!==null?null:Q(U,D,x,Y,null);if(typeof x.then=="function")return z(U,D,Ku(x),Y);if(x.$$typeof===st)return z(U,D,Vu(U,x),Y);Qu(U,x)}return null}function B(U,D,x,Y,ct){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return U=U.get(x)||null,E(D,U,""+Y,ct);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case M:return U=U.get(Y.key===null?x:Y.key)||null,R(D,U,Y,ct);case j:return U=U.get(Y.key===null?x:Y.key)||null,L(D,U,Y,ct);case b:var Nt=Y._init;return Y=Nt(Y._payload),B(U,D,x,Y,ct)}if(ee(Y)||P(Y))return U=U.get(x)||null,Q(D,U,Y,ct,null);if(typeof Y.then=="function")return B(U,D,x,Ku(Y),ct);if(Y.$$typeof===st)return B(U,D,x,Vu(D,Y),ct);Qu(D,Y)}return null}function Tt(U,D,x,Y){for(var ct=null,Nt=null,dt=D,vt=D=0,Pe=null;dt!==null&&vt<x.length;vt++){dt.index>vt?(Pe=dt,dt=null):Pe=dt.sibling;var jt=z(U,dt,x[vt],Y);if(jt===null){dt===null&&(dt=Pe);break}e&&dt&&jt.alternate===null&&i(U,dt),D=d(jt,D,vt),Nt===null?ct=jt:Nt.sibling=jt,Nt=jt,dt=Pe}if(vt===x.length)return a(U,dt),Ht&&Ss(U,vt),ct;if(dt===null){for(;vt<x.length;vt++)dt=X(U,x[vt],Y),dt!==null&&(D=d(dt,D,vt),Nt===null?ct=dt:Nt.sibling=dt,Nt=dt);return Ht&&Ss(U,vt),ct}for(dt=l(dt);vt<x.length;vt++)Pe=B(dt,U,vt,x[vt],Y),Pe!==null&&(e&&Pe.alternate!==null&&dt.delete(Pe.key===null?vt:Pe.key),D=d(Pe,D,vt),Nt===null?ct=Pe:Nt.sibling=Pe,Nt=Pe);return e&&dt.forEach(function(Dr){return i(U,Dr)}),Ht&&Ss(U,vt),ct}function yt(U,D,x,Y){if(x==null)throw Error(s(151));for(var ct=null,Nt=null,dt=D,vt=D=0,Pe=null,jt=x.next();dt!==null&&!jt.done;vt++,jt=x.next()){dt.index>vt?(Pe=dt,dt=null):Pe=dt.sibling;var Dr=z(U,dt,jt.value,Y);if(Dr===null){dt===null&&(dt=Pe);break}e&&dt&&Dr.alternate===null&&i(U,dt),D=d(Dr,D,vt),Nt===null?ct=Dr:Nt.sibling=Dr,Nt=Dr,dt=Pe}if(jt.done)return a(U,dt),Ht&&Ss(U,vt),ct;if(dt===null){for(;!jt.done;vt++,jt=x.next())jt=X(U,jt.value,Y),jt!==null&&(D=d(jt,D,vt),Nt===null?ct=jt:Nt.sibling=jt,Nt=jt);return Ht&&Ss(U,vt),ct}for(dt=l(dt);!jt.done;vt++,jt=x.next())jt=B(dt,U,vt,jt.value,Y),jt!==null&&(e&&jt.alternate!==null&&dt.delete(jt.key===null?vt:jt.key),D=d(jt,D,vt),Nt===null?ct=jt:Nt.sibling=jt,Nt=jt);return e&&dt.forEach(function($b){return i(U,$b)}),Ht&&Ss(U,vt),ct}function Wt(U,D,x,Y){if(typeof x=="object"&&x!==null&&x.type===q&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case M:t:{for(var ct=x.key;D!==null;){if(D.key===ct){if(ct=x.type,ct===q){if(D.tag===7){a(U,D.sibling),Y=h(D,x.props.children),Y.return=U,U=Y;break t}}else if(D.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===b&&dy(ct)===D.type){a(U,D.sibling),Y=h(D,x.props),nl(Y,x),Y.return=U,U=Y;break t}a(U,D);break}else i(U,D);D=D.sibling}x.type===q?(Y=Es(x.props.children,U.mode,Y,x.key),Y.return=U,U=Y):(Y=Ou(x.type,x.key,x.props,null,U.mode,Y),nl(Y,x),Y.return=U,U=Y)}return v(U);case j:t:{for(ct=x.key;D!==null;){if(D.key===ct)if(D.tag===4&&D.stateNode.containerInfo===x.containerInfo&&D.stateNode.implementation===x.implementation){a(U,D.sibling),Y=h(D,x.children||[]),Y.return=U,U=Y;break t}else{a(U,D);break}else i(U,D);D=D.sibling}Y=df(x,U.mode,Y),Y.return=U,U=Y}return v(U);case b:return ct=x._init,x=ct(x._payload),Wt(U,D,x,Y)}if(ee(x))return Tt(U,D,x,Y);if(P(x)){if(ct=P(x),typeof ct!="function")throw Error(s(150));return x=ct.call(x),yt(U,D,x,Y)}if(typeof x.then=="function")return Wt(U,D,Ku(x),Y);if(x.$$typeof===st)return Wt(U,D,Vu(U,x),Y);Qu(U,x)}return typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint"?(x=""+x,D!==null&&D.tag===6?(a(U,D.sibling),Y=h(D,x),Y.return=U,U=Y):(a(U,D),Y=ff(x,U.mode,Y),Y.return=U,U=Y),v(U)):a(U,D)}return function(U,D,x,Y){try{el=0;var ct=Wt(U,D,x,Y);return Ca=null,ct}catch(dt){if(dt===Ko||dt===Uu)throw dt;var Nt=mn(29,dt,null,U.mode);return Nt.lanes=Y,Nt.return=U,Nt}finally{}}}var Oa=my(!0),py=my(!1),Mn=W(null),ci=null;function pr(e){var i=e.alternate;nt(Ie,Ie.current&1),nt(Mn,e),ci===null&&(i===null||ba.current!==null||i.memoizedState!==null)&&(ci=e)}function gy(e){if(e.tag===22){if(nt(Ie,Ie.current),nt(Mn,e),ci===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(ci=e)}}else gr()}function gr(){nt(Ie,Ie.current),nt(Mn,Mn.current)}function qi(e){ot(Mn),ci===e&&(ci=null),ot(Ie)}var Ie=W(0);function Yu(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Ud(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Kf(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:T({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Qf={enqueueSetState:function(e,i,a){e=e._reactInternals;var l=_n(),h=fr(l);h.payload=i,a!=null&&(h.callback=a),i=dr(e,h,l),i!==null&&(vn(i,e,l),Yo(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=_n(),h=fr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=dr(e,h,l),i!==null&&(vn(i,e,l),Yo(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=_n(),l=fr(a);l.tag=2,i!=null&&(l.callback=i),i=dr(e,l,a),i!==null&&(vn(i,e,a),Yo(i,e,a))}};function yy(e,i,a,l,h,d,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!Lo(a,l)||!Lo(h,d):!0}function _y(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&Qf.enqueueReplaceState(i,i.state,null)}function Ds(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=T({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var $u=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function vy(e){$u(e)}function Ty(e){console.error(e)}function Ey(e){$u(e)}function Xu(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Ay(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Yf(e,i,a){return a=fr(a),a.tag=3,a.payload={element:null},a.callback=function(){Xu(e,i)},a}function Sy(e){return e=fr(e),e.tag=3,e}function by(e,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){Ay(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){Ay(i,a,l),typeof h!="function"&&(Ar===null?Ar=new Set([this]):Ar.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function $S(e,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Ho(i,a,h,!0),a=Mn.current,a!==null){switch(a.tag){case 13:return ci===null?_d():a.alternate===null&&ce===0&&(ce=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Sf?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Td(e,l,h)),!1;case 22:return a.flags|=65536,l===Sf?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Td(e,l,h)),!1}throw Error(s(435,a.tag))}return Td(e,l,h),_d(),!1}if(Ht)return i=Mn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==gf&&(e=Error(s(422),{cause:l}),jo(Cn(e,a)))):(l!==gf&&(i=Error(s(423),{cause:l}),jo(Cn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Cn(l,a),h=Yf(e.stateNode,l,h),Rf(e,h),ce!==4&&(ce=2)),!1;var d=Error(s(520),{cause:l});if(d=Cn(d,a),ul===null?ul=[d]:ul.push(d),ce!==4&&(ce=2),i===null)return!0;l=Cn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Yf(a.stateNode,l,e),Rf(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ar===null||!Ar.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Sy(h),by(h,e,a,l),Rf(a,h),!1}a=a.return}while(a!==null);return!1}var wy=Error(s(461)),Me=!1;function Le(e,i,a,l){i.child=e===null?py(i,null,a,l):Oa(i,e.child,a,l)}function Ry(e,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var E in l)E!=="ref"&&(v[E]=l[E])}else v=l;return Is(i),l=Nf(e,i,a,v,d,h),E=Mf(),e!==null&&!Me?(Vf(e,i,h),ji(e,i,h)):(Ht&&E&&mf(i),i.flags|=1,Le(e,i,l,h),i.child)}function Iy(e,i,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!hf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Cy(e,i,d,l,h)):(e=Ou(a.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!nd(e,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Lo,a(v,l)&&e.ref===i.ref)return ji(e,i,h)}return i.flags|=1,e=Ui(d,l),e.ref=i.ref,e.return=i,i.child=e}function Cy(e,i,a,l,h){if(e!==null){var d=e.memoizedProps;if(Lo(d,l)&&e.ref===i.ref)if(Me=!1,i.pendingProps=l=d,nd(e,h))(e.flags&131072)!==0&&(Me=!0);else return i.lanes=e.lanes,ji(e,i,h)}return $f(e,i,a,l,h)}function Oy(e,i,a){var l=i.pendingProps,h=l.children,d=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,e!==null){for(h=i.child=e.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return Dy(e,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Pu(i,d!==null?d.cachePool:null),d!==null?Cg(i,d):Cf(),gy(i);else return i.lanes=i.childLanes=536870912,Dy(e,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(Pu(i,d.cachePool),Cg(i,d),gr(),i.memoizedState=null):(e!==null&&Pu(i,null),Cf(),gr());return Le(e,i,h,a),i.child}function Dy(e,i,a,l){var h=Af();return h=h===null?null:{parent:Re._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},e!==null&&Pu(i,null),Cf(),gy(i),e!==null&&Ho(e,i,l,!0),null}function Zu(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function $f(e,i,a,l,h){return Is(i),a=Nf(e,i,a,l,void 0,h),l=Mf(),e!==null&&!Me?(Vf(e,i,h),ji(e,i,h)):(Ht&&l&&mf(i),i.flags|=1,Le(e,i,a,h),i.child)}function Ny(e,i,a,l,h,d){return Is(i),i.updateQueue=null,a=Dg(i,l,a,h),Og(e),l=Mf(),e!==null&&!Me?(Vf(e,i,d),ji(e,i,d)):(Ht&&l&&mf(i),i.flags|=1,Le(e,i,a,d),i.child)}function My(e,i,a,l,h){if(Is(i),i.stateNode===null){var d=va,v=a.contextType;typeof v=="object"&&v!==null&&(d=Ke(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Qf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},bf(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?Ke(v):va,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Kf(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Qf.enqueueReplaceState(d,d.state,null),Xo(i,l,d,h),$o(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var E=i.memoizedProps,R=Ds(a,E);d.props=R;var L=d.context,Q=a.contextType;v=va,typeof Q=="object"&&Q!==null&&(v=Ke(Q));var X=a.getDerivedStateFromProps;Q=typeof X=="function"||typeof d.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,Q||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E||L!==v)&&_y(i,d,l,v),hr=!1;var z=i.memoizedState;d.state=z,Xo(i,l,d,h),$o(),L=i.memoizedState,E||z!==L||hr?(typeof X=="function"&&(Kf(i,a,X,l),L=i.memoizedState),(R=hr||yy(i,a,R,l,z,L,v))?(Q||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=L),d.props=l,d.state=L,d.context=v,l=R):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,wf(e,i),v=i.memoizedProps,Q=Ds(a,v),d.props=Q,X=i.pendingProps,z=d.context,L=a.contextType,R=va,typeof L=="object"&&L!==null&&(R=Ke(L)),E=a.getDerivedStateFromProps,(L=typeof E=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==X||z!==R)&&_y(i,d,l,R),hr=!1,z=i.memoizedState,d.state=z,Xo(i,l,d,h),$o();var B=i.memoizedState;v!==X||z!==B||hr||e!==null&&e.dependencies!==null&&Mu(e.dependencies)?(typeof E=="function"&&(Kf(i,a,E,l),B=i.memoizedState),(Q=hr||yy(i,a,Q,l,z,B,R)||e!==null&&e.dependencies!==null&&Mu(e.dependencies))?(L||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,B,R),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,B,R)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=B),d.props=l,d.state=B,d.context=R,l=Q):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,Zu(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=Oa(i,e.child,null,h),i.child=Oa(i,null,a,h)):Le(e,i,a,h),i.memoizedState=d.state,e=i.child):e=ji(e,i,h),e}function Vy(e,i,a,l){return qo(),i.flags|=256,Le(e,i,a,l),i.child}var Xf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Zf(e){return{baseLanes:e,cachePool:Tg()}}function Wf(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=Vn),e}function Py(e,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=e!==null&&e.memoizedState===null?!1:(Ie.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,e===null){if(Ht){if(h?pr(i):gr(),Ht){var E=ue,R;if(R=E){t:{for(R=E,E=ui;R.nodeType!==8;){if(!E){E=null;break t}if(R=Fn(R.nextSibling),R===null){E=null;break t}}E=R}E!==null?(i.memoizedState={dehydrated:E,treeContext:As!==null?{id:ki,overflow:xi}:null,retryLane:536870912,hydrationErrors:null},R=mn(18,null,null,0),R.stateNode=E,R.return=i,i.child=R,nn=i,ue=null,R=!0):R=!1}R||ws(i)}if(E=i.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return Ud(E)?i.lanes=32:i.lanes=536870912,null;qi(i)}return E=l.children,l=l.fallback,h?(gr(),h=i.mode,E=Wu({mode:"hidden",children:E},h),l=Es(l,h,a,null),E.return=i,l.return=i,E.sibling=l,i.child=E,h=i.child,h.memoizedState=Zf(a),h.childLanes=Wf(e,v,a),i.memoizedState=Xf,l):(pr(i),Jf(i,E))}if(R=e.memoizedState,R!==null&&(E=R.dehydrated,E!==null)){if(d)i.flags&256?(pr(i),i.flags&=-257,i=td(e,i,a)):i.memoizedState!==null?(gr(),i.child=e.child,i.flags|=128,i=null):(gr(),h=l.fallback,E=i.mode,l=Wu({mode:"visible",children:l.children},E),h=Es(h,E,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,Oa(i,e.child,null,a),l=i.child,l.memoizedState=Zf(a),l.childLanes=Wf(e,v,a),i.memoizedState=Xf,i=h);else if(pr(i),Ud(E)){if(v=E.nextSibling&&E.nextSibling.dataset,v)var L=v.dgst;v=L,l=Error(s(419)),l.stack="",l.digest=v,jo({value:l,source:null,stack:null}),i=td(e,i,a)}else if(Me||Ho(e,i,a,!1),v=(a&e.childLanes)!==0,Me||v){if(v=te,v!==null&&(l=a&-a,l=(l&42)!==0?1:ir(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==R.retryLane))throw R.retryLane=l,_a(e,l),vn(v,e,l),wy;E.data==="$?"||_d(),i=td(e,i,a)}else E.data==="$?"?(i.flags|=192,i.child=e.child,i=null):(e=R.treeContext,ue=Fn(E.nextSibling),nn=i,Ht=!0,bs=null,ui=!1,e!==null&&(Dn[Nn++]=ki,Dn[Nn++]=xi,Dn[Nn++]=As,ki=e.id,xi=e.overflow,As=i),i=Jf(i,l.children),i.flags|=4096);return i}return h?(gr(),h=l.fallback,E=i.mode,R=e.child,L=R.sibling,l=Ui(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,L!==null?h=Ui(L,h):(h=Es(h,E,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,E=e.child.memoizedState,E===null?E=Zf(a):(R=E.cachePool,R!==null?(L=Re._currentValue,R=R.parent!==L?{parent:L,pool:L}:R):R=Tg(),E={baseLanes:E.baseLanes|a,cachePool:R}),h.memoizedState=E,h.childLanes=Wf(e,v,a),i.memoizedState=Xf,l):(pr(i),a=e.child,e=a.sibling,a=Ui(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(v=i.deletions,v===null?(i.deletions=[e],i.flags|=16):v.push(e)),i.child=a,i.memoizedState=null,a)}function Jf(e,i){return i=Wu({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function Wu(e,i){return e=mn(22,e,null,i),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function td(e,i,a){return Oa(i,e.child,null,a),e=Jf(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Uy(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),_f(e.return,i,a)}function ed(e,i,a,l,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function ky(e,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(Le(e,i,l.children,a),l=Ie.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Uy(e,a,i);else if(e.tag===19)Uy(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(nt(Ie,l),h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&Yu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),ed(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&Yu(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}ed(i,!0,a,null,d);break;case"together":ed(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ji(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),Er|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Ho(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=Ui(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Ui(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function nd(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Mu(e)))}function XS(e,i,a){switch(i.tag){case 3:kt(i,i.stateNode.containerInfo),cr(i,Re,e.memoizedState.cache),qo();break;case 27:case 5:Ln(i);break;case 4:kt(i,i.stateNode.containerInfo);break;case 10:cr(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(pr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Py(e,i,a):(pr(i),e=ji(e,i,a),e!==null?e.sibling:null);pr(i);break;case 19:var h=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Ho(e,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return ky(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),nt(Ie,Ie.current),l)break;return null;case 22:case 23:return i.lanes=0,Oy(e,i,a);case 24:cr(i,Re,e.memoizedState.cache)}return ji(e,i,a)}function xy(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Me=!0;else{if(!nd(e,a)&&(i.flags&128)===0)return Me=!1,XS(e,i,a);Me=(e.flags&131072)!==0}else Me=!1,Ht&&(i.flags&1048576)!==0&&dg(i,Nu,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")hf(l)?(e=Ds(l,e),i.tag=1,i=My(null,i,l,e,a)):(i.tag=0,i=$f(null,i,l,e,a));else{if(l!=null){if(h=l.$$typeof,h===gt){i.tag=11,i=Ry(null,i,l,e,a);break t}else if(h===C){i.tag=14,i=Iy(null,i,l,e,a);break t}}throw i=se(l)||l,Error(s(306,i,""))}}return i;case 0:return $f(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Ds(l,i.pendingProps),My(e,i,l,h,a);case 3:t:{if(kt(i,i.stateNode.containerInfo),e===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,wf(e,i),Xo(i,l,null,a);var v=i.memoizedState;if(l=v.cache,cr(i,Re,l),l!==d.cache&&vf(i,[Re],a,!0),$o(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Vy(e,i,l,a);break t}else if(l!==h){h=Cn(Error(s(424)),i),jo(h),i=Vy(e,i,l,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ue=Fn(e.firstChild),nn=i,Ht=!0,bs=null,ui=!0,a=py(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(qo(),l===h){i=ji(e,i,a);break t}Le(e,i,l,a)}i=i.child}return i;case 26:return Zu(e,i),e===null?(a=q_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Ht||(a=i.type,e=i.pendingProps,l=fc(_t.current).createElement(a),l[Se]=i,l[ye]=e,Be(l,a,e),he(l),i.stateNode=l):i.memoizedState=q_(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return Ln(i),e===null&&Ht&&(l=i.stateNode=L_(i.type,i.pendingProps,_t.current),nn=i,ui=!0,h=ue,wr(i.type)?(kd=h,ue=Fn(l.firstChild)):ue=h),Le(e,i,i.pendingProps.children,a),Zu(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Ht&&((h=l=ue)&&(l=bb(l,i.type,i.pendingProps,ui),l!==null?(i.stateNode=l,nn=i,ue=Fn(l.firstChild),ui=!1,h=!0):h=!1),h||ws(i)),Ln(i),h=i.type,d=i.pendingProps,v=e!==null?e.memoizedProps:null,l=d.children,Md(h,d)?l=null:v!==null&&Md(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=Nf(e,i,jS,null,null,a),_l._currentValue=h),Zu(e,i),Le(e,i,l,a),i.child;case 6:return e===null&&Ht&&((e=a=ue)&&(a=wb(a,i.pendingProps,ui),a!==null?(i.stateNode=a,nn=i,ue=null,e=!0):e=!1),e||ws(i)),null;case 13:return Py(e,i,a);case 4:return kt(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=Oa(i,null,l,a):Le(e,i,l,a),i.child;case 11:return Ry(e,i,i.type,i.pendingProps,a);case 7:return Le(e,i,i.pendingProps,a),i.child;case 8:return Le(e,i,i.pendingProps.children,a),i.child;case 12:return Le(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,cr(i,i.type,l.value),Le(e,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Is(i),h=Ke(h),l=l(h),i.flags|=1,Le(e,i,l,a),i.child;case 14:return Iy(e,i,i.type,i.pendingProps,a);case 15:return Cy(e,i,i.type,i.pendingProps,a);case 19:return ky(e,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},e===null?(a=Wu(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Ui(e.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return Oy(e,i,a);case 24:return Is(i),l=Ke(Re),e===null?(h=Af(),h===null&&(h=te,d=Tf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},bf(i),cr(i,Re,h)):((e.lanes&a)!==0&&(wf(e,i),Xo(i,null,null,a),$o()),h=e.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),cr(i,Re,l)):(l=d.cache,cr(i,Re,l),l!==h.cache&&vf(i,[Re],a,!0))),Le(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Hi(e){e.flags|=4}function Ly(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!K_(i)){if(i=Mn.current,i!==null&&((zt&4194048)===zt?ci!==null:(zt&62914560)!==zt&&(zt&536870912)===0||i!==ci))throw Qo=Sf,Eg;e.flags|=8192}}function Ju(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?To():536870912,e.lanes|=i,Va|=i)}function il(e,i){if(!Ht)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ae(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function ZS(e,i,a){var l=i.pendingProps;switch(pf(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ae(i),null;case 1:return ae(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),zi(Re),Fe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Bo(i)?Hi(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,gg())),ae(i),null;case 26:return a=i.memoizedState,e===null?(Hi(i),a!==null?(ae(i),Ly(i,a)):(ae(i),i.flags&=-16777217)):a?a!==e.memoizedState?(Hi(i),ae(i),Ly(i,a)):(ae(i),i.flags&=-16777217):(e.memoizedProps!==l&&Hi(i),ae(i),i.flags&=-16777217),null;case 27:Ai(i),a=_t.current;var h=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Hi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ae(i),null}e=mt.current,Bo(i)?mg(i):(e=L_(h,l,a),i.stateNode=e,Hi(i))}return ae(i),null;case 5:if(Ai(i),a=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Hi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ae(i),null}if(e=mt.current,Bo(i))mg(i);else{switch(h=fc(_t.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}e[Se]=i,e[ye]=l;t:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break t;for(;h.sibling===null;){if(h.return===null||h.return===i)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=e;t:switch(Be(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Hi(i)}}return ae(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&Hi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(e=_t.current,Bo(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,h=nn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Se]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||N_(e.nodeValue,a)),e||ws(i)}else e=fc(e).createTextNode(l),e[Se]=i,i.stateNode=e}return ae(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Bo(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Se]=i}else qo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ae(i),h=!1}else h=gg(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(qi(i),i):(qi(i),null)}if(qi(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==e&&a&&(i.child.flags|=8192),Ju(i,i.updateQueue),ae(i),null;case 4:return Fe(),e===null&&Id(i.stateNode.containerInfo),ae(i),null;case 10:return zi(i.type),ae(i),null;case 19:if(ot(Ie),h=i.memoizedState,h===null)return ae(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)il(h,!1);else{if(ce!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=Yu(e),d!==null){for(i.flags|=128,il(h,!1),e=d.updateQueue,i.updateQueue=e,Ju(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)fg(a,e),a=a.sibling;return nt(Ie,Ie.current&1|2),i.child}e=e.sibling}h.tail!==null&&An()>nc&&(i.flags|=128,l=!0,il(h,!1),i.lanes=4194304)}else{if(!l)if(e=Yu(d),e!==null){if(i.flags|=128,l=!0,e=e.updateQueue,i.updateQueue=e,Ju(i,e),il(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Ht)return ae(i),null}else 2*An()-h.renderingStartTime>nc&&a!==536870912&&(i.flags|=128,l=!0,il(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(e=h.last,e!==null?e.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=An(),i.sibling=null,e=Ie.current,nt(Ie,l?e&1|2:e&1),i):(ae(i),null);case 22:case 23:return qi(i),Of(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(ae(i),i.subtreeFlags&6&&(i.flags|=8192)):ae(i),a=i.updateQueue,a!==null&&Ju(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&ot(Cs),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),zi(Re),ae(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function WS(e,i){switch(pf(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return zi(Re),Fe(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return Ai(i),null;case 13:if(qi(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));qo()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return ot(Ie),null;case 4:return Fe(),null;case 10:return zi(i.type),null;case 22:case 23:return qi(i),Of(),e!==null&&ot(Cs),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return zi(Re),null;case 25:return null;default:return null}}function zy(e,i){switch(pf(i),i.tag){case 3:zi(Re),Fe();break;case 26:case 27:case 5:Ai(i);break;case 4:Fe();break;case 13:qi(i);break;case 19:ot(Ie);break;case 10:zi(i.type);break;case 22:case 23:qi(i),Of(),e!==null&&ot(Cs);break;case 24:zi(Re)}}function rl(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(E){Jt(i,i.return,E)}}function yr(e,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var v=l.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,h=i;var R=a,L=E;try{L()}catch(Q){Jt(h,R,Q)}}}l=l.next}while(l!==d)}}catch(Q){Jt(i,i.return,Q)}}function By(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{Ig(i,a)}catch(l){Jt(e,e.return,l)}}}function qy(e,i,a){a.props=Ds(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Jt(e,i,l)}}function sl(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){Jt(e,i,h)}}function hi(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Jt(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Jt(e,i,h)}else a.current=null}function jy(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Jt(e,e.return,h)}}function id(e,i,a){try{var l=e.stateNode;vb(l,e.type,a,i),l[ye]=i}catch(h){Jt(e,e.return,h)}}function Hy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&wr(e.type)||e.tag===4}function rd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Hy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&wr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function sd(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=hc));else if(l!==4&&(l===27&&wr(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(sd(e,i,a),e=e.sibling;e!==null;)sd(e,i,a),e=e.sibling}function tc(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&(l===27&&wr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(tc(e,i,a),e=e.sibling;e!==null;)tc(e,i,a),e=e.sibling}function Fy(e){var i=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Be(i,l,a),i[Se]=e,i[ye]=a}catch(d){Jt(e,e.return,d)}}var Fi=!1,de=!1,ad=!1,Gy=typeof WeakSet=="function"?WeakSet:Set,Ve=null;function JS(e,i){if(e=e.containerInfo,Dd=_c,e=ng(e),rf(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var v=0,E=-1,R=-1,L=0,Q=0,X=e,z=null;e:for(;;){for(var B;X!==a||h!==0&&X.nodeType!==3||(E=v+h),X!==d||l!==0&&X.nodeType!==3||(R=v+l),X.nodeType===3&&(v+=X.nodeValue.length),(B=X.firstChild)!==null;)z=X,X=B;for(;;){if(X===e)break e;if(z===a&&++L===h&&(E=v),z===d&&++Q===l&&(R=v),(B=X.nextSibling)!==null)break;X=z,z=X.parentNode}X=B}a=E===-1||R===-1?null:{start:E,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(Nd={focusedElem:e,selectionRange:a},_c=!1,Ve=i;Ve!==null;)if(i=Ve,e=i.child,(i.subtreeFlags&1024)!==0&&e!==null)e.return=i,Ve=e;else for(;Ve!==null;){switch(i=Ve,d=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Tt=Ds(a.type,h,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(Tt,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(yt){Jt(a,a.return,yt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)Pd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Pd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,Ve=e;break}Ve=i.return}}function Ky(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:_r(e,a),l&4&&rl(5,a);break;case 1:if(_r(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(v){Jt(a,a.return,v)}else{var h=Ds(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(v){Jt(a,a.return,v)}}l&64&&By(a),l&512&&sl(a,a.return);break;case 3:if(_r(e,a),l&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Ig(e,i)}catch(v){Jt(a,a.return,v)}}break;case 27:i===null&&l&4&&Fy(a);case 26:case 5:_r(e,a),i===null&&l&4&&jy(a),l&512&&sl(a,a.return);break;case 12:_r(e,a);break;case 13:_r(e,a),l&4&&$y(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=lb.bind(null,a),Rb(e,a))));break;case 22:if(l=a.memoizedState!==null||Fi,!l){i=i!==null&&i.memoizedState!==null||de,h=Fi;var d=de;Fi=l,(de=i)&&!d?vr(e,a,(a.subtreeFlags&8772)!==0):_r(e,a),Fi=h,de=d}break;case 30:break;default:_r(e,a)}}function Qy(e){var i=e.alternate;i!==null&&(e.alternate=null,Qy(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&ar(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var re=null,sn=!1;function Gi(e,i,a){for(a=a.child;a!==null;)Yy(e,i,a),a=a.sibling}function Yy(e,i,a){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(le,a)}catch{}switch(a.tag){case 26:de||hi(a,i),Gi(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:de||hi(a,i);var l=re,h=sn;wr(a.type)&&(re=a.stateNode,sn=!1),Gi(e,i,a),ml(a.stateNode),re=l,sn=h;break;case 5:de||hi(a,i);case 6:if(l=re,h=sn,re=null,Gi(e,i,a),re=l,sn=h,re!==null)if(sn)try{(re.nodeType===9?re.body:re.nodeName==="HTML"?re.ownerDocument.body:re).removeChild(a.stateNode)}catch(d){Jt(a,i,d)}else try{re.removeChild(a.stateNode)}catch(d){Jt(a,i,d)}break;case 18:re!==null&&(sn?(e=re,k_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Al(e)):k_(re,a.stateNode));break;case 4:l=re,h=sn,re=a.stateNode.containerInfo,sn=!0,Gi(e,i,a),re=l,sn=h;break;case 0:case 11:case 14:case 15:de||yr(2,a,i),de||yr(4,a,i),Gi(e,i,a);break;case 1:de||(hi(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&qy(a,i,l)),Gi(e,i,a);break;case 21:Gi(e,i,a);break;case 22:de=(l=de)||a.memoizedState!==null,Gi(e,i,a),de=l;break;default:Gi(e,i,a)}}function $y(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Al(e)}catch(a){Jt(i,i.return,a)}}function tb(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new Gy),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new Gy),i;default:throw Error(s(435,e.tag))}}function od(e,i){var a=tb(e);i.forEach(function(l){var h=ub.bind(null,e,l);a.has(l)||(a.add(l),l.then(h,h))})}function pn(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,v=i,E=v;t:for(;E!==null;){switch(E.tag){case 27:if(wr(E.type)){re=E.stateNode,sn=!1;break t}break;case 5:re=E.stateNode,sn=!1;break t;case 3:case 4:re=E.stateNode.containerInfo,sn=!0;break t}E=E.return}if(re===null)throw Error(s(160));Yy(d,v,h),re=null,sn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Xy(i,e),i=i.sibling}var Hn=null;function Xy(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:pn(i,e),gn(e),l&4&&(yr(3,e,e.return),rl(3,e),yr(5,e,e.return));break;case 1:pn(i,e),gn(e),l&512&&(de||a===null||hi(a,a.return)),l&64&&Fi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Hn;if(pn(i,e),gn(e),l&512&&(de||a===null||hi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ss]||d[Se]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Be(d,l,a),d[Se]=e,he(d),l=d;break t;case"link":var v=F_("link","href",h).get(l+(a.href||""));if(v){for(var E=0;E<v.length;E++)if(d=v[E],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(E,1);break e}}d=h.createElement(l),Be(d,l,a),h.head.appendChild(d);break;case"meta":if(v=F_("meta","content",h).get(l+(a.content||""))){for(E=0;E<v.length;E++)if(d=v[E],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(E,1);break e}}d=h.createElement(l),Be(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Se]=e,he(d),l=d}e.stateNode=l}else G_(h,e.type,e.stateNode);else e.stateNode=H_(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?G_(h,e.type,e.stateNode):H_(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&id(e,e.memoizedProps,a.memoizedProps)}break;case 27:pn(i,e),gn(e),l&512&&(de||a===null||hi(a,a.return)),a!==null&&l&4&&id(e,e.memoizedProps,a.memoizedProps);break;case 5:if(pn(i,e),gn(e),l&512&&(de||a===null||hi(a,a.return)),e.flags&32){h=e.stateNode;try{bn(h,"")}catch(B){Jt(e,e.return,B)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,id(e,h,a!==null?a.memoizedProps:h)),l&1024&&(ad=!0);break;case 6:if(pn(i,e),gn(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(B){Jt(e,e.return,B)}}break;case 3:if(pc=null,h=Hn,Hn=dc(i.containerInfo),pn(i,e),Hn=h,gn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Al(i.containerInfo)}catch(B){Jt(e,e.return,B)}ad&&(ad=!1,Zy(e));break;case 4:l=Hn,Hn=dc(e.stateNode.containerInfo),pn(i,e),gn(e),Hn=l;break;case 12:pn(i,e),gn(e);break;case 13:pn(i,e),gn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(dd=An()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,od(e,l)));break;case 22:h=e.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,L=Fi,Q=de;if(Fi=L||h,de=Q||R,pn(i,e),de=Q,Fi=L,gn(e),l&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||R||Fi||de||Ns(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){R=a=i;try{if(d=R.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{E=R.stateNode;var X=R.memoizedProps.style,z=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(B){Jt(R,R.return,B)}}}else if(i.tag===6){if(a===null){R=i;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(B){Jt(R,R.return,B)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,od(e,a))));break;case 19:pn(i,e),gn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,od(e,l)));break;case 30:break;case 21:break;default:pn(i,e),gn(e)}}function gn(e){var i=e.flags;if(i&2){try{for(var a,l=e.return;l!==null;){if(Hy(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=rd(e);tc(e,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(bn(v,""),a.flags&=-33);var E=rd(e);tc(e,E,v);break;case 3:case 4:var R=a.stateNode.containerInfo,L=rd(e);sd(e,L,R);break;default:throw Error(s(161))}}catch(Q){Jt(e,e.return,Q)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function Zy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;Zy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function _r(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Ky(e,i.alternate,i),i=i.sibling}function Ns(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:yr(4,i,i.return),Ns(i);break;case 1:hi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&qy(i,i.return,a),Ns(i);break;case 27:ml(i.stateNode);case 26:case 5:hi(i,i.return),Ns(i);break;case 22:i.memoizedState===null&&Ns(i);break;case 30:Ns(i);break;default:Ns(i)}e=e.sibling}}function vr(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:vr(h,d,a),rl(4,d);break;case 1:if(vr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(L){Jt(l,l.return,L)}if(l=d,h=l.updateQueue,h!==null){var E=l.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)Rg(R[h],E)}catch(L){Jt(l,l.return,L)}}a&&v&64&&By(d),sl(d,d.return);break;case 27:Fy(d);case 26:case 5:vr(h,d,a),a&&l===null&&v&4&&jy(d),sl(d,d.return);break;case 12:vr(h,d,a);break;case 13:vr(h,d,a),a&&v&4&&$y(h,d);break;case 22:d.memoizedState===null&&vr(h,d,a),sl(d,d.return);break;case 30:break;default:vr(h,d,a)}i=i.sibling}}function ld(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Fo(a))}function ud(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Fo(e))}function fi(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Wy(e,i,a,l),i=i.sibling}function Wy(e,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:fi(e,i,a,l),h&2048&&rl(9,i);break;case 1:fi(e,i,a,l);break;case 3:fi(e,i,a,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Fo(e)));break;case 12:if(h&2048){fi(e,i,a,l),e=i.stateNode;try{var d=i.memoizedProps,v=d.id,E=d.onPostCommit;typeof E=="function"&&E(v,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Jt(i,i.return,R)}}else fi(e,i,a,l);break;case 13:fi(e,i,a,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?fi(e,i,a,l):al(e,i):d._visibility&2?fi(e,i,a,l):(d._visibility|=2,Da(e,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&ld(v,i);break;case 24:fi(e,i,a,l),h&2048&&ud(i.alternate,i);break;default:fi(e,i,a,l)}}function Da(e,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=e,v=i,E=a,R=l,L=v.flags;switch(v.tag){case 0:case 11:case 15:Da(d,v,E,R,h),rl(8,v);break;case 23:break;case 22:var Q=v.stateNode;v.memoizedState!==null?Q._visibility&2?Da(d,v,E,R,h):al(d,v):(Q._visibility|=2,Da(d,v,E,R,h)),h&&L&2048&&ld(v.alternate,v);break;case 24:Da(d,v,E,R,h),h&&L&2048&&ud(v.alternate,v);break;default:Da(d,v,E,R,h)}i=i.sibling}}function al(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,h=l.flags;switch(l.tag){case 22:al(a,l),h&2048&&ld(l.alternate,l);break;case 24:al(a,l),h&2048&&ud(l.alternate,l);break;default:al(a,l)}i=i.sibling}}var ol=8192;function Na(e){if(e.subtreeFlags&ol)for(e=e.child;e!==null;)Jy(e),e=e.sibling}function Jy(e){switch(e.tag){case 26:Na(e),e.flags&ol&&e.memoizedState!==null&&zb(Hn,e.memoizedState,e.memoizedProps);break;case 5:Na(e);break;case 3:case 4:var i=Hn;Hn=dc(e.stateNode.containerInfo),Na(e),Hn=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=ol,ol=16777216,Na(e),ol=i):Na(e));break;default:Na(e)}}function t_(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function ll(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ve=l,n_(l,e)}t_(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)e_(e),e=e.sibling}function e_(e){switch(e.tag){case 0:case 11:case 15:ll(e),e.flags&2048&&yr(9,e,e.return);break;case 3:ll(e);break;case 12:ll(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,ec(e)):ll(e);break;default:ll(e)}}function ec(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ve=l,n_(l,e)}t_(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:yr(8,i,i.return),ec(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,ec(i));break;default:ec(i)}e=e.sibling}}function n_(e,i){for(;Ve!==null;){var a=Ve;switch(a.tag){case 0:case 11:case 15:yr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Fo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ve=l;else t:for(a=e;Ve!==null;){l=Ve;var h=l.sibling,d=l.return;if(Qy(l),l===a){Ve=null;break t}if(h!==null){h.return=d,Ve=h;break t}Ve=d}}}var eb={getCacheForType:function(e){var i=Ke(Re),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a}},nb=typeof WeakMap=="function"?WeakMap:Map,Qt=0,te=null,Mt=null,zt=0,Yt=0,yn=null,Tr=!1,Ma=!1,cd=!1,Ki=0,ce=0,Er=0,Ms=0,hd=0,Vn=0,Va=0,ul=null,an=null,fd=!1,dd=0,nc=1/0,ic=null,Ar=null,ze=0,Sr=null,Pa=null,Ua=0,md=0,pd=null,i_=null,cl=0,gd=null;function _n(){if((Qt&2)!==0&&zt!==0)return zt&-zt;if(K.T!==null){var e=Aa;return e!==0?e:Sd()}return rr()}function r_(){Vn===0&&(Vn=(zt&536870912)===0||Ht?vo():536870912);var e=Mn.current;return e!==null&&(e.flags|=32),Vn}function vn(e,i,a){(e===te&&(Yt===2||Yt===9)||e.cancelPendingCommit!==null)&&(ka(e,0),br(e,zt,Vn,!1)),bi(e,a),((Qt&2)===0||e!==te)&&(e===te&&((Qt&2)===0&&(Ms|=a),ce===4&&br(e,zt,Vn,!1)),di(e))}function s_(e,i,a){if((Qt&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&e.expiredLanes)===0||rs(e,i),h=l?sb(e,i):vd(e,i,!0),d=l;do{if(h===0){Ma&&!l&&br(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!ib(a)){h=vd(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;t:{var E=e;h=ul;var R=E.current.memoizedState.isDehydrated;if(R&&(ka(E,v).flags|=256),v=vd(E,v,!1),v!==2){if(cd&&!R){E.errorRecoveryDisabledLanes|=d,Ms|=d,h=4;break t}d=an,an=h,d!==null&&(an===null?an=d:an.push.apply(an,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){ka(e,0),br(e,i,0,!0);break}t:{switch(l=e,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:br(l,i,Vn,!Tr);break t;case 2:an=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=dd+300-An(),10<h)){if(br(l,i,Vn,!Tr),Js(l,0,!0)!==0)break t;l.timeoutHandle=P_(a_.bind(null,l,a,an,ic,fd,i,Vn,Ms,Va,Tr,d,2,-0,0),h);break t}a_(l,a,an,ic,fd,i,Vn,Ms,Va,Tr,d,0,-0,0)}}break}while(!0);di(e)}function a_(e,i,a,l,h,d,v,E,R,L,Q,X,z,B){if(e.timeoutHandle=-1,X=i.subtreeFlags,(X&8192||(X&16785408)===16785408)&&(yl={stylesheets:null,count:0,unsuspend:Lb},Jy(i),X=Bb(),X!==null)){e.cancelPendingCommit=X(d_.bind(null,e,i,d,a,l,h,v,E,R,Q,1,z,B)),br(e,d,v,!L);return}d_(e,i,d,a,l,h,v,E,R)}function ib(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!dn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function br(e,i,a,l){i&=~hd,i&=~Ms,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var d=31-Ge(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&Wn(e,a,i)}function rc(){return(Qt&6)===0?(hl(0),!1):!0}function yd(){if(Mt!==null){if(Yt===0)var e=Mt.return;else e=Mt,Li=Rs=null,Pf(e),Ca=null,el=0,e=Mt;for(;e!==null;)zy(e.alternate,e),e=e.return;Mt=null}}function ka(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Eb(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),yd(),te=e,Mt=a=Ui(e.current,null),zt=i,Yt=0,yn=null,Tr=!1,Ma=rs(e,i),cd=!1,Va=Vn=hd=Ms=Er=ce=0,an=ul=null,fd=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-Ge(l),d=1<<h;i|=e[h],l&=~d}return Ki=i,Ru(),a}function o_(e,i){Ct=null,K.H=Gu,i===Ko||i===Uu?(i=bg(),Yt=3):i===Eg?(i=bg(),Yt=4):Yt=i===wy?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,yn=i,Mt===null&&(ce=1,Xu(e,Cn(i,e.current)))}function l_(){var e=K.H;return K.H=Gu,e===null?Gu:e}function u_(){var e=K.A;return K.A=eb,e}function _d(){ce=4,Tr||(zt&4194048)!==zt&&Mn.current!==null||(Ma=!0),(Er&134217727)===0&&(Ms&134217727)===0||te===null||br(te,zt,Vn,!1)}function vd(e,i,a){var l=Qt;Qt|=2;var h=l_(),d=u_();(te!==e||zt!==i)&&(ic=null,ka(e,i)),i=!1;var v=ce;t:do try{if(Yt!==0&&Mt!==null){var E=Mt,R=yn;switch(Yt){case 8:yd(),v=6;break t;case 3:case 2:case 9:case 6:Mn.current===null&&(i=!0);var L=Yt;if(Yt=0,yn=null,xa(e,E,R,L),a&&Ma){v=0;break t}break;default:L=Yt,Yt=0,yn=null,xa(e,E,R,L)}}rb(),v=ce;break}catch(Q){o_(e,Q)}while(!0);return i&&e.shellSuspendCounter++,Li=Rs=null,Qt=l,K.H=h,K.A=d,Mt===null&&(te=null,zt=0,Ru()),v}function rb(){for(;Mt!==null;)c_(Mt)}function sb(e,i){var a=Qt;Qt|=2;var l=l_(),h=u_();te!==e||zt!==i?(ic=null,nc=An()+500,ka(e,i)):Ma=rs(e,i);t:do try{if(Yt!==0&&Mt!==null){i=Mt;var d=yn;e:switch(Yt){case 1:Yt=0,yn=null,xa(e,i,d,1);break;case 2:case 9:if(Ag(d)){Yt=0,yn=null,h_(i);break}i=function(){Yt!==2&&Yt!==9||te!==e||(Yt=7),di(e)},d.then(i,i);break t;case 3:Yt=7;break t;case 4:Yt=5;break t;case 7:Ag(d)?(Yt=0,yn=null,h_(i)):(Yt=0,yn=null,xa(e,i,d,7));break;case 5:var v=null;switch(Mt.tag){case 26:v=Mt.memoizedState;case 5:case 27:var E=Mt;if(!v||K_(v)){Yt=0,yn=null;var R=E.sibling;if(R!==null)Mt=R;else{var L=E.return;L!==null?(Mt=L,sc(L)):Mt=null}break e}}Yt=0,yn=null,xa(e,i,d,5);break;case 6:Yt=0,yn=null,xa(e,i,d,6);break;case 8:yd(),ce=6;break t;default:throw Error(s(462))}}ab();break}catch(Q){o_(e,Q)}while(!0);return Li=Rs=null,K.H=l,K.A=h,Qt=a,Mt!==null?0:(te=null,zt=0,Ru(),ce)}function ab(){for(;Mt!==null&&!po();)c_(Mt)}function c_(e){var i=xy(e.alternate,e,Ki);e.memoizedProps=e.pendingProps,i===null?sc(e):Mt=i}function h_(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=Ny(a,i,i.pendingProps,i.type,void 0,zt);break;case 11:i=Ny(a,i,i.pendingProps,i.type.render,i.ref,zt);break;case 5:Pf(i);default:zy(a,i),i=Mt=fg(i,Ki),i=xy(a,i,Ki)}e.memoizedProps=e.pendingProps,i===null?sc(e):Mt=i}function xa(e,i,a,l){Li=Rs=null,Pf(i),Ca=null,el=0;var h=i.return;try{if($S(e,h,i,a,zt)){ce=1,Xu(e,Cn(a,e.current)),Mt=null;return}}catch(d){if(h!==null)throw Mt=h,d;ce=1,Xu(e,Cn(a,e.current)),Mt=null;return}i.flags&32768?(Ht||l===1?e=!0:Ma||(zt&536870912)!==0?e=!1:(Tr=e=!0,(l===2||l===9||l===3||l===6)&&(l=Mn.current,l!==null&&l.tag===13&&(l.flags|=16384))),f_(i,e)):sc(i)}function sc(e){var i=e;do{if((i.flags&32768)!==0){f_(i,Tr);return}e=i.return;var a=ZS(i.alternate,i,Ki);if(a!==null){Mt=a;return}if(i=i.sibling,i!==null){Mt=i;return}Mt=i=e}while(i!==null);ce===0&&(ce=5)}function f_(e,i){do{var a=WS(e.alternate,e);if(a!==null){a.flags&=32767,Mt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Mt=e;return}Mt=e=a}while(e!==null);ce=6,Mt=null}function d_(e,i,a,l,h,d,v,E,R){e.cancelPendingCommit=null;do ac();while(ze!==0);if((Qt&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=uf,Eo(e,a,d,v,E,R),e===te&&(Mt=te=null,zt=0),Pa=i,Sr=e,Ua=a,md=d,pd=h,i_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,cb(ts,function(){return __(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,h=at.p,at.p=2,v=Qt,Qt|=4;try{JS(e,i,a)}finally{Qt=v,at.p=h,K.T=l}}ze=1,m_(),p_(),g_()}}function m_(){if(ze===1){ze=0;var e=Sr,i=Pa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var l=at.p;at.p=2;var h=Qt;Qt|=4;try{Xy(i,e);var d=Nd,v=ng(e.containerInfo),E=d.focusedElem,R=d.selectionRange;if(v!==E&&E&&E.ownerDocument&&eg(E.ownerDocument.documentElement,E)){if(R!==null&&rf(E)){var L=R.start,Q=R.end;if(Q===void 0&&(Q=L),"selectionStart"in E)E.selectionStart=L,E.selectionEnd=Math.min(Q,E.value.length);else{var X=E.ownerDocument||document,z=X&&X.defaultView||window;if(z.getSelection){var B=z.getSelection(),Tt=E.textContent.length,yt=Math.min(R.start,Tt),Wt=R.end===void 0?yt:Math.min(R.end,Tt);!B.extend&&yt>Wt&&(v=Wt,Wt=yt,yt=v);var U=tg(E,yt),D=tg(E,Wt);if(U&&D&&(B.rangeCount!==1||B.anchorNode!==U.node||B.anchorOffset!==U.offset||B.focusNode!==D.node||B.focusOffset!==D.offset)){var x=X.createRange();x.setStart(U.node,U.offset),B.removeAllRanges(),yt>Wt?(B.addRange(x),B.extend(D.node,D.offset)):(x.setEnd(D.node,D.offset),B.addRange(x))}}}}for(X=[],B=E;B=B.parentNode;)B.nodeType===1&&X.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var Y=X[E];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}_c=!!Dd,Nd=Dd=null}finally{Qt=h,at.p=l,K.T=a}}e.current=i,ze=2}}function p_(){if(ze===2){ze=0;var e=Sr,i=Pa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var l=at.p;at.p=2;var h=Qt;Qt|=4;try{Ky(e,i.alternate,i)}finally{Qt=h,at.p=l,K.T=a}}ze=3}}function g_(){if(ze===4||ze===3){ze=0,eu();var e=Sr,i=Pa,a=Ua,l=i_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?ze=5:(ze=0,Pa=Sr=null,y_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Ar=null),ta(a),i=i.stateNode,Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(le,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=K.T,h=at.p,at.p=2,K.T=null;try{for(var d=e.onRecoverableError,v=0;v<l.length;v++){var E=l[v];d(E.value,{componentStack:E.stack})}}finally{K.T=i,at.p=h}}(Ua&3)!==0&&ac(),di(e),h=e.pendingLanes,(a&4194090)!==0&&(h&42)!==0?e===gd?cl++:(cl=0,gd=e):cl=0,hl(0)}}function y_(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Fo(i)))}function ac(e){return m_(),p_(),g_(),__()}function __(){if(ze!==5)return!1;var e=Sr,i=md;md=0;var a=ta(Ua),l=K.T,h=at.p;try{at.p=32>a?32:a,K.T=null,a=pd,pd=null;var d=Sr,v=Ua;if(ze=0,Pa=Sr=null,Ua=0,(Qt&6)!==0)throw Error(s(331));var E=Qt;if(Qt|=4,e_(d.current),Wy(d,d.current,v,a),Qt=E,hl(0,!1),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(le,d)}catch{}return!0}finally{at.p=h,K.T=l,y_(e,i)}}function v_(e,i,a){i=Cn(a,i),i=Yf(e.stateNode,i,2),e=dr(e,i,2),e!==null&&(bi(e,2),di(e))}function Jt(e,i,a){if(e.tag===3)v_(e,e,a);else for(;i!==null;){if(i.tag===3){v_(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ar===null||!Ar.has(l))){e=Cn(a,e),a=Sy(2),l=dr(i,a,2),l!==null&&(by(a,l,i,e),bi(l,2),di(l));break}}i=i.return}}function Td(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new nb;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(cd=!0,h.add(a),e=ob.bind(null,e,i,a),i.then(e,e))}function ob(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,te===e&&(zt&a)===a&&(ce===4||ce===3&&(zt&62914560)===zt&&300>An()-dd?(Qt&2)===0&&ka(e,0):hd|=a,Va===zt&&(Va=0)),di(e)}function T_(e,i){i===0&&(i=To()),e=_a(e,i),e!==null&&(bi(e,i),di(e))}function lb(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),T_(e,a)}function ub(e,i){var a=0;switch(e.tag){case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),T_(e,a)}function cb(e,i){return Wr(e,i)}var oc=null,La=null,Ed=!1,lc=!1,Ad=!1,Vs=0;function di(e){e!==La&&e.next===null&&(La===null?oc=La=e:La=La.next=e),lc=!0,Ed||(Ed=!0,fb())}function hl(e,i){if(!Ad&&lc){Ad=!0;do for(var a=!1,l=oc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,E=l.pingedLanes;d=(1<<31-Ge(42|e)+1)-1,d&=h&~(v&~E),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,b_(l,d))}else d=zt,d=Js(l,l===te?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||rs(l,d)||(a=!0,b_(l,d));l=l.next}while(a);Ad=!1}}function hb(){E_()}function E_(){lc=Ed=!1;var e=0;Vs!==0&&(Tb()&&(e=Vs),Vs=0);for(var i=An(),a=null,l=oc;l!==null;){var h=l.next,d=A_(l,i);d===0?(l.next=null,a===null?oc=h:a.next=h,h===null&&(La=a)):(a=l,(e!==0||(d&3)!==0)&&(lc=!0)),l=h}hl(e)}function A_(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var v=31-Ge(d),E=1<<v,R=h[v];R===-1?((E&a)===0||(E&l)!==0)&&(h[v]=_o(E,i)):R<=i&&(e.expiredLanes|=E),d&=~E}if(i=te,a=zt,a=Js(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===i&&(Yt===2||Yt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Jr(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||rs(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&Jr(l),ta(a)){case 2:case 8:a=Zs;break;case 32:a=ts;break;case 268435456:a=Ws;break;default:a=ts}return l=S_.bind(null,e),a=Wr(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&Jr(l),e.callbackPriority=2,e.callbackNode=null,2}function S_(e,i){if(ze!==0&&ze!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(ac()&&e.callbackNode!==a)return null;var l=zt;return l=Js(e,e===te?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(s_(e,l,i),A_(e,An()),e.callbackNode!=null&&e.callbackNode===a?S_.bind(null,e):null)}function b_(e,i){if(ac())return null;s_(e,i,!0)}function fb(){Ab(function(){(Qt&6)!==0?Wr(go,hb):E_()})}function Sd(){return Vs===0&&(Vs=vo()),Vs}function w_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:aa(""+e)}function R_(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function db(e,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=w_((h[ye]||null).action),v=l.submitter;v&&(i=(i=v[ye]||null)?w_(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var E=new oa("action","action",null,l,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Vs!==0){var R=v?R_(h,v):new FormData(h);Hf(a,{pending:!0,data:R,method:h.method,action:d},null,R)}}else typeof d=="function"&&(E.preventDefault(),R=v?R_(h,v):new FormData(h),Hf(a,{pending:!0,data:R,method:h.method,action:d},d,R))},currentTarget:h}]})}}for(var bd=0;bd<lf.length;bd++){var wd=lf[bd],mb=wd.toLowerCase(),pb=wd[0].toUpperCase()+wd.slice(1);jn(mb,"on"+pb)}jn(sg,"onAnimationEnd"),jn(ag,"onAnimationIteration"),jn(og,"onAnimationStart"),jn("dblclick","onDoubleClick"),jn("focusin","onFocus"),jn("focusout","onBlur"),jn(MS,"onTransitionRun"),jn(VS,"onTransitionStart"),jn(PS,"onTransitionCancel"),jn(lg,"onTransitionEnd"),Ri("onMouseEnter",["mouseout","mouseover"]),Ri("onMouseLeave",["mouseout","mouseover"]),Ri("onPointerEnter",["pointerout","pointerover"]),Ri("onPointerLeave",["pointerout","pointerover"]),Bn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Bn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Bn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Bn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Bn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Bn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fl));function I_(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var E=l[v],R=E.instance,L=E.currentTarget;if(E=E.listener,R!==d&&h.isPropagationStopped())break t;d=E,h.currentTarget=L;try{d(h)}catch(Q){$u(Q)}h.currentTarget=null,d=R}else for(v=0;v<l.length;v++){if(E=l[v],R=E.instance,L=E.currentTarget,E=E.listener,R!==d&&h.isPropagationStopped())break t;d=E,h.currentTarget=L;try{d(h)}catch(Q){$u(Q)}h.currentTarget=null,d=R}}}}function Vt(e,i){var a=i[So];a===void 0&&(a=i[So]=new Set);var l=e+"__bubble";a.has(l)||(C_(i,e,2,!1),a.add(l))}function Rd(e,i,a){var l=0;i&&(l|=4),C_(a,e,l,i)}var uc="_reactListening"+Math.random().toString(36).slice(2);function Id(e){if(!e[uc]){e[uc]=!0,bo.forEach(function(a){a!=="selectionchange"&&(gb.has(a)||Rd(a,!1,e),Rd(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[uc]||(i[uc]=!0,Rd("selectionchange",!1,i))}}function C_(e,i,a,l){switch(W_(i)){case 2:var h=Hb;break;case 8:h=Fb;break;default:h=qd}a=h.bind(null,i,a,e),h=void 0,!Rn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function Cd(e,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var E=l.stateNode.containerInfo;if(E===h)break;if(v===4)for(v=l.return;v!==null;){var R=v.tag;if((R===3||R===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;E!==null;){if(v=wi(E),v===null)return;if(R=v.tag,R===5||R===6||R===26||R===27){l=d=v;continue t}E=E.parentNode}}l=l.return}hu(function(){var L=d,Q=wn(a),X=[];t:{var z=ug.get(e);if(z!==void 0){var B=oa,Tt=e;switch(e){case"keypress":if(ri(a)===0)break t;case"keydown":case"keyup":B=da;break;case"focusin":Tt="focus",B=ca;break;case"focusout":Tt="blur",B=ca;break;case"beforeblur":case"afterblur":B=ca;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=In;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=Jh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=vu;break;case sg:case ag:case og:B=ha;break;case lg:B=Eu;break;case"scroll":case"scrollend":B=fu;break;case"wheel":B=ma;break;case"copy":case"cut":case"paste":B=fa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=ko;break;case"toggle":case"beforetoggle":B=Su}var yt=(i&4)!==0,Wt=!yt&&(e==="scroll"||e==="scrollend"),U=yt?z!==null?z+"Capture":null:z;yt=[];for(var D=L,x;D!==null;){var Y=D;if(x=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||x===null||U===null||(Y=fs(D,U),Y!=null&&yt.push(dl(D,Y,x))),Wt)break;D=D.return}0<yt.length&&(z=new B(z,Tt,null,a,Q),X.push({event:z,listeners:yt}))}}if((i&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",z&&a!==Oi&&(Tt=a.relatedTarget||a.fromElement)&&(wi(Tt)||Tt[Sn]))break t;if((B||z)&&(z=Q.window===Q?Q:(z=Q.ownerDocument)?z.defaultView||z.parentWindow:window,B?(Tt=a.relatedTarget||a.toElement,B=L,Tt=Tt?wi(Tt):null,Tt!==null&&(Wt=u(Tt),yt=Tt.tag,Tt!==Wt||yt!==5&&yt!==27&&yt!==6)&&(Tt=null)):(B=null,Tt=L),B!==Tt)){if(yt=In,Y="onMouseLeave",U="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(yt=ko,Y="onPointerLeave",U="onPointerEnter",D="pointer"),Wt=B==null?z:ti(B),x=Tt==null?z:ti(Tt),z=new yt(Y,D+"leave",B,a,Q),z.target=Wt,z.relatedTarget=x,Y=null,wi(Q)===L&&(yt=new yt(U,D+"enter",Tt,a,Q),yt.target=x,yt.relatedTarget=Wt,Y=yt),Wt=Y,B&&Tt)e:{for(yt=B,U=Tt,D=0,x=yt;x;x=za(x))D++;for(x=0,Y=U;Y;Y=za(Y))x++;for(;0<D-x;)yt=za(yt),D--;for(;0<x-D;)U=za(U),x--;for(;D--;){if(yt===U||U!==null&&yt===U.alternate)break e;yt=za(yt),U=za(U)}yt=null}else yt=null;B!==null&&O_(X,z,B,yt,!1),Tt!==null&&Wt!==null&&O_(X,Wt,Tt,yt,!0)}}t:{if(z=L?ti(L):window,B=z.nodeName&&z.nodeName.toLowerCase(),B==="select"||B==="input"&&z.type==="file")var ct=Yp;else if(we(z))if($p)ct=OS;else{ct=IS;var Nt=RS}else B=z.nodeName,!B||B.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?L&&Oo(L.elementType)&&(ct=Yp):ct=CS;if(ct&&(ct=ct(e,L))){Pi(X,ct,a,Q);break t}Nt&&Nt(e,z,L),e==="focusout"&&L&&z.type==="number"&&L.memoizedProps.value!=null&&lr(z,"number",z.value)}switch(Nt=L?ti(L):window,e){case"focusin":(we(Nt)||Nt.contentEditable==="true")&&(pa=Nt,sf=L,zo=null);break;case"focusout":zo=sf=pa=null;break;case"mousedown":af=!0;break;case"contextmenu":case"mouseup":case"dragend":af=!1,ig(X,a,Q);break;case"selectionchange":if(NS)break;case"keydown":case"keyup":ig(X,a,Q)}var dt;if(oi)t:{switch(e){case"compositionstart":var vt="onCompositionStart";break t;case"compositionend":vt="onCompositionEnd";break t;case"compositionupdate":vt="onCompositionUpdate";break t}vt=void 0}else xt?F(e,a)&&(vt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(vt="onCompositionStart");vt&&(_&&a.locale!=="ko"&&(xt||vt!=="onCompositionStart"?vt==="onCompositionEnd"&&xt&&(dt=No()):(ii=Q,ur="value"in ii?ii.value:ii.textContent,xt=!0)),Nt=cc(L,vt),0<Nt.length&&(vt=new Po(vt,e,null,a,Q),X.push({event:vt,listeners:Nt}),dt?vt.data=dt:(dt=rt(a),dt!==null&&(vt.data=dt)))),(dt=p?be(e,a):Lt(e,a))&&(vt=cc(L,"onBeforeInput"),0<vt.length&&(Nt=new Po("onBeforeInput","beforeinput",null,a,Q),X.push({event:Nt,listeners:vt}),Nt.data=dt)),db(X,e,L,a,Q)}I_(X,i)})}function dl(e,i,a){return{instance:e,listener:i,currentTarget:a}}function cc(e,i){for(var a=i+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=fs(e,a),h!=null&&l.unshift(dl(e,h,d)),h=fs(e,i),h!=null&&l.push(dl(e,h,d))),e.tag===3)return l;e=e.return}return[]}function za(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function O_(e,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var E=a,R=E.alternate,L=E.stateNode;if(E=E.tag,R!==null&&R===l)break;E!==5&&E!==26&&E!==27||L===null||(R=L,h?(L=fs(a,d),L!=null&&v.unshift(dl(a,L,R))):h||(L=fs(a,d),L!=null&&v.push(dl(a,L,R)))),a=a.return}v.length!==0&&e.push({event:i,listeners:v})}var yb=/\r\n?/g,_b=/\u0000|\uFFFD/g;function D_(e){return(typeof e=="string"?e:""+e).replace(yb,`
`).replace(_b,"")}function N_(e,i){return i=D_(i),D_(e)===i}function hc(){}function Zt(e,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||bn(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&bn(e,""+l);break;case"className":ei(e,"class",l);break;case"tabIndex":ei(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ei(e,a,l);break;case"style":Co(e,l,d);break;case"data":if(i!=="object"){ei(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=aa(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Zt(e,i,"name",h.name,h,null),Zt(e,i,"formEncType",h.formEncType,h,null),Zt(e,i,"formMethod",h.formMethod,h,null),Zt(e,i,"formTarget",h.formTarget,h,null)):(Zt(e,i,"encType",h.encType,h,null),Zt(e,i,"method",h.method,h,null),Zt(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=aa(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=hc);break;case"onScroll":l!=null&&Vt("scroll",e);break;case"onScrollEnd":l!=null&&Vt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=aa(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Vt("beforetoggle",e),Vt("toggle",e),or(e,"popover",l);break;case"xlinkActuate":ke(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ke(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ke(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ke(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ke(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ke(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ke(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ke(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ke(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":or(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Zh.get(a)||a,or(e,a,l))}}function Od(e,i,a,l,h,d){switch(a){case"style":Co(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?bn(e,l):(typeof l=="number"||typeof l=="bigint")&&bn(e,""+l);break;case"onScroll":l!=null&&Vt("scroll",e);break;case"onScrollEnd":l!=null&&Vt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=hc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ea.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[ye]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):or(e,a,l)}}}function Be(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",e),Vt("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Zt(e,i,d,v,a,null)}}h&&Zt(e,i,"srcSet",a.srcSet,a,null),l&&Zt(e,i,"src",a.src,a,null);return;case"input":Vt("invalid",e);var E=d=v=h=null,R=null,L=null;for(l in a)if(a.hasOwnProperty(l)){var Q=a[l];if(Q!=null)switch(l){case"name":h=Q;break;case"type":v=Q;break;case"checked":R=Q;break;case"defaultChecked":L=Q;break;case"value":d=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:Zt(e,i,l,Q,a,null)}}us(e,d,E,R,L,v,h,!1),sa(e);return;case"select":Vt("invalid",e),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":d=E;break;case"defaultValue":v=E;break;case"multiple":l=E;default:Zt(e,i,h,E,a,null)}i=d,a=v,e.multiple=!!l,i!=null?Ci(e,!!l,i,!1):a!=null&&Ci(e,!!l,a,!0);return;case"textarea":Vt("invalid",e),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(E=a[v],E!=null))switch(v){case"value":l=E;break;case"defaultValue":h=E;break;case"children":d=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Zt(e,i,v,E,a,null)}cs(e,l,h,d),sa(e);return;case"option":for(R in a)if(a.hasOwnProperty(R)&&(l=a[R],l!=null))switch(R){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Zt(e,i,R,l,a,null)}return;case"dialog":Vt("beforetoggle",e),Vt("toggle",e),Vt("cancel",e),Vt("close",e);break;case"iframe":case"object":Vt("load",e);break;case"video":case"audio":for(l=0;l<fl.length;l++)Vt(fl[l],e);break;case"image":Vt("error",e),Vt("load",e);break;case"details":Vt("toggle",e);break;case"embed":case"source":case"link":Vt("error",e),Vt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in a)if(a.hasOwnProperty(L)&&(l=a[L],l!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Zt(e,i,L,l,a,null)}return;default:if(Oo(i)){for(Q in a)a.hasOwnProperty(Q)&&(l=a[Q],l!==void 0&&Od(e,i,Q,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Zt(e,i,E,l,a,null))}function vb(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,E=null,R=null,L=null,Q=null;for(B in a){var X=a[B];if(a.hasOwnProperty(B)&&X!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":R=X;default:l.hasOwnProperty(B)||Zt(e,i,B,null,l,X)}}for(var z in l){var B=l[z];if(X=a[z],l.hasOwnProperty(z)&&(B!=null||X!=null))switch(z){case"type":d=B;break;case"name":h=B;break;case"checked":L=B;break;case"defaultChecked":Q=B;break;case"value":v=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,i));break;default:B!==X&&Zt(e,i,z,B,l,X)}}fn(e,v,E,R,L,Q,d,h);return;case"select":B=v=E=z=null;for(d in a)if(R=a[d],a.hasOwnProperty(d)&&R!=null)switch(d){case"value":break;case"multiple":B=R;default:l.hasOwnProperty(d)||Zt(e,i,d,null,l,R)}for(h in l)if(d=l[h],R=a[h],l.hasOwnProperty(h)&&(d!=null||R!=null))switch(h){case"value":z=d;break;case"defaultValue":E=d;break;case"multiple":v=d;default:d!==R&&Zt(e,i,h,d,l,R)}i=E,a=v,l=B,z!=null?Ci(e,!!a,z,!1):!!l!=!!a&&(i!=null?Ci(e,!!a,i,!0):Ci(e,!!a,a?[]:"",!1));return;case"textarea":B=z=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Zt(e,i,E,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":z=h;break;case"defaultValue":B=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Zt(e,i,v,h,l,d)}$t(e,z,B);return;case"option":for(var Tt in a)if(z=a[Tt],a.hasOwnProperty(Tt)&&z!=null&&!l.hasOwnProperty(Tt))switch(Tt){case"selected":e.selected=!1;break;default:Zt(e,i,Tt,null,l,z)}for(R in l)if(z=l[R],B=a[R],l.hasOwnProperty(R)&&z!==B&&(z!=null||B!=null))switch(R){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Zt(e,i,R,z,l,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in a)z=a[yt],a.hasOwnProperty(yt)&&z!=null&&!l.hasOwnProperty(yt)&&Zt(e,i,yt,null,l,z);for(L in l)if(z=l[L],B=a[L],l.hasOwnProperty(L)&&z!==B&&(z!=null||B!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,i));break;default:Zt(e,i,L,z,l,B)}return;default:if(Oo(i)){for(var Wt in a)z=a[Wt],a.hasOwnProperty(Wt)&&z!==void 0&&!l.hasOwnProperty(Wt)&&Od(e,i,Wt,void 0,l,z);for(Q in l)z=l[Q],B=a[Q],!l.hasOwnProperty(Q)||z===B||z===void 0&&B===void 0||Od(e,i,Q,z,l,B);return}}for(var U in a)z=a[U],a.hasOwnProperty(U)&&z!=null&&!l.hasOwnProperty(U)&&Zt(e,i,U,null,l,z);for(X in l)z=l[X],B=a[X],!l.hasOwnProperty(X)||z===B||z==null&&B==null||Zt(e,i,X,z,l,B)}var Dd=null,Nd=null;function fc(e){return e.nodeType===9?e:e.ownerDocument}function M_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function V_(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Md(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Vd=null;function Tb(){var e=window.event;return e&&e.type==="popstate"?e===Vd?!1:(Vd=e,!0):(Vd=null,!1)}var P_=typeof setTimeout=="function"?setTimeout:void 0,Eb=typeof clearTimeout=="function"?clearTimeout:void 0,U_=typeof Promise=="function"?Promise:void 0,Ab=typeof queueMicrotask=="function"?queueMicrotask:typeof U_<"u"?function(e){return U_.resolve(null).then(e).catch(Sb)}:P_;function Sb(e){setTimeout(function(){throw e})}function wr(e){return e==="head"}function k_(e,i){var a=i,l=0,h=0;do{var d=a.nextSibling;if(e.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=e.ownerDocument;if(a&1&&ml(v.documentElement),a&2&&ml(v.body),a&4)for(a=v.head,ml(a),v=a.firstChild;v;){var E=v.nextSibling,R=v.nodeName;v[ss]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=E}}if(h===0){e.removeChild(d),Al(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Al(i)}function Pd(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Pd(a),ar(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function bb(e,i,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[ss])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Fn(e.nextSibling),e===null)break}return null}function wb(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Fn(e.nextSibling),e===null))return null;return e}function Ud(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Rb(e,i){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Fn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}var kd=null;function x_(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return e;i--}else a==="/$"&&i++}e=e.previousSibling}return null}function L_(e,i,a){switch(i=fc(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function ml(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);ar(e)}var Pn=new Map,z_=new Set;function dc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Qi=at.d;at.d={f:Ib,r:Cb,D:Ob,C:Db,L:Nb,m:Mb,X:Pb,S:Vb,M:Ub};function Ib(){var e=Qi.f(),i=rc();return e||i}function Cb(e){var i=Jn(e);i!==null&&i.tag===5&&i.type==="form"?sy(i):Qi.r(e)}var Ba=typeof document>"u"?null:document;function B_(e,i,a){var l=Ba;if(l&&typeof i=="string"&&i){var h=_e(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),z_.has(h)||(z_.add(h),e={rel:e,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Be(i,"link",e),he(i),l.head.appendChild(i)))}}function Ob(e){Qi.D(e),B_("dns-prefetch",e,null)}function Db(e,i){Qi.C(e,i),B_("preconnect",e,i)}function Nb(e,i,a){Qi.L(e,i,a);var l=Ba;if(l&&e&&i){var h='link[rel="preload"][as="'+_e(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+_e(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+_e(a.imageSizes)+'"]')):h+='[href="'+_e(e)+'"]';var d=h;switch(i){case"style":d=qa(e);break;case"script":d=ja(e)}Pn.has(d)||(e=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Pn.set(d,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(pl(d))||i==="script"&&l.querySelector(gl(d))||(i=l.createElement("link"),Be(i,"link",e),he(i),l.head.appendChild(i)))}}function Mb(e,i){Qi.m(e,i);var a=Ba;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+_e(l)+'"][href="'+_e(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=ja(e)}if(!Pn.has(d)&&(e=T({rel:"modulepreload",href:e},i),Pn.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(gl(d)))return}l=a.createElement("link"),Be(l,"link",e),he(l),a.head.appendChild(l)}}}function Vb(e,i,a){Qi.S(e,i,a);var l=Ba;if(l&&e){var h=Je(l).hoistableStyles,d=qa(e);i=i||"default";var v=h.get(d);if(!v){var E={loading:0,preload:null};if(v=l.querySelector(pl(d)))E.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Pn.get(d))&&xd(e,a);var R=v=l.createElement("link");he(R),Be(R,"link",e),R._p=new Promise(function(L,Q){R.onload=L,R.onerror=Q}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,mc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:E},h.set(d,v)}}}function Pb(e,i){Qi.X(e,i);var a=Ba;if(a&&e){var l=Je(a).hoistableScripts,h=ja(e),d=l.get(h);d||(d=a.querySelector(gl(h)),d||(e=T({src:e,async:!0},i),(i=Pn.get(h))&&Ld(e,i),d=a.createElement("script"),he(d),Be(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Ub(e,i){Qi.M(e,i);var a=Ba;if(a&&e){var l=Je(a).hoistableScripts,h=ja(e),d=l.get(h);d||(d=a.querySelector(gl(h)),d||(e=T({src:e,async:!0,type:"module"},i),(i=Pn.get(h))&&Ld(e,i),d=a.createElement("script"),he(d),Be(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function q_(e,i,a,l){var h=(h=_t.current)?dc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=qa(a.href),a=Je(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=qa(a.href);var d=Je(h).hoistableStyles,v=d.get(e);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,v),(d=h.querySelector(pl(e)))&&!d._p&&(v.instance=d,v.state.loading=5),Pn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Pn.set(e,a),d||kb(h,e,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=ja(a),a=Je(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function qa(e){return'href="'+_e(e)+'"'}function pl(e){return'link[rel="stylesheet"]['+e+"]"}function j_(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function kb(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Be(i,"link",a),he(i),e.head.appendChild(i))}function ja(e){return'[src="'+_e(e)+'"]'}function gl(e){return"script[async]"+e}function H_(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+_e(a.href)+'"]');if(l)return i.instance=l,he(l),l;var h=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),he(l),Be(l,"style",h),mc(l,a.precedence,e),i.instance=l;case"stylesheet":h=qa(a.href);var d=e.querySelector(pl(h));if(d)return i.state.loading|=4,i.instance=d,he(d),d;l=j_(a),(h=Pn.get(h))&&xd(l,h),d=(e.ownerDocument||e).createElement("link"),he(d);var v=d;return v._p=new Promise(function(E,R){v.onload=E,v.onerror=R}),Be(d,"link",l),i.state.loading|=4,mc(d,a.precedence,e),i.instance=d;case"script":return d=ja(a.src),(h=e.querySelector(gl(d)))?(i.instance=h,he(h),h):(l=a,(h=Pn.get(d))&&(l=T({},a),Ld(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),he(h),Be(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,mc(l,a.precedence,e));return i.instance}function mc(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var E=l[v];if(E.dataset.precedence===i)d=E;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function xd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Ld(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var pc=null;function F_(e,i,a){if(pc===null){var l=new Map,h=pc=new Map;h.set(a,l)}else h=pc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[ss]||d[Se]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=e+v;var E=l.get(v);E?E.push(d):l.set(v,[d])}}return l}function G_(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function xb(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function K_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var yl=null;function Lb(){}function zb(e,i,a){if(yl===null)throw Error(s(475));var l=yl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=qa(a.href),d=e.querySelector(pl(h));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=gc.bind(l),e.then(l,l)),i.state.loading|=4,i.instance=d,he(d);return}d=e.ownerDocument||e,a=j_(a),(h=Pn.get(h))&&xd(a,h),d=d.createElement("link"),he(d);var v=d;v._p=new Promise(function(E,R){v.onload=E,v.onerror=R}),Be(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=gc.bind(l),e.addEventListener("load",i),e.addEventListener("error",i))}}function Bb(){if(yl===null)throw Error(s(475));var e=yl;return e.stylesheets&&e.count===0&&zd(e,e.stylesheets),0<e.count?function(i){var a=setTimeout(function(){if(e.stylesheets&&zd(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a)}}:null}function gc(){if(this.count--,this.count===0){if(this.stylesheets)zd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var yc=null;function zd(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,yc=new Map,i.forEach(qb,e),yc=null,gc.call(e))}function qb(e,i){if(!(i.state.loading&4)){var a=yc.get(e);if(a)var l=a.get(null);else{a=new Map,yc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=gc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var _l={$$typeof:st,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function jb(e,i,a,l,h,d,v,E){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Si(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Si(0),this.hiddenUpdates=Si(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Q_(e,i,a,l,h,d,v,E,R,L,Q,X){return e=new jb(e,i,a,v,E,R,L,X),i=1,d===!0&&(i|=24),d=mn(3,null,null,i),e.current=d,d.stateNode=e,i=Tf(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},bf(d),e}function Y_(e){return e?(e=va,e):va}function $_(e,i,a,l,h,d){h=Y_(h),l.context===null?l.context=h:l.pendingContext=h,l=fr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=dr(e,l,i),a!==null&&(vn(a,e,i),Yo(a,e,i))}function X_(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function Bd(e,i){X_(e,i),(e=e.alternate)&&X_(e,i)}function Z_(e){if(e.tag===13){var i=_a(e,67108864);i!==null&&vn(i,e,67108864),Bd(e,67108864)}}var _c=!0;function Hb(e,i,a,l){var h=K.T;K.T=null;var d=at.p;try{at.p=2,qd(e,i,a,l)}finally{at.p=d,K.T=h}}function Fb(e,i,a,l){var h=K.T;K.T=null;var d=at.p;try{at.p=8,qd(e,i,a,l)}finally{at.p=d,K.T=h}}function qd(e,i,a,l){if(_c){var h=jd(l);if(h===null)Cd(e,i,l,vc,a),J_(e,l);else if(Kb(h,e,i,a,l))l.stopPropagation();else if(J_(e,l),i&4&&-1<Gb.indexOf(e)){for(;h!==null;){var d=Jn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=zn(d.pendingLanes);if(v!==0){var E=d;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var R=1<<31-Ge(v);E.entanglements[1]|=R,v&=~R}di(d),(Qt&6)===0&&(nc=An()+500,hl(0))}}break;case 13:E=_a(d,2),E!==null&&vn(E,d,2),rc(),Bd(d,2)}if(d=jd(l),d===null&&Cd(e,i,l,vc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Cd(e,i,l,null,a)}}function jd(e){return e=wn(e),Hd(e)}var vc=null;function Hd(e){if(vc=null,e=wi(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=f(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return vc=e,null}function W_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Gh()){case go:return 2;case Zs:return 8;case ts:case Kh:return 32;case Ws:return 268435456;default:return 32}default:return 32}}var Fd=!1,Rr=null,Ir=null,Cr=null,vl=new Map,Tl=new Map,Or=[],Gb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function J_(e,i){switch(e){case"focusin":case"focusout":Rr=null;break;case"dragenter":case"dragleave":Ir=null;break;case"mouseover":case"mouseout":Cr=null;break;case"pointerover":case"pointerout":vl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tl.delete(i.pointerId)}}function El(e,i,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Jn(i),i!==null&&Z_(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function Kb(e,i,a,l,h){switch(i){case"focusin":return Rr=El(Rr,e,i,a,l,h),!0;case"dragenter":return Ir=El(Ir,e,i,a,l,h),!0;case"mouseover":return Cr=El(Cr,e,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return vl.set(d,El(vl.get(d)||null,e,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Tl.set(d,El(Tl.get(d)||null,e,i,a,l,h)),!0}return!1}function tv(e){var i=wi(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){e.blockedOn=i,ru(e.priority,function(){if(a.tag===13){var l=_n();l=ir(l);var h=_a(a,l);h!==null&&vn(h,a,l),Bd(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Tc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=jd(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Oi=l,a.target.dispatchEvent(l),Oi=null}else return i=Jn(a),i!==null&&Z_(i),e.blockedOn=a,!1;i.shift()}return!0}function ev(e,i,a){Tc(e)&&a.delete(i)}function Qb(){Fd=!1,Rr!==null&&Tc(Rr)&&(Rr=null),Ir!==null&&Tc(Ir)&&(Ir=null),Cr!==null&&Tc(Cr)&&(Cr=null),vl.forEach(ev),Tl.forEach(ev)}function Ec(e,i){e.blockedOn===i&&(e.blockedOn=null,Fd||(Fd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Qb)))}var Ac=null;function nv(e){Ac!==e&&(Ac=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Ac===e&&(Ac=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(Hd(l||a)===null)continue;break}var d=Jn(a);d!==null&&(e.splice(i,3),i-=3,Hf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Al(e){function i(R){return Ec(R,e)}Rr!==null&&Ec(Rr,e),Ir!==null&&Ec(Ir,e),Cr!==null&&Ec(Cr,e),vl.forEach(i),Tl.forEach(i);for(var a=0;a<Or.length;a++){var l=Or[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Or.length&&(a=Or[0],a.blockedOn===null);)tv(a),a.blockedOn===null&&Or.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[ye]||null;if(typeof d=="function")v||nv(a);else if(v){var E=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[ye]||null)E=v.formAction;else if(Hd(h)!==null)continue}else E=v.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),nv(a)}}}function Gd(e){this._internalRoot=e}Sc.prototype.render=Gd.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=_n();$_(a,l,e,i,null,null)},Sc.prototype.unmount=Gd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;$_(e.current,2,null,e,null,null),rc(),i[Sn]=null}};function Sc(e){this._internalRoot=e}Sc.prototype.unstable_scheduleHydration=function(e){if(e){var i=rr();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Or.length&&i!==0&&i<Or[a].priority;a++);Or.splice(a,0,e),a===0&&tv(e)}};var iv=t.version;if(iv!=="19.1.0")throw Error(s(527,iv,"19.1.0"));at.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=g(i),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var Yb={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bc.isDisabled&&bc.supportsFiber)try{le=bc.inject(Yb),Kt=bc}catch{}}return bl.createRoot=function(e,i){if(!o(e))throw Error(s(299));var a=!1,l="",h=vy,d=Ty,v=Ey,E=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(E=i.unstable_transitionCallbacks)),i=Q_(e,1,!1,null,null,a,l,h,d,v,E,null),e[Sn]=i.current,Id(e),new Gd(i)},bl.hydrateRoot=function(e,i,a){if(!o(e))throw Error(s(299));var l=!1,h="",d=vy,v=Ty,E=Ey,R=null,L=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(R=a.unstable_transitionCallbacks),a.formState!==void 0&&(L=a.formState)),i=Q_(e,1,!0,i,a??null,l,h,d,v,E,R,L),i.context=Y_(null),a=i.current,l=_n(),l=ir(l),h=fr(l),h.callback=null,dr(a,h,l),a=l,i.current.lanes=a,bi(i,a),di(i),e[Sn]=i.current,Id(e),new Sc(i)},bl.version="19.1.0",bl}var dv;function sw(){if(dv)return Yd.exports;dv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Yd.exports=rw(),Yd.exports}var aw=sw(),Wd,mv;function ow(){if(mv)return Wd;mv=1;var r="Expected a function",t=NaN,n="[object Symbol]",s=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,f=/^0o[0-7]+$/i,m=parseInt,g=typeof wc=="object"&&wc&&wc.Object===Object&&wc,y=typeof self=="object"&&self&&self.Object===Object&&self,T=g||y||Function("return this")(),S=Object.prototype,M=S.toString,j=Math.max,q=Math.min,$=function(){return T.Date.now()};function H(tt,lt,C){var b,w,N,V,P,I,se=0,ee=!1,K=!1,at=!0;if(typeof tt!="function")throw new TypeError(r);lt=gt(lt)||0,et(C)&&(ee=!!C.leading,K="maxWait"in C,N=K?j(gt(C.maxWait)||0,lt):N,at="trailing"in C?!!C.trailing:at);function ft(Dt){var kt=b,Fe=w;return b=w=void 0,se=Dt,V=tt.apply(Fe,kt),V}function qt(Dt){return se=Dt,P=setTimeout(ot,lt),ee?ft(Dt):V}function O(Dt){var kt=Dt-I,Fe=Dt-se,Ln=lt-kt;return K?q(Ln,N-Fe):Ln}function W(Dt){var kt=Dt-I,Fe=Dt-se;return I===void 0||kt>=lt||kt<0||K&&Fe>=N}function ot(){var Dt=$();if(W(Dt))return nt(Dt);P=setTimeout(ot,O(Dt))}function nt(Dt){return P=void 0,at&&b?ft(Dt):(b=w=void 0,V)}function mt(){P!==void 0&&clearTimeout(P),se=0,b=I=w=P=void 0}function It(){return P===void 0?V:nt($())}function _t(){var Dt=$(),kt=W(Dt);if(b=arguments,w=this,I=Dt,kt){if(P===void 0)return qt(I);if(K)return P=setTimeout(ot,lt),ft(I)}return P===void 0&&(P=setTimeout(ot,lt)),V}return _t.cancel=mt,_t.flush=It,_t}function et(tt){var lt=typeof tt;return!!tt&&(lt=="object"||lt=="function")}function it(tt){return!!tt&&typeof tt=="object"}function st(tt){return typeof tt=="symbol"||it(tt)&&M.call(tt)==n}function gt(tt){if(typeof tt=="number")return tt;if(st(tt))return t;if(et(tt)){var lt=typeof tt.valueOf=="function"?tt.valueOf():tt;tt=et(lt)?lt+"":lt}if(typeof tt!="string")return tt===0?tt:+tt;tt=tt.replace(s,"");var C=u.test(tt);return C||f.test(tt)?m(tt.slice(2),C?2:8):o.test(tt)?t:+tt}return Wd=H,Wd}var lw=ow();const uw=Xb(lw);function hE(r,t){return function(){return r.apply(t,arguments)}}const{toString:cw}=Object.prototype,{getPrototypeOf:Zm}=Object,yh=(r=>t=>{const n=cw.call(t);return r[n]||(r[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Xn=r=>(r=r.toLowerCase(),t=>yh(t)===r),_h=r=>t=>typeof t===r,{isArray:so}=Array,Ul=_h("undefined");function hw(r){return r!==null&&!Ul(r)&&r.constructor!==null&&!Ul(r.constructor)&&Tn(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const fE=Xn("ArrayBuffer");function fw(r){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(r):t=r&&r.buffer&&fE(r.buffer),t}const dw=_h("string"),Tn=_h("function"),dE=_h("number"),vh=r=>r!==null&&typeof r=="object",mw=r=>r===!0||r===!1,Vc=r=>{if(yh(r)!=="object")return!1;const t=Zm(r);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},pw=Xn("Date"),gw=Xn("File"),yw=Xn("Blob"),_w=Xn("FileList"),vw=r=>vh(r)&&Tn(r.pipe),Tw=r=>{let t;return r&&(typeof FormData=="function"&&r instanceof FormData||Tn(r.append)&&((t=yh(r))==="formdata"||t==="object"&&Tn(r.toString)&&r.toString()==="[object FormData]"))},Ew=Xn("URLSearchParams"),[Aw,Sw,bw,ww]=["ReadableStream","Request","Response","Headers"].map(Xn),Rw=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Fl(r,t,{allOwnKeys:n=!1}={}){if(r===null||typeof r>"u")return;let s,o;if(typeof r!="object"&&(r=[r]),so(r))for(s=0,o=r.length;s<o;s++)t.call(null,r[s],s,r);else{const u=n?Object.getOwnPropertyNames(r):Object.keys(r),f=u.length;let m;for(s=0;s<f;s++)m=u[s],t.call(null,r[m],m,r)}}function mE(r,t){t=t.toLowerCase();const n=Object.keys(r);let s=n.length,o;for(;s-- >0;)if(o=n[s],t===o.toLowerCase())return o;return null}const Us=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,pE=r=>!Ul(r)&&r!==Us;function _m(){const{caseless:r}=pE(this)&&this||{},t={},n=(s,o)=>{const u=r&&mE(t,o)||o;Vc(t[u])&&Vc(s)?t[u]=_m(t[u],s):Vc(s)?t[u]=_m({},s):so(s)?t[u]=s.slice():t[u]=s};for(let s=0,o=arguments.length;s<o;s++)arguments[s]&&Fl(arguments[s],n);return t}const Iw=(r,t,n,{allOwnKeys:s}={})=>(Fl(t,(o,u)=>{n&&Tn(o)?r[u]=hE(o,n):r[u]=o},{allOwnKeys:s}),r),Cw=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),Ow=(r,t,n,s)=>{r.prototype=Object.create(t.prototype,s),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:t.prototype}),n&&Object.assign(r.prototype,n)},Dw=(r,t,n,s)=>{let o,u,f;const m={};if(t=t||{},r==null)return t;do{for(o=Object.getOwnPropertyNames(r),u=o.length;u-- >0;)f=o[u],(!s||s(f,r,t))&&!m[f]&&(t[f]=r[f],m[f]=!0);r=n!==!1&&Zm(r)}while(r&&(!n||n(r,t))&&r!==Object.prototype);return t},Nw=(r,t,n)=>{r=String(r),(n===void 0||n>r.length)&&(n=r.length),n-=t.length;const s=r.indexOf(t,n);return s!==-1&&s===n},Mw=r=>{if(!r)return null;if(so(r))return r;let t=r.length;if(!dE(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=r[t];return n},Vw=(r=>t=>r&&t instanceof r)(typeof Uint8Array<"u"&&Zm(Uint8Array)),Pw=(r,t)=>{const s=(r&&r[Symbol.iterator]).call(r);let o;for(;(o=s.next())&&!o.done;){const u=o.value;t.call(r,u[0],u[1])}},Uw=(r,t)=>{let n;const s=[];for(;(n=r.exec(t))!==null;)s.push(n);return s},kw=Xn("HTMLFormElement"),xw=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,o){return s.toUpperCase()+o}),pv=(({hasOwnProperty:r})=>(t,n)=>r.call(t,n))(Object.prototype),Lw=Xn("RegExp"),gE=(r,t)=>{const n=Object.getOwnPropertyDescriptors(r),s={};Fl(n,(o,u)=>{let f;(f=t(o,u,r))!==!1&&(s[u]=f||o)}),Object.defineProperties(r,s)},zw=r=>{gE(r,(t,n)=>{if(Tn(r)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=r[n];if(Tn(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Bw=(r,t)=>{const n={},s=o=>{o.forEach(u=>{n[u]=!0})};return so(r)?s(r):s(String(r).split(t)),n},qw=()=>{},jw=(r,t)=>r!=null&&Number.isFinite(r=+r)?r:t;function Hw(r){return!!(r&&Tn(r.append)&&r[Symbol.toStringTag]==="FormData"&&r[Symbol.iterator])}const Fw=r=>{const t=new Array(10),n=(s,o)=>{if(vh(s)){if(t.indexOf(s)>=0)return;if(!("toJSON"in s)){t[o]=s;const u=so(s)?[]:{};return Fl(s,(f,m)=>{const g=n(f,o+1);!Ul(g)&&(u[m]=g)}),t[o]=void 0,u}}return s};return n(r,0)},Gw=Xn("AsyncFunction"),Kw=r=>r&&(vh(r)||Tn(r))&&Tn(r.then)&&Tn(r.catch),yE=((r,t)=>r?setImmediate:t?((n,s)=>(Us.addEventListener("message",({source:o,data:u})=>{o===Us&&u===n&&s.length&&s.shift()()},!1),o=>{s.push(o),Us.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Tn(Us.postMessage)),Qw=typeof queueMicrotask<"u"?queueMicrotask.bind(Us):typeof process<"u"&&process.nextTick||yE,G={isArray:so,isArrayBuffer:fE,isBuffer:hw,isFormData:Tw,isArrayBufferView:fw,isString:dw,isNumber:dE,isBoolean:mw,isObject:vh,isPlainObject:Vc,isReadableStream:Aw,isRequest:Sw,isResponse:bw,isHeaders:ww,isUndefined:Ul,isDate:pw,isFile:gw,isBlob:yw,isRegExp:Lw,isFunction:Tn,isStream:vw,isURLSearchParams:Ew,isTypedArray:Vw,isFileList:_w,forEach:Fl,merge:_m,extend:Iw,trim:Rw,stripBOM:Cw,inherits:Ow,toFlatObject:Dw,kindOf:yh,kindOfTest:Xn,endsWith:Nw,toArray:Mw,forEachEntry:Pw,matchAll:Uw,isHTMLForm:kw,hasOwnProperty:pv,hasOwnProp:pv,reduceDescriptors:gE,freezeMethods:zw,toObjectSet:Bw,toCamelCase:xw,noop:qw,toFiniteNumber:jw,findKey:mE,global:Us,isContextDefined:pE,isSpecCompliantForm:Hw,toJSONObject:Fw,isAsyncFn:Gw,isThenable:Kw,setImmediate:yE,asap:Qw};function wt(r,t,n,s,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),s&&(this.request=s),o&&(this.response=o,this.status=o.status?o.status:null)}G.inherits(wt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:G.toJSONObject(this.config),code:this.code,status:this.status}}});const _E=wt.prototype,vE={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{vE[r]={value:r}});Object.defineProperties(wt,vE);Object.defineProperty(_E,"isAxiosError",{value:!0});wt.from=(r,t,n,s,o,u)=>{const f=Object.create(_E);return G.toFlatObject(r,f,function(g){return g!==Error.prototype},m=>m!=="isAxiosError"),wt.call(f,r.message,t,n,s,o),f.cause=r,f.name=r.name,u&&Object.assign(f,u),f};const Yw=null;function vm(r){return G.isPlainObject(r)||G.isArray(r)}function TE(r){return G.endsWith(r,"[]")?r.slice(0,-2):r}function gv(r,t,n){return r?r.concat(t).map(function(o,u){return o=TE(o),!n&&u?"["+o+"]":o}).join(n?".":""):t}function $w(r){return G.isArray(r)&&!r.some(vm)}const Xw=G.toFlatObject(G,{},null,function(t){return/^is[A-Z]/.test(t)});function Th(r,t,n){if(!G.isObject(r))throw new TypeError("target must be an object");t=t||new FormData,n=G.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function($,H){return!G.isUndefined(H[$])});const s=n.metaTokens,o=n.visitor||T,u=n.dots,f=n.indexes,g=(n.Blob||typeof Blob<"u"&&Blob)&&G.isSpecCompliantForm(t);if(!G.isFunction(o))throw new TypeError("visitor must be a function");function y(q){if(q===null)return"";if(G.isDate(q))return q.toISOString();if(!g&&G.isBlob(q))throw new wt("Blob is not supported. Use a Buffer instead.");return G.isArrayBuffer(q)||G.isTypedArray(q)?g&&typeof Blob=="function"?new Blob([q]):Buffer.from(q):q}function T(q,$,H){let et=q;if(q&&!H&&typeof q=="object"){if(G.endsWith($,"{}"))$=s?$:$.slice(0,-2),q=JSON.stringify(q);else if(G.isArray(q)&&$w(q)||(G.isFileList(q)||G.endsWith($,"[]"))&&(et=G.toArray(q)))return $=TE($),et.forEach(function(st,gt){!(G.isUndefined(st)||st===null)&&t.append(f===!0?gv([$],gt,u):f===null?$:$+"[]",y(st))}),!1}return vm(q)?!0:(t.append(gv(H,$,u),y(q)),!1)}const S=[],M=Object.assign(Xw,{defaultVisitor:T,convertValue:y,isVisitable:vm});function j(q,$){if(!G.isUndefined(q)){if(S.indexOf(q)!==-1)throw Error("Circular reference detected in "+$.join("."));S.push(q),G.forEach(q,function(et,it){(!(G.isUndefined(et)||et===null)&&o.call(t,et,G.isString(it)?it.trim():it,$,M))===!0&&j(et,$?$.concat(it):[it])}),S.pop()}}if(!G.isObject(r))throw new TypeError("data must be an object");return j(r),t}function yv(r){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function Wm(r,t){this._pairs=[],r&&Th(r,this,t)}const EE=Wm.prototype;EE.append=function(t,n){this._pairs.push([t,n])};EE.toString=function(t){const n=t?function(s){return t.call(this,s,yv)}:yv;return this._pairs.map(function(o){return n(o[0])+"="+n(o[1])},"").join("&")};function Zw(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function AE(r,t,n){if(!t)return r;const s=n&&n.encode||Zw;G.isFunction(n)&&(n={serialize:n});const o=n&&n.serialize;let u;if(o?u=o(t,n):u=G.isURLSearchParams(t)?t.toString():new Wm(t,n).toString(s),u){const f=r.indexOf("#");f!==-1&&(r=r.slice(0,f)),r+=(r.indexOf("?")===-1?"?":"&")+u}return r}class _v{constructor(){this.handlers=[]}use(t,n,s){return this.handlers.push({fulfilled:t,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){G.forEach(this.handlers,function(s){s!==null&&t(s)})}}const SE={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ww=typeof URLSearchParams<"u"?URLSearchParams:Wm,Jw=typeof FormData<"u"?FormData:null,tR=typeof Blob<"u"?Blob:null,eR={isBrowser:!0,classes:{URLSearchParams:Ww,FormData:Jw,Blob:tR},protocols:["http","https","file","blob","url","data"]},Jm=typeof window<"u"&&typeof document<"u",Tm=typeof navigator=="object"&&navigator||void 0,nR=Jm&&(!Tm||["ReactNative","NativeScript","NS"].indexOf(Tm.product)<0),iR=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",rR=Jm&&window.location.href||"http://localhost",sR=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Jm,hasStandardBrowserEnv:nR,hasStandardBrowserWebWorkerEnv:iR,navigator:Tm,origin:rR},Symbol.toStringTag,{value:"Module"})),Ze={...sR,...eR};function aR(r,t){return Th(r,new Ze.classes.URLSearchParams,Object.assign({visitor:function(n,s,o,u){return Ze.isNode&&G.isBuffer(n)?(this.append(s,n.toString("base64")),!1):u.defaultVisitor.apply(this,arguments)}},t))}function oR(r){return G.matchAll(/\w+|\[(\w*)]/g,r).map(t=>t[0]==="[]"?"":t[1]||t[0])}function lR(r){const t={},n=Object.keys(r);let s;const o=n.length;let u;for(s=0;s<o;s++)u=n[s],t[u]=r[u];return t}function bE(r){function t(n,s,o,u){let f=n[u++];if(f==="__proto__")return!0;const m=Number.isFinite(+f),g=u>=n.length;return f=!f&&G.isArray(o)?o.length:f,g?(G.hasOwnProp(o,f)?o[f]=[o[f],s]:o[f]=s,!m):((!o[f]||!G.isObject(o[f]))&&(o[f]=[]),t(n,s,o[f],u)&&G.isArray(o[f])&&(o[f]=lR(o[f])),!m)}if(G.isFormData(r)&&G.isFunction(r.entries)){const n={};return G.forEachEntry(r,(s,o)=>{t(oR(s),o,n,0)}),n}return null}function uR(r,t,n){if(G.isString(r))try{return(t||JSON.parse)(r),G.trim(r)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(r)}const Gl={transitional:SE,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const s=n.getContentType()||"",o=s.indexOf("application/json")>-1,u=G.isObject(t);if(u&&G.isHTMLForm(t)&&(t=new FormData(t)),G.isFormData(t))return o?JSON.stringify(bE(t)):t;if(G.isArrayBuffer(t)||G.isBuffer(t)||G.isStream(t)||G.isFile(t)||G.isBlob(t)||G.isReadableStream(t))return t;if(G.isArrayBufferView(t))return t.buffer;if(G.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let m;if(u){if(s.indexOf("application/x-www-form-urlencoded")>-1)return aR(t,this.formSerializer).toString();if((m=G.isFileList(t))||s.indexOf("multipart/form-data")>-1){const g=this.env&&this.env.FormData;return Th(m?{"files[]":t}:t,g&&new g,this.formSerializer)}}return u||o?(n.setContentType("application/json",!1),uR(t)):t}],transformResponse:[function(t){const n=this.transitional||Gl.transitional,s=n&&n.forcedJSONParsing,o=this.responseType==="json";if(G.isResponse(t)||G.isReadableStream(t))return t;if(t&&G.isString(t)&&(s&&!this.responseType||o)){const f=!(n&&n.silentJSONParsing)&&o;try{return JSON.parse(t)}catch(m){if(f)throw m.name==="SyntaxError"?wt.from(m,wt.ERR_BAD_RESPONSE,this,null,this.response):m}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ze.classes.FormData,Blob:Ze.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};G.forEach(["delete","get","head","post","put","patch"],r=>{Gl.headers[r]={}});const cR=G.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),hR=r=>{const t={};let n,s,o;return r&&r.split(`
`).forEach(function(f){o=f.indexOf(":"),n=f.substring(0,o).trim().toLowerCase(),s=f.substring(o+1).trim(),!(!n||t[n]&&cR[n])&&(n==="set-cookie"?t[n]?t[n].push(s):t[n]=[s]:t[n]=t[n]?t[n]+", "+s:s)}),t},vv=Symbol("internals");function wl(r){return r&&String(r).trim().toLowerCase()}function Pc(r){return r===!1||r==null?r:G.isArray(r)?r.map(Pc):String(r)}function fR(r){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(r);)t[s[1]]=s[2];return t}const dR=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function Jd(r,t,n,s,o){if(G.isFunction(s))return s.call(this,t,n);if(o&&(t=n),!!G.isString(t)){if(G.isString(s))return t.indexOf(s)!==-1;if(G.isRegExp(s))return s.test(t)}}function mR(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,s)=>n.toUpperCase()+s)}function pR(r,t){const n=G.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(r,s+n,{value:function(o,u,f){return this[s].call(this,t,o,u,f)},configurable:!0})})}let ln=class{constructor(t){t&&this.set(t)}set(t,n,s){const o=this;function u(m,g,y){const T=wl(g);if(!T)throw new Error("header name must be a non-empty string");const S=G.findKey(o,T);(!S||o[S]===void 0||y===!0||y===void 0&&o[S]!==!1)&&(o[S||g]=Pc(m))}const f=(m,g)=>G.forEach(m,(y,T)=>u(y,T,g));if(G.isPlainObject(t)||t instanceof this.constructor)f(t,n);else if(G.isString(t)&&(t=t.trim())&&!dR(t))f(hR(t),n);else if(G.isHeaders(t))for(const[m,g]of t.entries())u(g,m,s);else t!=null&&u(n,t,s);return this}get(t,n){if(t=wl(t),t){const s=G.findKey(this,t);if(s){const o=this[s];if(!n)return o;if(n===!0)return fR(o);if(G.isFunction(n))return n.call(this,o,s);if(G.isRegExp(n))return n.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=wl(t),t){const s=G.findKey(this,t);return!!(s&&this[s]!==void 0&&(!n||Jd(this,this[s],s,n)))}return!1}delete(t,n){const s=this;let o=!1;function u(f){if(f=wl(f),f){const m=G.findKey(s,f);m&&(!n||Jd(s,s[m],m,n))&&(delete s[m],o=!0)}}return G.isArray(t)?t.forEach(u):u(t),o}clear(t){const n=Object.keys(this);let s=n.length,o=!1;for(;s--;){const u=n[s];(!t||Jd(this,this[u],u,t,!0))&&(delete this[u],o=!0)}return o}normalize(t){const n=this,s={};return G.forEach(this,(o,u)=>{const f=G.findKey(s,u);if(f){n[f]=Pc(o),delete n[u];return}const m=t?mR(u):String(u).trim();m!==u&&delete n[u],n[m]=Pc(o),s[m]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return G.forEach(this,(s,o)=>{s!=null&&s!==!1&&(n[o]=t&&G.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const s=new this(t);return n.forEach(o=>s.set(o)),s}static accessor(t){const s=(this[vv]=this[vv]={accessors:{}}).accessors,o=this.prototype;function u(f){const m=wl(f);s[m]||(pR(o,f),s[m]=!0)}return G.isArray(t)?t.forEach(u):u(t),this}};ln.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);G.reduceDescriptors(ln.prototype,({value:r},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>r,set(s){this[n]=s}}});G.freezeMethods(ln);function tm(r,t){const n=this||Gl,s=t||n,o=ln.from(s.headers);let u=s.data;return G.forEach(r,function(m){u=m.call(n,u,o.normalize(),t?t.status:void 0)}),o.normalize(),u}function wE(r){return!!(r&&r.__CANCEL__)}function ao(r,t,n){wt.call(this,r??"canceled",wt.ERR_CANCELED,t,n),this.name="CanceledError"}G.inherits(ao,wt,{__CANCEL__:!0});function RE(r,t,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?r(n):t(new wt("Request failed with status code "+n.status,[wt.ERR_BAD_REQUEST,wt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function gR(r){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return t&&t[1]||""}function yR(r,t){r=r||10;const n=new Array(r),s=new Array(r);let o=0,u=0,f;return t=t!==void 0?t:1e3,function(g){const y=Date.now(),T=s[u];f||(f=y),n[o]=g,s[o]=y;let S=u,M=0;for(;S!==o;)M+=n[S++],S=S%r;if(o=(o+1)%r,o===u&&(u=(u+1)%r),y-f<t)return;const j=T&&y-T;return j?Math.round(M*1e3/j):void 0}}function _R(r,t){let n=0,s=1e3/t,o,u;const f=(y,T=Date.now())=>{n=T,o=null,u&&(clearTimeout(u),u=null),r.apply(null,y)};return[(...y)=>{const T=Date.now(),S=T-n;S>=s?f(y,T):(o=y,u||(u=setTimeout(()=>{u=null,f(o)},s-S)))},()=>o&&f(o)]}const Kc=(r,t,n=3)=>{let s=0;const o=yR(50,250);return _R(u=>{const f=u.loaded,m=u.lengthComputable?u.total:void 0,g=f-s,y=o(g),T=f<=m;s=f;const S={loaded:f,total:m,progress:m?f/m:void 0,bytes:g,rate:y||void 0,estimated:y&&m&&T?(m-f)/y:void 0,event:u,lengthComputable:m!=null,[t?"download":"upload"]:!0};r(S)},n)},Tv=(r,t)=>{const n=r!=null;return[s=>t[0]({lengthComputable:n,total:r,loaded:s}),t[1]]},Ev=r=>(...t)=>G.asap(()=>r(...t)),vR=Ze.hasStandardBrowserEnv?((r,t)=>n=>(n=new URL(n,Ze.origin),r.protocol===n.protocol&&r.host===n.host&&(t||r.port===n.port)))(new URL(Ze.origin),Ze.navigator&&/(msie|trident)/i.test(Ze.navigator.userAgent)):()=>!0,TR=Ze.hasStandardBrowserEnv?{write(r,t,n,s,o,u){const f=[r+"="+encodeURIComponent(t)];G.isNumber(n)&&f.push("expires="+new Date(n).toGMTString()),G.isString(s)&&f.push("path="+s),G.isString(o)&&f.push("domain="+o),u===!0&&f.push("secure"),document.cookie=f.join("; ")},read(r){const t=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(r){this.write(r,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function ER(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function AR(r,t){return t?r.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):r}function IE(r,t,n){let s=!ER(t);return r&&(s||n==!1)?AR(r,t):t}const Av=r=>r instanceof ln?{...r}:r;function zs(r,t){t=t||{};const n={};function s(y,T,S,M){return G.isPlainObject(y)&&G.isPlainObject(T)?G.merge.call({caseless:M},y,T):G.isPlainObject(T)?G.merge({},T):G.isArray(T)?T.slice():T}function o(y,T,S,M){if(G.isUndefined(T)){if(!G.isUndefined(y))return s(void 0,y,S,M)}else return s(y,T,S,M)}function u(y,T){if(!G.isUndefined(T))return s(void 0,T)}function f(y,T){if(G.isUndefined(T)){if(!G.isUndefined(y))return s(void 0,y)}else return s(void 0,T)}function m(y,T,S){if(S in t)return s(y,T);if(S in r)return s(void 0,y)}const g={url:u,method:u,data:u,baseURL:f,transformRequest:f,transformResponse:f,paramsSerializer:f,timeout:f,timeoutMessage:f,withCredentials:f,withXSRFToken:f,adapter:f,responseType:f,xsrfCookieName:f,xsrfHeaderName:f,onUploadProgress:f,onDownloadProgress:f,decompress:f,maxContentLength:f,maxBodyLength:f,beforeRedirect:f,transport:f,httpAgent:f,httpsAgent:f,cancelToken:f,socketPath:f,responseEncoding:f,validateStatus:m,headers:(y,T,S)=>o(Av(y),Av(T),S,!0)};return G.forEach(Object.keys(Object.assign({},r,t)),function(T){const S=g[T]||o,M=S(r[T],t[T],T);G.isUndefined(M)&&S!==m||(n[T]=M)}),n}const CE=r=>{const t=zs({},r);let{data:n,withXSRFToken:s,xsrfHeaderName:o,xsrfCookieName:u,headers:f,auth:m}=t;t.headers=f=ln.from(f),t.url=AE(IE(t.baseURL,t.url,t.allowAbsoluteUrls),r.params,r.paramsSerializer),m&&f.set("Authorization","Basic "+btoa((m.username||"")+":"+(m.password?unescape(encodeURIComponent(m.password)):"")));let g;if(G.isFormData(n)){if(Ze.hasStandardBrowserEnv||Ze.hasStandardBrowserWebWorkerEnv)f.setContentType(void 0);else if((g=f.getContentType())!==!1){const[y,...T]=g?g.split(";").map(S=>S.trim()).filter(Boolean):[];f.setContentType([y||"multipart/form-data",...T].join("; "))}}if(Ze.hasStandardBrowserEnv&&(s&&G.isFunction(s)&&(s=s(t)),s||s!==!1&&vR(t.url))){const y=o&&u&&TR.read(u);y&&f.set(o,y)}return t},SR=typeof XMLHttpRequest<"u",bR=SR&&function(r){return new Promise(function(n,s){const o=CE(r);let u=o.data;const f=ln.from(o.headers).normalize();let{responseType:m,onUploadProgress:g,onDownloadProgress:y}=o,T,S,M,j,q;function $(){j&&j(),q&&q(),o.cancelToken&&o.cancelToken.unsubscribe(T),o.signal&&o.signal.removeEventListener("abort",T)}let H=new XMLHttpRequest;H.open(o.method.toUpperCase(),o.url,!0),H.timeout=o.timeout;function et(){if(!H)return;const st=ln.from("getAllResponseHeaders"in H&&H.getAllResponseHeaders()),tt={data:!m||m==="text"||m==="json"?H.responseText:H.response,status:H.status,statusText:H.statusText,headers:st,config:r,request:H};RE(function(C){n(C),$()},function(C){s(C),$()},tt),H=null}"onloadend"in H?H.onloadend=et:H.onreadystatechange=function(){!H||H.readyState!==4||H.status===0&&!(H.responseURL&&H.responseURL.indexOf("file:")===0)||setTimeout(et)},H.onabort=function(){H&&(s(new wt("Request aborted",wt.ECONNABORTED,r,H)),H=null)},H.onerror=function(){s(new wt("Network Error",wt.ERR_NETWORK,r,H)),H=null},H.ontimeout=function(){let gt=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const tt=o.transitional||SE;o.timeoutErrorMessage&&(gt=o.timeoutErrorMessage),s(new wt(gt,tt.clarifyTimeoutError?wt.ETIMEDOUT:wt.ECONNABORTED,r,H)),H=null},u===void 0&&f.setContentType(null),"setRequestHeader"in H&&G.forEach(f.toJSON(),function(gt,tt){H.setRequestHeader(tt,gt)}),G.isUndefined(o.withCredentials)||(H.withCredentials=!!o.withCredentials),m&&m!=="json"&&(H.responseType=o.responseType),y&&([M,q]=Kc(y,!0),H.addEventListener("progress",M)),g&&H.upload&&([S,j]=Kc(g),H.upload.addEventListener("progress",S),H.upload.addEventListener("loadend",j)),(o.cancelToken||o.signal)&&(T=st=>{H&&(s(!st||st.type?new ao(null,r,H):st),H.abort(),H=null)},o.cancelToken&&o.cancelToken.subscribe(T),o.signal&&(o.signal.aborted?T():o.signal.addEventListener("abort",T)));const it=gR(o.url);if(it&&Ze.protocols.indexOf(it)===-1){s(new wt("Unsupported protocol "+it+":",wt.ERR_BAD_REQUEST,r));return}H.send(u||null)})},wR=(r,t)=>{const{length:n}=r=r?r.filter(Boolean):[];if(t||n){let s=new AbortController,o;const u=function(y){if(!o){o=!0,m();const T=y instanceof Error?y:this.reason;s.abort(T instanceof wt?T:new ao(T instanceof Error?T.message:T))}};let f=t&&setTimeout(()=>{f=null,u(new wt(`timeout ${t} of ms exceeded`,wt.ETIMEDOUT))},t);const m=()=>{r&&(f&&clearTimeout(f),f=null,r.forEach(y=>{y.unsubscribe?y.unsubscribe(u):y.removeEventListener("abort",u)}),r=null)};r.forEach(y=>y.addEventListener("abort",u));const{signal:g}=s;return g.unsubscribe=()=>G.asap(m),g}},RR=function*(r,t){let n=r.byteLength;if(n<t){yield r;return}let s=0,o;for(;s<n;)o=s+t,yield r.slice(s,o),s=o},IR=async function*(r,t){for await(const n of CR(r))yield*RR(n,t)},CR=async function*(r){if(r[Symbol.asyncIterator]){yield*r;return}const t=r.getReader();try{for(;;){const{done:n,value:s}=await t.read();if(n)break;yield s}}finally{await t.cancel()}},Sv=(r,t,n,s)=>{const o=IR(r,t);let u=0,f,m=g=>{f||(f=!0,s&&s(g))};return new ReadableStream({async pull(g){try{const{done:y,value:T}=await o.next();if(y){m(),g.close();return}let S=T.byteLength;if(n){let M=u+=S;n(M)}g.enqueue(new Uint8Array(T))}catch(y){throw m(y),y}},cancel(g){return m(g),o.return()}},{highWaterMark:2})},Eh=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",OE=Eh&&typeof ReadableStream=="function",OR=Eh&&(typeof TextEncoder=="function"?(r=>t=>r.encode(t))(new TextEncoder):async r=>new Uint8Array(await new Response(r).arrayBuffer())),DE=(r,...t)=>{try{return!!r(...t)}catch{return!1}},DR=OE&&DE(()=>{let r=!1;const t=new Request(Ze.origin,{body:new ReadableStream,method:"POST",get duplex(){return r=!0,"half"}}).headers.has("Content-Type");return r&&!t}),bv=64*1024,Em=OE&&DE(()=>G.isReadableStream(new Response("").body)),Qc={stream:Em&&(r=>r.body)};Eh&&(r=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Qc[t]&&(Qc[t]=G.isFunction(r[t])?n=>n[t]():(n,s)=>{throw new wt(`Response type '${t}' is not supported`,wt.ERR_NOT_SUPPORT,s)})})})(new Response);const NR=async r=>{if(r==null)return 0;if(G.isBlob(r))return r.size;if(G.isSpecCompliantForm(r))return(await new Request(Ze.origin,{method:"POST",body:r}).arrayBuffer()).byteLength;if(G.isArrayBufferView(r)||G.isArrayBuffer(r))return r.byteLength;if(G.isURLSearchParams(r)&&(r=r+""),G.isString(r))return(await OR(r)).byteLength},MR=async(r,t)=>{const n=G.toFiniteNumber(r.getContentLength());return n??NR(t)},VR=Eh&&(async r=>{let{url:t,method:n,data:s,signal:o,cancelToken:u,timeout:f,onDownloadProgress:m,onUploadProgress:g,responseType:y,headers:T,withCredentials:S="same-origin",fetchOptions:M}=CE(r);y=y?(y+"").toLowerCase():"text";let j=wR([o,u&&u.toAbortSignal()],f),q;const $=j&&j.unsubscribe&&(()=>{j.unsubscribe()});let H;try{if(g&&DR&&n!=="get"&&n!=="head"&&(H=await MR(T,s))!==0){let tt=new Request(t,{method:"POST",body:s,duplex:"half"}),lt;if(G.isFormData(s)&&(lt=tt.headers.get("content-type"))&&T.setContentType(lt),tt.body){const[C,b]=Tv(H,Kc(Ev(g)));s=Sv(tt.body,bv,C,b)}}G.isString(S)||(S=S?"include":"omit");const et="credentials"in Request.prototype;q=new Request(t,{...M,signal:j,method:n.toUpperCase(),headers:T.normalize().toJSON(),body:s,duplex:"half",credentials:et?S:void 0});let it=await fetch(q);const st=Em&&(y==="stream"||y==="response");if(Em&&(m||st&&$)){const tt={};["status","statusText","headers"].forEach(w=>{tt[w]=it[w]});const lt=G.toFiniteNumber(it.headers.get("content-length")),[C,b]=m&&Tv(lt,Kc(Ev(m),!0))||[];it=new Response(Sv(it.body,bv,C,()=>{b&&b(),$&&$()}),tt)}y=y||"text";let gt=await Qc[G.findKey(Qc,y)||"text"](it,r);return!st&&$&&$(),await new Promise((tt,lt)=>{RE(tt,lt,{data:gt,headers:ln.from(it.headers),status:it.status,statusText:it.statusText,config:r,request:q})})}catch(et){throw $&&$(),et&&et.name==="TypeError"&&/fetch/i.test(et.message)?Object.assign(new wt("Network Error",wt.ERR_NETWORK,r,q),{cause:et.cause||et}):wt.from(et,et&&et.code,r,q)}}),Am={http:Yw,xhr:bR,fetch:VR};G.forEach(Am,(r,t)=>{if(r){try{Object.defineProperty(r,"name",{value:t})}catch{}Object.defineProperty(r,"adapterName",{value:t})}});const wv=r=>`- ${r}`,PR=r=>G.isFunction(r)||r===null||r===!1,NE={getAdapter:r=>{r=G.isArray(r)?r:[r];const{length:t}=r;let n,s;const o={};for(let u=0;u<t;u++){n=r[u];let f;if(s=n,!PR(n)&&(s=Am[(f=String(n)).toLowerCase()],s===void 0))throw new wt(`Unknown adapter '${f}'`);if(s)break;o[f||"#"+u]=s}if(!s){const u=Object.entries(o).map(([m,g])=>`adapter ${m} `+(g===!1?"is not supported by the environment":"is not available in the build"));let f=t?u.length>1?`since :
`+u.map(wv).join(`
`):" "+wv(u[0]):"as no adapter specified";throw new wt("There is no suitable adapter to dispatch the request "+f,"ERR_NOT_SUPPORT")}return s},adapters:Am};function em(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new ao(null,r)}function Rv(r){return em(r),r.headers=ln.from(r.headers),r.data=tm.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),NE.getAdapter(r.adapter||Gl.adapter)(r).then(function(s){return em(r),s.data=tm.call(r,r.transformResponse,s),s.headers=ln.from(s.headers),s},function(s){return wE(s)||(em(r),s&&s.response&&(s.response.data=tm.call(r,r.transformResponse,s.response),s.response.headers=ln.from(s.response.headers))),Promise.reject(s)})}const ME="1.8.4",Ah={};["object","boolean","number","function","string","symbol"].forEach((r,t)=>{Ah[r]=function(s){return typeof s===r||"a"+(t<1?"n ":" ")+r}});const Iv={};Ah.transitional=function(t,n,s){function o(u,f){return"[Axios v"+ME+"] Transitional option '"+u+"'"+f+(s?". "+s:"")}return(u,f,m)=>{if(t===!1)throw new wt(o(f," has been removed"+(n?" in "+n:"")),wt.ERR_DEPRECATED);return n&&!Iv[f]&&(Iv[f]=!0,console.warn(o(f," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(u,f,m):!0}};Ah.spelling=function(t){return(n,s)=>(console.warn(`${s} is likely a misspelling of ${t}`),!0)};function UR(r,t,n){if(typeof r!="object")throw new wt("options must be an object",wt.ERR_BAD_OPTION_VALUE);const s=Object.keys(r);let o=s.length;for(;o-- >0;){const u=s[o],f=t[u];if(f){const m=r[u],g=m===void 0||f(m,u,r);if(g!==!0)throw new wt("option "+u+" must be "+g,wt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new wt("Unknown option "+u,wt.ERR_BAD_OPTION)}}const Uc={assertOptions:UR,validators:Ah},mi=Uc.validators;let Ls=class{constructor(t){this.defaults=t,this.interceptors={request:new _v,response:new _v}}async request(t,n){try{return await this._request(t,n)}catch(s){if(s instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const u=o.stack?o.stack.replace(/^.+\n/,""):"";try{s.stack?u&&!String(s.stack).endsWith(u.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+u):s.stack=u}catch{}}throw s}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=zs(this.defaults,n);const{transitional:s,paramsSerializer:o,headers:u}=n;s!==void 0&&Uc.assertOptions(s,{silentJSONParsing:mi.transitional(mi.boolean),forcedJSONParsing:mi.transitional(mi.boolean),clarifyTimeoutError:mi.transitional(mi.boolean)},!1),o!=null&&(G.isFunction(o)?n.paramsSerializer={serialize:o}:Uc.assertOptions(o,{encode:mi.function,serialize:mi.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Uc.assertOptions(n,{baseUrl:mi.spelling("baseURL"),withXsrfToken:mi.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let f=u&&G.merge(u.common,u[n.method]);u&&G.forEach(["delete","get","head","post","put","patch","common"],q=>{delete u[q]}),n.headers=ln.concat(f,u);const m=[];let g=!0;this.interceptors.request.forEach(function($){typeof $.runWhen=="function"&&$.runWhen(n)===!1||(g=g&&$.synchronous,m.unshift($.fulfilled,$.rejected))});const y=[];this.interceptors.response.forEach(function($){y.push($.fulfilled,$.rejected)});let T,S=0,M;if(!g){const q=[Rv.bind(this),void 0];for(q.unshift.apply(q,m),q.push.apply(q,y),M=q.length,T=Promise.resolve(n);S<M;)T=T.then(q[S++],q[S++]);return T}M=m.length;let j=n;for(S=0;S<M;){const q=m[S++],$=m[S++];try{j=q(j)}catch(H){$.call(this,H);break}}try{T=Rv.call(this,j)}catch(q){return Promise.reject(q)}for(S=0,M=y.length;S<M;)T=T.then(y[S++],y[S++]);return T}getUri(t){t=zs(this.defaults,t);const n=IE(t.baseURL,t.url,t.allowAbsoluteUrls);return AE(n,t.params,t.paramsSerializer)}};G.forEach(["delete","get","head","options"],function(t){Ls.prototype[t]=function(n,s){return this.request(zs(s||{},{method:t,url:n,data:(s||{}).data}))}});G.forEach(["post","put","patch"],function(t){function n(s){return function(u,f,m){return this.request(zs(m||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:u,data:f}))}}Ls.prototype[t]=n(),Ls.prototype[t+"Form"]=n(!0)});let kR=class VE{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(u){n=u});const s=this;this.promise.then(o=>{if(!s._listeners)return;let u=s._listeners.length;for(;u-- >0;)s._listeners[u](o);s._listeners=null}),this.promise.then=o=>{let u;const f=new Promise(m=>{s.subscribe(m),u=m}).then(o);return f.cancel=function(){s.unsubscribe(u)},f},t(function(u,f,m){s.reason||(s.reason=new ao(u,f,m),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=s=>{t.abort(s)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new VE(function(o){t=o}),cancel:t}}};function xR(r){return function(n){return r.apply(null,n)}}function LR(r){return G.isObject(r)&&r.isAxiosError===!0}const Sm={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Sm).forEach(([r,t])=>{Sm[t]=r});function PE(r){const t=new Ls(r),n=hE(Ls.prototype.request,t);return G.extend(n,Ls.prototype,t,{allOwnKeys:!0}),G.extend(n,t,null,{allOwnKeys:!0}),n.create=function(o){return PE(zs(r,o))},n}const ge=PE(Gl);ge.Axios=Ls;ge.CanceledError=ao;ge.CancelToken=kR;ge.isCancel=wE;ge.VERSION=ME;ge.toFormData=Th;ge.AxiosError=wt;ge.Cancel=ge.CanceledError;ge.all=function(t){return Promise.all(t)};ge.spread=xR;ge.isAxiosError=LR;ge.mergeConfig=zs;ge.AxiosHeaders=ln;ge.formToJSON=r=>bE(G.isHTMLForm(r)?new FormData(r):r);ge.getAdapter=NE.getAdapter;ge.HttpStatusCode=Sm;ge.default=ge;const{Axios:pV,AxiosError:gV,CanceledError:yV,isCancel:_V,CancelToken:vV,VERSION:TV,all:EV,Cancel:AV,isAxiosError:SV,spread:bV,toFormData:wV,AxiosHeaders:RV,HttpStatusCode:IV,formToJSON:CV,getAdapter:OV,mergeConfig:DV}=ge,zR=()=>{};var Cv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},BR=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(g>>10)),t[s++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],f=r[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},kE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,g=o+2<r.length,y=g?r[o+2]:0,T=u>>2,S=(u&3)<<4|m>>4;let M=(m&15)<<2|y>>6,j=y&63;g||(j=64,f||(M=64)),s.push(n[T],n[S],n[M],n[j])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(UE(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):BR(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const S=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||S==null)throw new qR;const M=u<<2|m>>4;if(s.push(M),y!==64){const j=m<<4&240|y>>2;if(s.push(j),S!==64){const q=y<<6&192|S;s.push(q)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class qR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jR=function(r){const t=UE(r);return kE.encodeByteArray(t,!0)},Yc=function(r){return jR(r).replace(/\./g,"")},xE=function(r){try{return kE.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR=()=>HR().__FIREBASE_DEFAULTS__,GR=()=>{if(typeof process>"u"||typeof Cv>"u")return;const r=Cv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},KR=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&xE(r[1]);return t&&JSON.parse(t)},Sh=()=>{try{return zR()||FR()||GR()||KR()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},LE=r=>{var t,n;return(n=(t=Sh())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[r]},QR=r=>{const t=LE(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},zE=()=>{var r;return(r=Sh())===null||r===void 0?void 0:r.config},BE=r=>{var t;return(t=Sh())===null||t===void 0?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $R(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Yc(JSON.stringify(n)),Yc(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function We(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function XR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(We())}function ZR(){var r;const t=(r=Sh())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function WR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function qE(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function JR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function tI(){const r=We();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function eI(){return!ZR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function jE(){try{return typeof indexedDB=="object"}catch{return!1}}function HE(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;t(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){t(n)}})}function nI(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI="FirebaseError";class Zn extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=iI,Object.setPrototypeOf(this,Zn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gs.prototype.create)}}class Gs{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?rI(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Zn(o,m,s)}}function rI(r,t){return r.replace(sI,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const sI=/\{\$([^}]+)}/g;function aI(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Hr(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=t[o];if(Ov(u)&&Ov(f)){if(!Hr(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Ov(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kl(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function oI(r,t){const n=new lI(r,t);return n.subscribe.bind(n)}class lI{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");uI(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=nm),o.error===void 0&&(o.error=nm),o.complete===void 0&&(o.complete=nm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function uI(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function nm(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI=1e3,hI=2,fI=4*60*60*1e3,dI=.5;function Dv(r,t=cI,n=hI){const s=t*Math.pow(n,r),o=Math.round(dI*s*(Math.random()-.5)*2);return Math.min(fI,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(r){return r&&r._delegate?r._delegate:r}class Yn{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new YR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(gI(t))try{this.getOrInitializeService({instanceIdentifier:Ps})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=Ps){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ps){return this.instances.has(t)}getOptions(t=Ps){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(t,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(t),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&t(f,o),()=>{u.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:pI(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Ps){return this.component?this.component.multipleInstances?t:Ps:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function pI(r){return r===Ps?void 0:r}function gI(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new mI(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Pt||(Pt={}));const _I={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},vI=Pt.INFO,TI={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},EI=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),o=TI[t];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class bh{constructor(t){this.name=t,this._logLevel=vI,this._logHandler=EI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Pt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?_I[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...t),this._logHandler(this,Pt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...t),this._logHandler(this,Pt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...t),this._logHandler(this,Pt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...t),this._logHandler(this,Pt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...t),this._logHandler(this,Pt.ERROR,...t)}}const AI=(r,t)=>t.some(n=>r instanceof n);let Nv,Mv;function SI(){return Nv||(Nv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bI(){return Mv||(Mv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const FE=new WeakMap,bm=new WeakMap,GE=new WeakMap,im=new WeakMap,tp=new WeakMap;function wI(r){const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(xr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&FE.set(n,r)}).catch(()=>{}),tp.set(t,r),t}function RI(r){if(bm.has(r))return;const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});bm.set(r,t)}let wm={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return bm.get(r);if(t==="objectStoreNames")return r.objectStoreNames||GE.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xr(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function II(r){wm=r(wm)}function CI(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(rm(this),t,...n);return GE.set(s,t.sort?t.sort():[t]),xr(s)}:bI().includes(r)?function(...t){return r.apply(rm(this),t),xr(FE.get(this))}:function(...t){return xr(r.apply(rm(this),t))}}function OI(r){return typeof r=="function"?CI(r):(r instanceof IDBTransaction&&RI(r),AI(r,SI())?new Proxy(r,wm):r)}function xr(r){if(r instanceof IDBRequest)return wI(r);if(im.has(r))return im.get(r);const t=OI(r);return t!==r&&(im.set(r,t),tp.set(t,r)),t}const rm=r=>tp.get(r);function KE(r,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,t),m=xr(f);return s&&f.addEventListener("upgradeneeded",g=>{s(xr(f.result),g.oldVersion,g.newVersion,xr(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const DI=["get","getKey","getAll","getAllKeys","count"],NI=["put","add","delete","clear"],sm=new Map;function Vv(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(sm.get(t))return sm.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=NI.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||DI.includes(n)))return;const u=async function(f,...m){const g=this.transaction(f,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&g.done]))[0]};return sm.set(t,u),u}II(r=>({...r,get:(t,n,s)=>Vv(t,n)||r.get(t,n,s),has:(t,n)=>!!Vv(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(VI(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function VI(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Rm="@firebase/app",Pv="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi=new bh("@firebase/app"),PI="@firebase/app-compat",UI="@firebase/analytics-compat",kI="@firebase/analytics",xI="@firebase/app-check-compat",LI="@firebase/app-check",zI="@firebase/auth",BI="@firebase/auth-compat",qI="@firebase/database",jI="@firebase/data-connect",HI="@firebase/database-compat",FI="@firebase/functions",GI="@firebase/functions-compat",KI="@firebase/installations",QI="@firebase/installations-compat",YI="@firebase/messaging",$I="@firebase/messaging-compat",XI="@firebase/performance",ZI="@firebase/performance-compat",WI="@firebase/remote-config",JI="@firebase/remote-config-compat",t1="@firebase/storage",e1="@firebase/storage-compat",n1="@firebase/firestore",i1="@firebase/vertexai",r1="@firebase/firestore-compat",s1="firebase",a1="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Im="[DEFAULT]",o1={[Rm]:"fire-core",[PI]:"fire-core-compat",[kI]:"fire-analytics",[UI]:"fire-analytics-compat",[LI]:"fire-app-check",[xI]:"fire-app-check-compat",[zI]:"fire-auth",[BI]:"fire-auth-compat",[qI]:"fire-rtdb",[jI]:"fire-data-connect",[HI]:"fire-rtdb-compat",[FI]:"fire-fn",[GI]:"fire-fn-compat",[KI]:"fire-iid",[QI]:"fire-iid-compat",[YI]:"fire-fcm",[$I]:"fire-fcm-compat",[XI]:"fire-perf",[ZI]:"fire-perf-compat",[WI]:"fire-rc",[JI]:"fire-rc-compat",[t1]:"fire-gcs",[e1]:"fire-gcs-compat",[n1]:"fire-fst",[r1]:"fire-fst-compat",[i1]:"fire-vertex","fire-js":"fire-js",[s1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $c=new Map,l1=new Map,Cm=new Map;function Uv(r,t){try{r.container.addComponent(t)}catch(n){Wi.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function Ti(r){const t=r.name;if(Cm.has(t))return Wi.debug(`There were multiple attempts to register component ${t}.`),!1;Cm.set(t,r);for(const n of $c.values())Uv(n,r);for(const n of l1.values())Uv(n,r);return!0}function Ks(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function Gn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Lr=new Gs("app","Firebase",u1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(t,n,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Yn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Lr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oo=a1;function QE(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s=Object.assign({name:Im,automaticDataCollectionEnabled:!1},t),o=s.name;if(typeof o!="string"||!o)throw Lr.create("bad-app-name",{appName:String(o)});if(n||(n=zE()),!n)throw Lr.create("no-options");const u=$c.get(o);if(u){if(Hr(n,u.options)&&Hr(s,u.config))return u;throw Lr.create("duplicate-app",{appName:o})}const f=new yI(o);for(const g of Cm.values())f.addComponent(g);const m=new c1(n,s,f);return $c.set(o,m),m}function ep(r=Im){const t=$c.get(r);if(!t&&r===Im&&zE())return QE();if(!t)throw Lr.create("no-app",{appName:r});return t}function kn(r,t,n){var s;let o=(s=o1[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=t.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${t}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Wi.warn(m.join(" "));return}Ti(new Yn(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1="firebase-heartbeat-database",f1=1,kl="firebase-heartbeat-store";let am=null;function YE(){return am||(am=KE(h1,f1,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(kl)}catch(n){console.warn(n)}}}}).catch(r=>{throw Lr.create("idb-open",{originalErrorMessage:r.message})})),am}async function d1(r){try{const n=(await YE()).transaction(kl),s=await n.objectStore(kl).get($E(r));return await n.done,s}catch(t){if(t instanceof Zn)Wi.warn(t.message);else{const n=Lr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Wi.warn(n.message)}}}async function kv(r,t){try{const s=(await YE()).transaction(kl,"readwrite");await s.objectStore(kl).put(t,$E(r)),await s.done}catch(n){if(n instanceof Zn)Wi.warn(n.message);else{const s=Lr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Wi.warn(s.message)}}}function $E(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1=1024,p1=30;class g1{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new _1(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=xv();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>p1){const f=v1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Wi.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=xv(),{heartbeatsToSend:s,unsentEntries:o}=y1(this._heartbeatsCache.heartbeats),u=Yc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Wi.warn(n),""}}}function xv(){return new Date().toISOString().substring(0,10)}function y1(r,t=m1){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Lv(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Lv(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class _1{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return jE()?HE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await d1(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return kv(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return kv(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function Lv(r){return Yc(JSON.stringify({version:2,heartbeats:r})).length}function v1(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T1(r){Ti(new Yn("platform-logger",t=>new MI(t),"PRIVATE")),Ti(new Yn("heartbeat",t=>new g1(t),"PRIVATE")),kn(Rm,Pv,r),kn(Rm,Pv,"esm2017"),kn("fire-js","")}T1("");var E1="firebase",A1="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */kn(E1,A1,"app");const XE="@firebase/installations",np="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE=1e4,WE=`w:${np}`,JE="FIS_v2",S1="https://firebaseinstallations.googleapis.com/v1",b1=60*60*1e3,w1="installations",R1="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Bs=new Gs(w1,R1,I1);function t0(r){return r instanceof Zn&&r.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e0({projectId:r}){return`${S1}/projects/${r}/installations`}function n0(r){return{token:r.token,requestStatus:2,expiresIn:O1(r.expiresIn),creationTime:Date.now()}}async function i0(r,t){const s=(await t.json()).error;return Bs.create("request-failed",{requestName:r,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function r0({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function C1(r,{refreshToken:t}){const n=r0(r);return n.append("Authorization",D1(t)),n}async function s0(r){const t=await r();return t.status>=500&&t.status<600?r():t}function O1(r){return Number(r.replace("s","000"))}function D1(r){return`${JE} ${r}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N1({appConfig:r,heartbeatServiceProvider:t},{fid:n}){const s=e0(r),o=r0(r),u=t.getImmediate({optional:!0});if(u){const y=await u.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const f={fid:n,authVersion:JE,appId:r.appId,sdkVersion:WE},m={method:"POST",headers:o,body:JSON.stringify(f)},g=await s0(()=>fetch(s,m));if(g.ok){const y=await g.json();return{fid:y.fid||n,registrationStatus:2,refreshToken:y.refreshToken,authToken:n0(y.authToken)}}else throw await i0("Create Installation",g)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a0(r){return new Promise(t=>{setTimeout(t,r)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M1(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1=/^[cdef][\w-]{21}$/,Om="";function P1(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const n=U1(r);return V1.test(n)?n:Om}catch{return Om}}function U1(r){return M1(r).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wh(r){return`${r.appName}!${r.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0=new Map;function l0(r,t){const n=wh(r);u0(n,t),k1(n,t)}function u0(r,t){const n=o0.get(r);if(n)for(const s of n)s(t)}function k1(r,t){const n=x1();n&&n.postMessage({key:r,fid:t}),L1()}let ks=null;function x1(){return!ks&&"BroadcastChannel"in self&&(ks=new BroadcastChannel("[Firebase] FID Change"),ks.onmessage=r=>{u0(r.data.key,r.data.fid)}),ks}function L1(){o0.size===0&&ks&&(ks.close(),ks=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1="firebase-installations-database",B1=1,qs="firebase-installations-store";let om=null;function ip(){return om||(om=KE(z1,B1,{upgrade:(r,t)=>{switch(t){case 0:r.createObjectStore(qs)}}})),om}async function Xc(r,t){const n=wh(r),o=(await ip()).transaction(qs,"readwrite"),u=o.objectStore(qs),f=await u.get(n);return await u.put(t,n),await o.done,(!f||f.fid!==t.fid)&&l0(r,t.fid),t}async function c0(r){const t=wh(r),s=(await ip()).transaction(qs,"readwrite");await s.objectStore(qs).delete(t),await s.done}async function Rh(r,t){const n=wh(r),o=(await ip()).transaction(qs,"readwrite"),u=o.objectStore(qs),f=await u.get(n),m=t(f);return m===void 0?await u.delete(n):await u.put(m,n),await o.done,m&&(!f||f.fid!==m.fid)&&l0(r,m.fid),m}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rp(r){let t;const n=await Rh(r.appConfig,s=>{const o=q1(s),u=j1(r,o);return t=u.registrationPromise,u.installationEntry});return n.fid===Om?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function q1(r){const t=r||{fid:P1(),registrationStatus:0};return h0(t)}function j1(r,t){if(t.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Bs.create("app-offline"));return{installationEntry:t,registrationPromise:o}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},s=H1(r,n);return{installationEntry:n,registrationPromise:s}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:F1(r)}:{installationEntry:t}}async function H1(r,t){try{const n=await N1(r,t);return Xc(r.appConfig,n)}catch(n){throw t0(n)&&n.customData.serverCode===409?await c0(r.appConfig):await Xc(r.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function F1(r){let t=await zv(r.appConfig);for(;t.registrationStatus===1;)await a0(100),t=await zv(r.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await rp(r);return s||n}return t}function zv(r){return Rh(r,t=>{if(!t)throw Bs.create("installation-not-found");return h0(t)})}function h0(r){return G1(r)?{fid:r.fid,registrationStatus:0}:r}function G1(r){return r.registrationStatus===1&&r.registrationTime+ZE<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K1({appConfig:r,heartbeatServiceProvider:t},n){const s=Q1(r,n),o=C1(r,n),u=t.getImmediate({optional:!0});if(u){const y=await u.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const f={installation:{sdkVersion:WE,appId:r.appId}},m={method:"POST",headers:o,body:JSON.stringify(f)},g=await s0(()=>fetch(s,m));if(g.ok){const y=await g.json();return n0(y)}else throw await i0("Generate Auth Token",g)}function Q1(r,{fid:t}){return`${e0(r)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sp(r,t=!1){let n;const s=await Rh(r.appConfig,u=>{if(!f0(u))throw Bs.create("not-registered");const f=u.authToken;if(!t&&X1(f))return u;if(f.requestStatus===1)return n=Y1(r,t),u;{if(!navigator.onLine)throw Bs.create("app-offline");const m=W1(u);return n=$1(r,m),m}});return n?await n:s.authToken}async function Y1(r,t){let n=await Bv(r.appConfig);for(;n.authToken.requestStatus===1;)await a0(100),n=await Bv(r.appConfig);const s=n.authToken;return s.requestStatus===0?sp(r,t):s}function Bv(r){return Rh(r,t=>{if(!f0(t))throw Bs.create("not-registered");const n=t.authToken;return J1(n)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function $1(r,t){try{const n=await K1(r,t),s=Object.assign(Object.assign({},t),{authToken:n});return await Xc(r.appConfig,s),n}catch(n){if(t0(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await c0(r.appConfig);else{const s=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await Xc(r.appConfig,s)}throw n}}function f0(r){return r!==void 0&&r.registrationStatus===2}function X1(r){return r.requestStatus===2&&!Z1(r)}function Z1(r){const t=Date.now();return t<r.creationTime||r.creationTime+r.expiresIn<t+b1}function W1(r){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},r),{authToken:t})}function J1(r){return r.requestStatus===1&&r.requestTime+ZE<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tC(r){const t=r,{installationEntry:n,registrationPromise:s}=await rp(t);return s?s.catch(console.error):sp(t).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eC(r,t=!1){const n=r;return await nC(n),(await sp(n,t)).token}async function nC(r){const{registrationPromise:t}=await rp(r);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iC(r){if(!r||!r.options)throw lm("App Configuration");if(!r.name)throw lm("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!r.options[n])throw lm(n);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function lm(r){return Bs.create("missing-app-config-values",{valueName:r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0="installations",rC="installations-internal",sC=r=>{const t=r.getProvider("app").getImmediate(),n=iC(t),s=Ks(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},aC=r=>{const t=r.getProvider("app").getImmediate(),n=Ks(t,d0).getImmediate();return{getId:()=>tC(n),getToken:o=>eC(n,o)}};function oC(){Ti(new Yn(d0,sC,"PUBLIC")),Ti(new Yn(rC,aC,"PRIVATE"))}oC();kn(XE,np);kn(XE,np,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zc="analytics",lC="firebase_id",uC="origin",cC=60*1e3,hC="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ap="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const un=new bh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},En=new Gs("analytics","Analytics",fC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dC(r){if(!r.startsWith(ap)){const t=En.create("invalid-gtag-resource",{gtagURL:r});return un.warn(t.message),""}return r}function m0(r){return Promise.all(r.map(t=>t.catch(n=>n)))}function mC(r,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(r,t)),n}function pC(r,t){const n=mC("firebase-js-sdk-policy",{createScriptURL:dC}),s=document.createElement("script"),o=`${ap}?l=${r}&id=${t}`;s.src=n?n==null?void 0:n.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function gC(r){let t=[];return Array.isArray(window[r])?t=window[r]:window[r]=t,t}async function yC(r,t,n,s,o,u){const f=s[o];try{if(f)await t[f];else{const g=(await m0(n)).find(y=>y.measurementId===o);g&&await t[g.appId]}}catch(m){un.error(m)}r("config",o,u)}async function _C(r,t,n,s,o){try{let u=[];if(o&&o.send_to){let f=o.send_to;Array.isArray(f)||(f=[f]);const m=await m0(n);for(const g of f){const y=m.find(S=>S.measurementId===g),T=y&&t[y.appId];if(T)u.push(T);else{u=[];break}}}u.length===0&&(u=Object.values(t)),await Promise.all(u),r("event",s,o||{})}catch(u){un.error(u)}}function vC(r,t,n,s){async function o(u,...f){try{if(u==="event"){const[m,g]=f;await _C(r,t,n,m,g)}else if(u==="config"){const[m,g]=f;await yC(r,t,n,s,m,g)}else if(u==="consent"){const[m,g]=f;r("consent",m,g)}else if(u==="get"){const[m,g,y]=f;r("get",m,g,y)}else if(u==="set"){const[m]=f;r("set",m)}else r(u,...f)}catch(m){un.error(m)}}return o}function TC(r,t,n,s,o){let u=function(...f){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=vC(u,r,t,n),{gtagCore:u,wrappedGtag:window[o]}}function EC(r){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(ap)&&n.src.includes(r))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC=30,SC=1e3;class bC{constructor(t={},n=SC){this.throttleMetadata=t,this.intervalMillis=n}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,n){this.throttleMetadata[t]=n}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const p0=new bC;function wC(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function RC(r){var t;const{appId:n,apiKey:s}=r,o={method:"GET",headers:wC(s)},u=hC.replace("{app-id}",n),f=await fetch(u,o);if(f.status!==200&&f.status!==304){let m="";try{const g=await f.json();!((t=g.error)===null||t===void 0)&&t.message&&(m=g.error.message)}catch{}throw En.create("config-fetch-failed",{httpStatus:f.status,responseMessage:m})}return f.json()}async function IC(r,t=p0,n){const{appId:s,apiKey:o,measurementId:u}=r.options;if(!s)throw En.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:s};throw En.create("no-api-key")}const f=t.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new DC;return setTimeout(async()=>{m.abort()},cC),g0({appId:s,apiKey:o,measurementId:u},f,m,t)}async function g0(r,{throttleEndTimeMillis:t,backoffCount:n},s,o=p0){var u;const{appId:f,measurementId:m}=r;try{await CC(s,t)}catch(g){if(m)return un.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${g==null?void 0:g.message}]`),{appId:f,measurementId:m};throw g}try{const g=await RC(r);return o.deleteThrottleMetadata(f),g}catch(g){const y=g;if(!OC(y)){if(o.deleteThrottleMetadata(f),m)return un.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${y==null?void 0:y.message}]`),{appId:f,measurementId:m};throw g}const T=Number((u=y==null?void 0:y.customData)===null||u===void 0?void 0:u.httpStatus)===503?Dv(n,o.intervalMillis,AC):Dv(n,o.intervalMillis),S={throttleEndTimeMillis:Date.now()+T,backoffCount:n+1};return o.setThrottleMetadata(f,S),un.debug(`Calling attemptFetch again in ${T} millis`),g0(r,S,s,o)}}function CC(r,t){return new Promise((n,s)=>{const o=Math.max(t-Date.now(),0),u=setTimeout(n,o);r.addEventListener(()=>{clearTimeout(u),s(En.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function OC(r){if(!(r instanceof Zn)||!r.customData)return!1;const t=Number(r.customData.httpStatus);return t===429||t===500||t===503||t===504}class DC{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function NC(r,t,n,s,o){if(o&&o.global){r("event",n,s);return}else{const u=await t,f=Object.assign(Object.assign({},s),{send_to:u});r("event",n,f)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MC(){if(jE())try{await HE()}catch(r){return un.warn(En.create("indexeddb-unavailable",{errorInfo:r==null?void 0:r.toString()}).message),!1}else return un.warn(En.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function VC(r,t,n,s,o,u,f){var m;const g=IC(r);g.then(j=>{n[j.measurementId]=j.appId,r.options.measurementId&&j.measurementId!==r.options.measurementId&&un.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${j.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(j=>un.error(j)),t.push(g);const y=MC().then(j=>{if(j)return s.getId()}),[T,S]=await Promise.all([g,y]);EC(u)||pC(u,T.measurementId),o("js",new Date);const M=(m=f==null?void 0:f.config)!==null&&m!==void 0?m:{};return M[uC]="firebase",M.update=!0,S!=null&&(M[lC]=S),o("config",T.measurementId,M),T.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(t){this.app=t}_delete(){return delete Ol[this.app.options.appId],Promise.resolve()}}let Ol={},qv=[];const jv={};let um="dataLayer",UC="gtag",Hv,y0,Fv=!1;function kC(){const r=[];if(qE()&&r.push("This is a browser extension environment."),nI()||r.push("Cookies are not available."),r.length>0){const t=r.map((s,o)=>`(${o+1}) ${s}`).join(" "),n=En.create("invalid-analytics-context",{errorInfo:t});un.warn(n.message)}}function xC(r,t,n){kC();const s=r.options.appId;if(!s)throw En.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)un.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw En.create("no-api-key");if(Ol[s]!=null)throw En.create("already-exists",{id:s});if(!Fv){gC(um);const{wrappedGtag:u,gtagCore:f}=TC(Ol,qv,jv,um,UC);y0=u,Hv=f,Fv=!0}return Ol[s]=VC(r,qv,jv,t,Hv,um,n),new PC(r)}function LC(r=ep()){r=cn(r);const t=Ks(r,Zc);return t.isInitialized()?t.getImmediate():zC(r)}function zC(r,t={}){const n=Ks(r,Zc);if(n.isInitialized()){const o=n.getImmediate();if(Hr(t,n.getOptions()))return o;throw En.create("already-initialized")}return n.initialize({options:t})}function BC(r,t,n,s){r=cn(r),NC(y0,Ol[r.app.options.appId],t,n,s).catch(o=>un.error(o))}const Gv="@firebase/analytics",Kv="0.10.12";function qC(){Ti(new Yn(Zc,(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("installations-internal").getImmediate();return xC(s,o,n)},"PUBLIC")),Ti(new Yn("analytics-internal",r,"PRIVATE")),kn(Gv,Kv),kn(Gv,Kv,"esm2017");function r(t){try{const n=t.getProvider(Zc).getImmediate();return{logEvent:(s,o,u)=>BC(n,s,o,u)}}catch(n){throw En.create("interop-component-reg-failed",{reason:n})}}}qC();var Qv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zr,_0;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(C,b){function w(){}w.prototype=b.prototype,C.D=b.prototype,C.prototype=new w,C.prototype.constructor=C,C.C=function(N,V,P){for(var I=Array(arguments.length-2),se=2;se<arguments.length;se++)I[se-2]=arguments[se];return b.prototype[V].apply(N,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,b,w){w||(w=0);var N=Array(16);if(typeof b=="string")for(var V=0;16>V;++V)N[V]=b.charCodeAt(w++)|b.charCodeAt(w++)<<8|b.charCodeAt(w++)<<16|b.charCodeAt(w++)<<24;else for(V=0;16>V;++V)N[V]=b[w++]|b[w++]<<8|b[w++]<<16|b[w++]<<24;b=C.g[0],w=C.g[1],V=C.g[2];var P=C.g[3],I=b+(P^w&(V^P))+N[0]+3614090360&4294967295;b=w+(I<<7&4294967295|I>>>25),I=P+(V^b&(w^V))+N[1]+3905402710&4294967295,P=b+(I<<12&4294967295|I>>>20),I=V+(w^P&(b^w))+N[2]+606105819&4294967295,V=P+(I<<17&4294967295|I>>>15),I=w+(b^V&(P^b))+N[3]+3250441966&4294967295,w=V+(I<<22&4294967295|I>>>10),I=b+(P^w&(V^P))+N[4]+4118548399&4294967295,b=w+(I<<7&4294967295|I>>>25),I=P+(V^b&(w^V))+N[5]+1200080426&4294967295,P=b+(I<<12&4294967295|I>>>20),I=V+(w^P&(b^w))+N[6]+2821735955&4294967295,V=P+(I<<17&4294967295|I>>>15),I=w+(b^V&(P^b))+N[7]+4249261313&4294967295,w=V+(I<<22&4294967295|I>>>10),I=b+(P^w&(V^P))+N[8]+1770035416&4294967295,b=w+(I<<7&4294967295|I>>>25),I=P+(V^b&(w^V))+N[9]+2336552879&4294967295,P=b+(I<<12&4294967295|I>>>20),I=V+(w^P&(b^w))+N[10]+4294925233&4294967295,V=P+(I<<17&4294967295|I>>>15),I=w+(b^V&(P^b))+N[11]+2304563134&4294967295,w=V+(I<<22&4294967295|I>>>10),I=b+(P^w&(V^P))+N[12]+1804603682&4294967295,b=w+(I<<7&4294967295|I>>>25),I=P+(V^b&(w^V))+N[13]+4254626195&4294967295,P=b+(I<<12&4294967295|I>>>20),I=V+(w^P&(b^w))+N[14]+2792965006&4294967295,V=P+(I<<17&4294967295|I>>>15),I=w+(b^V&(P^b))+N[15]+1236535329&4294967295,w=V+(I<<22&4294967295|I>>>10),I=b+(V^P&(w^V))+N[1]+4129170786&4294967295,b=w+(I<<5&4294967295|I>>>27),I=P+(w^V&(b^w))+N[6]+3225465664&4294967295,P=b+(I<<9&4294967295|I>>>23),I=V+(b^w&(P^b))+N[11]+643717713&4294967295,V=P+(I<<14&4294967295|I>>>18),I=w+(P^b&(V^P))+N[0]+3921069994&4294967295,w=V+(I<<20&4294967295|I>>>12),I=b+(V^P&(w^V))+N[5]+3593408605&4294967295,b=w+(I<<5&4294967295|I>>>27),I=P+(w^V&(b^w))+N[10]+38016083&4294967295,P=b+(I<<9&4294967295|I>>>23),I=V+(b^w&(P^b))+N[15]+3634488961&4294967295,V=P+(I<<14&4294967295|I>>>18),I=w+(P^b&(V^P))+N[4]+3889429448&4294967295,w=V+(I<<20&4294967295|I>>>12),I=b+(V^P&(w^V))+N[9]+568446438&4294967295,b=w+(I<<5&4294967295|I>>>27),I=P+(w^V&(b^w))+N[14]+3275163606&4294967295,P=b+(I<<9&4294967295|I>>>23),I=V+(b^w&(P^b))+N[3]+4107603335&4294967295,V=P+(I<<14&4294967295|I>>>18),I=w+(P^b&(V^P))+N[8]+1163531501&4294967295,w=V+(I<<20&4294967295|I>>>12),I=b+(V^P&(w^V))+N[13]+2850285829&4294967295,b=w+(I<<5&4294967295|I>>>27),I=P+(w^V&(b^w))+N[2]+4243563512&4294967295,P=b+(I<<9&4294967295|I>>>23),I=V+(b^w&(P^b))+N[7]+1735328473&4294967295,V=P+(I<<14&4294967295|I>>>18),I=w+(P^b&(V^P))+N[12]+2368359562&4294967295,w=V+(I<<20&4294967295|I>>>12),I=b+(w^V^P)+N[5]+4294588738&4294967295,b=w+(I<<4&4294967295|I>>>28),I=P+(b^w^V)+N[8]+2272392833&4294967295,P=b+(I<<11&4294967295|I>>>21),I=V+(P^b^w)+N[11]+1839030562&4294967295,V=P+(I<<16&4294967295|I>>>16),I=w+(V^P^b)+N[14]+4259657740&4294967295,w=V+(I<<23&4294967295|I>>>9),I=b+(w^V^P)+N[1]+2763975236&4294967295,b=w+(I<<4&4294967295|I>>>28),I=P+(b^w^V)+N[4]+1272893353&4294967295,P=b+(I<<11&4294967295|I>>>21),I=V+(P^b^w)+N[7]+4139469664&4294967295,V=P+(I<<16&4294967295|I>>>16),I=w+(V^P^b)+N[10]+3200236656&4294967295,w=V+(I<<23&4294967295|I>>>9),I=b+(w^V^P)+N[13]+681279174&4294967295,b=w+(I<<4&4294967295|I>>>28),I=P+(b^w^V)+N[0]+3936430074&4294967295,P=b+(I<<11&4294967295|I>>>21),I=V+(P^b^w)+N[3]+3572445317&4294967295,V=P+(I<<16&4294967295|I>>>16),I=w+(V^P^b)+N[6]+76029189&4294967295,w=V+(I<<23&4294967295|I>>>9),I=b+(w^V^P)+N[9]+3654602809&4294967295,b=w+(I<<4&4294967295|I>>>28),I=P+(b^w^V)+N[12]+3873151461&4294967295,P=b+(I<<11&4294967295|I>>>21),I=V+(P^b^w)+N[15]+530742520&4294967295,V=P+(I<<16&4294967295|I>>>16),I=w+(V^P^b)+N[2]+3299628645&4294967295,w=V+(I<<23&4294967295|I>>>9),I=b+(V^(w|~P))+N[0]+4096336452&4294967295,b=w+(I<<6&4294967295|I>>>26),I=P+(w^(b|~V))+N[7]+1126891415&4294967295,P=b+(I<<10&4294967295|I>>>22),I=V+(b^(P|~w))+N[14]+2878612391&4294967295,V=P+(I<<15&4294967295|I>>>17),I=w+(P^(V|~b))+N[5]+4237533241&4294967295,w=V+(I<<21&4294967295|I>>>11),I=b+(V^(w|~P))+N[12]+1700485571&4294967295,b=w+(I<<6&4294967295|I>>>26),I=P+(w^(b|~V))+N[3]+2399980690&4294967295,P=b+(I<<10&4294967295|I>>>22),I=V+(b^(P|~w))+N[10]+4293915773&4294967295,V=P+(I<<15&4294967295|I>>>17),I=w+(P^(V|~b))+N[1]+2240044497&4294967295,w=V+(I<<21&4294967295|I>>>11),I=b+(V^(w|~P))+N[8]+1873313359&4294967295,b=w+(I<<6&4294967295|I>>>26),I=P+(w^(b|~V))+N[15]+4264355552&4294967295,P=b+(I<<10&4294967295|I>>>22),I=V+(b^(P|~w))+N[6]+2734768916&4294967295,V=P+(I<<15&4294967295|I>>>17),I=w+(P^(V|~b))+N[13]+1309151649&4294967295,w=V+(I<<21&4294967295|I>>>11),I=b+(V^(w|~P))+N[4]+4149444226&4294967295,b=w+(I<<6&4294967295|I>>>26),I=P+(w^(b|~V))+N[11]+3174756917&4294967295,P=b+(I<<10&4294967295|I>>>22),I=V+(b^(P|~w))+N[2]+718787259&4294967295,V=P+(I<<15&4294967295|I>>>17),I=w+(P^(V|~b))+N[9]+3951481745&4294967295,C.g[0]=C.g[0]+b&4294967295,C.g[1]=C.g[1]+(V+(I<<21&4294967295|I>>>11))&4294967295,C.g[2]=C.g[2]+V&4294967295,C.g[3]=C.g[3]+P&4294967295}s.prototype.u=function(C,b){b===void 0&&(b=C.length);for(var w=b-this.blockSize,N=this.B,V=this.h,P=0;P<b;){if(V==0)for(;P<=w;)o(this,C,P),P+=this.blockSize;if(typeof C=="string"){for(;P<b;)if(N[V++]=C.charCodeAt(P++),V==this.blockSize){o(this,N),V=0;break}}else for(;P<b;)if(N[V++]=C[P++],V==this.blockSize){o(this,N),V=0;break}}this.h=V,this.o+=b},s.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var b=1;b<C.length-8;++b)C[b]=0;var w=8*this.o;for(b=C.length-8;b<C.length;++b)C[b]=w&255,w/=256;for(this.u(C),C=Array(16),b=w=0;4>b;++b)for(var N=0;32>N;N+=8)C[w++]=this.g[b]>>>N&255;return C};function u(C,b){var w=m;return Object.prototype.hasOwnProperty.call(w,C)?w[C]:w[C]=b(C)}function f(C,b){this.h=b;for(var w=[],N=!0,V=C.length-1;0<=V;V--){var P=C[V]|0;N&&P==b||(w[V]=P,N=!1)}this.g=w}var m={};function g(C){return-128<=C&&128>C?u(C,function(b){return new f([b|0],0>b?-1:0)}):new f([C|0],0>C?-1:0)}function y(C){if(isNaN(C)||!isFinite(C))return S;if(0>C)return H(y(-C));for(var b=[],w=1,N=0;C>=w;N++)b[N]=C/w|0,w*=4294967296;return new f(b,0)}function T(C,b){if(C.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(C.charAt(0)=="-")return H(T(C.substring(1),b));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=y(Math.pow(b,8)),N=S,V=0;V<C.length;V+=8){var P=Math.min(8,C.length-V),I=parseInt(C.substring(V,V+P),b);8>P?(P=y(Math.pow(b,P)),N=N.j(P).add(y(I))):(N=N.j(w),N=N.add(y(I)))}return N}var S=g(0),M=g(1),j=g(16777216);r=f.prototype,r.m=function(){if($(this))return-H(this).m();for(var C=0,b=1,w=0;w<this.g.length;w++){var N=this.i(w);C+=(0<=N?N:4294967296+N)*b,b*=4294967296}return C},r.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(q(this))return"0";if($(this))return"-"+H(this).toString(C);for(var b=y(Math.pow(C,6)),w=this,N="";;){var V=gt(w,b).g;w=et(w,V.j(b));var P=((0<w.g.length?w.g[0]:w.h)>>>0).toString(C);if(w=V,q(w))return P+N;for(;6>P.length;)P="0"+P;N=P+N}},r.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function q(C){if(C.h!=0)return!1;for(var b=0;b<C.g.length;b++)if(C.g[b]!=0)return!1;return!0}function $(C){return C.h==-1}r.l=function(C){return C=et(this,C),$(C)?-1:q(C)?0:1};function H(C){for(var b=C.g.length,w=[],N=0;N<b;N++)w[N]=~C.g[N];return new f(w,~C.h).add(M)}r.abs=function(){return $(this)?H(this):this},r.add=function(C){for(var b=Math.max(this.g.length,C.g.length),w=[],N=0,V=0;V<=b;V++){var P=N+(this.i(V)&65535)+(C.i(V)&65535),I=(P>>>16)+(this.i(V)>>>16)+(C.i(V)>>>16);N=I>>>16,P&=65535,I&=65535,w[V]=I<<16|P}return new f(w,w[w.length-1]&-2147483648?-1:0)};function et(C,b){return C.add(H(b))}r.j=function(C){if(q(this)||q(C))return S;if($(this))return $(C)?H(this).j(H(C)):H(H(this).j(C));if($(C))return H(this.j(H(C)));if(0>this.l(j)&&0>C.l(j))return y(this.m()*C.m());for(var b=this.g.length+C.g.length,w=[],N=0;N<2*b;N++)w[N]=0;for(N=0;N<this.g.length;N++)for(var V=0;V<C.g.length;V++){var P=this.i(N)>>>16,I=this.i(N)&65535,se=C.i(V)>>>16,ee=C.i(V)&65535;w[2*N+2*V]+=I*ee,it(w,2*N+2*V),w[2*N+2*V+1]+=P*ee,it(w,2*N+2*V+1),w[2*N+2*V+1]+=I*se,it(w,2*N+2*V+1),w[2*N+2*V+2]+=P*se,it(w,2*N+2*V+2)}for(N=0;N<b;N++)w[N]=w[2*N+1]<<16|w[2*N];for(N=b;N<2*b;N++)w[N]=0;return new f(w,0)};function it(C,b){for(;(C[b]&65535)!=C[b];)C[b+1]+=C[b]>>>16,C[b]&=65535,b++}function st(C,b){this.g=C,this.h=b}function gt(C,b){if(q(b))throw Error("division by zero");if(q(C))return new st(S,S);if($(C))return b=gt(H(C),b),new st(H(b.g),H(b.h));if($(b))return b=gt(C,H(b)),new st(H(b.g),b.h);if(30<C.g.length){if($(C)||$(b))throw Error("slowDivide_ only works with positive integers.");for(var w=M,N=b;0>=N.l(C);)w=tt(w),N=tt(N);var V=lt(w,1),P=lt(N,1);for(N=lt(N,2),w=lt(w,2);!q(N);){var I=P.add(N);0>=I.l(C)&&(V=V.add(w),P=I),N=lt(N,1),w=lt(w,1)}return b=et(C,V.j(b)),new st(V,b)}for(V=S;0<=C.l(b);){for(w=Math.max(1,Math.floor(C.m()/b.m())),N=Math.ceil(Math.log(w)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),P=y(w),I=P.j(b);$(I)||0<I.l(C);)w-=N,P=y(w),I=P.j(b);q(P)&&(P=M),V=V.add(P),C=et(C,I)}return new st(V,C)}r.A=function(C){return gt(this,C).h},r.and=function(C){for(var b=Math.max(this.g.length,C.g.length),w=[],N=0;N<b;N++)w[N]=this.i(N)&C.i(N);return new f(w,this.h&C.h)},r.or=function(C){for(var b=Math.max(this.g.length,C.g.length),w=[],N=0;N<b;N++)w[N]=this.i(N)|C.i(N);return new f(w,this.h|C.h)},r.xor=function(C){for(var b=Math.max(this.g.length,C.g.length),w=[],N=0;N<b;N++)w[N]=this.i(N)^C.i(N);return new f(w,this.h^C.h)};function tt(C){for(var b=C.g.length+1,w=[],N=0;N<b;N++)w[N]=C.i(N)<<1|C.i(N-1)>>>31;return new f(w,C.h)}function lt(C,b){var w=b>>5;b%=32;for(var N=C.g.length-w,V=[],P=0;P<N;P++)V[P]=0<b?C.i(P+w)>>>b|C.i(P+w+1)<<32-b:C.i(P+w);return new f(V,C.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,_0=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=T,zr=f}).apply(typeof Qv<"u"?Qv:typeof self<"u"?self:typeof window<"u"?window:{});var Rc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var v0,Rl,T0,kc,Dm,E0,A0,S0;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,p,_){return c==Array.prototype||c==Object.prototype||(c[p]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Rc=="object"&&Rc];for(var p=0;p<c.length;++p){var _=c[p];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,p){if(p)t:{var _=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var k=c[A];if(!(k in _))break t;_=_[k]}c=c[c.length-1],A=_[c],p=p(A),p!=A&&p!=null&&t(_,c,{configurable:!0,writable:!0,value:p})}}function u(c,p){c instanceof String&&(c+="");var _=0,A=!1,k={next:function(){if(!A&&_<c.length){var F=_++;return{value:p(F,c[F]),done:!1}}return A=!0,{done:!0,value:void 0}}};return k[Symbol.iterator]=function(){return k},k}o("Array.prototype.values",function(c){return c||function(){return u(this,function(p,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function g(c){var p=typeof c;return p=p!="object"?p:c?Array.isArray(c)?"array":p:"null",p=="array"||p=="object"&&typeof c.length=="number"}function y(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function T(c,p,_){return c.call.apply(c.bind,arguments)}function S(c,p,_){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var k=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(k,A),c.apply(p,k)}}return function(){return c.apply(p,arguments)}}function M(c,p,_){return M=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:S,M.apply(null,arguments)}function j(c,p){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function q(c,p){function _(){}_.prototype=p.prototype,c.aa=p.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(A,k,F){for(var rt=Array(arguments.length-2),xt=2;xt<arguments.length;xt++)rt[xt-2]=arguments[xt];return p.prototype[k].apply(A,rt)}}function $(c){const p=c.length;if(0<p){const _=Array(p);for(let A=0;A<p;A++)_[A]=c[A];return _}return[]}function H(c,p){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(g(A)){const k=c.length||0,F=A.length||0;c.length=k+F;for(let rt=0;rt<F;rt++)c[k+rt]=A[rt]}else c.push(A)}}class et{constructor(p,_){this.i=p,this.j=_,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function it(c){return/^[\s\xa0]*$/.test(c)}function st(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function gt(c){return gt[" "](c),c}gt[" "]=function(){};var tt=st().indexOf("Gecko")!=-1&&!(st().toLowerCase().indexOf("webkit")!=-1&&st().indexOf("Edge")==-1)&&!(st().indexOf("Trident")!=-1||st().indexOf("MSIE")!=-1)&&st().indexOf("Edge")==-1;function lt(c,p,_){for(const A in c)p.call(_,c[A],A,c)}function C(c,p){for(const _ in c)p.call(void 0,c[_],_,c)}function b(c){const p={};for(const _ in c)p[_]=c[_];return p}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(c,p){let _,A;for(let k=1;k<arguments.length;k++){A=arguments[k];for(_ in A)c[_]=A[_];for(let F=0;F<w.length;F++)_=w[F],Object.prototype.hasOwnProperty.call(A,_)&&(c[_]=A[_])}}function V(c){var p=1;c=c.split(":");const _=[];for(;0<p&&c.length;)_.push(c.shift()),p--;return c.length&&_.push(c.join(":")),_}function P(c){m.setTimeout(()=>{throw c},0)}function I(){var c=qt;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class se{constructor(){this.h=this.g=null}add(p,_){const A=ee.get();A.set(p,_),this.h?this.h.next=A:this.g=A,this.h=A}}var ee=new et(()=>new K,c=>c.reset());class K{constructor(){this.next=this.g=this.h=null}set(p,_){this.h=p,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let at,ft=!1,qt=new se,O=()=>{const c=m.Promise.resolve(void 0);at=()=>{c.then(W)}};var W=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(_){P(_)}var p=ee;p.j(c),100>p.h&&(p.h++,c.next=p.g,p.g=c)}ft=!1};function ot(){this.s=this.s,this.C=this.C}ot.prototype.s=!1,ot.prototype.ma=function(){this.s||(this.s=!0,this.N())},ot.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function nt(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}nt.prototype.h=function(){this.defaultPrevented=!0};var mt=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,p),m.removeEventListener("test",_,p)}catch{}return c}();function It(c,p){if(nt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget){if(tt){t:{try{gt(p.nodeName);var k=!0;break t}catch{}k=!1}k||(p=null)}}else _=="mouseover"?p=c.fromElement:_=="mouseout"&&(p=c.toElement);this.relatedTarget=p,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:_t[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&It.aa.h.call(this)}}q(It,nt);var _t={2:"touch",3:"pen",4:"mouse"};It.prototype.h=function(){It.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Dt="closure_listenable_"+(1e6*Math.random()|0),kt=0;function Fe(c,p,_,A,k){this.listener=c,this.proxy=null,this.src=p,this.type=_,this.capture=!!A,this.ha=k,this.key=++kt,this.da=this.fa=!1}function Ln(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ai(c){this.src=c,this.g={},this.h=0}Ai.prototype.add=function(c,p,_,A,k){var F=c.toString();c=this.g[F],c||(c=this.g[F]=[],this.h++);var rt=Wr(c,p,A,k);return-1<rt?(p=c[rt],_||(p.fa=!1)):(p=new Fe(p,this.src,F,!!A,k),p.fa=_,c.push(p)),p};function Zr(c,p){var _=p.type;if(_ in c.g){var A=c.g[_],k=Array.prototype.indexOf.call(A,p,void 0),F;(F=0<=k)&&Array.prototype.splice.call(A,k,1),F&&(Ln(p),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Wr(c,p,_,A){for(var k=0;k<c.length;++k){var F=c[k];if(!F.da&&F.listener==p&&F.capture==!!_&&F.ha==A)return k}return-1}var Jr="closure_lm_"+(1e6*Math.random()|0),po={};function eu(c,p,_,A,k){if(Array.isArray(p)){for(var F=0;F<p.length;F++)eu(c,p[F],_,A,k);return null}return _=nu(_),c&&c[Dt]?c.K(p,_,y(A)?!!A.capture:!1,k):An(c,p,_,!1,A,k)}function An(c,p,_,A,k,F){if(!p)throw Error("Invalid event type");var rt=y(k)?!!k.capture:!!k,xt=Ws(c);if(xt||(c[Jr]=xt=new Ai(c)),_=xt.add(p,_,A,rt,F),_.proxy)return _;if(A=Gh(),_.proxy=A,A.src=c,A.listener=_,c.addEventListener)mt||(k=rt),k===void 0&&(k=!1),c.addEventListener(p.toString(),A,k);else if(c.attachEvent)c.attachEvent(ts(p.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Gh(){function c(_){return p.call(c.src,c.listener,_)}const p=Kh;return c}function go(c,p,_,A,k){if(Array.isArray(p))for(var F=0;F<p.length;F++)go(c,p[F],_,A,k);else A=y(A)?!!A.capture:!!A,_=nu(_),c&&c[Dt]?(c=c.i,p=String(p).toString(),p in c.g&&(F=c.g[p],_=Wr(F,_,A,k),-1<_&&(Ln(F[_]),Array.prototype.splice.call(F,_,1),F.length==0&&(delete c.g[p],c.h--)))):c&&(c=Ws(c))&&(p=c.g[p.toString()],c=-1,p&&(c=Wr(p,_,A,k)),(_=-1<c?p[c]:null)&&Zs(_))}function Zs(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[Dt])Zr(p.i,c);else{var _=c.type,A=c.proxy;p.removeEventListener?p.removeEventListener(_,A,c.capture):p.detachEvent?p.detachEvent(ts(_),A):p.addListener&&p.removeListener&&p.removeListener(A),(_=Ws(p))?(Zr(_,c),_.h==0&&(_.src=null,p[Jr]=null)):Ln(c)}}}function ts(c){return c in po?po[c]:po[c]="on"+c}function Kh(c,p){if(c.da)c=!0;else{p=new It(p,this);var _=c.listener,A=c.ha||c.src;c.fa&&Zs(c),c=_.call(A,p)}return c}function Ws(c){return c=c[Jr],c instanceof Ai?c:null}var yo="__closure_events_fn_"+(1e9*Math.random()>>>0);function nu(c){return typeof c=="function"?c:(c[yo]||(c[yo]=function(p){return c.handleEvent(p)}),c[yo])}function le(){ot.call(this),this.i=new Ai(this),this.M=this,this.F=null}q(le,ot),le.prototype[Dt]=!0,le.prototype.removeEventListener=function(c,p,_,A){go(this,c,p,_,A)};function Kt(c,p){var _,A=c.F;if(A)for(_=[];A;A=A.F)_.push(A);if(c=c.M,A=p.type||p,typeof p=="string")p=new nt(p,c);else if(p instanceof nt)p.target=p.target||c;else{var k=p;p=new nt(A,c),N(p,k)}if(k=!0,_)for(var F=_.length-1;0<=F;F--){var rt=p.g=_[F];k=hn(rt,A,!0,p)&&k}if(rt=p.g=c,k=hn(rt,A,!0,p)&&k,k=hn(rt,A,!1,p)&&k,_)for(F=0;F<_.length;F++)rt=p.g=_[F],k=hn(rt,A,!1,p)&&k}le.prototype.N=function(){if(le.aa.N.call(this),this.i){var c=this.i,p;for(p in c.g){for(var _=c.g[p],A=0;A<_.length;A++)Ln(_[A]);delete c.g[p],c.h--}}this.F=null},le.prototype.K=function(c,p,_,A){return this.i.add(String(c),p,!1,_,A)},le.prototype.L=function(c,p,_,A){return this.i.add(String(c),p,!0,_,A)};function hn(c,p,_,A){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();for(var k=!0,F=0;F<p.length;++F){var rt=p[F];if(rt&&!rt.da&&rt.capture==_){var xt=rt.listener,be=rt.ha||rt.src;rt.fa&&Zr(c.i,rt),k=xt.call(be,A)!==!1&&k}}return k&&!A.defaultPrevented}function Ge(c,p,_){if(typeof c=="function")_&&(c=M(c,_));else if(c&&typeof c.handleEvent=="function")c=M(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:m.setTimeout(c,p||0)}function iu(c){c.g=Ge(()=>{c.g=null,c.i&&(c.i=!1,iu(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class Qh extends ot{constructor(p,_){super(),this.m=p,this.l=_,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:iu(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function es(c){ot.call(this),this.h=c,this.g={}}q(es,ot);var ns=[];function is(c){lt(c.g,function(p,_){this.g.hasOwnProperty(_)&&Zs(p)},c),c.g={}}es.prototype.N=function(){es.aa.N.call(this),is(this)},es.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zn=m.JSON.stringify,Js=m.JSON.parse,rs=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function _o(){}_o.prototype.h=null;function vo(c){return c.h||(c.h=c.i())}function To(){}var Si={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function bi(){nt.call(this,"d")}q(bi,nt);function Eo(){nt.call(this,"c")}q(Eo,nt);var Wn={},Ao=null;function ir(){return Ao=Ao||new le}Wn.La="serverreachability";function ta(c){nt.call(this,Wn.La,c)}q(ta,nt);function rr(c){const p=ir();Kt(p,new ta(p))}Wn.STAT_EVENT="statevent";function ru(c,p){nt.call(this,Wn.STAT_EVENT,c),this.stat=p}q(ru,nt);function ie(c){const p=ir();Kt(p,new ru(p,c))}Wn.Ma="timingevent";function Se(c,p){nt.call(this,Wn.Ma,c),this.size=p}q(Se,nt);function ye(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},p)}function Sn(){this.g=!0}Sn.prototype.xa=function(){this.g=!1};function So(c,p,_,A,k,F){c.info(function(){if(c.g)if(F)for(var rt="",xt=F.split("&"),be=0;be<xt.length;be++){var Lt=xt[be].split("=");if(1<Lt.length){var Ne=Lt[0];Lt=Lt[1];var we=Ne.split("_");rt=2<=we.length&&we[1]=="type"?rt+(Ne+"="+Lt+"&"):rt+(Ne+"=redacted&")}}else rt=null;else rt=F;return"XMLHTTP REQ ("+A+") [attempt "+k+"]: "+p+`
`+_+`
`+rt})}function Yh(c,p,_,A,k,F,rt){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+k+"]: "+p+`
`+_+`
`+F+" "+rt})}function sr(c,p,_,A){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+ss(c,_)+(A?" "+A:"")})}function su(c,p){c.info(function(){return"TIMEOUT: "+p})}Sn.prototype.info=function(){};function ss(c,p){if(!c.g)return p;if(!p)return null;try{var _=JSON.parse(p);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var A=_[c];if(!(2>A.length)){var k=A[1];if(Array.isArray(k)&&!(1>k.length)){var F=k[0];if(F!="noop"&&F!="stop"&&F!="close")for(var rt=1;rt<k.length;rt++)k[rt]=""}}}}return zn(_)}catch{return p}}var ar={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},wi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Jn;function ti(){}q(ti,_o),ti.prototype.g=function(){return new XMLHttpRequest},ti.prototype.i=function(){return{}},Jn=new ti;function Je(c,p,_,A){this.j=c,this.i=p,this.l=_,this.R=A||1,this.U=new es(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new he}function he(){this.i=null,this.g="",this.h=!1}var bo={},ea={};function Bn(c,p,_){c.L=1,c.v=cs(fn(p)),c.m=_,c.P=!0,Ri(c,null)}function Ri(c,p){c.F=Date.now(),as(c),c.A=fn(c.v);var _=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),Do(_.i,"t",A),c.C=0,_=c.j.J,c.h=new he,c.g=Eu(c.j,_?p:null,!c.m),0<c.O&&(c.M=new Qh(M(c.Y,c,c.g),c.O)),p=c.U,_=c.g,A=c.ca;var k="readystatechange";Array.isArray(k)||(k&&(ns[0]=k.toString()),k=ns);for(var F=0;F<k.length;F++){var rt=eu(_,k[F],A||p.handleEvent,!1,p.h||p);if(!rt)break;p.g[rt.key]=rt}p=c.H?b(c.H):{},c.m?(c.u||(c.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,p)):(c.u="GET",c.g.ea(c.A,c.u,null,p)),rr(),So(c.i,c.u,c.A,c.l,c.R,c.m)}Je.prototype.ca=function(c){c=c.target;const p=this.M;p&&In(c)==3?p.j():this.Y(c)},Je.prototype.Y=function(c){try{if(c==this.g)t:{const we=In(this.g);var p=this.g.Ba();const Pi=this.g.Z();if(!(3>we)&&(we!=3||this.g&&(this.h.h||this.g.oa()||du(this.g)))){this.J||we!=4||p==7||(p==8||0>=Pi?rr(3):rr(2)),or(this);var _=this.g.Z();this.X=_;e:if(au(this)){var A=du(this.g);c="";var k=A.length,F=In(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ke(this),ei(this);var rt="";break e}this.h.i=new m.TextDecoder}for(p=0;p<k;p++)this.h.h=!0,c+=this.h.i.decode(A[p],{stream:!(F&&p==k-1)});A.length=0,this.h.g+=c,this.C=0,rt=this.h.g}else rt=this.g.oa();if(this.o=_==200,Yh(this.i,this.u,this.A,this.l,this.R,we,_),this.o){if(this.T&&!this.K){e:{if(this.g){var xt,be=this.g;if((xt=be.g?be.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!it(xt)){var Lt=xt;break e}}Lt=null}if(_=Lt)sr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,os(this,_);else{this.o=!1,this.s=3,ie(12),ke(this),ei(this);break t}}if(this.P){_=!0;let xe;for(;!this.J&&this.C<rt.length;)if(xe=ou(this,rt),xe==ea){we==4&&(this.s=4,ie(14),_=!1),sr(this.i,this.l,null,"[Incomplete Response]");break}else if(xe==bo){this.s=4,ie(15),sr(this.i,this.l,rt,"[Invalid Chunk]"),_=!1;break}else sr(this.i,this.l,xe,null),os(this,xe);if(au(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),we!=4||rt.length!=0||this.h.h||(this.s=1,ie(16),_=!1),this.o=this.o&&_,!_)sr(this.i,this.l,rt,"[Invalid Chunked Response]"),ke(this),ei(this);else if(0<rt.length&&!this.W){this.W=!0;var Ne=this.j;Ne.g==this&&Ne.ba&&!Ne.M&&(Ne.j.info("Great, no buffering proxy detected. Bytes received: "+rt.length),_s(Ne),Ne.M=!0,ie(11))}}else sr(this.i,this.l,rt,null),os(this,rt);we==4&&ke(this),this.o&&!this.J&&(we==4?_u(this.j,this):(this.o=!1,as(this)))}else Jh(this.g),_==400&&0<rt.indexOf("Unknown SID")?(this.s=3,ie(12)):(this.s=0,ie(13)),ke(this),ei(this)}}}catch{}finally{}};function au(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function ou(c,p){var _=c.C,A=p.indexOf(`
`,_);return A==-1?ea:(_=Number(p.substring(_,A)),isNaN(_)?bo:(A+=1,A+_>p.length?ea:(p=p.slice(A,A+_),c.C=A+_,p)))}Je.prototype.cancel=function(){this.J=!0,ke(this)};function as(c){c.S=Date.now()+c.I,lu(c,c.I)}function lu(c,p){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ye(M(c.ba,c),p)}function or(c){c.B&&(m.clearTimeout(c.B),c.B=null)}Je.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(su(this.i,this.A),this.L!=2&&(rr(),ie(17)),ke(this),this.s=2,ei(this)):lu(this,this.S-c)};function ei(c){c.j.G==0||c.J||_u(c.j,c)}function ke(c){or(c);var p=c.M;p&&typeof p.ma=="function"&&p.ma(),c.M=null,is(c.U),c.g&&(p=c.g,c.g=null,p.abort(),p.ma())}function os(c,p){try{var _=c.j;if(_.G!=0&&(_.g==c||wo(_.h,c))){if(!c.K&&wo(_.h,c)&&_.G==3){try{var A=_.Da.g.parse(p)}catch{A=null}if(Array.isArray(A)&&A.length==3){var k=A;if(k[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)da(_),ha(_);else break t;Uo(_),ie(18)}}else _.za=k[1],0<_.za-_.T&&37500>k[2]&&_.F&&_.v==0&&!_.C&&(_.C=ye(M(_.Za,_),6e3));if(1>=ia(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Vi(_,11)}else if((c.K||_.g==c)&&da(_),!it(p))for(k=_.Da.g.parse(p),p=0;p<k.length;p++){let Lt=k[p];if(_.T=Lt[0],Lt=Lt[1],_.G==2)if(Lt[0]=="c"){_.K=Lt[1],_.ia=Lt[2];const Ne=Lt[3];Ne!=null&&(_.la=Ne,_.j.info("VER="+_.la));const we=Lt[4];we!=null&&(_.Aa=we,_.j.info("SVER="+_.Aa));const Pi=Lt[5];Pi!=null&&typeof Pi=="number"&&0<Pi&&(A=1.5*Pi,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const xe=c.g;if(xe){const li=xe.g?xe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(li){var F=A.h;F.g||li.indexOf("spdy")==-1&&li.indexOf("quic")==-1&&li.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(ra(F,F.h),F.h=null))}if(A.D){const xo=xe.g?xe.g.getResponseHeader("X-HTTP-Session-Id"):null;xo&&(A.ya=xo,$t(A.I,A.D,xo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var rt=c;if(A.qa=Tu(A,A.J?A.ia:null,A.W),rt.K){tn(A.h,rt);var xt=rt,be=A.L;be&&(xt.I=be),xt.B&&(or(xt),as(xt)),A.g=rt}else gu(A);0<_.i.length&&fa(_)}else Lt[0]!="stop"&&Lt[0]!="close"||Vi(_,7);else _.G==3&&(Lt[0]=="stop"||Lt[0]=="close"?Lt[0]=="stop"?Vi(_,7):Vo(_):Lt[0]!="noop"&&_.l&&_.l.ta(Lt),_.v=0)}}rr(4)}catch{}}var uu=class{constructor(c,p){this.g=c,this.map=p}};function Ii(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function na(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ia(c){return c.h?1:c.g?c.g.size:0}function wo(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function ra(c,p){c.g?c.g.add(p):c.h=p}function tn(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}Ii.prototype.cancel=function(){if(this.i=Ro(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Ro(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const _ of c.g.values())p=p.concat(_.D);return p}return $(c.i)}function $h(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(g(c)){for(var p=[],_=c.length,A=0;A<_;A++)p.push(c[A]);return p}p=[],_=0;for(A in c)p[_++]=c[A];return p}function sa(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(g(c)||typeof c=="string"){var p=[];c=c.length;for(var _=0;_<c;_++)p.push(_);return p}p=[],_=0;for(const A in c)p[_++]=A;return p}}}function Io(c,p){if(c.forEach&&typeof c.forEach=="function")c.forEach(p,void 0);else if(g(c)||typeof c=="string")Array.prototype.forEach.call(c,p,void 0);else for(var _=sa(c),A=$h(c),k=A.length,F=0;F<k;F++)p.call(void 0,A[F],_&&_[F],c)}var ls=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xh(c,p){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var A=c[_].indexOf("="),k=null;if(0<=A){var F=c[_].substring(0,A);k=c[_].substring(A+1)}else F=c[_];p(F,k?decodeURIComponent(k.replace(/\+/g," ")):"")}}}function _e(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof _e){this.h=c.h,us(this,c.j),this.o=c.o,this.g=c.g,lr(this,c.s),this.l=c.l;var p=c.i,_=new Oi;_.i=p.i,p.g&&(_.g=new Map(p.g),_.h=p.h),Ci(this,_),this.m=c.m}else c&&(p=String(c).match(ls))?(this.h=!1,us(this,p[1]||"",!0),this.o=bn(p[2]||""),this.g=bn(p[3]||"",!0),lr(this,p[4]),this.l=bn(p[5]||"",!0),Ci(this,p[6]||"",!0),this.m=bn(p[7]||"")):(this.h=!1,this.i=new Oi(null,this.h))}_e.prototype.toString=function(){var c=[],p=this.j;p&&c.push(hs(p,Co,!0),":");var _=this.g;return(_||p=="file")&&(c.push("//"),(p=this.o)&&c.push(hs(p,Co,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(hs(_,_.charAt(0)=="/"?Zh:Oo,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",hs(_,aa)),c.join("")};function fn(c){return new _e(c)}function us(c,p,_){c.j=_?bn(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function lr(c,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);c.s=p}else c.s=null}function Ci(c,p,_){p instanceof Oi?(c.i=p,hu(c.i,c.h)):(_||(p=hs(p,Wh)),c.i=new Oi(p,c.h))}function $t(c,p,_){c.i.set(p,_)}function cs(c){return $t(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function bn(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function hs(c,p,_){return typeof c=="string"?(c=encodeURI(c).replace(p,cu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function cu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Co=/[#\/\?@]/g,Oo=/[#\?:]/g,Zh=/[#\?]/g,Wh=/[#\?@]/g,aa=/#/g;function Oi(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function wn(c){c.g||(c.g=new Map,c.h=0,c.i&&Xh(c.i,function(p,_){c.add(decodeURIComponent(p.replace(/\+/g," ")),_)}))}r=Oi.prototype,r.add=function(c,p){wn(this),this.i=null,c=ni(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(p),this.h+=1,this};function Di(c,p){wn(c),p=ni(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function Ni(c,p){return wn(c),p=ni(c,p),c.g.has(p)}r.forEach=function(c,p){wn(this),this.g.forEach(function(_,A){_.forEach(function(k){c.call(p,k,A,this)},this)},this)},r.na=function(){wn(this);const c=Array.from(this.g.values()),p=Array.from(this.g.keys()),_=[];for(let A=0;A<p.length;A++){const k=c[A];for(let F=0;F<k.length;F++)_.push(p[A])}return _},r.V=function(c){wn(this);let p=[];if(typeof c=="string")Ni(this,c)&&(p=p.concat(this.g.get(ni(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)p=p.concat(c[_])}return p},r.set=function(c,p){return wn(this),this.i=null,c=ni(this,c),Ni(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},r.get=function(c,p){return c?(c=this.V(c),0<c.length?String(c[0]):p):p};function Do(c,p,_){Di(c,p),0<_.length&&(c.i=null,c.g.set(ni(c,p),$(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(var _=0;_<p.length;_++){var A=p[_];const F=encodeURIComponent(String(A)),rt=this.V(A);for(A=0;A<rt.length;A++){var k=F;rt[A]!==""&&(k+="="+encodeURIComponent(String(rt[A]))),c.push(k)}}return this.i=c.join("&")};function ni(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function hu(c,p){p&&!c.j&&(wn(c),c.i=null,c.g.forEach(function(_,A){var k=A.toLowerCase();A!=k&&(Di(this,A),Do(this,k,_))},c)),c.j=p}function fs(c,p){const _=new Sn;if(m.Image){const A=new Image;A.onload=j(Rn,_,"TestLoadImage: loaded",!0,p,A),A.onerror=j(Rn,_,"TestLoadImage: error",!1,p,A),A.onabort=j(Rn,_,"TestLoadImage: abort",!1,p,A),A.ontimeout=j(Rn,_,"TestLoadImage: timeout",!1,p,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else p(!1)}function qn(c,p){const _=new Sn,A=new AbortController,k=setTimeout(()=>{A.abort(),Rn(_,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:A.signal}).then(F=>{clearTimeout(k),F.ok?Rn(_,"TestPingServer: ok",!0,p):Rn(_,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(k),Rn(_,"TestPingServer: error",!1,p)})}function Rn(c,p,_,A,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),A(_)}catch{}}function ds(){this.g=new rs}function ii(c,p,_){const A=_||"";try{Io(c,function(k,F){let rt=k;y(k)&&(rt=zn(k)),p.push(A+F+"="+encodeURIComponent(rt))})}catch(k){throw p.push(A+"type="+encodeURIComponent("_badmap")),k}}function ur(c){this.l=c.Ub||null,this.j=c.eb||!1}q(ur,_o),ur.prototype.g=function(){return new Mi(this.l,this.j)},ur.prototype.i=function(c){return function(){return c}}({});function Mi(c,p){le.call(this),this.D=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}q(Mi,le),r=Mi.prototype,r.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=p,this.readyState=1,si(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(p.body=c),(this.D||m).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ri(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,si(this)),this.g&&(this.readyState=3,si(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;No(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function No(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?ri(this):si(this),this.readyState==3&&No(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,ri(this))},r.Qa=function(c){this.g&&(this.response=c,ri(this))},r.ga=function(){this.g&&ri(this)};function ri(c){c.readyState=4,c.l=null,c.j=null,c.v=null,si(c)}r.setRequestHeader=function(c,p){this.u.append(c,p)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var _=p.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=p.next();return c.join(`\r
`)};function si(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Mi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Mo(c){let p="";return lt(c,function(_,A){p+=A,p+=":",p+=_,p+=`\r
`}),p}function De(c,p,_){t:{for(A in _){var A=!1;break t}A=!0}A||(_=Mo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):$t(c,p,_))}function Ft(c){le.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}q(Ft,le);var oa=/^https?$/i,ms=["POST","PUT"];r=Ft.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,p,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Jn.g(),this.v=this.o?vo(this.o):vo(Jn),this.g.onreadystatechange=M(this.Ea,this);try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(F){fu(this,F);return}if(c=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var k in A)_.set(k,A[k]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const F of A.keys())_.set(F,A.get(F));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(F=>F.toLowerCase()=="content-type"),k=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(ms,p,void 0))||A||k||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,rt]of _)this.g.setRequestHeader(F,rt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ps(this),this.u=!0,this.g.send(c),this.u=!1}catch(F){fu(this,F)}};function fu(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.m=5,la(c),ai(c)}function la(c){c.A||(c.A=!0,Kt(c,"complete"),Kt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Kt(this,"complete"),Kt(this,"abort"),ai(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ai(this,!0)),Ft.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?ua(this):this.bb())},r.bb=function(){ua(this)};function ua(c){if(c.h&&typeof f<"u"&&(!c.v[1]||In(c)!=4||c.Z()!=2)){if(c.u&&In(c)==4)Ge(c.Ea,0,c);else if(Kt(c,"readystatechange"),In(c)==4){c.h=!1;try{const rt=c.Z();t:switch(rt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break t;default:p=!1}var _;if(!(_=p)){var A;if(A=rt===0){var k=String(c.D).match(ls)[1]||null;!k&&m.self&&m.self.location&&(k=m.self.location.protocol.slice(0,-1)),A=!oa.test(k?k.toLowerCase():"")}_=A}if(_)Kt(c,"complete"),Kt(c,"success");else{c.m=6;try{var F=2<In(c)?c.g.statusText:""}catch{F=""}c.l=F+" ["+c.Z()+"]",la(c)}}finally{ai(c)}}}}function ai(c,p){if(c.g){ps(c);const _=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,p||Kt(c,"ready");try{_.onreadystatechange=A}catch{}}}function ps(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function In(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<In(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),Js(p)}};function du(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Jh(c){const p={};c=(c.g&&2<=In(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(it(c[A]))continue;var _=V(c[A]);const k=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const F=p[k]||[];p[k]=F,F.push(_)}C(p,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function gs(c,p,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||p}function ca(c){this.Aa=0,this.i=[],this.j=new Sn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=gs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=gs("baseRetryDelayMs",5e3,c),this.cb=gs("retryDelaySeedMs",1e4,c),this.Wa=gs("forwardChannelMaxRetries",2,c),this.wa=gs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Ii(c&&c.concurrentRequestLimit),this.Da=new ds,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=ca.prototype,r.la=8,r.G=1,r.connect=function(c,p,_,A){ie(0),this.W=c,this.H=p||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=Tu(this,null,this.W),fa(this)};function Vo(c){if(mu(c),c.G==3){var p=c.U++,_=fn(c.I);if($t(_,"SID",c.K),$t(_,"RID",p),$t(_,"TYPE","terminate"),ys(c,_),p=new Je(c,c.j,p),p.L=2,p.v=cs(fn(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(p.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=p.v,_=!0),_||(p.g=Eu(p.j,null),p.g.ea(p.v)),p.F=Date.now(),as(p)}vu(c)}function ha(c){c.g&&(_s(c),c.g.cancel(),c.g=null)}function mu(c){ha(c),c.u&&(m.clearTimeout(c.u),c.u=null),da(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function fa(c){if(!na(c.h)&&!c.s){c.s=!0;var p=c.Ga;at||O(),ft||(at(),ft=!0),qt.add(p,c),c.B=0}}function tf(c,p){return ia(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=p.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ye(M(c.Ga,c,p),ko(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const k=new Je(this,this.j,c);let F=this.o;if(this.S&&(F?(F=b(F),N(F,this.S)):F=this.S),this.m!==null||this.O||(k.H=F,F=null),this.P)t:{for(var p=0,_=0;_<this.i.length;_++){e:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(p+=A,4096<p){p=_;break t}if(p===4096||_===this.i.length-1){p=_+1;break t}}p=1e3}else p=1e3;p=pu(this,k,p),_=fn(this.I),$t(_,"RID",c),$t(_,"CVER",22),this.D&&$t(_,"X-HTTP-Session-Id",this.D),ys(this,_),F&&(this.O?p="headers="+encodeURIComponent(String(Mo(F)))+"&"+p:this.m&&De(_,this.m,F)),ra(this.h,k),this.Ua&&$t(_,"TYPE","init"),this.P?($t(_,"$req",p),$t(_,"SID","null"),k.T=!0,Bn(k,_,null)):Bn(k,_,p),this.G=2}}else this.G==3&&(c?Po(this,c):this.i.length==0||na(this.h)||Po(this))};function Po(c,p){var _;p?_=p.l:_=c.U++;const A=fn(c.I);$t(A,"SID",c.K),$t(A,"RID",_),$t(A,"AID",c.T),ys(c,A),c.m&&c.o&&De(A,c.m,c.o),_=new Je(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),p&&(c.i=p.D.concat(c.i)),p=pu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ra(c.h,_),Bn(_,A,p)}function ys(c,p){c.H&&lt(c.H,function(_,A){$t(p,A,_)}),c.l&&Io({},function(_,A){$t(p,A,_)})}function pu(c,p,_){_=Math.min(c.i.length,_);var A=c.l?M(c.l.Na,c.l,c):null;t:{var k=c.i;let F=-1;for(;;){const rt=["count="+_];F==-1?0<_?(F=k[0].g,rt.push("ofs="+F)):F=0:rt.push("ofs="+F);let xt=!0;for(let be=0;be<_;be++){let Lt=k[be].g;const Ne=k[be].map;if(Lt-=F,0>Lt)F=Math.max(0,k[be].g-100),xt=!1;else try{ii(Ne,rt,"req"+Lt+"_")}catch{A&&A(Ne)}}if(xt){A=rt.join("&");break t}}}return c=c.i.splice(0,_),p.D=c,A}function gu(c){if(!c.g&&!c.u){c.Y=1;var p=c.Fa;at||O(),ft||(at(),ft=!0),qt.add(p,c),c.v=0}}function Uo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ye(M(c.Fa,c),ko(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,yu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ye(M(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ie(10),ha(this),yu(this))};function _s(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function yu(c){c.g=new Je(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var p=fn(c.qa);$t(p,"RID","rpc"),$t(p,"SID",c.K),$t(p,"AID",c.T),$t(p,"CI",c.F?"0":"1"),!c.F&&c.ja&&$t(p,"TO",c.ja),$t(p,"TYPE","xmlhttp"),ys(c,p),c.m&&c.o&&De(p,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=cs(fn(p)),_.m=null,_.P=!0,Ri(_,c)}r.Za=function(){this.C!=null&&(this.C=null,ha(this),Uo(this),ie(19))};function da(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function _u(c,p){var _=null;if(c.g==p){da(c),_s(c),c.g=null;var A=2}else if(wo(c.h,p))_=p.D,tn(c.h,p),A=1;else return;if(c.G!=0){if(p.o)if(A==1){_=p.m?p.m.length:0,p=Date.now()-p.F;var k=c.B;A=ir(),Kt(A,new Se(A,_)),fa(c)}else gu(c);else if(k=p.s,k==3||k==0&&0<p.X||!(A==1&&tf(c,p)||A==2&&Uo(c)))switch(_&&0<_.length&&(p=c.h,p.i=p.i.concat(_)),k){case 1:Vi(c,5);break;case 4:Vi(c,10);break;case 3:Vi(c,6);break;default:Vi(c,2)}}}function ko(c,p){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*p}function Vi(c,p){if(c.j.info("Error code "+p),p==2){var _=M(c.fb,c),A=c.Xa;const k=!A;A=new _e(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||us(A,"https"),cs(A),k?fs(A.toString(),_):qn(A.toString(),_)}else ie(2);c.G=0,c.l&&c.l.sa(p),vu(c),mu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ie(2)):(this.j.info("Failed to ping google.com"),ie(1))};function vu(c){if(c.G=0,c.ka=[],c.l){const p=Ro(c.h);(p.length!=0||c.i.length!=0)&&(H(c.ka,p),H(c.ka,c.i),c.h.i.length=0,$(c.i),c.i.length=0),c.l.ra()}}function Tu(c,p,_){var A=_ instanceof _e?fn(_):new _e(_);if(A.g!="")p&&(A.g=p+"."+A.g),lr(A,A.s);else{var k=m.location;A=k.protocol,p=p?p+"."+k.hostname:k.hostname,k=+k.port;var F=new _e(null);A&&us(F,A),p&&(F.g=p),k&&lr(F,k),_&&(F.l=_),A=F}return _=c.D,p=c.ya,_&&p&&$t(A,_,p),$t(A,"VER",c.la),ys(c,A),A}function Eu(c,p,_){if(p&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Ca&&!c.pa?new Ft(new ur({eb:_})):new Ft(c.pa),p.Ha(c.J),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Au(){}r=Au.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ma(){}ma.prototype.g=function(c,p){return new en(c,p)};function en(c,p){le.call(this),this.g=new ca(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(c?c["X-WebChannel-Client-Profile"]=p.va:c={"X-WebChannel-Client-Profile":p.va}),this.g.S=c,(c=p&&p.Sb)&&!it(c)&&(this.g.m=c),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!it(p)&&(this.g.D=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new oi(this)}q(en,le),en.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){Vo(this.g)},en.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=zn(c),c=_);p.i.push(new uu(p.Ya++,c)),p.G==3&&fa(p)},en.prototype.N=function(){this.g.l=null,delete this.j,Vo(this.g),delete this.g,en.aa.N.call(this)};function Su(c){bi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){t:{for(const _ in p){c=_;break t}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}q(Su,bi);function bu(){Eo.call(this),this.status=1}q(bu,Eo);function oi(c){this.g=c}q(oi,Au),oi.prototype.ua=function(){Kt(this.g,"a")},oi.prototype.ta=function(c){Kt(this.g,new Su(c))},oi.prototype.sa=function(c){Kt(this.g,new bu)},oi.prototype.ra=function(){Kt(this.g,"b")},ma.prototype.createWebChannel=ma.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,S0=function(){return new ma},A0=function(){return ir()},E0=Wn,Dm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ar.NO_ERROR=0,ar.TIMEOUT=8,ar.HTTP_ERROR=6,kc=ar,wi.COMPLETE="complete",T0=wi,To.EventType=Si,Si.OPEN="a",Si.CLOSE="b",Si.ERROR="c",Si.MESSAGE="d",le.prototype.listen=le.prototype.K,Rl=To,Ft.prototype.listenOnce=Ft.prototype.L,Ft.prototype.getLastError=Ft.prototype.Ka,Ft.prototype.getLastErrorCode=Ft.prototype.Ba,Ft.prototype.getStatus=Ft.prototype.Z,Ft.prototype.getResponseJson=Ft.prototype.Oa,Ft.prototype.getResponseText=Ft.prototype.oa,Ft.prototype.send=Ft.prototype.ea,Ft.prototype.setWithCredentials=Ft.prototype.Ha,v0=Ft}).apply(typeof Rc<"u"?Rc:typeof self<"u"?self:typeof window<"u"?window:{});const Yv="@firebase/firestore",$v="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}$e.UNAUTHENTICATED=new $e(null),$e.GOOGLE_CREDENTIALS=new $e("google-credentials-uid"),$e.FIRST_PARTY=new $e("first-party-uid"),$e.MOCK_USER=new $e("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lo="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const js=new bh("@firebase/firestore");function Ha(){return js.logLevel}function ut(r,...t){if(js.logLevel<=Pt.DEBUG){const n=t.map(op);js.debug(`Firestore (${lo}): ${r}`,...n)}}function Ji(r,...t){if(js.logLevel<=Pt.ERROR){const n=t.map(op);js.error(`Firestore (${lo}): ${r}`,...n)}}function Wa(r,...t){if(js.logLevel<=Pt.WARN){const n=t.map(op);js.warn(`Firestore (${lo}): ${r}`,...n)}}function op(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(r="Unexpected state"){const t=`FIRESTORE (${lo}) INTERNAL ASSERTION FAILED: `+r;throw Ji(t),new Error(t)}function Gt(r,t){r||Et()}function bt(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ht extends Zn{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class jC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n($e.UNAUTHENTICATED))}shutdown(){}}class HC{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class FC{constructor(t){this.t=t,this.currentUser=$e.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Gt(this.o===void 0);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new Br;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Br,t.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const g=u;t.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},m=g=>{ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(g=>m(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Br)}},0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==t?(ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Gt(typeof s.accessToken=="string"),new b0(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Gt(t===null||typeof t=="string"),new $e(t)}}class GC{constructor(t,n,s){this.l=t,this.h=n,this.P=s,this.type="FirstParty",this.user=$e.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class KC{constructor(t,n,s){this.l=t,this.h=n,this.P=s}getToken(){return Promise.resolve(new GC(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n($e.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Xv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class QC{constructor(t,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Gn(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,n){Gt(this.o===void 0);const s=u=>{u.error!=null&&ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.R;return this.R=u.token,ut("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>s(u))};const o=u=>{ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Xv(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Gt(typeof n.token=="string"),this.R=n.token,new Xv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YC(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w0(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=YC(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function Ot(r,t){return r<t?-1:r>t?1:0}function Nm(r,t){let n=0;for(;n<r.length&&n<t.length;){const s=r.codePointAt(n),o=t.codePointAt(n);if(s!==o){if(s<128&&o<128)return Ot(s,o);{const u=w0(),f=$C(u.encode(Zv(r,n)),u.encode(Zv(t,n)));return f!==0?f:Ot(s,o)}}n+=s>65535?2:1}return Ot(r.length,t.length)}function Zv(r,t){return r.codePointAt(t)>65535?r.substring(t,t+2):r.substring(t,t+1)}function $C(r,t){for(let n=0;n<r.length&&n<t.length;++n)if(r[n]!==t[n])return Ot(r[n],t[n]);return Ot(r.length,t.length)}function Ja(r,t,n){return r.length===t.length&&r.every((s,o)=>n(s,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv=-62135596800,Jv=1e6;class Ce{static now(){return Ce.fromMillis(Date.now())}static fromDate(t){return Ce.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*Jv);return new Ce(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ht(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ht(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Wv)throw new ht(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ht(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Jv}_compareTo(t){return this.seconds===t.seconds?Ot(this.nanoseconds,t.nanoseconds):Ot(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-Wv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{static fromTimestamp(t){return new St(t)}static min(){return new St(new Ce(0,0))}static max(){return new St(new Ce(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT="__name__";class pi{constructor(t,n,s){n===void 0?n=0:n>t.length&&Et(),s===void 0?s=t.length-n:s>t.length-n&&Et(),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return pi.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof pi?t.forEach(s=>{n.push(s)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=pi.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return Ot(t.length,n.length)}static compareSegments(t,n){const s=pi.isNumericId(t),o=pi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?pi.extractNumericId(t).compare(pi.extractNumericId(n)):Nm(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return zr.fromString(t.substring(4,t.length-2))}}class ne extends pi{construct(t,n,s){return new ne(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new ht(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new ne(n)}static emptyPath(){return new ne([])}}const XC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class je extends pi{construct(t,n,s){return new je(t,n,s)}static isValidIdentifier(t){return XC.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),je.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===tT}static keyField(){return new je([tT])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ht(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new ht(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ht(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=g,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ht(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new je(n)}static emptyPath(){return new je([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(t){this.path=t}static fromPath(t){return new pt(ne.fromString(t))}static fromName(t){return new pt(ne.fromString(t).popFirst(5))}static empty(){return new pt(ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ne.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ne.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new pt(new ne(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xl=-1;function ZC(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=St.fromTimestamp(s===1e9?new Ce(n+1,0):new Ce(n,s));return new Fr(o,pt.empty(),t)}function WC(r){return new Fr(r.readTime,r.key,xl)}class Fr{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Fr(St.min(),pt.empty(),xl)}static max(){return new Fr(St.max(),pt.empty(),xl)}}function JC(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=pt.comparator(r.documentKey,t.documentKey),n!==0?n:Ot(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uo(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==tO)throw r;ut("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Et(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new Z((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof Z?n:Z.resolve(n)}catch(n){return Z.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):Z.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):Z.reject(n)}static resolve(t){return new Z((n,s)=>{n(t)})}static reject(t){return new Z((n,s)=>{s(t)})}static waitFor(t){return new Z((n,s)=>{let o=0,u=0,f=!1;t.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},g=>s(g))}),f=!0,u===o&&n()})}static or(t){let n=Z.resolve(!1);for(const s of t)n=n.next(o=>o?Z.resolve(o):s());return n}static forEach(t,n){const s=[];return t.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(t,n){return new Z((s,o)=>{const u=t.length,f=new Array(u);let m=0;for(let g=0;g<u;g++){const y=g;n(t[y]).next(T=>{f[y]=T,++m,m===u&&s(f)},T=>o(T))}})}static doWhile(t,n){return new Z((s,o)=>{const u=()=>{t()===!0?n().next(()=>{u()},o):s()};u()})}}function nO(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function co(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.oe(s),this._e=s=>n.writeSequenceNumber(s))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}Ih.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lp=-1;function Ch(r){return r==null}function Wc(r){return r===0&&1/r==-1/0}function iO(r){return typeof r=="number"&&Number.isInteger(r)&&!Wc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0="";function rO(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=eT(t)),t=sO(r.get(n),t);return eT(t)}function sO(r,t){let n=t;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case I0:n+="";break;default:n+=u}}return n}function eT(r){return r+I0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nT(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function Qs(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function C0(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(t,n){this.comparator=t,this.root=n||qe.EMPTY}insert(t,n){return new oe(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,qe.BLACK,null,null))}remove(t){return new oe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,qe.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,s)=>(t(n,s),!1))}toString(){const t=[];return this.inorderTraversal((n,s)=>(t.push(`${n}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ic(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ic(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ic(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ic(this.root,t,this.comparator,!0)}}class Ic{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class qe{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??qe.RED,this.left=o??qe.EMPTY,this.right=u??qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new qe(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return qe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return qe.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Et();const t=this.left.check();if(t!==this.right.check())throw Et();return t+(this.isRed()?0:1)}}qe.EMPTY=null,qe.RED=!0,qe.BLACK=!1;qe.EMPTY=new class{constructor(){this.size=0}get key(){throw Et()}get value(){throw Et()}get color(){throw Et()}get left(){throw Et()}get right(){throw Et()}copy(t,n,s,o,u){return this}insert(t,n,s){return new qe(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(t){this.comparator=t,this.data=new oe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,s)=>(t(n),!1))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new iT(this.data.getIterator())}getIteratorFrom(t){return new iT(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(s=>{n=n.add(s)}),n}isEqual(t){if(!(t instanceof Oe)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Oe(this.comparator);return n.data=t,n}}class iT{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(t){this.fields=t,t.sort(je.comparator)}static empty(){return new Kn([])}unionWith(t){let n=new Oe(je.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new Kn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Ja(this.fields,t.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new O0("Invalid base64 string: "+u):u}}(t);return new He(n)}static fromUint8Array(t){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(t);return new He(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ot(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}He.EMPTY_BYTE_STRING=new He("");const aO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gr(r){if(Gt(!!r),typeof r=="string"){let t=0;const n=aO.exec(r);if(Gt(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:pe(r.seconds),nanos:pe(r.nanos)}}function pe(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Kr(r){return typeof r=="string"?He.fromBase64String(r):He.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0="server_timestamp",N0="__type__",M0="__previous_value__",V0="__local_write_time__";function up(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[N0])===null||n===void 0?void 0:n.stringValue)===D0}function Oh(r){const t=r.mapValue.fields[M0];return up(t)?Oh(t):t}function Ll(r){const t=Gr(r.mapValue.fields[V0].timestampValue);return new Ce(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(t,n,s,o,u,f,m,g,y){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=y}}const Jc="(default)";class zl{constructor(t,n){this.projectId=t,this.database=n||Jc}static empty(){return new zl("","")}get isDefaultDatabase(){return this.database===Jc}isEqual(t){return t instanceof zl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0="__type__",lO="__max__",Cc={mapValue:{}},U0="__vector__",th="value";function Qr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?up(r)?4:cO(r)?9007199254740991:uO(r)?10:11:Et()}function Ei(r,t){if(r===t)return!0;const n=Qr(r);if(n!==Qr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Ll(r).isEqual(Ll(t));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Gr(o.timestampValue),m=Gr(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(o,u){return Kr(o.bytesValue).isEqual(Kr(u.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(o,u){return pe(o.geoPointValue.latitude)===pe(u.geoPointValue.latitude)&&pe(o.geoPointValue.longitude)===pe(u.geoPointValue.longitude)}(r,t);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return pe(o.integerValue)===pe(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=pe(o.doubleValue),m=pe(u.doubleValue);return f===m?Wc(f)===Wc(m):isNaN(f)&&isNaN(m)}return!1}(r,t);case 9:return Ja(r.arrayValue.values||[],t.arrayValue.values||[],Ei);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(nT(f)!==nT(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!Ei(f[g],m[g])))return!1;return!0}(r,t);default:return Et()}}function Bl(r,t){return(r.values||[]).find(n=>Ei(n,t))!==void 0}function to(r,t){if(r===t)return 0;const n=Qr(r),s=Qr(t);if(n!==s)return Ot(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ot(r.booleanValue,t.booleanValue);case 2:return function(u,f){const m=pe(u.integerValue||u.doubleValue),g=pe(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1}(r,t);case 3:return rT(r.timestampValue,t.timestampValue);case 4:return rT(Ll(r),Ll(t));case 5:return Nm(r.stringValue,t.stringValue);case 6:return function(u,f){const m=Kr(u),g=Kr(f);return m.compareTo(g)}(r.bytesValue,t.bytesValue);case 7:return function(u,f){const m=u.split("/"),g=f.split("/");for(let y=0;y<m.length&&y<g.length;y++){const T=Ot(m[y],g[y]);if(T!==0)return T}return Ot(m.length,g.length)}(r.referenceValue,t.referenceValue);case 8:return function(u,f){const m=Ot(pe(u.latitude),pe(f.latitude));return m!==0?m:Ot(pe(u.longitude),pe(f.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return sT(r.arrayValue,t.arrayValue);case 10:return function(u,f){var m,g,y,T;const S=u.fields||{},M=f.fields||{},j=(m=S[th])===null||m===void 0?void 0:m.arrayValue,q=(g=M[th])===null||g===void 0?void 0:g.arrayValue,$=Ot(((y=j==null?void 0:j.values)===null||y===void 0?void 0:y.length)||0,((T=q==null?void 0:q.values)===null||T===void 0?void 0:T.length)||0);return $!==0?$:sT(j,q)}(r.mapValue,t.mapValue);case 11:return function(u,f){if(u===Cc.mapValue&&f===Cc.mapValue)return 0;if(u===Cc.mapValue)return 1;if(f===Cc.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),y=f.fields||{},T=Object.keys(y);g.sort(),T.sort();for(let S=0;S<g.length&&S<T.length;++S){const M=Nm(g[S],T[S]);if(M!==0)return M;const j=to(m[g[S]],y[T[S]]);if(j!==0)return j}return Ot(g.length,T.length)}(r.mapValue,t.mapValue);default:throw Et()}}function rT(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Ot(r,t);const n=Gr(r),s=Gr(t),o=Ot(n.seconds,s.seconds);return o!==0?o:Ot(n.nanos,s.nanos)}function sT(r,t){const n=r.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=to(n[o],s[o]);if(u)return u}return Ot(n.length,s.length)}function eo(r){return Mm(r)}function Mm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=Gr(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return Kr(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return pt.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Mm(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Mm(n.fields[f])}`;return o+"}"}(r.mapValue):Et()}function xc(r){switch(Qr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Oh(r);return t?16+xc(t):16;case 5:return 2*r.stringValue.length;case 6:return Kr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+xc(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return Qs(s.fields,(u,f)=>{o+=u.length+xc(f)}),o}(r.mapValue);default:throw Et()}}function aT(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function Vm(r){return!!r&&"integerValue"in r}function cp(r){return!!r&&"arrayValue"in r}function oT(r){return!!r&&"nullValue"in r}function lT(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Lc(r){return!!r&&"mapValue"in r}function uO(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[P0])===null||n===void 0?void 0:n.stringValue)===U0}function Dl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return Qs(r.mapValue.fields,(n,s)=>t.mapValue.fields[n]=Dl(s)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Dl(r.arrayValue.values[n]);return t}return Object.assign({},r)}function cO(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===lO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(t){this.value=t}static empty(){return new Un({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!Lc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Dl(n)}setAll(t){let n=je.emptyPath(),s={},o=[];t.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Dl(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());Lc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Ei(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];Lc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){Qs(n,(o,u)=>t[o]=u);for(const o of s)delete t[o]}clone(){return new Un(Dl(this.value))}}function k0(r){const t=[];return Qs(r.fields,(n,s)=>{const o=new je([n]);if(Lc(s)){const u=k0(s.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)}),new Kn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(t,n,s,o,u,f,m){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(t){return new Xe(t,0,St.min(),St.min(),St.min(),Un.empty(),0)}static newFoundDocument(t,n,s,o){return new Xe(t,1,n,St.min(),s,o,0)}static newNoDocument(t,n){return new Xe(t,2,n,St.min(),St.min(),Un.empty(),0)}static newUnknownDocument(t,n){return new Xe(t,3,n,St.min(),St.min(),Un.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Un.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Xe&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(t,n){this.position=t,this.inclusive=n}}function uT(r,t,n){let s=0;for(let o=0;o<r.position.length;o++){const u=t[o],f=r.position[o];if(u.field.isKeyField()?s=pt.comparator(pt.fromName(f.referenceValue),n.key):s=to(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function cT(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Ei(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(t,n="asc"){this.field=t,this.dir=n}}function hO(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{}class Ae extends x0{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new dO(t,n,s):n==="array-contains"?new gO(t,s):n==="in"?new yO(t,s):n==="not-in"?new _O(t,s):n==="array-contains-any"?new vO(t,s):new Ae(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new mO(t,s):new pO(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(to(n,this.value)):n!==null&&Qr(this.value)===Qr(n)&&this.matchesComparison(to(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Et()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $n extends x0{constructor(t,n){super(),this.filters=t,this.op=n,this.ce=null}static create(t,n){return new $n(t,n)}matches(t){return L0(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function L0(r){return r.op==="and"}function z0(r){return fO(r)&&L0(r)}function fO(r){for(const t of r.filters)if(t instanceof $n)return!1;return!0}function Pm(r){if(r instanceof Ae)return r.field.canonicalString()+r.op.toString()+eo(r.value);if(z0(r))return r.filters.map(t=>Pm(t)).join(",");{const t=r.filters.map(n=>Pm(n)).join(",");return`${r.op}(${t})`}}function B0(r,t){return r instanceof Ae?function(s,o){return o instanceof Ae&&s.op===o.op&&s.field.isEqual(o.field)&&Ei(s.value,o.value)}(r,t):r instanceof $n?function(s,o){return o instanceof $n&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&B0(f,o.filters[m]),!0):!1}(r,t):void Et()}function q0(r){return r instanceof Ae?function(n){return`${n.field.canonicalString()} ${n.op} ${eo(n.value)}`}(r):r instanceof $n?function(n){return n.op.toString()+" {"+n.getFilters().map(q0).join(" ,")+"}"}(r):"Filter"}class dO extends Ae{constructor(t,n,s){super(t,n,s),this.key=pt.fromName(s.referenceValue)}matches(t){const n=pt.comparator(t.key,this.key);return this.matchesComparison(n)}}class mO extends Ae{constructor(t,n){super(t,"in",n),this.keys=j0("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class pO extends Ae{constructor(t,n){super(t,"not-in",n),this.keys=j0("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function j0(r,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>pt.fromName(s.referenceValue))}class gO extends Ae{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return cp(n)&&Bl(n.arrayValue,this.value)}}class yO extends Ae{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Bl(this.value.arrayValue,n)}}class _O extends Ae{constructor(t,n){super(t,"not-in",n)}matches(t){if(Bl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!Bl(this.value.arrayValue,n)}}class vO extends Ae{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!cp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Bl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(t,n=null,s=[],o=[],u=null,f=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.le=null}}function hT(r,t=null,n=[],s=[],o=null,u=null,f=null){return new TO(r,t,n,s,o,u,f)}function hp(r){const t=bt(r);if(t.le===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(s=>Pm(s)).join(","),n+="|ob:",n+=t.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Ch(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>eo(s)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>eo(s)).join(",")),t.le=n}return t.le}function fp(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!hO(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!B0(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!cT(r.startAt,t.startAt)&&cT(r.endAt,t.endAt)}function Um(r){return pt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(t,n=null,s=[],o=[],u=null,f="F",m=null,g=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=g,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function EO(r,t,n,s,o,u,f,m){return new Ql(r,t,n,s,o,u,f,m)}function H0(r){return new Ql(r)}function fT(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function F0(r){return r.collectionGroup!==null}function Nl(r){const t=bt(r);if(t.he===null){t.he=[];const n=new Set;for(const u of t.explicitOrderBy)t.he.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Oe(je.comparator);return f.filters.forEach(g=>{g.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(t).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||t.he.push(new nh(u,s))}),n.has(je.keyField().canonicalString())||t.he.push(new nh(je.keyField(),s))}return t.he}function gi(r){const t=bt(r);return t.Pe||(t.Pe=AO(t,Nl(r))),t.Pe}function AO(r,t){if(r.limitType==="F")return hT(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new nh(o.field,u)});const n=r.endAt?new eh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new eh(r.startAt.position,r.startAt.inclusive):null;return hT(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function km(r,t){const n=r.filters.concat([t]);return new Ql(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function xm(r,t,n){return new Ql(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function Dh(r,t){return fp(gi(r),gi(t))&&r.limitType===t.limitType}function G0(r){return`${hp(gi(r))}|lt:${r.limitType}`}function Fa(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>q0(o)).join(", ")}]`),Ch(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>eo(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>eo(o)).join(",")),`Target(${s})`}(gi(r))}; limitType=${r.limitType})`}function Nh(r,t){return t.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):pt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,t)&&function(s,o){for(const u of Nl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,t)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,t)&&function(s,o){return!(s.startAt&&!function(f,m,g){const y=uT(f,m,g);return f.inclusive?y<=0:y<0}(s.startAt,Nl(s),o)||s.endAt&&!function(f,m,g){const y=uT(f,m,g);return f.inclusive?y>=0:y>0}(s.endAt,Nl(s),o))}(r,t)}function SO(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function K0(r){return(t,n)=>{let s=!1;for(const o of Nl(r)){const u=bO(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function bO(r,t,n){const s=r.field.isKeyField()?pt.comparator(t.key,n.key):function(u,f,m){const g=f.data.field(u),y=m.data.field(u);return g!==null&&y!==null?to(g,y):Et()}(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Et()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Qs(this.inner,(n,s)=>{for(const[o,u]of s)t(o,u)})}isEmpty(){return C0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wO=new oe(pt.comparator);function tr(){return wO}const Q0=new oe(pt.comparator);function Il(...r){let t=Q0;for(const n of r)t=t.insert(n.key,n);return t}function Y0(r){let t=Q0;return r.forEach((n,s)=>t=t.insert(n,s.overlayedDocument)),t}function xs(){return Ml()}function $0(){return Ml()}function Ml(){return new Ys(r=>r.toString(),(r,t)=>r.isEqual(t))}const RO=new oe(pt.comparator),IO=new Oe(pt.comparator);function Ut(...r){let t=IO;for(const n of r)t=t.add(n);return t}const CO=new Oe(Ot);function OO(){return CO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dp(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wc(t)?"-0":t}}function X0(r){return{integerValue:""+r}}function DO(r,t){return iO(t)?X0(t):dp(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(){this._=void 0}}function NO(r,t,n){return r instanceof ih?function(o,u){const f={fields:{[N0]:{stringValue:D0},[V0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&up(u)&&(u=Oh(u)),u&&(f.fields[M0]=u),{mapValue:f}}(n,t):r instanceof ql?W0(r,t):r instanceof jl?J0(r,t):function(o,u){const f=Z0(o,u),m=dT(f)+dT(o.Ie);return Vm(f)&&Vm(o.Ie)?X0(m):dp(o.serializer,m)}(r,t)}function MO(r,t,n){return r instanceof ql?W0(r,t):r instanceof jl?J0(r,t):n}function Z0(r,t){return r instanceof rh?function(s){return Vm(s)||function(u){return!!u&&"doubleValue"in u}(s)}(t)?t:{integerValue:0}:null}class ih extends Mh{}class ql extends Mh{constructor(t){super(),this.elements=t}}function W0(r,t){const n=tA(t);for(const s of r.elements)n.some(o=>Ei(o,s))||n.push(s);return{arrayValue:{values:n}}}class jl extends Mh{constructor(t){super(),this.elements=t}}function J0(r,t){let n=tA(t);for(const s of r.elements)n=n.filter(o=>!Ei(o,s));return{arrayValue:{values:n}}}class rh extends Mh{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function dT(r){return pe(r.integerValue||r.doubleValue)}function tA(r){return cp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function VO(r,t){return r.field.isEqual(t.field)&&function(s,o){return s instanceof ql&&o instanceof ql||s instanceof jl&&o instanceof jl?Ja(s.elements,o.elements,Ei):s instanceof rh&&o instanceof rh?Ei(s.Ie,o.Ie):s instanceof ih&&o instanceof ih}(r.transform,t.transform)}class PO{constructor(t,n){this.version=t,this.transformResults=n}}class Zi{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Zi}static exists(t){return new Zi(void 0,t)}static updateTime(t){return new Zi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function zc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Vh{}function eA(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new iA(r.key,Zi.none()):new Yl(r.key,r.data,Zi.none());{const n=r.data,s=Un.empty();let o=new Oe(je.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new $s(r.key,s,new Kn(o.toArray()),Zi.none())}}function UO(r,t,n){r instanceof Yl?function(o,u,f){const m=o.value.clone(),g=pT(o.fieldTransforms,u,f.transformResults);m.setAll(g),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,t,n):r instanceof $s?function(o,u,f){if(!zc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=pT(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(nA(o)),g.setAll(m),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()}(r,t,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,t,n)}function Vl(r,t,n,s){return r instanceof Yl?function(u,f,m,g){if(!zc(u.precondition,f))return m;const y=u.value.clone(),T=gT(u.fieldTransforms,g,f);return y.setAll(T),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null}(r,t,n,s):r instanceof $s?function(u,f,m,g){if(!zc(u.precondition,f))return m;const y=gT(u.fieldTransforms,g,f),T=f.data;return T.setAll(nA(u)),T.setAll(y),f.convertToFoundDocument(f.version,T).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(S=>S.field))}(r,t,n,s):function(u,f,m){return zc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,t,n)}function kO(r,t){let n=null;for(const s of r.fieldTransforms){const o=t.data.field(s.field),u=Z0(s.transform,o||null);u!=null&&(n===null&&(n=Un.empty()),n.set(s.field,u))}return n||null}function mT(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Ja(s,o,(u,f)=>VO(u,f))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Yl extends Vh{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class $s extends Vh{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function nA(r){const t=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}}),t}function pT(r,t,n){const s=new Map;Gt(r.length===n.length);for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=t.data.field(u.field);s.set(u.field,MO(f,m,n[o]))}return s}function gT(r,t,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,NO(u,f,t))}return s}class iA extends Vh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xO extends Vh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&UO(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Vl(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Vl(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=$0();return this.mutations.forEach(o=>{const u=t.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const g=eA(f,m);g!==null&&s.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(St.min())}),s}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Ut())}isEqual(t){return this.batchId===t.batchId&&Ja(this.mutations,t.mutations,(n,s)=>mT(n,s))&&Ja(this.baseMutations,t.baseMutations,(n,s)=>mT(n,s))}}class mp{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){Gt(t.mutations.length===s.length);let o=function(){return RO}();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new mp(t,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ee,Bt;function qO(r){switch(r){case J.OK:return Et();case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Et()}}function rA(r){if(r===void 0)return Ji("GRPC error has no .code"),J.UNKNOWN;switch(r){case Ee.OK:return J.OK;case Ee.CANCELLED:return J.CANCELLED;case Ee.UNKNOWN:return J.UNKNOWN;case Ee.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Ee.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Ee.INTERNAL:return J.INTERNAL;case Ee.UNAVAILABLE:return J.UNAVAILABLE;case Ee.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Ee.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Ee.NOT_FOUND:return J.NOT_FOUND;case Ee.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Ee.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Ee.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Ee.ABORTED:return J.ABORTED;case Ee.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Ee.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Ee.DATA_LOSS:return J.DATA_LOSS;default:return Et()}}(Bt=Ee||(Ee={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO=new zr([4294967295,4294967295],0);function yT(r){const t=w0().encode(r),n=new _0;return n.update(t),new Uint8Array(n.digest())}function _T(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new zr([n,s],0),new zr([o,u],0)]}class pp{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Cl(`Invalid padding: ${n}`);if(s<0)throw new Cl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Cl(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new Cl(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*t.length-n,this.de=zr.fromNumber(this.Ee)}Ae(t,n,s){let o=t.add(n.multiply(zr.fromNumber(s)));return o.compare(jO)===1&&(o=new zr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const n=yT(t),[s,o]=_T(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);if(!this.Re(f))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new pp(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(t){if(this.Ee===0)return;const n=yT(t),[s,o]=_T(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);this.Ve(f)}}Ve(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class Cl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,$l.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new Ph(St.min(),o,new oe(Ot),tr(),Ut())}}class $l{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new $l(s,n,Ut(),Ut(),Ut())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(t,n,s,o){this.me=t,this.removedTargetIds=n,this.key=s,this.fe=o}}class sA{constructor(t,n){this.targetId=t,this.ge=n}}class aA{constructor(t,n,s=He.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class vT{constructor(){this.pe=0,this.ye=TT(),this.we=He.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(t){t.approximateByteSize()>0&&(this.be=!0,this.we=t)}Fe(){let t=Ut(),n=Ut(),s=Ut();return this.ye.forEach((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Et()}}),new $l(this.we,this.Se,t,n,s)}Me(){this.be=!1,this.ye=TT()}xe(t,n){this.be=!0,this.ye=this.ye.insert(t,n)}Oe(t){this.be=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,Gt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class HO{constructor(t){this.ke=t,this.qe=new Map,this.Qe=tr(),this.$e=Oc(),this.Ue=Oc(),this.Ke=new oe(Ot)}We(t){for(const n of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(n,t.fe):this.ze(n,t.key,t.fe);for(const n of t.removedTargetIds)this.ze(n,t.key,t.fe)}je(t){this.forEachTarget(t,n=>{const s=this.He(n);switch(t.state){case 0:this.Je(n)&&s.Ce(t.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(t.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(n);break;case 3:this.Je(n)&&(s.Le(),s.Ce(t.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),s.Ce(t.resumeToken));break;default:Et()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.qe.forEach((s,o)=>{this.Je(o)&&n(o)})}Ze(t){const n=t.targetId,s=t.ge.count,o=this.Xe(n);if(o){const u=o.target;if(Um(u))if(s===0){const f=new pt(u.path);this.ze(n,f,Xe.newNoDocument(f,St.min()))}else Gt(s===1);else{const f=this.et(n);if(f!==s){const m=this.tt(t),g=m?this.nt(m,t,f):1;if(g!==0){this.Ye(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,y)}}}}}tt(t){const n=t.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Kr(s).toUint8Array()}catch(g){if(g instanceof O0)return Wa("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new pp(f,o,u)}catch(g){return Wa(g instanceof Cl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.Ee===0?null:m}nt(t,n,s){return n.ge.count===s-this.st(t,n.targetId)?0:2}st(t,n){const s=this.ke.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.ke.it(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.ze(n,u,null),o++)}),o}ot(t){const n=new Map;this.qe.forEach((u,f)=>{const m=this.Xe(f);if(m){if(u.current&&Um(m.target)){const g=new pt(m.target.path);this._t(g).has(f)||this.ut(f,g)||this.ze(f,g,Xe.newNoDocument(g,t))}u.ve&&(n.set(f,u.Fe()),u.Me())}});let s=Ut();this.Ue.forEach((u,f)=>{let m=!0;f.forEachWhile(g=>{const y=this.Xe(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.Qe.forEach((u,f)=>f.setReadTime(t));const o=new Ph(t,n,this.Ke,this.Qe,s);return this.Qe=tr(),this.$e=Oc(),this.Ue=Oc(),this.Ke=new oe(Ot),o}Ge(t,n){if(!this.Je(t))return;const s=this.ut(t,n.key)?2:0;this.He(t).xe(n.key,s),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(t)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(t))}ze(t,n,s){if(!this.Je(t))return;const o=this.He(t);this.ut(t,n)?o.xe(n,1):o.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(t)),this.Ue=this.Ue.insert(n,this.ct(n).add(t)),s&&(this.Qe=this.Qe.insert(n,s))}removeTarget(t){this.qe.delete(t)}et(t){const n=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let n=this.qe.get(t);return n||(n=new vT,this.qe.set(t,n)),n}ct(t){let n=this.Ue.get(t);return n||(n=new Oe(Ot),this.Ue=this.Ue.insert(t,n)),n}_t(t){let n=this.$e.get(t);return n||(n=new Oe(Ot),this.$e=this.$e.insert(t,n)),n}Je(t){const n=this.Xe(t)!==null;return n||ut("WatchChangeAggregator","Detected inactive target",t),n}Xe(t){const n=this.qe.get(t);return n&&n.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new vT),this.ke.getRemoteKeysForTarget(t).forEach(n=>{this.ze(t,n,null)})}ut(t,n){return this.ke.getRemoteKeysForTarget(t).has(n)}}function Oc(){return new oe(pt.comparator)}function TT(){return new oe(pt.comparator)}const FO={asc:"ASCENDING",desc:"DESCENDING"},GO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},KO={and:"AND",or:"OR"};class QO{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Lm(r,t){return r.useProto3Json||Ch(t)?t:{value:t}}function sh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function oA(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function YO(r,t){return sh(r,t.toTimestamp())}function yi(r){return Gt(!!r),St.fromTimestamp(function(n){const s=Gr(n);return new Ce(s.seconds,s.nanos)}(r))}function gp(r,t){return zm(r,t).canonicalString()}function zm(r,t){const n=function(o){return new ne(["projects",o.projectId,"databases",o.database])}(r).child("documents");return t===void 0?n:n.child(t)}function lA(r){const t=ne.fromString(r);return Gt(dA(t)),t}function Bm(r,t){return gp(r.databaseId,t.path)}function cm(r,t){const n=lA(t);if(n.get(1)!==r.databaseId.projectId)throw new ht(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ht(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new pt(cA(n))}function uA(r,t){return gp(r.databaseId,t)}function $O(r){const t=lA(r);return t.length===4?ne.emptyPath():cA(t)}function qm(r){return new ne(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function cA(r){return Gt(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function ET(r,t,n){return{name:Bm(r,t),fields:n.value.mapValue.fields}}function XO(r,t){let n;if("targetChange"in t){t.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Et()}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=function(y,T){return y.useProto3Json?(Gt(T===void 0||typeof T=="string"),He.fromBase64String(T||"")):(Gt(T===void 0||T instanceof Buffer||T instanceof Uint8Array),He.fromUint8Array(T||new Uint8Array))}(r,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&function(y){const T=y.code===void 0?J.UNKNOWN:rA(y.code);return new ht(T,y.message||"")}(f);n=new aA(s,o,u,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=cm(r,s.document.name),u=yi(s.document.updateTime),f=s.document.createTime?yi(s.document.createTime):St.min(),m=new Un({mapValue:{fields:s.document.fields}}),g=Xe.newFoundDocument(o,u,f,m),y=s.targetIds||[],T=s.removedTargetIds||[];n=new Bc(y,T,g.key,g)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=cm(r,s.document),u=s.readTime?yi(s.readTime):St.min(),f=Xe.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Bc([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=cm(r,s.document),u=s.removedTargetIds||[];n=new Bc([],u,o,null)}else{if(!("filter"in t))return Et();{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new BO(o,u),m=s.targetId;n=new sA(m,f)}}return n}function ZO(r,t){let n;if(t instanceof Yl)n={update:ET(r,t.key,t.value)};else if(t instanceof iA)n={delete:Bm(r,t.key)};else if(t instanceof $s)n={update:ET(r,t.key,t.data),updateMask:aD(t.fieldMask)};else{if(!(t instanceof xO))return Et();n={verify:Bm(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof ih)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof ql)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof jl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof rh)return{fieldPath:f.field.canonicalString(),increment:m.Ie};throw Et()}(0,s))),t.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:YO(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Et()}(r,t.precondition)),n}function WO(r,t){return r&&r.length>0?(Gt(t!==void 0),r.map(n=>function(o,u){let f=o.updateTime?yi(o.updateTime):yi(u);return f.isEqual(St.min())&&(f=yi(u)),new PO(f,o.transformResults||[])}(n,t))):[]}function JO(r,t){return{documents:[uA(r,t.path)]}}function tD(r,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=uA(r,o);const u=function(y){if(y.length!==0)return fA($n.create(y,"and"))}(t.filters);u&&(n.structuredQuery.where=u);const f=function(y){if(y.length!==0)return y.map(T=>function(M){return{field:Ga(M.field),direction:iD(M.dir)}}(T))}(t.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Lm(r,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(t.endAt)),{ht:n,parent:o}}function eD(r){let t=$O(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Gt(s===1);const T=n.from[0];T.allDescendants?o=T.collectionId:t=t.child(T.collectionId)}let u=[];n.where&&(u=function(S){const M=hA(S);return M instanceof $n&&z0(M)?M.getFilters():[M]}(n.where));let f=[];n.orderBy&&(f=function(S){return S.map(M=>function(q){return new nh(Ka(q.field),function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(q.direction))}(M))}(n.orderBy));let m=null;n.limit&&(m=function(S){let M;return M=typeof S=="object"?S.value:S,Ch(M)?null:M}(n.limit));let g=null;n.startAt&&(g=function(S){const M=!!S.before,j=S.values||[];return new eh(j,M)}(n.startAt));let y=null;return n.endAt&&(y=function(S){const M=!S.before,j=S.values||[];return new eh(j,M)}(n.endAt)),EO(t,o,f,u,m,"F",g,y)}function nD(r,t){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function hA(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ka(n.unaryFilter.field);return Ae.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ka(n.unaryFilter.field);return Ae.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ka(n.unaryFilter.field);return Ae.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ka(n.unaryFilter.field);return Ae.create(f,"!=",{nullValue:"NULL_VALUE"});default:return Et()}}(r):r.fieldFilter!==void 0?function(n){return Ae.create(Ka(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Et()}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return $n.create(n.compositeFilter.filters.map(s=>hA(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Et()}}(n.compositeFilter.op))}(r):Et()}function iD(r){return FO[r]}function rD(r){return GO[r]}function sD(r){return KO[r]}function Ga(r){return{fieldPath:r.canonicalString()}}function Ka(r){return je.fromServerFormat(r.fieldPath)}function fA(r){return r instanceof Ae?function(n){if(n.op==="=="){if(lT(n.value))return{unaryFilter:{field:Ga(n.field),op:"IS_NAN"}};if(oT(n.value))return{unaryFilter:{field:Ga(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(lT(n.value))return{unaryFilter:{field:Ga(n.field),op:"IS_NOT_NAN"}};if(oT(n.value))return{unaryFilter:{field:Ga(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ga(n.field),op:rD(n.op),value:n.value}}}(r):r instanceof $n?function(n){const s=n.getFilters().map(o=>fA(o));return s.length===1?s[0]:{compositeFilter:{op:sD(n.op),filters:s}}}(r):Et()}function aD(r){const t=[];return r.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function dA(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(t,n,s,o,u=St.min(),f=St.min(),m=He.EMPTY_BYTE_STRING,g=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(t){return new kr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new kr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(t){this.Tt=t}}function lD(r){const t=eD({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?xm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(){this.Tn=new cD}addToCollectionParentIndex(t,n){return this.Tn.add(n),Z.resolve()}getCollectionParents(t,n){return Z.resolve(this.Tn.getEntries(n))}addFieldIndex(t,n){return Z.resolve()}deleteFieldIndex(t,n){return Z.resolve()}deleteAllFieldIndexes(t){return Z.resolve()}createTargetIndexes(t,n){return Z.resolve()}getDocumentsMatchingTarget(t,n){return Z.resolve(null)}getIndexType(t,n){return Z.resolve(0)}getFieldIndexes(t,n){return Z.resolve([])}getNextCollectionGroupToUpdate(t){return Z.resolve(null)}getMinOffset(t,n){return Z.resolve(Fr.min())}getMinOffsetFromCollectionGroup(t,n){return Z.resolve(Fr.min())}updateCollectionGroup(t,n,s){return Z.resolve()}updateIndexEntries(t,n){return Z.resolve()}}class cD{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new Oe(ne.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new Oe(ne.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},mA=41943040;class on{static withCacheSize(t){return new on(t,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */on.DEFAULT_COLLECTION_PERCENTILE=10,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,on.DEFAULT=new on(mA,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),on.DISABLED=new on(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Un(){return new no(0)}static Kn(){return new no(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST="LruGarbageCollector",hD=1048576;function bT([r,t],[n,s]){const o=Ot(r,n);return o===0?Ot(t,s):o}class fD{constructor(t){this.Hn=t,this.buffer=new Oe(bT),this.Jn=0}Yn(){return++this.Jn}Zn(t){const n=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();bT(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class dD{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){ut(ST,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){co(n)?ut(ST,"Ignoring IndexedDB error during garbage collection: ",n):await uo(n)}await this.er(3e5)})}}class mD{constructor(t,n){this.tr=t,this.params=n}calculateTargetCount(t,n){return this.tr.nr(t).next(s=>Math.floor(n/100*s))}nthSequenceNumber(t,n){if(n===0)return Z.resolve(Ih.ae);const s=new fD(n);return this.tr.forEachTarget(t,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(t,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(t,n,s){return this.tr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.tr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ut("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(AT)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(ut("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),AT):this.ir(t,n))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,n){let s,o,u,f,m,g,y;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(ut("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,f=Date.now(),this.nthSequenceNumber(t,o))).next(S=>(s=S,m=Date.now(),this.removeTargets(t,s,n))).next(S=>(u=S,g=Date.now(),this.removeOrphanedDocuments(t,s))).next(S=>(y=Date.now(),Ha()<=Pt.DEBUG&&ut("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-T}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${S} documents in `+(y-g)+`ms
Total Duration: ${y-T}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S})))}}function pD(r,t){return new mD(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(){this.changes=new Ys(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Xe.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?Z.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(t,n))).next(o=>(s!==null&&Vl(s.mutation,o,Kn.empty(),Ce.now()),o))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.getLocalViewOfDocuments(t,s,Ut()).next(()=>s))}getLocalViewOfDocuments(t,n,s=Ut()){const o=xs();return this.populateOverlays(t,o,n).next(()=>this.computeViews(t,n,o,s).next(u=>{let f=Il();return u.forEach((m,g)=>{f=f.insert(m,g.overlayedDocument)}),f}))}getOverlayedDocuments(t,n){const s=xs();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,Ut()))}populateOverlays(t,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(t,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(t,n,s,o){let u=tr();const f=Ml(),m=function(){return Ml()}();return n.forEach((g,y)=>{const T=s.get(y.key);o.has(y.key)&&(T===void 0||T.mutation instanceof $s)?u=u.insert(y.key,y):T!==void 0?(f.set(y.key,T.mutation.getFieldMask()),Vl(T.mutation,y,T.mutation.getFieldMask(),Ce.now())):f.set(y.key,Kn.empty())}),this.recalculateAndSaveOverlays(t,u).next(g=>(g.forEach((y,T)=>f.set(y,T)),n.forEach((y,T)=>{var S;return m.set(y,new yD(T,(S=f.get(y))!==null&&S!==void 0?S:null))}),m))}recalculateAndSaveOverlays(t,n){const s=Ml();let o=new oe((f,m)=>f-m),u=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(f=>{for(const m of f)m.keys().forEach(g=>{const y=n.get(g);if(y===null)return;let T=s.get(g)||Kn.empty();T=m.applyToLocalView(y,T),s.set(g,T);const S=(o.get(m.batchId)||Ut()).add(g);o=o.insert(m.batchId,S)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),y=g.key,T=g.value,S=$0();T.forEach(M=>{if(!u.has(M)){const j=eA(n.get(M),s.get(M));j!==null&&S.set(M,j),u=u.add(M)}}),f.push(this.documentOverlayCache.saveOverlays(t,y,S))}return Z.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,n,s,o){return function(f){return pt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):F0(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):Z.resolve(xs());let m=xl,g=u;return f.next(y=>Z.forEach(y,(T,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),u.get(T)?Z.resolve():this.remoteDocumentCache.getEntry(t,T).next(M=>{g=g.insert(T,M)}))).next(()=>this.populateOverlays(t,y,u)).next(()=>this.computeViews(t,g,y,Ut())).next(T=>({batchId:m,changes:Y0(T)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new pt(n)).next(s=>{let o=Il();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let f=Il();return this.indexManager.getCollectionParents(t,u).next(m=>Z.forEach(m,g=>{const y=function(S,M){return new Ql(M,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(t,y,s,o).next(T=>{T.forEach((S,M)=>{f=f.insert(S,M)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o))).next(f=>{u.forEach((g,y)=>{const T=y.getKey();f.get(T)===null&&(f=f.insert(T,Xe.newInvalidDocument(T)))});let m=Il();return f.forEach((g,y)=>{const T=u.get(g);T!==void 0&&Vl(T.mutation,y,Kn.empty(),Ce.now()),Nh(n,y)&&(m=m.insert(g,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,n){return Z.resolve(this.dr.get(n))}saveBundleMetadata(t,n){return this.dr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:yi(o.createTime)}}(n)),Z.resolve()}getNamedQuery(t,n){return Z.resolve(this.Ar.get(n))}saveNamedQuery(t,n){return this.Ar.set(n.name,function(o){return{name:o.name,query:lD(o.bundledQuery),readTime:yi(o.readTime)}}(n)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(){this.overlays=new oe(pt.comparator),this.Rr=new Map}getOverlay(t,n){return Z.resolve(this.overlays.get(n))}getOverlays(t,n){const s=xs();return Z.forEach(n,o=>this.getOverlay(t,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(t,n,s){return s.forEach((o,u)=>{this.Et(t,n,u)}),Z.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),Z.resolve()}getOverlaysForCollection(t,n,s){const o=xs(),u=n.length+1,f=new pt(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return Z.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new oe((y,T)=>y-T);const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let T=u.get(y.largestBatchId);T===null&&(T=xs(),u=u.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const m=xs(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((y,T)=>m.set(y,T)),!(m.size()>=o)););return Z.resolve(m)}Et(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new zO(n,s));let u=this.Rr.get(n);u===void 0&&(u=Ut(),this.Rr.set(n,u)),this.Rr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(){this.sessionToken=He.EMPTY_BYTE_STRING}getSessionToken(t){return Z.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(){this.Vr=new Oe(Ue.mr),this.gr=new Oe(Ue.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,n){const s=new Ue(t,n);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(t,n){t.forEach(s=>this.addReference(s,n))}removeReference(t,n){this.wr(new Ue(t,n))}Sr(t,n){t.forEach(s=>this.removeReference(s,n))}br(t){const n=new pt(new ne([])),s=new Ue(n,t),o=new Ue(n,t+1),u=[];return this.gr.forEachInRange([s,o],f=>{this.wr(f),u.push(f.key)}),u}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const n=new pt(new ne([])),s=new Ue(n,t),o=new Ue(n,t+1);let u=Ut();return this.gr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(t){const n=new Ue(t,0),s=this.Vr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Ue{constructor(t,n){this.key=t,this.Cr=n}static mr(t,n){return pt.comparator(t.key,n.key)||Ot(t.Cr,n.Cr)}static pr(t,n){return Ot(t.Cr,n.Cr)||pt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Oe(Ue.mr)}checkEmpty(t){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new LO(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Mr=this.Mr.add(new Ue(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return Z.resolve(f)}lookupMutationBatch(t,n){return Z.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.Nr(s),u=o<0?0:o;return Z.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?lp:this.Fr-1)}getAllMutationBatches(t){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Ue(n,0),o=new Ue(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,o],f=>{const m=this.Or(f.Cr);u.push(m)}),Z.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Oe(Ot);return n.forEach(o=>{const u=new Ue(o,0),f=new Ue(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,f],m=>{s=s.add(m.Cr)})}),Z.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;pt.isDocumentKey(u)||(u=u.child(""));const f=new Ue(new pt(u),0);let m=new Oe(Ot);return this.Mr.forEachWhile(g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(g.Cr)),!0)},f),Z.resolve(this.Br(m))}Br(t){const n=[];return t.forEach(s=>{const o=this.Or(s);o!==null&&n.push(o)}),n}removeMutationBatch(t,n){Gt(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return Z.forEach(n.mutations,o=>{const u=new Ue(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Mr=s})}qn(t){}containsKey(t,n){const s=new Ue(n,0),o=this.Mr.firstAfterOrEqual(s);return Z.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,Z.resolve()}Lr(t,n){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const n=this.Nr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(t){this.kr=t,this.docs=function(){return new oe(pt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.kr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return Z.resolve(s?s.document.mutableCopy():Xe.newInvalidDocument(n))}getEntries(t,n){let s=tr();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Xe.newInvalidDocument(o))}),Z.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=tr();const f=n.path,m=new pt(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:y,value:{document:T}}=g.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||JC(WC(T),s)<=0||(o.has(T.key)||Nh(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return Z.resolve(u)}getAllFromCollectionGroup(t,n,s,o){Et()}qr(t,n){return Z.forEach(this.docs,s=>n(s))}newChangeBuffer(t){return new bD(this)}getSize(t){return Z.resolve(this.size)}}class bD extends gD{constructor(t){super(),this.Ir=t}applyChanges(t){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Ir.addEntry(t,o)):this.Ir.removeEntry(s)}),Z.waitFor(n)}getFromCache(t,n){return this.Ir.getEntry(t,n)}getAllFromCache(t,n){return this.Ir.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(t){this.persistence=t,this.Qr=new Ys(n=>hp(n),fp),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.$r=0,this.Ur=new yp,this.targetCount=0,this.Kr=no.Un()}forEachTarget(t,n){return this.Qr.forEach((s,o)=>n(o)),Z.resolve()}getLastRemoteSnapshotVersion(t){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Z.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Kr.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.$r&&(this.$r=n),Z.resolve()}zn(t){this.Qr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Kr=new no(n),this.highestTargetId=n),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,n){return this.zn(n),this.targetCount+=1,Z.resolve()}updateTargetData(t,n){return this.zn(n),Z.resolve()}removeTargetData(t,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,Z.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.Qr.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Qr.delete(f),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)}),Z.waitFor(u).next(()=>o)}getTargetCount(t){return Z.resolve(this.targetCount)}getTargetData(t,n){const s=this.Qr.get(n)||null;return Z.resolve(s)}addMatchingKeys(t,n,s){return this.Ur.yr(n,s),Z.resolve()}removeMatchingKeys(t,n,s){this.Ur.Sr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(t,f))}),Z.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this.Ur.br(n),Z.resolve()}getMatchingKeysForTargetId(t,n){const s=this.Ur.vr(n);return Z.resolve(s)}containsKey(t,n){return Z.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(t,n){this.Wr={},this.overlays={},this.Gr=new Ih(0),this.zr=!1,this.zr=!0,this.jr=new ED,this.referenceDelegate=t(this),this.Hr=new wD(this),this.indexManager=new uD,this.remoteDocumentCache=function(o){return new SD(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new oD(n),this.Yr=new vD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new TD,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.Wr[t.toKey()];return s||(s=new AD(n,this.referenceDelegate),this.Wr[t.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,n,s){ut("MemoryPersistence","Starting transaction:",t);const o=new RD(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(t,n){return Z.or(Object.values(this.Wr).map(s=>()=>s.containsKey(t,n)))}}class RD extends eO{constructor(t){super(),this.currentSequenceNumber=t}}class _p{constructor(t){this.persistence=t,this.ti=new yp,this.ni=null}static ri(t){return new _p(t)}get ii(){if(this.ni)return this.ni;throw Et()}addReference(t,n,s){return this.ti.addReference(s,n),this.ii.delete(s.toString()),Z.resolve()}removeReference(t,n,s){return this.ti.removeReference(s,n),this.ii.add(s.toString()),Z.resolve()}markPotentiallyOrphaned(t,n){return this.ii.add(n.toString()),Z.resolve()}removeTarget(t,n){this.ti.br(n.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(t,n))}Zr(){this.ni=new Set}Xr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.ii,s=>{const o=pt.fromPath(s);return this.si(t,o).next(u=>{u||n.removeEntry(o,St.min())})}).next(()=>(this.ni=null,n.apply(t)))}updateLimboDocument(t,n){return this.si(t,n).next(s=>{s?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(t){return 0}si(t,n){return Z.or([()=>Z.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.ei(t,n)])}}class ah{constructor(t,n){this.persistence=t,this.oi=new Ys(s=>rO(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=pD(this,n)}static ri(t,n){return new ah(t,n)}Zr(){}Xr(t){return Z.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}nr(t){const n=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>n.next(o=>s+o))}sr(t){let n=0;return this.rr(t,s=>{n++}).next(()=>n)}rr(t,n){return Z.forEach(this.oi,(s,o)=>this.ar(t,s,o).next(u=>u?Z.resolve():n(o)))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(t,f=>this.ar(t,f,n).next(m=>{m||(s++,u.removeEntry(f,St.min()))})).next(()=>u.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,n){return this.oi.set(n,t.currentSequenceNumber),Z.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.oi.set(s,t.currentSequenceNumber),Z.resolve()}removeReference(t,n,s){return this.oi.set(s,t.currentSequenceNumber),Z.resolve()}updateLimboDocument(t,n){return this.oi.set(n,t.currentSequenceNumber),Z.resolve()}Jr(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=xc(t.data.value)),n}ar(t,n,s){return Z.or([()=>this.persistence.ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.oi.get(n);return Z.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Hi=s,this.Ji=o}static Yi(t,n){let s=Ut(),o=Ut();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new vp(t,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return eI()?8:nO(We())>0?6:4}()}initialize(t,n){this.ns=t,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.rs(t,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ss(t,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new ID;return this._s(t,n,f).next(m=>{if(u.result=m,this.Xi)return this.us(t,n,f,m.size)})}).next(()=>u.result)}us(t,n,s,o){return s.documentReadCount<this.es?(Ha()<=Pt.DEBUG&&ut("QueryEngine","SDK will not create cache indexes for query:",Fa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Z.resolve()):(Ha()<=Pt.DEBUG&&ut("QueryEngine","Query:",Fa(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(Ha()<=Pt.DEBUG&&ut("QueryEngine","The SDK decides to create cache indexes for query:",Fa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,gi(n))):Z.resolve())}rs(t,n){if(fT(n))return Z.resolve(null);let s=gi(n);return this.indexManager.getIndexType(t,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=xm(n,null,"F"),s=gi(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next(u=>{const f=Ut(...u);return this.ns.getDocuments(t,f).next(m=>this.indexManager.getMinOffset(t,s).next(g=>{const y=this.cs(n,m);return this.ls(n,y,f,g.readTime)?this.rs(t,xm(n,null,"F")):this.hs(t,y,n,g)}))})))}ss(t,n,s,o){return fT(n)||o.isEqual(St.min())?Z.resolve(null):this.ns.getDocuments(t,s).next(u=>{const f=this.cs(n,u);return this.ls(n,f,s,o)?Z.resolve(null):(Ha()<=Pt.DEBUG&&ut("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Fa(n)),this.hs(t,f,n,ZC(o,xl)).next(m=>m))})}cs(t,n){let s=new Oe(K0(t));return n.forEach((o,u)=>{Nh(t,u)&&(s=s.add(u))}),s}ls(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(t,n,s){return Ha()<=Pt.DEBUG&&ut("QueryEngine","Using full collection scan to execute query:",Fa(n)),this.ns.getDocumentsMatchingQuery(t,n,Fr.min(),s)}hs(t,n,s,o){return this.ns.getDocumentsMatchingQuery(t,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tp="LocalStore",OD=3e8;class DD{constructor(t,n,s,o){this.persistence=t,this.Ps=n,this.serializer=o,this.Ts=new oe(Ot),this.Is=new Ys(u=>hp(u),fp),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(s)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new _D(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ts))}}function ND(r,t,n,s){return new DD(r,t,n,s)}async function gA(r,t){const n=bt(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.As(t),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let g=Ut();for(const y of o){f.push(y.batchId);for(const T of y.mutations)g=g.add(T.key)}for(const y of u){m.push(y.batchId);for(const T of y.mutations)g=g.add(T.key)}return n.localDocuments.getDocuments(s,g).next(y=>({Rs:y,removedBatchIds:f,addedBatchIds:m}))})})}function MD(r,t){const n=bt(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=t.batch.keys(),u=n.ds.newChangeBuffer({trackRemovals:!0});return function(m,g,y,T){const S=y.batch,M=S.keys();let j=Z.resolve();return M.forEach(q=>{j=j.next(()=>T.getEntry(g,q)).next($=>{const H=y.docVersions.get(q);Gt(H!==null),$.version.compareTo(H)<0&&(S.applyToRemoteDocument($,y),$.isValidDocument()&&($.setReadTime(y.commitVersion),T.addEntry($)))})}),j.next(()=>m.mutationQueue.removeMutationBatch(g,S))}(n,s,t,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let g=Ut();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(g=g.add(m.batch.mutations[y].key));return g}(t))).next(()=>n.localDocuments.getDocuments(s,o))})}function yA(r){const t=bt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Hr.getLastRemoteSnapshotVersion(n))}function VD(r,t){const n=bt(r),s=t.snapshotVersion;let o=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.ds.newChangeBuffer({trackRemovals:!0});o=n.Ts;const m=[];t.targetChanges.forEach((T,S)=>{const M=o.get(S);if(!M)return;m.push(n.Hr.removeMatchingKeys(u,T.removedDocuments,S).next(()=>n.Hr.addMatchingKeys(u,T.addedDocuments,S)));let j=M.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(S)!==null?j=j.withResumeToken(He.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):T.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(T.resumeToken,s)),o=o.insert(S,j),function($,H,et){return $.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=OD?!0:et.addedDocuments.size+et.modifiedDocuments.size+et.removedDocuments.size>0}(M,j,T)&&m.push(n.Hr.updateTargetData(u,j))});let g=tr(),y=Ut();if(t.documentUpdates.forEach(T=>{t.resolvedLimboDocuments.has(T)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))}),m.push(PD(u,f,t.documentUpdates).next(T=>{g=T.Vs,y=T.fs})),!s.isEqual(St.min())){const T=n.Hr.getLastRemoteSnapshotVersion(u).next(S=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(T)}return Z.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,g,y)).next(()=>g)}).then(u=>(n.Ts=o,u))}function PD(r,t,n){let s=Ut(),o=Ut();return n.forEach(u=>s=s.add(u)),t.getEntries(r,s).next(u=>{let f=tr();return n.forEach((m,g)=>{const y=u.get(m);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(St.min())?(t.removeEntry(m,g.readTime),f=f.insert(m,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(g),f=f.insert(m,g)):ut(Tp,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",g.version)}),{Vs:f,fs:o}})}function UD(r,t){const n=bt(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=lp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function kD(r,t){const n=bt(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Hr.getTargetData(s,t).next(u=>u?(o=u,Z.resolve(o)):n.Hr.allocateTargetId(s).next(f=>(o=new kr(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(s.targetId,s),n.Is.set(t,s.targetId)),s})}async function jm(r,t,n){const s=bt(r),o=s.Ts.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!co(f))throw f;ut(Tp,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Ts=s.Ts.remove(t),s.Is.delete(o.target)}function wT(r,t,n){const s=bt(r);let o=St.min(),u=Ut();return s.persistence.runTransaction("Execute query","readwrite",f=>function(g,y,T){const S=bt(g),M=S.Is.get(T);return M!==void 0?Z.resolve(S.Ts.get(M)):S.Hr.getTargetData(y,T)}(s,f,gi(t)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(f,m.targetId).next(g=>{u=g})}).next(()=>s.Ps.getDocumentsMatchingQuery(f,t,n?o:St.min(),n?u:Ut())).next(m=>(xD(s,SO(t),m),{documents:m,gs:u})))}function xD(r,t,n){let s=r.Es.get(t)||St.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Es.set(t,s)}class RT{constructor(){this.activeTargetIds=OO()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}bs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class LD{constructor(){this.ho=new RT,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,n,s){this.Po[t]=n}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new RT,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT="ConnectivityMonitor";class CT{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ut(IT,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){ut(IT,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dc=null;function Hm(){return Dc===null?Dc=function(){return 268435456+Math.round(2147483648*Math.random())}():Dc++,"0x"+Dc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm="RestConnection",BD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class qD{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=n+"://"+t.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===Jc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(t,n,s,o,u){const f=Hm(),m=this.bo(t,n.toUriEncodedString());ut(hm,`Sending RPC '${t}' ${f}:`,m,s);const g={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(g,o,u),this.vo(t,m,g,s).then(y=>(ut(hm,`Received RPC '${t}' ${f}: `,y),y),y=>{throw Wa(hm,`RPC '${t}' ${f} failed with error: `,y,"url: ",m,"request:",s),y})}Co(t,n,s,o,u,f){return this.So(t,n,s,o,u)}Do(t,n,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+lo}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>t[u]=o),s&&s.headers.forEach((o,u)=>t[u]=o)}bo(t,n){const s=BD[t];return`${this.po}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Uo(t){this.ko(t)}Ko(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ye="WebChannelConnection";class HD extends qD{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,n,s,o){const u=Hm();return new Promise((f,m)=>{const g=new v0;g.setWithCredentials(!0),g.listenOnce(T0.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case kc.NO_ERROR:const T=g.getResponseJson();ut(Ye,`XHR for RPC '${t}' ${u} received:`,JSON.stringify(T)),f(T);break;case kc.TIMEOUT:ut(Ye,`RPC '${t}' ${u} timed out`),m(new ht(J.DEADLINE_EXCEEDED,"Request time out"));break;case kc.HTTP_ERROR:const S=g.getStatus();if(ut(Ye,`RPC '${t}' ${u} failed with status:`,S,"response text:",g.getResponseText()),S>0){let M=g.getResponseJson();Array.isArray(M)&&(M=M[0]);const j=M==null?void 0:M.error;if(j&&j.status&&j.message){const q=function(H){const et=H.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(et)>=0?et:J.UNKNOWN}(j.status);m(new ht(q,j.message))}else m(new ht(J.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new ht(J.UNAVAILABLE,"Connection failed."));break;default:Et()}}finally{ut(Ye,`RPC '${t}' ${u} completed.`)}});const y=JSON.stringify(o);ut(Ye,`RPC '${t}' ${u} sending request:`,o),g.send(n,"POST",y,s,15)})}Wo(t,n,s){const o=Hm(),u=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=S0(),m=A0(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Do(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const T=u.join("");ut(Ye,`Creating RPC '${t}' stream ${o}: ${T}`,g);const S=f.createWebChannel(T,g);let M=!1,j=!1;const q=new jD({Fo:H=>{j?ut(Ye,`Not sending because RPC '${t}' stream ${o} is closed:`,H):(M||(ut(Ye,`Opening RPC '${t}' stream ${o} transport.`),S.open(),M=!0),ut(Ye,`RPC '${t}' stream ${o} sending:`,H),S.send(H))},Mo:()=>S.close()}),$=(H,et,it)=>{H.listen(et,st=>{try{it(st)}catch(gt){setTimeout(()=>{throw gt},0)}})};return $(S,Rl.EventType.OPEN,()=>{j||(ut(Ye,`RPC '${t}' stream ${o} transport opened.`),q.Qo())}),$(S,Rl.EventType.CLOSE,()=>{j||(j=!0,ut(Ye,`RPC '${t}' stream ${o} transport closed`),q.Uo())}),$(S,Rl.EventType.ERROR,H=>{j||(j=!0,Wa(Ye,`RPC '${t}' stream ${o} transport errored:`,H),q.Uo(new ht(J.UNAVAILABLE,"The operation could not be completed")))}),$(S,Rl.EventType.MESSAGE,H=>{var et;if(!j){const it=H.data[0];Gt(!!it);const st=it,gt=(st==null?void 0:st.error)||((et=st[0])===null||et===void 0?void 0:et.error);if(gt){ut(Ye,`RPC '${t}' stream ${o} received error:`,gt);const tt=gt.status;let lt=function(w){const N=Ee[w];if(N!==void 0)return rA(N)}(tt),C=gt.message;lt===void 0&&(lt=J.INTERNAL,C="Unknown error status: "+tt+" with message "+gt.message),j=!0,q.Uo(new ht(lt,C)),S.close()}else ut(Ye,`RPC '${t}' stream ${o} received:`,it),q.Ko(it)}}),$(m,E0.STAT_EVENT,H=>{H.stat===Dm.PROXY?ut(Ye,`RPC '${t}' stream ${o} detected buffering proxy`):H.stat===Dm.NOPROXY&&ut(Ye,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{q.$o()},0),q}}function fm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uh(r){return new QO(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(t,n,s=1e3,o=1.5,u=6e4){this.Ti=t,this.timerId=n,this.Go=s,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const n=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,n-s);o>0&&ut("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT="PersistentStream";class vA{constructor(t,n,s,o,u,f,m,g){this.Ti=t,this.n_=s,this.r_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new _A(t,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(Ji(n.toString()),Ji("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===n&&this.V_(s,o)},s=>{t(()=>{const o=new ht(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(t,n){const s=this.R_(this.i_);this.stream=this.f_(t,n),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return ut(OT,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return n=>{this.Ti.enqueueAndForget(()=>this.i_===t?n():(ut(OT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class FD extends vA{constructor(t,n,s,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}f_(t,n){return this.connection.Wo("Listen",t,n)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const n=XO(this.serializer,t),s=function(u){if(!("targetChange"in u))return St.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?St.min():f.readTime?yi(f.readTime):St.min()}(t);return this.listener.p_(n,s)}y_(t){const n={};n.database=qm(this.serializer),n.addTarget=function(u,f){let m;const g=f.target;if(m=Um(g)?{documents:JO(u,g)}:{query:tD(u,g).ht},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=oA(u,f.resumeToken);const y=Lm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(St.min())>0){m.readTime=sh(u,f.snapshotVersion.toTimestamp());const y=Lm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,t);const s=nD(this.serializer,t);s&&(n.labels=s),this.I_(n)}w_(t){const n={};n.database=qm(this.serializer),n.removeTarget=t,this.I_(n)}}class GD extends vA{constructor(t,n,s,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(t,n){return this.connection.Wo("Write",t,n)}g_(t){return Gt(!!t.streamToken),this.lastStreamToken=t.streamToken,Gt(!t.writeResults||t.writeResults.length===0),this.listener.D_()}onNext(t){Gt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const n=WO(t.writeResults,t.commitTime),s=yi(t.commitTime);return this.listener.v_(s,n)}C_(){const t={};t.database=qm(this.serializer),this.I_(t)}b_(t){const n={streamToken:this.lastStreamToken,writes:t.map(s=>ZO(this.serializer,s))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{}class QD extends KD{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new ht(J.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,n,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.So(t,zm(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ht(J.UNKNOWN,u.toString())})}Co(t,n,s,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Co(t,zm(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ht(J.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class YD{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Ji(n),this.N_=!1):ut("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs="RemoteStore";class $D{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(f=>{s.enqueueAndForget(async()=>{Xs(this)&&(ut(Hs,"Restarting streams for network reachability change."),await async function(g){const y=bt(g);y.W_.add(4),await Xl(y),y.j_.set("Unknown"),y.W_.delete(4),await kh(y)}(this))})}),this.j_=new YD(s,o)}}async function kh(r){if(Xs(r))for(const t of r.G_)await t(!0)}async function Xl(r){for(const t of r.G_)await t(!1)}function TA(r,t){const n=bt(r);n.K_.has(t.targetId)||(n.K_.set(t.targetId,t),bp(n)?Sp(n):ho(n).c_()&&Ap(n,t))}function Ep(r,t){const n=bt(r),s=ho(n);n.K_.delete(t),s.c_()&&EA(n,t),n.K_.size===0&&(s.c_()?s.P_():Xs(n)&&n.j_.set("Unknown"))}function Ap(r,t){if(r.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(St.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}ho(r).y_(t)}function EA(r,t){r.H_.Ne(t),ho(r).w_(t)}function Sp(r){r.H_=new HO({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>r.K_.get(t)||null,it:()=>r.datastore.serializer.databaseId}),ho(r).start(),r.j_.B_()}function bp(r){return Xs(r)&&!ho(r).u_()&&r.K_.size>0}function Xs(r){return bt(r).W_.size===0}function AA(r){r.H_=void 0}async function XD(r){r.j_.set("Online")}async function ZD(r){r.K_.forEach((t,n)=>{Ap(r,t)})}async function WD(r,t){AA(r),bp(r)?(r.j_.q_(t),Sp(r)):r.j_.set("Unknown")}async function JD(r,t,n){if(r.j_.set("Online"),t instanceof aA&&t.state===2&&t.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.K_.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.K_.delete(m),o.H_.removeTarget(m))}(r,t)}catch(s){ut(Hs,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await oh(r,s)}else if(t instanceof Bc?r.H_.We(t):t instanceof sA?r.H_.Ze(t):r.H_.je(t),!n.isEqual(St.min()))try{const s=await yA(r.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.H_.ot(f);return m.targetChanges.forEach((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const T=u.K_.get(y);T&&u.K_.set(y,T.withResumeToken(g.resumeToken,f))}}),m.targetMismatches.forEach((g,y)=>{const T=u.K_.get(g);if(!T)return;u.K_.set(g,T.withResumeToken(He.EMPTY_BYTE_STRING,T.snapshotVersion)),EA(u,g);const S=new kr(T.target,g,y,T.sequenceNumber);Ap(u,S)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(s){ut(Hs,"Failed to raise snapshot:",s),await oh(r,s)}}async function oh(r,t,n){if(!co(t))throw t;r.W_.add(1),await Xl(r),r.j_.set("Offline"),n||(n=()=>yA(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ut(Hs,"Retrying IndexedDB access"),await n(),r.W_.delete(1),await kh(r)})}function SA(r,t){return t().catch(n=>oh(r,n,t))}async function xh(r){const t=bt(r),n=Yr(t);let s=t.U_.length>0?t.U_[t.U_.length-1].batchId:lp;for(;tN(t);)try{const o=await UD(t.localStore,s);if(o===null){t.U_.length===0&&n.P_();break}s=o.batchId,eN(t,o)}catch(o){await oh(t,o)}bA(t)&&wA(t)}function tN(r){return Xs(r)&&r.U_.length<10}function eN(r,t){r.U_.push(t);const n=Yr(r);n.c_()&&n.S_&&n.b_(t.mutations)}function bA(r){return Xs(r)&&!Yr(r).u_()&&r.U_.length>0}function wA(r){Yr(r).start()}async function nN(r){Yr(r).C_()}async function iN(r){const t=Yr(r);for(const n of r.U_)t.b_(n.mutations)}async function rN(r,t,n){const s=r.U_.shift(),o=mp.from(s,t,n);await SA(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await xh(r)}async function sN(r,t){t&&Yr(r).S_&&await async function(s,o){if(function(f){return qO(f)&&f!==J.ABORTED}(o.code)){const u=s.U_.shift();Yr(s).h_(),await SA(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await xh(s)}}(r,t),bA(r)&&wA(r)}async function DT(r,t){const n=bt(r);n.asyncQueue.verifyOperationInProgress(),ut(Hs,"RemoteStore received new credentials");const s=Xs(n);n.W_.add(3),await Xl(n),s&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.W_.delete(3),await kh(n)}async function aN(r,t){const n=bt(r);t?(n.W_.delete(2),await kh(n)):t||(n.W_.add(2),await Xl(n),n.j_.set("Unknown"))}function ho(r){return r.J_||(r.J_=function(n,s,o){const u=bt(n);return u.M_(),new FD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:XD.bind(null,r),No:ZD.bind(null,r),Lo:WD.bind(null,r),p_:JD.bind(null,r)}),r.G_.push(async t=>{t?(r.J_.h_(),bp(r)?Sp(r):r.j_.set("Unknown")):(await r.J_.stop(),AA(r))})),r.J_}function Yr(r){return r.Y_||(r.Y_=function(n,s,o){const u=bt(n);return u.M_(),new GD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:nN.bind(null,r),Lo:sN.bind(null,r),D_:iN.bind(null,r),v_:rN.bind(null,r)}),r.G_.push(async t=>{t?(r.Y_.h_(),await xh(r)):(await r.Y_.stop(),r.U_.length>0&&(ut(Hs,`Stopping write stream with ${r.U_.length} pending writes`),r.U_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Br,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const f=Date.now()+s,m=new wp(t,n,f,o,u);return m.start(s),m}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ht(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Rp(r,t){if(Ji("AsyncQueue",`${t}: ${r}`),co(r))return new ht(J.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{static emptySet(t){return new Ya(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||pt.comparator(n.key,s.key):(n,s)=>pt.comparator(n.key,s.key),this.keyedMap=Il(),this.sortedSet=new oe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,s)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Ya)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new Ya;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(){this.Z_=new oe(pt.comparator)}track(t){const n=t.doc.key,s=this.Z_.get(n);s?t.type!==0&&s.type===3?this.Z_=this.Z_.insert(n,t):t.type===3&&s.type!==1?this.Z_=this.Z_.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.Z_=this.Z_.remove(n):t.type===1&&s.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):Et():this.Z_=this.Z_.insert(n,t)}X_(){const t=[];return this.Z_.inorderTraversal((n,s)=>{t.push(s)}),t}}class io{constructor(t,n,s,o,u,f,m,g,y){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(t,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new io(t,n,Ya.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Dh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class lN{constructor(){this.queries=MT(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,s){const o=bt(n),u=o.queries;o.queries=MT(),u.forEach((f,m)=>{for(const g of m.ta)g.onError(s)})})(this,new ht(J.ABORTED,"Firestore shutting down"))}}function MT(){return new Ys(r=>G0(r),Dh)}async function uN(r,t){const n=bt(r);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.na()&&t.ra()&&(s=2):(u=new oN,s=t.ra()?0:1);try{switch(s){case 0:u.ea=await n.onListen(o,!0);break;case 1:u.ea=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Rp(f,`Initialization of query '${Fa(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.ta.push(t),t.sa(n.onlineState),u.ea&&t.oa(u.ea)&&Ip(n)}async function cN(r,t){const n=bt(r),s=t.query;let o=3;const u=n.queries.get(s);if(u){const f=u.ta.indexOf(t);f>=0&&(u.ta.splice(f,1),u.ta.length===0?o=t.ra()?0:1:!u.na()&&t.ra()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function hN(r,t){const n=bt(r);let s=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ta)m.oa(o)&&(s=!0);f.ea=o}}s&&Ip(n)}function fN(r,t,n){const s=bt(r),o=s.queries.get(t);if(o)for(const u of o.ta)u.onError(n);s.queries.delete(t)}function Ip(r){r.ia.forEach(t=>{t.next()})}var Fm,VT;(VT=Fm||(Fm={}))._a="default",VT.Cache="cache";class dN{constructor(t,n,s){this.query=t,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new io(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.ua?this.la(t)&&(this.aa.next(t),n=!0):this.ha(t,this.onlineState)&&(this.Pa(t),n=!0),this.ca=t,n}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),n=!0),n}ha(t,n){if(!t.fromCache||!this.ra())return!0;const s=n!=="Offline";return(!this.options.Ta||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}la(t){if(t.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(t){t=io.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==Fm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(t){this.key=t}}class IA{constructor(t){this.key=t}}class mN{constructor(t,n){this.query=t,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ut(),this.mutatedKeys=Ut(),this.ya=K0(t),this.wa=new Ya(this.ya)}get Sa(){return this.fa}ba(t,n){const s=n?n.Da:new NT,o=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((T,S)=>{const M=o.get(T),j=Nh(this.query,S)?S:null,q=!!M&&this.mutatedKeys.has(M.key),$=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let H=!1;M&&j?M.data.isEqual(j.data)?q!==$&&(s.track({type:3,doc:j}),H=!0):this.va(M,j)||(s.track({type:2,doc:j}),H=!0,(g&&this.ya(j,g)>0||y&&this.ya(j,y)<0)&&(m=!0)):!M&&j?(s.track({type:0,doc:j}),H=!0):M&&!j&&(s.track({type:1,doc:M}),H=!0,(g||y)&&(m=!0)),H&&(j?(f=f.add(j),u=$?u.add(T):u.delete(T)):(f=f.delete(T),u=u.delete(T)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const T=this.query.limitType==="F"?f.last():f.first();f=f.delete(T.key),u=u.delete(T.key),s.track({type:1,doc:T})}return{wa:f,Da:s,ls:m,mutatedKeys:u}}va(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const f=t.Da.X_();f.sort((T,S)=>function(j,q){const $=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et()}};return $(j)-$(q)}(T.type,S.type)||this.ya(T.doc,S.doc)),this.Ca(s),o=o!=null&&o;const m=n&&!o?this.Fa():[],g=this.pa.size===0&&this.current&&!o?1:0,y=g!==this.ga;return this.ga=g,f.length!==0||y?{snapshot:new io(this.query,t.wa,u,f,t.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new NT,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=Ut(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const n=[];return t.forEach(s=>{this.pa.has(s)||n.push(new IA(s))}),this.pa.forEach(s=>{t.has(s)||n.push(new RA(s))}),n}Oa(t){this.fa=t.gs,this.pa=Ut();const n=this.ba(t.documents);return this.applyChanges(n,!0)}Na(){return io.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Cp="SyncEngine";class pN{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class gN{constructor(t){this.key=t,this.Ba=!1}}class yN{constructor(t,n,s,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new Ys(m=>G0(m),Dh),this.qa=new Map,this.Qa=new Set,this.$a=new oe(pt.comparator),this.Ua=new Map,this.Ka=new yp,this.Wa={},this.Ga=new Map,this.za=no.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function _N(r,t,n=!0){const s=VA(r);let o;const u=s.ka.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await CA(s,t,n,!0),o}async function vN(r,t){const n=VA(r);await CA(n,t,!0,!1)}async function CA(r,t,n,s){const o=await kD(r.localStore,gi(t)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await TN(r,t,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&TA(r.remoteStore,o),m}async function TN(r,t,n,s,o){r.Ha=(S,M,j)=>async function($,H,et,it){let st=H.view.ba(et);st.ls&&(st=await wT($.localStore,H.query,!1).then(({documents:C})=>H.view.ba(C,st)));const gt=it&&it.targetChanges.get(H.targetId),tt=it&&it.targetMismatches.get(H.targetId)!=null,lt=H.view.applyChanges(st,$.isPrimaryClient,gt,tt);return UT($,H.targetId,lt.Ma),lt.snapshot}(r,S,M,j);const u=await wT(r.localStore,t,!0),f=new mN(t,u.gs),m=f.ba(u.documents),g=$l.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,g);UT(r,n,y.Ma);const T=new pN(t,n,f);return r.ka.set(t,T),r.qa.has(n)?r.qa.get(n).push(t):r.qa.set(n,[t]),y.snapshot}async function EN(r,t,n){const s=bt(r),o=s.ka.get(t),u=s.qa.get(o.targetId);if(u.length>1)return s.qa.set(o.targetId,u.filter(f=>!Dh(f,t))),void s.ka.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await jm(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Ep(s.remoteStore,o.targetId),Gm(s,o.targetId)}).catch(uo)):(Gm(s,o.targetId),await jm(s.localStore,o.targetId,!0))}async function AN(r,t){const n=bt(r),s=n.ka.get(t),o=n.qa.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Ep(n.remoteStore,s.targetId))}async function SN(r,t,n){const s=DN(r);try{const o=await function(f,m){const g=bt(f),y=Ce.now(),T=m.reduce((j,q)=>j.add(q.key),Ut());let S,M;return g.persistence.runTransaction("Locally write mutations","readwrite",j=>{let q=tr(),$=Ut();return g.ds.getEntries(j,T).next(H=>{q=H,q.forEach((et,it)=>{it.isValidDocument()||($=$.add(et))})}).next(()=>g.localDocuments.getOverlayedDocuments(j,q)).next(H=>{S=H;const et=[];for(const it of m){const st=kO(it,S.get(it.key).overlayedDocument);st!=null&&et.push(new $s(it.key,st,k0(st.value.mapValue),Zi.exists(!0)))}return g.mutationQueue.addMutationBatch(j,y,et,m)}).next(H=>{M=H;const et=H.applyToLocalDocumentSet(S,$);return g.documentOverlayCache.saveOverlays(j,H.batchId,et)})}).then(()=>({batchId:M.batchId,changes:Y0(S)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,g){let y=f.Wa[f.currentUser.toKey()];y||(y=new oe(Ot)),y=y.insert(m,g),f.Wa[f.currentUser.toKey()]=y}(s,o.batchId,n),await Zl(s,o.changes),await xh(s.remoteStore)}catch(o){const u=Rp(o,"Failed to persist write");n.reject(u)}}async function OA(r,t){const n=bt(r);try{const s=await VD(n.localStore,t);t.targetChanges.forEach((o,u)=>{const f=n.Ua.get(u);f&&(Gt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Ba=!0:o.modifiedDocuments.size>0?Gt(f.Ba):o.removedDocuments.size>0&&(Gt(f.Ba),f.Ba=!1))}),await Zl(n,s,t)}catch(s){await uo(s)}}function PT(r,t,n){const s=bt(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.ka.forEach((u,f)=>{const m=f.view.sa(t);m.snapshot&&o.push(m.snapshot)}),function(f,m){const g=bt(f);g.onlineState=m;let y=!1;g.queries.forEach((T,S)=>{for(const M of S.ta)M.sa(m)&&(y=!0)}),y&&Ip(g)}(s.eventManager,t),o.length&&s.La.p_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function bN(r,t,n){const s=bt(r);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Ua.get(t),u=o&&o.key;if(u){let f=new oe(pt.comparator);f=f.insert(u,Xe.newNoDocument(u,St.min()));const m=Ut().add(u),g=new Ph(St.min(),new Map,new oe(Ot),f,m);await OA(s,g),s.$a=s.$a.remove(u),s.Ua.delete(t),Op(s)}else await jm(s.localStore,t,!1).then(()=>Gm(s,t,n)).catch(uo)}async function wN(r,t){const n=bt(r),s=t.batch.batchId;try{const o=await MD(n.localStore,t);NA(n,s,null),DA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Zl(n,o)}catch(o){await uo(o)}}async function RN(r,t,n){const s=bt(r);try{const o=await function(f,m){const g=bt(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let T;return g.mutationQueue.lookupMutationBatch(y,m).next(S=>(Gt(S!==null),T=S.keys(),g.mutationQueue.removeMutationBatch(y,S))).next(()=>g.mutationQueue.performConsistencyCheck(y)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(y,T,m)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T)).next(()=>g.localDocuments.getDocuments(y,T))})}(s.localStore,t);NA(s,t,n),DA(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await Zl(s,o)}catch(o){await uo(o)}}function DA(r,t){(r.Ga.get(t)||[]).forEach(n=>{n.resolve()}),r.Ga.delete(t)}function NA(r,t,n){const s=bt(r);let o=s.Wa[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.Wa[s.currentUser.toKey()]=o}}function Gm(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.qa.get(t))r.ka.delete(s),n&&r.La.Ja(s,n);r.qa.delete(t),r.isPrimaryClient&&r.Ka.br(t).forEach(s=>{r.Ka.containsKey(s)||MA(r,s)})}function MA(r,t){r.Qa.delete(t.path.canonicalString());const n=r.$a.get(t);n!==null&&(Ep(r.remoteStore,n),r.$a=r.$a.remove(t),r.Ua.delete(n),Op(r))}function UT(r,t,n){for(const s of n)s instanceof RA?(r.Ka.addReference(s.key,t),IN(r,s)):s instanceof IA?(ut(Cp,"Document no longer in limbo: "+s.key),r.Ka.removeReference(s.key,t),r.Ka.containsKey(s.key)||MA(r,s.key)):Et()}function IN(r,t){const n=t.key,s=n.path.canonicalString();r.$a.get(n)||r.Qa.has(s)||(ut(Cp,"New document in limbo: "+n),r.Qa.add(s),Op(r))}function Op(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const t=r.Qa.values().next().value;r.Qa.delete(t);const n=new pt(ne.fromString(t)),s=r.za.next();r.Ua.set(s,new gN(n)),r.$a=r.$a.insert(n,s),TA(r.remoteStore,new kr(gi(H0(n.path)),s,"TargetPurposeLimboResolution",Ih.ae))}}async function Zl(r,t,n){const s=bt(r),o=[],u=[],f=[];s.ka.isEmpty()||(s.ka.forEach((m,g)=>{f.push(s.Ha(g,t,n).then(y=>{var T;if((y||n)&&s.isPrimaryClient){const S=y?!y.fromCache:(T=n==null?void 0:n.targetChanges.get(g.targetId))===null||T===void 0?void 0:T.current;s.sharedClientState.updateQueryState(g.targetId,S?"current":"not-current")}if(y){o.push(y);const S=vp.Yi(g.targetId,y);u.push(S)}}))}),await Promise.all(f),s.La.p_(o),await async function(g,y){const T=bt(g);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>Z.forEach(y,M=>Z.forEach(M.Hi,j=>T.persistence.referenceDelegate.addReference(S,M.targetId,j)).next(()=>Z.forEach(M.Ji,j=>T.persistence.referenceDelegate.removeReference(S,M.targetId,j)))))}catch(S){if(!co(S))throw S;ut(Tp,"Failed to update sequence numbers: "+S)}for(const S of y){const M=S.targetId;if(!S.fromCache){const j=T.Ts.get(M),q=j.snapshotVersion,$=j.withLastLimboFreeSnapshotVersion(q);T.Ts=T.Ts.insert(M,$)}}}(s.localStore,u))}async function CN(r,t){const n=bt(r);if(!n.currentUser.isEqual(t)){ut(Cp,"User change. New user:",t.toKey());const s=await gA(n.localStore,t);n.currentUser=t,function(u,f){u.Ga.forEach(m=>{m.forEach(g=>{g.reject(new ht(J.CANCELLED,f))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Zl(n,s.Rs)}}function ON(r,t){const n=bt(r),s=n.Ua.get(t);if(s&&s.Ba)return Ut().add(s.key);{let o=Ut();const u=n.qa.get(t);if(!u)return o;for(const f of u){const m=n.ka.get(f);o=o.unionWith(m.view.Sa)}return o}}function VA(r){const t=bt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=OA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=ON.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=bN.bind(null,t),t.La.p_=hN.bind(null,t.eventManager),t.La.Ja=fN.bind(null,t.eventManager),t}function DN(r){const t=bt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=wN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=RN.bind(null,t),t}class lh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Uh(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,n){return null}nu(t,n){return null}eu(t){return ND(this.persistence,new CD,t.initialUser,this.serializer)}Xa(t){return new pA(_p.ri,this.serializer)}Za(t){return new LD}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}lh.provider={build:()=>new lh};class NN extends lh{constructor(t){super(),this.cacheSizeBytes=t}tu(t,n){Gt(this.persistence.referenceDelegate instanceof ah);const s=this.persistence.referenceDelegate.garbageCollector;return new dD(s,t.asyncQueue,n)}Xa(t){const n=this.cacheSizeBytes!==void 0?on.withCacheSize(this.cacheSizeBytes):on.DEFAULT;return new pA(s=>ah.ri(s,n),this.serializer)}}class Km{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>PT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=CN.bind(null,this.syncEngine),await aN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new lN}()}createDatastore(t){const n=Uh(t.databaseInfo.databaseId),s=function(u){return new HD(u)}(t.databaseInfo);return function(u,f,m,g){return new QD(u,f,m,g)}(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return function(s,o,u,f,m){return new $D(s,o,u,f,m)}(this.localStore,this.datastore,t.asyncQueue,n=>PT(this.syncEngine,n,0),function(){return CT.D()?new CT:new zD}())}createSyncEngine(t,n){return function(o,u,f,m,g,y,T){const S=new yN(o,u,f,m,g,y);return T&&(S.ja=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(o){const u=bt(o);ut(Hs,"RemoteStore shutting down."),u.W_.add(5),await Xl(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Km.provider={build:()=>new Km};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):Ji("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $r="FirestoreClient";class VN{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=$e.UNAUTHENTICATED,this.clientId=R0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{ut($r,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(ut($r,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Br;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=Rp(n,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function dm(r,t){r.asyncQueue.verifyOperationInProgress(),ut($r,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await gA(t.localStore,o),s=o)}),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}async function kT(r,t){r.asyncQueue.verifyOperationInProgress();const n=await PN(r);ut($r,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener(s=>DT(t.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>DT(t.remoteStore,o)),r._onlineComponents=t}async function PN(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ut($r,"Using user provided OfflineComponentProvider");try{await dm(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Wa("Error using user provided cache. Falling back to memory cache: "+n),await dm(r,new lh)}}else ut($r,"Using default OfflineComponentProvider"),await dm(r,new NN(void 0));return r._offlineComponents}async function PA(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ut($r,"Using user provided OnlineComponentProvider"),await kT(r,r._uninitializedComponentsProvider._online)):(ut($r,"Using default OnlineComponentProvider"),await kT(r,new Km))),r._onlineComponents}function UN(r){return PA(r).then(t=>t.syncEngine)}async function kN(r){const t=await PA(r),n=t.eventManager;return n.onListen=_N.bind(null,t.syncEngine),n.onUnlisten=EN.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=vN.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=AN.bind(null,t.syncEngine),n}function xN(r,t,n={}){const s=new Br;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,g,y){const T=new MN({next:M=>{T.su(),f.enqueueAndForget(()=>cN(u,S)),M.fromCache&&g.source==="server"?y.reject(new ht(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(M)},error:M=>y.reject(M)}),S=new dN(m,T,{includeMetadataChanges:!0,Ta:!0});return uN(u,S)}(await kN(r),r.asyncQueue,t,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UA(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kA(r,t,n){if(!n)throw new ht(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function LN(r,t,n,s){if(t===!0&&s===!0)throw new ht(J.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function LT(r){if(!pt.isDocumentKey(r))throw new ht(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function zT(r){if(pt.isDocumentKey(r))throw new ht(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Lh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":Et()}function uh(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ht(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Lh(r);throw new ht(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xA="firestore.googleapis.com",BT=!0;class qT{constructor(t){var n,s;if(t.host===void 0){if(t.ssl!==void 0)throw new ht(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=xA,this.ssl=BT}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:BT;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=mA;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<hD)throw new ht(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}LN("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=UA((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ht(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ht(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ht(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class zh{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ht(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ht(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qT(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new jC;switch(s.type){case"firstParty":return new KC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ht(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=xT.get(n);s&&(ut("ComponentProvider","Removing Datastore"),xT.delete(n),s.terminate())}(this),Promise.resolve()}}function zN(r,t,n,s={}){var o;const u=(r=uh(r,zh))._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:r._getEmulatorOptions()}),m=`${t}:${n}`;u.host!==xA&&u.host!==m&&Wa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},u),{host:m,ssl:!1,emulatorOptions:s});if(!Hr(g,f)&&(r._setSettings(g),s.mockUserToken)){let y,T;if(typeof s.mockUserToken=="string")y=s.mockUserToken,T=$e.MOCK_USER;else{y=$R(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new ht(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new $e(S)}r._authCredentials=new HC(new b0(y,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new fo(this.firestore,t,this._query)}}class xn{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new xn(this.firestore,t,this._key)}}class qr extends fo{constructor(t,n,s){super(t,n,H0(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new xn(this.firestore,null,new pt(t))}withConverter(t){return new qr(this.firestore,t,this._path)}}function mm(r,t,...n){if(r=cn(r),kA("collection","path",t),r instanceof zh){const s=ne.fromString(t,...n);return zT(s),new qr(r,null,s)}{if(!(r instanceof xn||r instanceof qr))throw new ht(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ne.fromString(t,...n));return zT(s),new qr(r.firestore,null,s)}}function BN(r,t,...n){if(r=cn(r),arguments.length===1&&(t=R0.newId()),kA("doc","path",t),r instanceof zh){const s=ne.fromString(t,...n);return LT(s),new xn(r,null,new pt(s))}{if(!(r instanceof xn||r instanceof qr))throw new ht(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ne.fromString(t,...n));return LT(s),new xn(r.firestore,r instanceof qr?r.converter:null,new pt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT="AsyncQueue";class HT{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new _A(this,"async_queue_retry"),this.Su=()=>{const s=fm();s&&ut(jT,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=t;const n=fm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const n=fm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Br;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!co(t))throw t;ut(jT,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const n=this.bu.then(()=>(this.pu=!0,t().catch(s=>{this.gu=s,this.pu=!1;const o=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(s);throw Ji("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=n,n}enqueueAfterDelay(t,n,s){this.Du(),this.wu.indexOf(t)>-1&&(n=0);const o=wp.createAndSchedule(this,t,n,s,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&Et()}verifyOperationInProgress(){}async Mu(){let t;do t=this.bu,await t;while(t!==this.bu)}xu(t){for(const n of this.fu)if(n.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const n=this.fu.indexOf(t);this.fu.splice(n,1)}}class Dp extends zh{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new HT,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new HT(t),this._firestoreClient=void 0,await t}}}function qN(r,t){const n=typeof r=="object"?r:ep(),s=typeof r=="string"?r:Jc,o=Ks(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=QR("firestore");u&&zN(o,...u)}return o}function LA(r){if(r._terminated)throw new ht(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||jN(r),r._firestoreClient}function jN(r){var t,n,s;const o=r._freezeSettings(),u=function(m,g,y,T){return new oO(m,g,y,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,UA(T.experimentalLongPollingOptions),T.useFetchStreams)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new VN(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const g=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(g),_online:g}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ro(He.fromBase64String(t))}catch(n){throw new ht(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new ro(He.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ht(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new je(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ht(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ht(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Ot(this._lat,t._lat)||Ot(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN=/^__.*__$/;class FN{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new $s(t,this.data,this.fieldMask,n,this.fieldTransforms):new Yl(t,this.data,n,this.fieldTransforms)}}function BA(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et()}}class Pp{constructor(t,n,s,o,u,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new Pp(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.ku({path:s,Qu:!1});return o.$u(t),o}Uu(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Ku(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return ch(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(t.length===0)throw this.Wu("Document fields must not be empty");if(BA(this.Lu)&&HN.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class GN{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||Uh(t)}ju(t,n,s,o=!1){return new Pp({Lu:t,methodName:n,zu:s,path:je.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qA(r){const t=r._freezeSettings(),n=Uh(r._databaseId);return new GN(r._databaseId,!!t.ignoreUndefinedProperties,n)}function KN(r,t,n,s,o,u={}){const f=r.ju(u.merge||u.mergeFields?2:0,t,n,o);FA("Data must be an object, but it was:",f,s);const m=jA(s,f);let g,y;if(u.merge)g=new Kn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const T=[];for(const S of u.mergeFields){const M=YN(t,S,n);if(!f.contains(M))throw new ht(J.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);XN(T,M)||T.push(M)}g=new Kn(T),y=f.fieldTransforms.filter(S=>g.covers(S.field))}else g=null,y=f.fieldTransforms;return new FN(new Un(m),g,y)}function QN(r,t,n,s=!1){return Up(n,r.ju(s?4:3,t))}function Up(r,t){if(HA(r=cn(r)))return FA("Unsupported field value:",t,r),jA(r,t);if(r instanceof zA)return function(s,o){if(!BA(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.Qu&&t.Lu!==4)throw t.Wu("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let g=Up(m,o.Ku(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}}(r,t)}return function(s,o){if((s=cn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return DO(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Ce.fromDate(s);return{timestampValue:sh(o.serializer,u)}}if(s instanceof Ce){const u=new Ce(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:sh(o.serializer,u)}}if(s instanceof Mp)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ro)return{bytesValue:oA(o.serializer,s._byteString)};if(s instanceof xn){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:gp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Vp)return function(f,m){return{mapValue:{fields:{[P0]:{stringValue:U0},[th]:{arrayValue:{values:f.toArray().map(y=>{if(typeof y!="number")throw m.Wu("VectorValues must only contain numeric values.");return dp(m.serializer,y)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${Lh(s)}`)}(r,t)}function jA(r,t){const n={};return C0(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Qs(r,(s,o)=>{const u=Up(o,t.qu(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function HA(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Ce||r instanceof Mp||r instanceof ro||r instanceof xn||r instanceof zA||r instanceof Vp)}function FA(r,t,n){if(!HA(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=Lh(n);throw s==="an object"?t.Wu(r+" a custom object"):t.Wu(r+" "+s)}}function YN(r,t,n){if((t=cn(t))instanceof Np)return t._internalPath;if(typeof t=="string")return GA(r,t);throw ch("Field path arguments must be of type string or ",r,!1,void 0,n)}const $N=new RegExp("[~\\*/\\[\\]]");function GA(r,t,n){if(t.search($N)>=0)throw ch(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Np(...t.split("."))._internalPath}catch{throw ch(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function ch(r,t,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${s}`),f&&(g+=` in document ${o}`),g+=")"),new ht(J.INVALID_ARGUMENT,m+r+g)}function XN(r,t){return r.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new xn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new ZN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(kp("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ZN extends KA{data(){return super.data()}}function kp(r,t){return typeof t=="string"?GA(r,t):t instanceof Np?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WN(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ht(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xp{}class JN extends xp{}function FT(r,t,...n){let s=[];t instanceof xp&&s.push(t),s=s.concat(n),function(u){const f=u.filter(g=>g instanceof Lp).length,m=u.filter(g=>g instanceof Bh).length;if(f>1||f>0&&m>0)throw new ht(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class Bh extends JN{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new Bh(t,n,s)}_apply(t){const n=this._parse(t);return QA(t._query,n),new fo(t.firestore,t.converter,km(t._query,n))}_parse(t){const n=qA(t.firestore);return function(u,f,m,g,y,T,S){let M;if(y.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new ht(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){KT(S,T);const q=[];for(const $ of S)q.push(GT(g,u,$));M={arrayValue:{values:q}}}else M=GT(g,u,S)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||KT(S,T),M=QN(m,f,S,T==="in"||T==="not-in");return Ae.create(y,T,M)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function t2(r,t,n){const s=t,o=kp("where",r);return Bh._create(o,s,n)}class Lp extends xp{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Lp(t,n)}_parse(t){const n=this._queryConstraints.map(s=>s._parse(t)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:$n.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(o,u){let f=o;const m=u.getFlattenedFilters();for(const g of m)QA(f,g),f=km(f,g)}(t._query,n),new fo(t.firestore,t.converter,km(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function GT(r,t,n){if(typeof(n=cn(n))=="string"){if(n==="")throw new ht(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!F0(t)&&n.indexOf("/")!==-1)throw new ht(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(ne.fromString(n));if(!pt.isDocumentKey(s))throw new ht(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return aT(r,new pt(s))}if(n instanceof xn)return aT(r,n._key);throw new ht(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Lh(n)}.`)}function KT(r,t){if(!Array.isArray(r)||r.length===0)throw new ht(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function QA(r,t){const n=function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new ht(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ht(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class e2{convertValue(t,n="none"){switch(Qr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return pe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Kr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Et()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return Qs(t,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(t){var n,s,o;const u=(o=(s=(n=t.fields)===null||n===void 0?void 0:n[th].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>pe(f.doubleValue));return new Vp(u)}convertGeoPoint(t){return new Mp(pe(t.latitude),pe(t.longitude))}convertArray(t,n){return(t.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(t,n){switch(n){case"previous":const s=Oh(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Ll(t));default:return null}}convertTimestamp(t){const n=Gr(t);return new Ce(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=ne.fromString(t);Gt(dA(s));const o=new zl(s.get(1),s.get(3)),u=new pt(s.popFirst(5));return o.isEqual(n)||Ji(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n2(r,t,n){let s;return s=r?r.toFirestore(t):t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class i2 extends KA{constructor(t,n,s,o,u,f){super(t,n,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new qc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(kp("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class qc extends i2{data(t={}){return super.data(t)}}class r2{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new Nc(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(s=>{t.call(n,new qc(this._firestore,this._userDataWriter,s.key,s,new Nc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ht(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const g=new qc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Nc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const g=new qc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Nc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,T=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),T=f.indexOf(m.doc.key)),{type:s2(m.type),doc:g,oldIndex:y,newIndex:T}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function s2(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et()}}class a2 extends e2{constructor(t){super(),this.firestore=t}convertBytes(t){return new ro(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new xn(this.firestore,null,n)}}function QT(r){r=uh(r,fo);const t=uh(r.firestore,Dp),n=LA(t),s=new a2(t);return WN(r._query),xN(n,r._query).then(o=>new r2(t,s,r,o))}function o2(r,t){const n=uh(r.firestore,Dp),s=BN(r),o=n2(r.converter,t);return l2(n,[KN(qA(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Zi.exists(!1))]).then(()=>s)}function l2(r,t){return function(s,o){const u=new Br;return s.asyncQueue.enqueueAndForget(async()=>SN(await UN(s),o,u)),u.promise}(LA(r),t)}(function(t,n=!0){(function(o){lo=o})(oo),Ti(new Yn("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Dp(new FC(s.getProvider("auth-internal")),new QC(f,s.getProvider("app-check-internal")),function(y,T){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ht(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zl(y.options.projectId,T)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),kn(Yv,$v,t),kn(Yv,$v,"esm2017")})();function zp(r,t){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&t.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function YA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const u2=YA,$A=new Gs("auth","Firebase",YA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hh=new bh("@firebase/auth");function c2(r,...t){hh.logLevel<=Pt.WARN&&hh.warn(`Auth (${oo}): ${r}`,...t)}function jc(r,...t){hh.logLevel<=Pt.ERROR&&hh.error(`Auth (${oo}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function er(r,...t){throw Bp(r,...t)}function _i(r,...t){return Bp(r,...t)}function XA(r,t,n){const s=Object.assign(Object.assign({},u2()),{[t]:n});return new Gs("auth","Firebase",s).create(t,{appName:r.name})}function jr(r){return XA(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Bp(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return $A.create(r,...t)}function At(r,t,...n){if(!r)throw Bp(t,...n)}function $i(r){const t="INTERNAL ASSERTION FAILED: "+r;throw jc(t),new Error(t)}function nr(r,t){r||$i(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qm(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function h2(){return YT()==="http:"||YT()==="https:"}function YT(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(h2()||qE()||"connection"in navigator)?navigator.onLine:!0}function d2(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(t,n){this.shortDelay=t,this.longDelay=n,nr(n>t,"Short delay should be less than long delay!"),this.isMobile=XR()||JR()}get(){return f2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qp(r,t){nr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;$i("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;$i("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;$i("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],g2=new Wl(3e4,6e4);function qh(r,t){return r.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:r.tenantId}):t}async function mo(r,t,n,s,o={}){return WA(r,o,async()=>{let u={},f={};s&&(t==="GET"?f=s:u={body:JSON.stringify(s)});const m=Kl(Object.assign({key:r.config.apiKey},f)).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const y=Object.assign({method:t,headers:g},u);return WR()||(y.referrerPolicy="no-referrer"),ZA.fetch()(await tS(r,r.config.apiHost,n,m),y)})}async function WA(r,t,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},m2),t);try{const o=new y2(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Mc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[g,y]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Mc(r,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw Mc(r,"email-already-in-use",f);if(g==="USER_DISABLED")throw Mc(r,"user-disabled",f);const T=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw XA(r,T,y);er(r,T)}}catch(o){if(o instanceof Zn)throw o;er(r,"network-request-failed",{message:String(o)})}}async function JA(r,t,n,s,o={}){const u=await mo(r,t,n,s,o);return"mfaPendingCredential"in u&&er(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function tS(r,t,n,s){const o=`${t}${n}?${s}`,u=r,f=u.config.emulator?qp(r.config,o):`${r.config.apiScheme}://${o}`;return p2.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class y2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(_i(this.auth,"network-request-failed")),g2.get())})}}function Mc(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=_i(r,t,s);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _2(r,t){return mo(r,"POST","/v1/accounts:delete",t)}async function fh(r,t){return mo(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function v2(r,t=!1){const n=cn(r),s=await n.getIdToken(t),o=jp(s);At(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Pl(pm(o.auth_time)),issuedAtTime:Pl(pm(o.iat)),expirationTime:Pl(pm(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function pm(r){return Number(r)*1e3}function jp(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return jc("JWT malformed, contained fewer than 3 sections"),null;try{const o=xE(n);return o?JSON.parse(o):(jc("Failed to decode base64 JWT payload"),null)}catch(o){return jc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function $T(r){const t=jp(r);return At(t,"internal-error"),At(typeof t.exp<"u","internal-error"),At(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hl(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof Zn&&T2(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function T2({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pl(this.lastLoginAt),this.creationTime=Pl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dh(r){var t;const n=r.auth,s=await r.getIdToken(),o=await Hl(r,fh(n,{idToken:s}));At(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((t=u.providerUserInfo)===null||t===void 0)&&t.length?eS(u.providerUserInfo):[],m=S2(r.providerData,f),g=r.isAnonymous,y=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),T=g?y:!1,S={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Ym(u.createdAt,u.lastLoginAt),isAnonymous:T};Object.assign(r,S)}async function A2(r){const t=cn(r);await dh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function S2(r,t){return[...r.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function eS(r){return r.map(t=>{var{providerId:n}=t,s=zp(t,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b2(r,t){const n=await WA(r,{},async()=>{const s=Kl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await tS(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",ZA.fetch()(f,{method:"POST",headers:m,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function w2(r,t){return mo(r,"POST","/v2/accounts:revokeToken",qh(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){At(t.idToken,"internal-error"),At(typeof t.idToken<"u","internal-error"),At(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):$T(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){At(t.length!==0,"internal-error");const n=$T(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(At(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await b2(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new $a;return s&&(At(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),o&&(At(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(At(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new $a,this.toJSON())}_performRefresh(){return $i("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nr(r,t){At(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Qn{constructor(t){var{uid:n,auth:s,stsTokenManager:o}=t,u=zp(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new E2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Ym(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(t){const n=await Hl(this,this.stsTokenManager.getToken(this.auth,t));return At(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return v2(this,t)}reload(){return A2(this)}_assign(t){this!==t&&(At(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Qn(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){At(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await dh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Gn(this.auth.app))return Promise.reject(jr(this.auth));const t=await this.getIdToken();return await Hl(this,_2(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var s,o,u,f,m,g,y,T;const S=(s=n.displayName)!==null&&s!==void 0?s:void 0,M=(o=n.email)!==null&&o!==void 0?o:void 0,j=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,q=(f=n.photoURL)!==null&&f!==void 0?f:void 0,$=(m=n.tenantId)!==null&&m!==void 0?m:void 0,H=(g=n._redirectEventId)!==null&&g!==void 0?g:void 0,et=(y=n.createdAt)!==null&&y!==void 0?y:void 0,it=(T=n.lastLoginAt)!==null&&T!==void 0?T:void 0,{uid:st,emailVerified:gt,isAnonymous:tt,providerData:lt,stsTokenManager:C}=n;At(st&&C,t,"internal-error");const b=$a.fromJSON(this.name,C);At(typeof st=="string",t,"internal-error"),Nr(S,t.name),Nr(M,t.name),At(typeof gt=="boolean",t,"internal-error"),At(typeof tt=="boolean",t,"internal-error"),Nr(j,t.name),Nr(q,t.name),Nr($,t.name),Nr(H,t.name),Nr(et,t.name),Nr(it,t.name);const w=new Qn({uid:st,auth:t,email:M,emailVerified:gt,displayName:S,isAnonymous:tt,photoURL:q,phoneNumber:j,tenantId:$,stsTokenManager:b,createdAt:et,lastLoginAt:it});return lt&&Array.isArray(lt)&&(w.providerData=lt.map(N=>Object.assign({},N))),H&&(w._redirectEventId=H),w}static async _fromIdTokenResponse(t,n,s=!1){const o=new $a;o.updateFromServerResponse(n);const u=new Qn({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await dh(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];At(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?eS(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new $a;m.updateFromIdToken(s);const g=new Qn({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Ym(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(g,y),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT=new Map;function Xi(r){nr(r instanceof Function,"Expected a class definition");let t=XT.get(r);return t?(nr(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,XT.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}nS.type="NONE";const ZT=nS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hc(r,t,n){return`firebase:${r}:${t}:${n}`}class Xa{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Hc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Hc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await fh(this.auth,{idToken:t}).catch(()=>{});return n?Qn._fromGetAccountInfoResponse(this.auth,n,t):null}return Qn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new Xa(Xi(ZT),t,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||Xi(ZT);const f=Hc(s,t.config.apiKey,t.name);let m=null;for(const y of n)try{const T=await y._get(f);if(T){let S;if(typeof T=="string"){const M=await fh(t,{idToken:T}).catch(()=>{});if(!M)break;S=await Qn._fromGetAccountInfoResponse(t,M,T)}else S=Qn._fromJSON(t,T);y!==u&&(m=S),u=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new Xa(u,t,s):(u=g[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new Xa(u,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WT(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(aS(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(iS(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(lS(t))return"Blackberry";if(uS(t))return"Webos";if(rS(t))return"Safari";if((t.includes("chrome/")||sS(t))&&!t.includes("edge/"))return"Chrome";if(oS(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function iS(r=We()){return/firefox\//i.test(r)}function rS(r=We()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function sS(r=We()){return/crios\//i.test(r)}function aS(r=We()){return/iemobile/i.test(r)}function oS(r=We()){return/android/i.test(r)}function lS(r=We()){return/blackberry/i.test(r)}function uS(r=We()){return/webos/i.test(r)}function Hp(r=We()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function R2(r=We()){var t;return Hp(r)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function I2(){return tI()&&document.documentMode===10}function cS(r=We()){return Hp(r)||oS(r)||uS(r)||lS(r)||/windows phone/i.test(r)||aS(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hS(r,t=[]){let n;switch(r){case"Browser":n=WT(We());break;case"Worker":n=`${WT(We())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${oo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((f,m)=>{try{const g=t(u);f(g)}catch(g){m(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O2(r,t={}){return mo(r,"GET","/v2/passwordPolicy",qh(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2=6;class N2{constructor(t){var n,s,o,u;const f=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:D2,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=t.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,s,o,u,f,m;const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,g),this.validatePasswordCharacterOptions(t,g),g.isValid&&(g.isValid=(n=g.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),g.isValid&&(g.isValid=(s=g.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),g.isValid&&(g.isValid=(o=g.containsLowercaseLetter)!==null&&o!==void 0?o:!0),g.isValid&&(g.isValid=(u=g.containsUppercaseLetter)!==null&&u!==void 0?u:!0),g.isValid&&(g.isValid=(f=g.containsNumericCharacter)!==null&&f!==void 0?f:!0),g.isValid&&(g.isValid=(m=g.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),g}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new JT(this),this.idTokenSubscription=new JT(this),this.beforeStateQueue=new C2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$A,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Xi(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await Xa.create(this,t),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await fh(this,{idToken:t}),s=await Qn._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(Gn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,g=await this.tryRedirectSignIn(t);(!f||f===m)&&(g!=null&&g.user)&&(o=g.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return At(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await dh(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=d2()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Gn(this.app))return Promise.reject(jr(this));const n=t?cn(t):null;return n&&At(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&At(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Gn(this.app)?Promise.reject(jr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Gn(this.app)?Promise.reject(jr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await O2(this),n=new N2(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Gs("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await w2(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Xi(t)||this._popupRedirectResolver;At(n,this,"argument-error"),this.redirectPersistenceManager=await Xa.create(this,[Xi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(At(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=t.addObserver(n,s,o);return()=>{f=!0,g()}}else{const g=t.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return At(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=hS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var t;if(Gn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&c2(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function jh(r){return cn(r)}class JT{constructor(t){this.auth=t,this.observer=null,this.addObserver=oI(n=>this.observer=n)}get next(){return At(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function V2(r){Fp=r}function P2(r){return Fp.loadJS(r)}function U2(){return Fp.gapiScript}function k2(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x2(r,t){const n=Ks(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Hr(u,t??{}))return o;er(o,"already-initialized")}return n.initialize({options:t})}function L2(r,t){const n=(t==null?void 0:t.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Xi);t!=null&&t.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function z2(r,t,n){const s=jh(r);At(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=fS(t),{host:f,port:m}=B2(t),g=m===null?"":`:${m}`,y={url:`${u}//${f}${g}/`},T=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){At(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),At(Hr(y,s.config.emulator)&&Hr(T,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=T,s.settings.appVerificationDisabledForTesting=!0,q2()}function fS(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function B2(r){const t=fS(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:tE(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:tE(f)}}}function tE(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function q2(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return $i("not implemented")}_getIdTokenResponse(t){return $i("not implemented")}_linkToIdToken(t,n){return $i("not implemented")}_getReauthenticationResolver(t){return $i("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Za(r,t){return JA(r,"POST","/v1/accounts:signInWithIdp",qh(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2="http://localhost";class Fs extends dS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Fs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):er("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o}=n,u=zp(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new Fs(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return Za(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,Za(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Za(t,n)}buildRequest(){const t={requestUri:j2,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Kl(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl extends mS{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr extends Jl{constructor(){super("facebook.com")}static credential(t){return Fs._fromParams({providerId:Mr.PROVIDER_ID,signInMethod:Mr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Mr.credentialFromTaggedObject(t)}static credentialFromError(t){return Mr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Mr.credential(t.oauthAccessToken)}catch{return null}}}Mr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Mr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr extends Jl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Fs._fromParams({providerId:Vr.PROVIDER_ID,signInMethod:Vr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Vr.credentialFromTaggedObject(t)}static credentialFromError(t){return Vr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return Vr.credential(n,s)}catch{return null}}}Vr.GOOGLE_SIGN_IN_METHOD="google.com";Vr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends Jl{constructor(){super("github.com")}static credential(t){return Fs._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Pr.credentialFromTaggedObject(t)}static credentialFromError(t){return Pr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Pr.credential(t.oauthAccessToken)}catch{return null}}}Pr.GITHUB_SIGN_IN_METHOD="github.com";Pr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur extends Jl{constructor(){super("twitter.com")}static credential(t,n){return Fs._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Ur.credentialFromTaggedObject(t)}static credentialFromError(t){return Ur.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return Ur.credential(n,s)}catch{return null}}}Ur.TWITTER_SIGN_IN_METHOD="twitter.com";Ur.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H2(r,t){return JA(r,"POST","/v1/accounts:signUp",qh(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await Qn._fromIdTokenResponse(t,s,o),f=eE(s);return new Xr({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=eE(s);return new Xr({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function eE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F2(r){var t;if(Gn(r.app))return Promise.reject(jr(r));const n=jh(r);if(await n._initializationPromise,!((t=n.currentUser)===null||t===void 0)&&t.isAnonymous)return new Xr({user:n.currentUser,providerId:null,operationType:"signIn"});const s=await H2(n,{returnSecureToken:!0}),o=await Xr._fromIdTokenResponse(n,"signIn",s,!0);return await n._updateCurrentUser(o.user),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh extends Zn{constructor(t,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,mh.prototype),this.customData={appName:t.name,tenantId:(u=t.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new mh(t,n,s,o)}}function pS(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?mh._fromErrorAndOperation(r,u,t,s):u})}async function G2(r,t,n=!1){const s=await Hl(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return Xr._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K2(r,t,n=!1){const{auth:s}=r;if(Gn(s.app))return Promise.reject(jr(s));const o="reauthenticate";try{const u=await Hl(r,pS(s,o,t,r),n);At(u.idToken,s,"internal-error");const f=jp(u.idToken);At(f,s,"internal-error");const{sub:m}=f;return At(r.uid===m,s,"user-mismatch"),Xr._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&er(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q2(r,t,n=!1){if(Gn(r.app))return Promise.reject(jr(r));const s="signIn",o=await pS(r,s,t),u=await Xr._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}function Y2(r,t,n,s){return cn(r).onIdTokenChanged(t,n,s)}function $2(r,t,n){return cn(r).beforeAuthStateChanged(t,n)}const ph="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ph,"1"),this.storage.removeItem(ph),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2=1e3,Z2=10;class yS extends gS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=cS(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,m,g)=>{this.notifyListeners(f,g)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);I2()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,Z2):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},X2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}yS.type="LOCAL";const W2=yS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S extends gS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}_S.type="SESSION";const vS=_S;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J2(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new Hh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),g=await J2(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Hh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gp(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,g)=>{const y=Gp("",20);o.port1.start();const T=setTimeout(()=>{g(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(S){const M=S;if(M.data.eventId===y)switch(M.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(M.data.response);break;default:clearTimeout(T),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vi(){return window}function eM(r){vi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TS(){return typeof vi().WorkerGlobalScope<"u"&&typeof vi().importScripts=="function"}async function nM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function iM(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function rM(){return TS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ES="firebaseLocalStorageDb",sM=1,gh="firebaseLocalStorage",AS="fbase_key";class tu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Fh(r,t){return r.transaction([gh],t?"readwrite":"readonly").objectStore(gh)}function aM(){const r=indexedDB.deleteDatabase(ES);return new tu(r).toPromise()}function $m(){const r=indexedDB.open(ES,sM);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(gh,{keyPath:AS})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(gh)?t(s):(s.close(),await aM(),t(await $m()))})})}async function nE(r,t,n){const s=Fh(r,!0).put({[AS]:t,value:n});return new tu(s).toPromise()}async function oM(r,t){const n=Fh(r,!1).get(t),s=await new tu(n).toPromise();return s===void 0?null:s.value}function iE(r,t){const n=Fh(r,!0).delete(t);return new tu(n).toPromise()}const lM=800,uM=3;class SS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await $m(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>uM)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return TS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Hh._getInstance(rM()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await nM(),!this.activeServiceWorker)return;this.sender=new tM(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||iM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await $m();return await nE(t,ph,"1"),await iE(t,ph),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>nE(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>oM(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>iE(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Fh(o,!1).getAll();return new tu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),lM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}SS.type="LOCAL";const cM=SS;new Wl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hM(r,t){return t?Xi(t):(At(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp extends dS{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Za(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Za(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Za(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function fM(r){return Q2(r.auth,new Kp(r),r.bypassAuthState)}function dM(r){const{auth:t,user:n}=r;return At(n,t,"internal-error"),K2(n,new Kp(r),r.bypassAuthState)}async function mM(r){const{auth:t,user:n}=r;return At(n,t,"internal-error"),G2(n,new Kp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=t;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return fM;case"linkViaPopup":case"linkViaRedirect":return mM;case"reauthViaPopup":case"reauthViaRedirect":return dM;default:er(this.auth,"internal-error")}}resolve(t){nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pM=new Wl(2e3,1e4);class Qa extends bS{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Qa.currentPopupAction&&Qa.currentPopupAction.cancel(),Qa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return At(t,this.auth,"internal-error"),t}async onExecution(){nr(this.filter.length===1,"Popup operations only handle one event");const t=Gp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(_i(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(_i(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qa.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_i(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,pM.get())};t()}}Qa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gM="pendingRedirect",Fc=new Map;class yM extends bS{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=Fc.get(this.auth._key());if(!t){try{const s=await _M(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}Fc.set(this.auth._key(),t)}return this.bypassAuthState||Fc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _M(r,t){const n=EM(t),s=TM(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function vM(r,t){Fc.set(r._key(),t)}function TM(r){return Xi(r._redirectPersistence)}function EM(r){return Hc(gM,r.config.apiKey,r.name)}async function AM(r,t,n=!1){if(Gn(r.app))return Promise.reject(jr(r));const s=jh(r),o=hM(s,t),f=await new yM(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SM=10*60*1e3;class bM{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!wM(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var s;if(t.error&&!wS(t)){const o=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(_i(this.auth,o))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=SM&&this.cachedEventUids.clear(),this.cachedEventUids.has(rE(t))}saveEventToCache(t){this.cachedEventUids.add(rE(t)),this.lastProcessedEventTime=Date.now()}}function rE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function wS({type:r,error:t}){return r==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function wM(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wS(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RM(r,t={}){return mo(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,CM=/^https?/;async function OM(r){if(r.config.emulator)return;const{authorizedDomains:t}=await RM(r);for(const n of t)try{if(DM(n))return}catch{}er(r,"unauthorized-domain")}function DM(r){const t=Qm(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!CM.test(n))return!1;if(IM.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NM=new Wl(3e4,6e4);function sE(){const r=vi().___jsl;if(r!=null&&r.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function MM(r){return new Promise((t,n)=>{var s,o,u;function f(){sE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{sE(),n(_i(r,"network-request-failed"))},timeout:NM.get()})}if(!((o=(s=vi().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)t(gapi.iframes.getContext());else if(!((u=vi().gapi)===null||u===void 0)&&u.load)f();else{const m=k2("iframefcb");return vi()[m]=()=>{gapi.load?f():n(_i(r,"network-request-failed"))},P2(`${U2()}?onload=${m}`).catch(g=>n(g))}}).catch(t=>{throw Gc=null,t})}let Gc=null;function VM(r){return Gc=Gc||MM(r),Gc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PM=new Wl(5e3,15e3),UM="__/auth/iframe",kM="emulator/auth/iframe",xM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},LM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zM(r){const t=r.config;At(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?qp(t,kM):`https://${r.config.authDomain}/${UM}`,s={apiKey:t.apiKey,appName:r.name,v:oo},o=LM.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Kl(s).slice(1)}`}async function BM(r){const t=await VM(r),n=vi().gapi;return At(n,r,"internal-error"),t.open({where:document.body,url:zM(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xM,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=_i(r,"network-request-failed"),m=vi().setTimeout(()=>{u(f)},PM.get());function g(){vi().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},jM=500,HM=600,FM="_blank",GM="http://localhost";class aE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function KM(r,t,n,s=jM,o=HM){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g=Object.assign(Object.assign({},qM),{width:s.toString(),height:o.toString(),top:u,left:f}),y=We().toLowerCase();n&&(m=sS(y)?FM:n),iS(y)&&(t=t||GM,g.scrollbars="yes");const T=Object.entries(g).reduce((M,[j,q])=>`${M}${j}=${q},`,"");if(R2(y)&&m!=="_self")return QM(t||"",m),new aE(null);const S=window.open(t||"",m,T);At(S,r,"popup-blocked");try{S.focus()}catch{}return new aE(S)}function QM(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YM="__/auth/handler",$M="emulator/auth/handler",XM=encodeURIComponent("fac");async function oE(r,t,n,s,o,u){At(r.config.authDomain,r,"auth-domain-config-required"),At(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:oo,eventId:o};if(t instanceof mS){t.setDefaultLanguage(r.languageCode),f.providerId=t.providerId||"",aI(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[T,S]of Object.entries({}))f[T]=S}if(t instanceof Jl){const T=t.getScopes().filter(S=>S!=="");T.length>0&&(f.scopes=T.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const T of Object.keys(m))m[T]===void 0&&delete m[T];const g=await r._getAppCheckToken(),y=g?`#${XM}=${encodeURIComponent(g)}`:"";return`${ZM(r)}?${Kl(m).slice(1)}${y}`}function ZM({config:r}){return r.emulator?qp(r,$M):`https://${r.authDomain}/${YM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gm="webStorageSupport";class WM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vS,this._completeRedirectFn=AM,this._overrideRedirectResult=vM}async _openPopup(t,n,s,o){var u;nr((u=this.eventManagers[t._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await oE(t,n,s,Qm(),o);return KM(t,f,Gp())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await oE(t,n,s,Qm(),o);return eM(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(nr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await BM(t),s=new bM(t);return n.register("authEvent",o=>(At(o==null?void 0:o.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(gm,{type:gm},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[gm];f!==void 0&&n(!!f),er(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=OM(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return cS()||rS()||Hp()}}const JM=WM;var lE="@firebase/auth",uE="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tV{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){At(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eV(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function nV(r){Ti(new Yn("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;At(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hS(r)},y=new M2(s,o,u,g);return L2(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Ti(new Yn("auth-internal",t=>{const n=jh(t.getProvider("auth").getImmediate());return(s=>new tV(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),kn(lE,uE,eV(r)),kn(lE,uE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iV=5*60,rV=BE("authIdTokenMaxAge")||iV;let cE=null;const sV=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>rV)return;const o=n==null?void 0:n.token;cE!==o&&(cE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function aV(r=ep()){const t=Ks(r,"auth");if(t.isInitialized())return t.getImmediate();const n=x2(r,{popupRedirectResolver:JM,persistence:[cM,W2,vS]}),s=BE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=sV(u.toString());$2(n,f,()=>f(n.currentUser)),Y2(n,m=>f(m))}}const o=LE("auth");return o&&z2(n,`http://${o}`),n}function oV(){var r,t;return(t=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&t!==void 0?t:document}V2({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=o=>{const u=_i("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",oV().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});nV("Browser");const lV={apiKey:"AIzaSyDt3jalGC3bPfmee4mcaIV8jWlh1yWQw04",authDomain:"movieratings-c1445.firebaseapp.com",projectId:"movieratings-c1445",storageBucket:"movieratings-c1445.appspot.com",messagingSenderId:"193250184547",appId:"1:193250184547:web:a440429e8918152e219756",measurementId:"G-DJB83QFVQ4"},Qp=QE(lV);LC(Qp);const ym=qN(Qp),uV=aV(Qp);F2(uV).then(()=>{console.log("Signed in anonymously ")}).catch(r=>{console.error("Anonymous sign-in failed:",r)});const cV="3ae7b5b217c5389d349a90262ba52dec",hV="https://api.themoviedb.org/3";function fV(){var H;const[r,t]=Yi.useState([]),[n,s]=Yi.useState(""),[o,u]=Yi.useState([]),[f,m]=Yi.useState(null),[g,y]=Yi.useState(null),[T,S]=Yi.useState(null);Yi.useEffect(()=>{const it=uw(async()=>{if(!n.trim()){u([]);return}try{const gt=(await ge.get(`${hV}/search/movie`,{params:{api_key:cV,query:n}})).data.results;u(gt||[])}catch(st){console.error("Search failed",st)}},400);return it(),()=>{it.cancel()}},[n]);const M=async(et,it)=>{try{await o2(mm(ym,"ratings"),{title:et.title,movieId:et.id,rating:it,timestamp:new Date}),q(et.id),fetchRatedMovies()}catch(st){console.error("Error adding rating: ",st)}},j=async()=>{try{const et=FT(mm(ym,"ratings")),it=await QT(et),st={};it.forEach(lt=>{const C=lt.data(),{movieId:b,title:w,rating:N}=C;st[b]||(st[b]={title:w,movieId:b,total:0,count:0}),st[b].total+=N,st[b].count+=1});const tt=Object.values(st).map(lt=>({...lt,average:lt.total/lt.count})).filter(lt=>lt.count>=2).sort((lt,C)=>C.average-lt.average).slice(0,10);t(tt)}catch(et){console.error("Error fetching top rated movies:",et)}};Yi.useEffect(()=>{j()},[]);const q=async et=>{try{const it=FT(mm(ym,"ratings"),t2("movieId","==",et)),st=await QT(it);let gt=0,tt=0;st.forEach(lt=>{gt+=lt.data().rating,tt++}),tt>0?S((gt/tt).toFixed(1)):S(null)}catch(it){console.error("Error fetching average rating: ",it)}},$=et=>{y(et),f&&M(f,et)};return me.jsxs("div",{className:"app",children:[me.jsx("h1",{children:" Movies"}),me.jsxs("div",{style:{position:"relative"},children:[me.jsx("input",{type:"text",value:n,onChange:et=>s(et.target.value),placeholder:"Search for a movie..."}),o.length>0&&me.jsx("ul",{className:"dropdown",children:o.slice(0,5).map(et=>{var it;return me.jsxs("li",{onClick:()=>{m(et),u([]),y(null),q(et.id)},children:[et.title," (",(it=et.release_date)==null?void 0:it.slice(0,4),")"]},et.id)})})]}),f&&me.jsxs("div",{className:"movie-card",children:[me.jsxs("h2",{children:[f.title," (",(H=f.release_date)==null?void 0:H.slice(0,4),")"]}),f.poster_path&&me.jsx("img",{src:`https://image.tmdb.org/t/p/w500${f.poster_path}`,alt:f.title}),me.jsx("p",{children:f.overview}),T&&me.jsxs("p",{children:[" Average Rating: ",T,"/10"]}),me.jsx("p",{children:"Rate this movie:"}),me.jsx("div",{className:"rating-buttons",children:[...Array(10)].map((et,it)=>me.jsx("button",{onClick:()=>$(it+1),className:g===it+1?"selected-rating":"unselected-rating",children:it+1},it))})]}),r.length>0&&me.jsxs("div",{className:"rated-movies",children:[me.jsx("h3",{children:" Top 10 Rated Movies"}),me.jsx("ul",{children:r.map((et,it)=>me.jsxs("li",{children:[me.jsxs("strong",{children:[it+1,". ",et.title]}),"  ",et.average.toFixed(1),"/10 (",et.count," rating",et.count>1?"s":"",")"]},et.movieId))})]})]})}aw.createRoot(document.getElementById("root")).render(me.jsx(Yi.StrictMode,{children:me.jsx(fV,{})}));
