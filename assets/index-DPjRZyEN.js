(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Jh={exports:{}},$o={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xy;function HA(){if(Xy)return $o;Xy=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var h=null;if(c!==void 0&&(h=""+c),l.key!==void 0&&(h=""+l.key),"key"in l){c={};for(var m in l)m!=="key"&&(c[m]=l[m])}else c=l;return l=c.ref,{$$typeof:r,type:a,key:h,ref:l!==void 0?l:null,props:c}}return $o.Fragment=t,$o.jsx=i,$o.jsxs=i,$o}var $y;function FA(){return $y||($y=1,Jh.exports=HA()),Jh.exports}var ye=FA(),Wh={exports:{}},Rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zy;function GA(){if(Zy)return Rt;Zy=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.iterator;function x(D){return D===null||typeof D!="object"?null:(D=b&&D[b]||D["@@iterator"],typeof D=="function"?D:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,Z={};function B(D,W,rt){this.props=D,this.context=W,this.refs=Z,this.updater=rt||j}B.prototype.isReactComponent={},B.prototype.setState=function(D,W){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,W,"setState")},B.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function it(){}it.prototype=B.prototype;function st(D,W,rt){this.props=D,this.context=W,this.refs=Z,this.updater=rt||j}var at=st.prototype=new it;at.constructor=st,F(at,B.prototype),at.isPureReactComponent=!0;var vt=Array.isArray,ot={H:null,A:null,T:null,S:null,V:null},At=Object.prototype.hasOwnProperty;function O(D,W,rt,tt,mt,Dt){return rt=Dt.ref,{$$typeof:r,type:D,key:W,ref:rt!==void 0?rt:null,props:Dt}}function S(D,W){return O(D.type,W,void 0,void 0,void 0,D.props)}function w(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function V(D){var W={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(rt){return W[rt]})}var N=/\/+/g;function U(D,W){return typeof D=="object"&&D!==null&&D.key!=null?V(""+D.key):W.toString(36)}function C(){}function xe(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(C,C):(D.status="pending",D.then(function(W){D.status==="pending"&&(D.status="fulfilled",D.value=W)},function(W){D.status==="pending"&&(D.status="rejected",D.reason=W)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function re(D,W,rt,tt,mt){var Dt=typeof D;(Dt==="undefined"||Dt==="boolean")&&(D=null);var Et=!1;if(D===null)Et=!0;else switch(Dt){case"bigint":case"string":case"number":Et=!0;break;case"object":switch(D.$$typeof){case r:case t:Et=!0;break;case E:return Et=D._init,re(Et(D._payload),W,rt,tt,mt)}}if(Et)return mt=mt(D),Et=tt===""?"."+U(D,0):tt,vt(mt)?(rt="",Et!=null&&(rt=Et.replace(N,"$&/")+"/"),re(mt,W,rt,"",function(jn){return jn})):mt!=null&&(w(mt)&&(mt=S(mt,rt+(mt.key==null||D&&D.key===mt.key?"":(""+mt.key).replace(N,"$&/")+"/")+Et)),W.push(mt)),1;Et=0;var Ce=tt===""?".":tt+":";if(vt(D))for(var Zt=0;Zt<D.length;Zt++)tt=D[Zt],Dt=Ce+U(tt,Zt),Et+=re(tt,W,rt,Dt,mt);else if(Zt=x(D),typeof Zt=="function")for(D=Zt.call(D),Zt=0;!(tt=D.next()).done;)tt=tt.value,Dt=Ce+U(tt,Zt++),Et+=re(tt,W,rt,Dt,mt);else if(Dt==="object"){if(typeof D.then=="function")return re(xe(D),W,rt,tt,mt);throw W=String(D),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return Et}function Q(D,W,rt){if(D==null)return D;var tt=[],mt=0;return re(D,tt,"","",function(Dt){return W.call(rt,Dt,mt++)}),tt}function nt(D){if(D._status===-1){var W=D._result;W=W(),W.then(function(rt){(D._status===0||D._status===-1)&&(D._status=1,D._result=rt)},function(rt){(D._status===0||D._status===-1)&&(D._status=2,D._result=rt)}),D._status===-1&&(D._status=0,D._result=W)}if(D._status===1)return D._result.default;throw D._result}var ht=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function Bt(){}return Rt.Children={map:Q,forEach:function(D,W,rt){Q(D,function(){W.apply(this,arguments)},rt)},count:function(D){var W=0;return Q(D,function(){W++}),W},toArray:function(D){return Q(D,function(W){return W})||[]},only:function(D){if(!w(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Rt.Component=B,Rt.Fragment=i,Rt.Profiler=l,Rt.PureComponent=st,Rt.StrictMode=a,Rt.Suspense=y,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ot,Rt.__COMPILER_RUNTIME={__proto__:null,c:function(D){return ot.H.useMemoCache(D)}},Rt.cache=function(D){return function(){return D.apply(null,arguments)}},Rt.cloneElement=function(D,W,rt){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var tt=F({},D.props),mt=D.key,Dt=void 0;if(W!=null)for(Et in W.ref!==void 0&&(Dt=void 0),W.key!==void 0&&(mt=""+W.key),W)!At.call(W,Et)||Et==="key"||Et==="__self"||Et==="__source"||Et==="ref"&&W.ref===void 0||(tt[Et]=W[Et]);var Et=arguments.length-2;if(Et===1)tt.children=rt;else if(1<Et){for(var Ce=Array(Et),Zt=0;Zt<Et;Zt++)Ce[Zt]=arguments[Zt+2];tt.children=Ce}return O(D.type,mt,void 0,void 0,Dt,tt)},Rt.createContext=function(D){return D={$$typeof:h,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:c,_context:D},D},Rt.createElement=function(D,W,rt){var tt,mt={},Dt=null;if(W!=null)for(tt in W.key!==void 0&&(Dt=""+W.key),W)At.call(W,tt)&&tt!=="key"&&tt!=="__self"&&tt!=="__source"&&(mt[tt]=W[tt]);var Et=arguments.length-2;if(Et===1)mt.children=rt;else if(1<Et){for(var Ce=Array(Et),Zt=0;Zt<Et;Zt++)Ce[Zt]=arguments[Zt+2];mt.children=Ce}if(D&&D.defaultProps)for(tt in Et=D.defaultProps,Et)mt[tt]===void 0&&(mt[tt]=Et[tt]);return O(D,Dt,void 0,void 0,null,mt)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(D){return{$$typeof:m,render:D}},Rt.isValidElement=w,Rt.lazy=function(D){return{$$typeof:E,_payload:{_status:-1,_result:D},_init:nt}},Rt.memo=function(D,W){return{$$typeof:p,type:D,compare:W===void 0?null:W}},Rt.startTransition=function(D){var W=ot.T,rt={};ot.T=rt;try{var tt=D(),mt=ot.S;mt!==null&&mt(rt,tt),typeof tt=="object"&&tt!==null&&typeof tt.then=="function"&&tt.then(Bt,ht)}catch(Dt){ht(Dt)}finally{ot.T=W}},Rt.unstable_useCacheRefresh=function(){return ot.H.useCacheRefresh()},Rt.use=function(D){return ot.H.use(D)},Rt.useActionState=function(D,W,rt){return ot.H.useActionState(D,W,rt)},Rt.useCallback=function(D,W){return ot.H.useCallback(D,W)},Rt.useContext=function(D){return ot.H.useContext(D)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(D,W){return ot.H.useDeferredValue(D,W)},Rt.useEffect=function(D,W,rt){var tt=ot.H;if(typeof rt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return tt.useEffect(D,W)},Rt.useId=function(){return ot.H.useId()},Rt.useImperativeHandle=function(D,W,rt){return ot.H.useImperativeHandle(D,W,rt)},Rt.useInsertionEffect=function(D,W){return ot.H.useInsertionEffect(D,W)},Rt.useLayoutEffect=function(D,W){return ot.H.useLayoutEffect(D,W)},Rt.useMemo=function(D,W){return ot.H.useMemo(D,W)},Rt.useOptimistic=function(D,W){return ot.H.useOptimistic(D,W)},Rt.useReducer=function(D,W,rt){return ot.H.useReducer(D,W,rt)},Rt.useRef=function(D){return ot.H.useRef(D)},Rt.useState=function(D){return ot.H.useState(D)},Rt.useSyncExternalStore=function(D,W,rt){return ot.H.useSyncExternalStore(D,W,rt)},Rt.useTransition=function(){return ot.H.useTransition()},Rt.version="19.1.0",Rt}var Jy;function Xd(){return Jy||(Jy=1,Wh.exports=GA()),Wh.exports}var gs=Xd(),td={exports:{}},Zo={},ed={exports:{}},nd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wy;function QA(){return Wy||(Wy=1,function(r){function t(Q,nt){var ht=Q.length;Q.push(nt);t:for(;0<ht;){var Bt=ht-1>>>1,D=Q[Bt];if(0<l(D,nt))Q[Bt]=nt,Q[ht]=D,ht=Bt;else break t}}function i(Q){return Q.length===0?null:Q[0]}function a(Q){if(Q.length===0)return null;var nt=Q[0],ht=Q.pop();if(ht!==nt){Q[0]=ht;t:for(var Bt=0,D=Q.length,W=D>>>1;Bt<W;){var rt=2*(Bt+1)-1,tt=Q[rt],mt=rt+1,Dt=Q[mt];if(0>l(tt,ht))mt<D&&0>l(Dt,tt)?(Q[Bt]=Dt,Q[mt]=ht,Bt=mt):(Q[Bt]=tt,Q[rt]=ht,Bt=rt);else if(mt<D&&0>l(Dt,ht))Q[Bt]=Dt,Q[mt]=ht,Bt=mt;else break t}}return nt}function l(Q,nt){var ht=Q.sortIndex-nt.sortIndex;return ht!==0?ht:Q.id-nt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var h=Date,m=h.now();r.unstable_now=function(){return h.now()-m}}var y=[],p=[],E=1,b=null,x=3,j=!1,F=!1,Z=!1,B=!1,it=typeof setTimeout=="function"?setTimeout:null,st=typeof clearTimeout=="function"?clearTimeout:null,at=typeof setImmediate<"u"?setImmediate:null;function vt(Q){for(var nt=i(p);nt!==null;){if(nt.callback===null)a(p);else if(nt.startTime<=Q)a(p),nt.sortIndex=nt.expirationTime,t(y,nt);else break;nt=i(p)}}function ot(Q){if(Z=!1,vt(Q),!F)if(i(y)!==null)F=!0,At||(At=!0,U());else{var nt=i(p);nt!==null&&re(ot,nt.startTime-Q)}}var At=!1,O=-1,S=5,w=-1;function V(){return B?!0:!(r.unstable_now()-w<S)}function N(){if(B=!1,At){var Q=r.unstable_now();w=Q;var nt=!0;try{t:{F=!1,Z&&(Z=!1,st(O),O=-1),j=!0;var ht=x;try{e:{for(vt(Q),b=i(y);b!==null&&!(b.expirationTime>Q&&V());){var Bt=b.callback;if(typeof Bt=="function"){b.callback=null,x=b.priorityLevel;var D=Bt(b.expirationTime<=Q);if(Q=r.unstable_now(),typeof D=="function"){b.callback=D,vt(Q),nt=!0;break e}b===i(y)&&a(y),vt(Q)}else a(y);b=i(y)}if(b!==null)nt=!0;else{var W=i(p);W!==null&&re(ot,W.startTime-Q),nt=!1}}break t}finally{b=null,x=ht,j=!1}nt=void 0}}finally{nt?U():At=!1}}}var U;if(typeof at=="function")U=function(){at(N)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,xe=C.port2;C.port1.onmessage=N,U=function(){xe.postMessage(null)}}else U=function(){it(N,0)};function re(Q,nt){O=it(function(){Q(r.unstable_now())},nt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Q){Q.callback=null},r.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<Q?Math.floor(1e3/Q):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_next=function(Q){switch(x){case 1:case 2:case 3:var nt=3;break;default:nt=x}var ht=x;x=nt;try{return Q()}finally{x=ht}},r.unstable_requestPaint=function(){B=!0},r.unstable_runWithPriority=function(Q,nt){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ht=x;x=Q;try{return nt()}finally{x=ht}},r.unstable_scheduleCallback=function(Q,nt,ht){var Bt=r.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?Bt+ht:Bt):ht=Bt,Q){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=ht+D,Q={id:E++,callback:nt,priorityLevel:Q,startTime:ht,expirationTime:D,sortIndex:-1},ht>Bt?(Q.sortIndex=ht,t(p,Q),i(y)===null&&Q===i(p)&&(Z?(st(O),O=-1):Z=!0,re(ot,ht-Bt))):(Q.sortIndex=D,t(y,Q),F||j||(F=!0,At||(At=!0,U()))),Q},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(Q){var nt=x;return function(){var ht=x;x=nt;try{return Q.apply(this,arguments)}finally{x=ht}}}}(nd)),nd}var t_;function KA(){return t_||(t_=1,ed.exports=QA()),ed.exports}var id={exports:{}},Ge={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e_;function YA(){if(e_)return Ge;e_=1;var r=Xd();function t(y){var p="https://react.dev/errors/"+y;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)p+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+y+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,p,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:y,containerInfo:p,implementation:E}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(y,p){if(y==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Ge.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ge.createPortal=function(y,p){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return c(y,p,null,E)},Ge.flushSync=function(y){var p=h.T,E=a.p;try{if(h.T=null,a.p=2,y)return y()}finally{h.T=p,a.p=E,a.d.f()}},Ge.preconnect=function(y,p){typeof y=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,a.d.C(y,p))},Ge.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},Ge.preinit=function(y,p){if(typeof y=="string"&&p&&typeof p.as=="string"){var E=p.as,b=m(E,p.crossOrigin),x=typeof p.integrity=="string"?p.integrity:void 0,j=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;E==="style"?a.d.S(y,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:x,fetchPriority:j}):E==="script"&&a.d.X(y,{crossOrigin:b,integrity:x,fetchPriority:j,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Ge.preinitModule=function(y,p){if(typeof y=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var E=m(p.as,p.crossOrigin);a.d.M(y,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&a.d.M(y)},Ge.preload=function(y,p){if(typeof y=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var E=p.as,b=m(E,p.crossOrigin);a.d.L(y,E,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Ge.preloadModule=function(y,p){if(typeof y=="string")if(p){var E=m(p.as,p.crossOrigin);a.d.m(y,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else a.d.m(y)},Ge.requestFormReset=function(y){a.d.r(y)},Ge.unstable_batchedUpdates=function(y,p){return y(p)},Ge.useFormState=function(y,p,E){return h.H.useFormState(y,p,E)},Ge.useFormStatus=function(){return h.H.useHostTransitionStatus()},Ge.version="19.1.0",Ge}var n_;function XA(){if(n_)return id.exports;n_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),id.exports=YA(),id.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i_;function $A(){if(i_)return Zo;i_=1;var r=KA(),t=Xd(),i=XA();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function h(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function m(e){if(c(e)!==e)throw Error(a(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,o=n;;){var f=s.return;if(f===null)break;var d=f.alternate;if(d===null){if(o=f.return,o!==null){s=o;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===s)return m(f),e;if(d===o)return m(f),n;d=d.sibling}throw Error(a(188))}if(s.return!==o.return)s=f,o=d;else{for(var v=!1,T=f.child;T;){if(T===s){v=!0,s=f,o=d;break}if(T===o){v=!0,o=f,s=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===s){v=!0,s=d,o=f;break}if(T===o){v=!0,o=d,s=f;break}T=T.sibling}if(!v)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function p(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=p(e),n!==null)return n;e=e.sibling}return null}var E=Object.assign,b=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),it=Symbol.for("react.provider"),st=Symbol.for("react.consumer"),at=Symbol.for("react.context"),vt=Symbol.for("react.forward_ref"),ot=Symbol.for("react.suspense"),At=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var C=Symbol.for("react.client.reference");function xe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===C?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case F:return"Fragment";case B:return"Profiler";case Z:return"StrictMode";case ot:return"Suspense";case At:return"SuspenseList";case w:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case j:return"Portal";case at:return(e.displayName||"Context")+".Provider";case st:return(e._context.displayName||"Context")+".Consumer";case vt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case O:return n=e.displayName||null,n!==null?n:xe(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return xe(e(n))}catch{}}return null}var re=Array.isArray,Q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},Bt=[],D=-1;function W(e){return{current:e}}function rt(e){0>D||(e.current=Bt[D],Bt[D]=null,D--)}function tt(e,n){D++,Bt[D]=e.current,e.current=n}var mt=W(null),Dt=W(null),Et=W(null),Ce=W(null);function Zt(e,n){switch(tt(Et,n),tt(Dt,e),tt(mt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Sy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Sy(n),e=by(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}rt(mt),tt(mt,e)}function jn(){rt(mt),rt(Dt),rt(Et)}function ji(e){e.memoizedState!==null&&tt(Ce,e);var n=mt.current,s=by(n,e.type);n!==s&&(tt(Dt,e),tt(mt,s))}function fi(e){Dt.current===e&&(rt(mt),rt(Dt)),Ce.current===e&&(rt(Ce),Go._currentValue=ht)}var Nr=Object.prototype.hasOwnProperty,Mr=r.unstable_scheduleCallback,xr=r.unstable_cancelCallback,qa=r.unstable_shouldYield,bl=r.unstable_requestPaint,_n=r.unstable_now,Zc=r.unstable_getCurrentPriorityLevel,ja=r.unstable_ImmediatePriority,Os=r.unstable_UserBlockingPriority,Ur=r.unstable_NormalPriority,Jc=r.unstable_LowPriority,Vs=r.unstable_IdlePriority,Ha=r.log,Rl=r.unstable_setDisableYieldValue,se=null,Ht=null;function on(e){if(typeof Ha=="function"&&Rl(e),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(se,e)}catch{}}var He=Math.clz32?Math.clz32:Lr,wl=Math.log,Wc=Math.LN2;function Lr(e){return e>>>=0,e===0?32:31-(wl(e)/Wc|0)|0}var Pr=256,zr=4194304;function Mn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ns(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var f=0,d=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var T=o&134217727;return T!==0?(o=T&~d,o!==0?f=Mn(o):(v&=T,v!==0?f=Mn(v):s||(s=T&~e,s!==0&&(f=Mn(s))))):(T=o&~d,T!==0?f=Mn(T):v!==0?f=Mn(v):s||(s=o&~e,s!==0&&(f=Mn(s)))),f===0?0:n!==0&&n!==f&&(n&d)===0&&(d=f&-f,s=n&-n,d>=s||d===32&&(s&4194048)!==0)?n:f}function Br(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Fa(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ga(){var e=Pr;return Pr<<=1,(Pr&4194048)===0&&(Pr=256),e}function Qa(){var e=zr;return zr<<=1,(zr&62914560)===0&&(zr=4194304),e}function hi(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function di(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ka(e,n,s,o,f,d){var v=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var T=e.entanglements,R=e.expirationTimes,z=e.hiddenUpdates;for(s=v&~s;0<s;){var K=31-He(s),X=1<<K;T[K]=0,R[K]=-1;var k=z[K];if(k!==null)for(z[K]=null,K=0;K<k.length;K++){var q=k[K];q!==null&&(q.lane&=-536870913)}s&=~X}o!==0&&Hn(e,o,0),d!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=d&~(v&~n))}function Hn(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-He(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&4194090}function Ya(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-He(s),f=1<<o;f&n|e[o]&n&&(e[o]|=n),s&=~f}}function Hi(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ms(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Fi(){var e=nt.p;return e!==0?e:(e=window.event,e===void 0?32:Hy(e.type))}function Cl(e,n){var s=nt.p;try{return nt.p=e,n()}finally{nt.p=s}}var te=Math.random().toString(36).slice(2),Ee="__reactFiber$"+te,de="__reactProps$"+te,vn="__reactContainer$"+te,Xa="__reactEvents$"+te,tf="__reactListeners$"+te,Gi="__reactHandles$"+te,Dl="__reactResources$"+te,kr="__reactMarker$"+te;function Qi(e){delete e[Ee],delete e[de],delete e[Xa],delete e[tf],delete e[Gi]}function mi(e){var n=e[Ee];if(n)return n;for(var s=e.parentNode;s;){if(n=s[vn]||s[Ee]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=Dy(e);e!==null;){if(s=e[Ee])return s;e=Dy(e)}return n}e=s,s=e.parentNode}return null}function Fn(e){if(e=e[Ee]||e[vn]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function Gn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function $e(e){var n=e[Dl];return n||(n=e[Dl]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function le(e){e[kr]=!0}var $a=new Set,xs={};function xn(e,n){gi(e,n),gi(e+"Capture",n)}function gi(e,n){for(xs[e]=n,e=0;e<n.length;e++)$a.add(n[e])}var Il=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ol={},qr={};function Vl(e){return Nr.call(qr,e)?!0:Nr.call(Ol,e)?!1:Il.test(e)?qr[e]=!0:(Ol[e]=!0,!1)}function Ki(e,n,s){if(Vl(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function Qn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Ue(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}var jr,Nl;function pi(e){if(jr===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);jr=n&&n[1]||"",Nl=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+jr+e+Nl}var Us=!1;function Ls(e,n){if(!e||Us)return"";Us=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(q){var k=q}Reflect.construct(e,[],X)}else{try{X.call()}catch(q){k=q}e.call(X.prototype)}}else{try{throw Error()}catch(q){k=q}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(q){if(q&&k&&typeof q.stack=="string")return[q.stack,k.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var R=v.split(`
`),z=T.split(`
`);for(f=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;f<z.length&&!z[f].includes("DetermineComponentFrameRoot");)f++;if(o===R.length||f===z.length)for(o=R.length-1,f=z.length-1;1<=o&&0<=f&&R[o]!==z[f];)f--;for(;1<=o&&0<=f;o--,f--)if(R[o]!==z[f]){if(o!==1||f!==1)do if(o--,f--,0>f||R[o]!==z[f]){var K=`
`+R[o].replace(" at new "," at ");return e.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",e.displayName)),K}while(1<=o&&0<=f);break}}}finally{Us=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?pi(s):""}function Za(e){switch(e.tag){case 26:case 27:case 5:return pi(e.type);case 16:return pi("Lazy");case 13:return pi("Suspense");case 19:return pi("SuspenseList");case 0:case 15:return Ls(e.type,!1);case 11:return Ls(e.type.render,!1);case 1:return Ls(e.type,!0);case 31:return pi("Activity");default:return""}}function Ps(e){try{var n="";do n+=Za(e),e=e.return;while(e);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function Ze(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ja(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ef(e){var n=Ja(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),o=""+e[n];if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var f=s.get,d=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return f.call(this)},set:function(v){o=""+v,d.call(this,v)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return o},setValue:function(v){o=""+v},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function zs(e){e._valueTracker||(e._valueTracker=ef(e))}function Wa(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=Ja(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function Hr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var nf=/[\n"\\]/g;function me(e){return e.replace(nf,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ln(e,n,s,o,f,d,v,T){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),n!=null?v==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ze(n)):e.value!==""+Ze(n)&&(e.value=""+Ze(n)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),n!=null?Yi(e,v,Ze(n)):s!=null?Yi(e,v,Ze(s)):o!=null&&e.removeAttribute("value"),f==null&&d!=null&&(e.defaultChecked=!!d),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+Ze(T):e.removeAttribute("name")}function Fr(e,n,s,o,f,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),n!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||n!=null))return;s=s!=null?""+Ze(s):"",n=n!=null?""+Ze(n):s,T||n===e.value||(e.value=n),e.defaultValue=n}o=o??f,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=T?e.checked:!!o,e.defaultChecked=!!o,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function Yi(e,n,s){n==="number"&&Hr(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function yi(e,n,s,o){if(e=e.options,n){n={};for(var f=0;f<s.length;f++)n["$"+s[f]]=!0;for(s=0;s<e.length;s++)f=n.hasOwnProperty("$"+e[s].value),e[s].selected!==f&&(e[s].selected=f),f&&o&&(e[s].defaultSelected=!0)}else{for(s=""+Ze(s),n=null,f=0;f<e.length;f++){if(e[f].value===s){e[f].selected=!0,o&&(e[f].defaultSelected=!0);return}n!==null||e[f].disabled||(n=e[f])}n!==null&&(n.selected=!0)}}function Qt(e,n,s){if(n!=null&&(n=""+Ze(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+Ze(s):""}function Gr(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(re(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=Ze(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o)}function En(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var Qr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ml(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||Qr.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function to(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var f in n)o=n[f],n.hasOwnProperty(f)&&s[f]!==o&&Ml(e,f,o)}else for(var d in n)n.hasOwnProperty(d)&&Ml(e,d,n[d])}function eo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),sf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Bs(e){return sf.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var _i=null;function Tn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var vi=null,Ei=null;function no(e){var n=Fn(e);if(n&&(e=n.stateNode)){var s=e[de]||null;t:switch(e=n.stateNode,n.type){case"input":if(ln(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+me(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var f=o[de]||null;if(!f)throw Error(a(90));ln(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&Wa(o)}break t;case"textarea":Qt(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&yi(e,!!s.multiple,n,!1)}}}var Kn=!1;function xl(e,n,s){if(Kn)return e(n,s);Kn=!0;try{var o=e(n);return o}finally{if(Kn=!1,(vi!==null||Ei!==null)&&(Cu(),vi&&(n=vi,e=Ei,Ei=vi=null,no(n),e)))for(n=0;n<e.length;n++)no(e[n])}}function Kr(e,n){var s=e.stateNode;if(s===null)return null;var o=s[de]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),An=!1;if(Un)try{var Yr={};Object.defineProperty(Yr,"passive",{get:function(){An=!0}}),window.addEventListener("test",Yr,Yr),window.removeEventListener("test",Yr,Yr)}catch{An=!1}var Yn=null,Xi=null,Ti=null;function io(){if(Ti)return Ti;var e,n=Xi,s=n.length,o,f="value"in Yn?Yn.value:Yn.textContent,d=f.length;for(e=0;e<s&&n[e]===f[e];e++);var v=s-e;for(o=1;o<=v&&n[s-o]===f[d-o];o++);return Ti=f.slice(e,1<o?1-o:void 0)}function Xn(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function $n(){return!0}function ro(){return!1}function De(e){function n(s,o,f,d,v){this._reactName=s,this._targetInst=f,this.type=o,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(s=e[T],this[T]=s?s(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?$n:ro,this.isPropagationStopped=ro,this}return E(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=$n)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=$n)},persist:function(){},isPersistent:$n}),n}var qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ks=De(qt),Xr=E({},qt,{view:0,detail:0}),Ul=De(Xr),qs,js,Zn,$r=E({},Xr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Zn&&(Zn&&e.type==="mousemove"?(qs=e.screenX-Zn.screenX,js=e.screenY-Zn.screenY):js=qs=0,Zn=e),qs)},movementY:function(e){return"movementY"in e?e.movementY:js}}),Sn=De($r),Ll=E({},$r,{dataTransfer:0}),af=De(Ll),Zr=E({},Xr,{relatedTarget:0}),Hs=De(Zr),so=E({},qt,{animationName:0,elapsedTime:0,pseudoElement:0}),Fs=De(so),Pl=E({},qt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Gs=De(Pl),of=E({},qt,{data:0}),ao=De(of),Jr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oo(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Bl[e])?!!n[e]:!1}function Wr(){return oo}var kl=E({},Xr,{key:function(e){if(e.key){var n=Jr[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Xn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?zl[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wr,charCode:function(e){return e.type==="keypress"?Xn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Xn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Qs=De(kl),ql=E({},$r,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lo=De(ql),Ai=E({},Xr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wr}),jl=De(Ai),Hl=E({},qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fl=De(Hl),Gl=E({},$r,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ks=De(Gl),Je=E({},qt,{newState:0,oldState:0}),Ql=De(Je),Kl=[9,13,27,32],Jn=Un&&"CompositionEvent"in window,u=null;Un&&"documentMode"in document&&(u=document.documentMode);var g=Un&&"TextEvent"in window&&!u,_=Un&&(!Jn||u&&8<u&&11>=u),A=" ",L=!1;function H(e,n){switch(e){case"keyup":return Kl.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function et(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Mt=!1;function Te(e,n){switch(e){case"compositionend":return et(n);case"keypress":return n.which!==32?null:(L=!0,A);case"textInput":return e=n.data,e===A&&L?null:e;default:return null}}function xt(e,n){if(Mt)return e==="compositionend"||!Jn&&H(e,n)?(e=io(),Ti=Xi=Yn=null,Mt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return _&&n.locale!=="ko"?null:n.data;default:return null}}var Ie={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ae(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Ie[e.type]:n==="textarea"}function Si(e,n,s,o){vi?Ei?Ei.push(o):Ei=[o]:vi=o,n=Mu(n,"onChange"),0<n.length&&(s=new ks("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var Le=null,Wn=null;function uo(e){_y(e,0)}function Yl(e){var n=Gn(e);if(Wa(n))return e}function Bm(e,n){if(e==="change")return n}var km=!1;if(Un){var lf;if(Un){var uf="oninput"in document;if(!uf){var qm=document.createElement("div");qm.setAttribute("oninput","return;"),uf=typeof qm.oninput=="function"}lf=uf}else lf=!1;km=lf&&(!document.documentMode||9<document.documentMode)}function jm(){Le&&(Le.detachEvent("onpropertychange",Hm),Wn=Le=null)}function Hm(e){if(e.propertyName==="value"&&Yl(Wn)){var n=[];Si(n,Wn,e,Tn(e)),xl(uo,n)}}function vT(e,n,s){e==="focusin"?(jm(),Le=n,Wn=s,Le.attachEvent("onpropertychange",Hm)):e==="focusout"&&jm()}function ET(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Yl(Wn)}function TT(e,n){if(e==="click")return Yl(n)}function AT(e,n){if(e==="input"||e==="change")return Yl(n)}function ST(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var un=typeof Object.is=="function"?Object.is:ST;function co(e,n){if(un(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var f=s[o];if(!Nr.call(n,f)||!un(e[f],n[f]))return!1}return!0}function Fm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Gm(e,n){var s=Fm(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=Fm(s)}}function Qm(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Qm(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Km(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Hr(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=Hr(e.document)}return n}function cf(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var bT=Un&&"documentMode"in document&&11>=document.documentMode,Ys=null,ff=null,fo=null,hf=!1;function Ym(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;hf||Ys==null||Ys!==Hr(o)||(o=Ys,"selectionStart"in o&&cf(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),fo&&co(fo,o)||(fo=o,o=Mu(ff,"onSelect"),0<o.length&&(n=new ks("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=Ys)))}function ts(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var Xs={animationend:ts("Animation","AnimationEnd"),animationiteration:ts("Animation","AnimationIteration"),animationstart:ts("Animation","AnimationStart"),transitionrun:ts("Transition","TransitionRun"),transitionstart:ts("Transition","TransitionStart"),transitioncancel:ts("Transition","TransitionCancel"),transitionend:ts("Transition","TransitionEnd")},df={},Xm={};Un&&(Xm=document.createElement("div").style,"AnimationEvent"in window||(delete Xs.animationend.animation,delete Xs.animationiteration.animation,delete Xs.animationstart.animation),"TransitionEvent"in window||delete Xs.transitionend.transition);function es(e){if(df[e])return df[e];if(!Xs[e])return e;var n=Xs[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Xm)return df[e]=n[s];return e}var $m=es("animationend"),Zm=es("animationiteration"),Jm=es("animationstart"),RT=es("transitionrun"),wT=es("transitionstart"),CT=es("transitioncancel"),Wm=es("transitionend"),tg=new Map,mf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");mf.push("scrollEnd");function Ln(e,n){tg.set(e,n),xn(n,[e])}var eg=new WeakMap;function bn(e,n){if(typeof e=="object"&&e!==null){var s=eg.get(e);return s!==void 0?s:(n={value:e,source:n,stack:Ps(n)},eg.set(e,n),n)}return{value:e,source:n,stack:Ps(n)}}var Rn=[],$s=0,gf=0;function Xl(){for(var e=$s,n=gf=$s=0;n<e;){var s=Rn[n];Rn[n++]=null;var o=Rn[n];Rn[n++]=null;var f=Rn[n];Rn[n++]=null;var d=Rn[n];if(Rn[n++]=null,o!==null&&f!==null){var v=o.pending;v===null?f.next=f:(f.next=v.next,v.next=f),o.pending=f}d!==0&&ng(s,f,d)}}function $l(e,n,s,o){Rn[$s++]=e,Rn[$s++]=n,Rn[$s++]=s,Rn[$s++]=o,gf|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function pf(e,n,s,o){return $l(e,n,s,o),Zl(e)}function Zs(e,n){return $l(e,null,null,n),Zl(e)}function ng(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var f=!1,d=e.return;d!==null;)d.childLanes|=s,o=d.alternate,o!==null&&(o.childLanes|=s),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(f=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,f&&n!==null&&(f=31-He(s),e=d.hiddenUpdates,o=e[f],o===null?e[f]=[n]:o.push(n),n.lane=s|536870912),d):null}function Zl(e){if(50<Po)throw Po=0,Ah=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Js={};function DT(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(e,n,s,o){return new DT(e,n,s,o)}function yf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function bi(e,n){var s=e.alternate;return s===null?(s=cn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function ig(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Jl(e,n,s,o,f,d){var v=0;if(o=e,typeof e=="function")yf(e)&&(v=1);else if(typeof e=="string")v=OA(e,s,mt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case w:return e=cn(31,s,n,f),e.elementType=w,e.lanes=d,e;case F:return ns(s.children,f,d,n);case Z:v=8,f|=24;break;case B:return e=cn(12,s,n,f|2),e.elementType=B,e.lanes=d,e;case ot:return e=cn(13,s,n,f),e.elementType=ot,e.lanes=d,e;case At:return e=cn(19,s,n,f),e.elementType=At,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case it:case at:v=10;break t;case st:v=9;break t;case vt:v=11;break t;case O:v=14;break t;case S:v=16,o=null;break t}v=29,s=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=cn(v,s,n,f),n.elementType=e,n.type=o,n.lanes=d,n}function ns(e,n,s,o){return e=cn(7,e,o,n),e.lanes=s,e}function _f(e,n,s){return e=cn(6,e,null,n),e.lanes=s,e}function vf(e,n,s){return n=cn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Ws=[],ta=0,Wl=null,tu=0,wn=[],Cn=0,is=null,Ri=1,wi="";function rs(e,n){Ws[ta++]=tu,Ws[ta++]=Wl,Wl=e,tu=n}function rg(e,n,s){wn[Cn++]=Ri,wn[Cn++]=wi,wn[Cn++]=is,is=e;var o=Ri;e=wi;var f=32-He(o)-1;o&=~(1<<f),s+=1;var d=32-He(n)+f;if(30<d){var v=f-f%5;d=(o&(1<<v)-1).toString(32),o>>=v,f-=v,Ri=1<<32-He(n)+f|s<<f|o,wi=d+e}else Ri=1<<d|s<<f|o,wi=e}function Ef(e){e.return!==null&&(rs(e,1),rg(e,1,0))}function Tf(e){for(;e===Wl;)Wl=Ws[--ta],Ws[ta]=null,tu=Ws[--ta],Ws[ta]=null;for(;e===is;)is=wn[--Cn],wn[Cn]=null,wi=wn[--Cn],wn[Cn]=null,Ri=wn[--Cn],wn[Cn]=null}var We=null,ae=null,kt=!1,ss=null,ti=!1,Af=Error(a(519));function as(e){var n=Error(a(418,""));throw go(bn(n,e)),Af}function sg(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[Ee]=e,n[de]=o,s){case"dialog":Vt("cancel",n),Vt("close",n);break;case"iframe":case"object":case"embed":Vt("load",n);break;case"video":case"audio":for(s=0;s<Bo.length;s++)Vt(Bo[s],n);break;case"source":Vt("error",n);break;case"img":case"image":case"link":Vt("error",n),Vt("load",n);break;case"details":Vt("toggle",n);break;case"input":Vt("invalid",n),Fr(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),zs(n);break;case"select":Vt("invalid",n);break;case"textarea":Vt("invalid",n),Gr(n,o.value,o.defaultValue,o.children),zs(n)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||Ay(n.textContent,s)?(o.popover!=null&&(Vt("beforetoggle",n),Vt("toggle",n)),o.onScroll!=null&&Vt("scroll",n),o.onScrollEnd!=null&&Vt("scrollend",n),o.onClick!=null&&(n.onclick=xu),n=!0):n=!1,n||as(e)}function ag(e){for(We=e.return;We;)switch(We.tag){case 5:case 13:ti=!1;return;case 27:case 3:ti=!0;return;default:We=We.return}}function ho(e){if(e!==We)return!1;if(!kt)return ag(e),kt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||zh(e.type,e.memoizedProps)),s=!s),s&&ae&&as(e),ag(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));t:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(s=e.data,s==="/$"){if(n===0){ae=zn(e.nextSibling);break t}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++;e=e.nextSibling}ae=null}}else n===27?(n=ae,fr(e.type)?(e=jh,jh=null,ae=e):ae=n):ae=We?zn(e.stateNode.nextSibling):null;return!0}function mo(){ae=We=null,kt=!1}function og(){var e=ss;return e!==null&&(nn===null?nn=e:nn.push.apply(nn,e),ss=null),e}function go(e){ss===null?ss=[e]:ss.push(e)}var Sf=W(null),os=null,Ci=null;function $i(e,n,s){tt(Sf,n._currentValue),n._currentValue=s}function Di(e){e._currentValue=Sf.current,rt(Sf)}function bf(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function Rf(e,n,s,o){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var d=f.dependencies;if(d!==null){var v=f.child;d=d.firstContext;t:for(;d!==null;){var T=d;d=f;for(var R=0;R<n.length;R++)if(T.context===n[R]){d.lanes|=s,T=d.alternate,T!==null&&(T.lanes|=s),bf(d.return,s,e),o||(v=null);break t}d=T.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(a(341));v.lanes|=s,d=v.alternate,d!==null&&(d.lanes|=s),bf(v,s,e),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===e){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function po(e,n,s,o){e=null;for(var f=n,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(a(387));if(v=v.memoizedProps,v!==null){var T=f.type;un(f.pendingProps.value,v.value)||(e!==null?e.push(T):e=[T])}}else if(f===Ce.current){if(v=f.alternate,v===null)throw Error(a(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(Go):e=[Go])}f=f.return}e!==null&&Rf(n,e,s,o),n.flags|=262144}function eu(e){for(e=e.firstContext;e!==null;){if(!un(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ls(e){os=e,Ci=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Fe(e){return lg(os,e)}function nu(e,n){return os===null&&ls(e),lg(e,n)}function lg(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Ci===null){if(e===null)throw Error(a(308));Ci=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Ci=Ci.next=n;return s}var IT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},OT=r.unstable_scheduleCallback,VT=r.unstable_NormalPriority,Se={$$typeof:at,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wf(){return{controller:new IT,data:new Map,refCount:0}}function yo(e){e.refCount--,e.refCount===0&&OT(VT,function(){e.controller.abort()})}var _o=null,Cf=0,ea=0,na=null;function NT(e,n){if(_o===null){var s=_o=[];Cf=0,ea=Ih(),na={status:"pending",value:void 0,then:function(o){s.push(o)}}}return Cf++,n.then(ug,ug),n}function ug(){if(--Cf===0&&_o!==null){na!==null&&(na.status="fulfilled");var e=_o;_o=null,ea=0,na=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function MT(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(f){s.push(f)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var f=0;f<s.length;f++)(0,s[f])(n)},function(f){for(o.status="rejected",o.reason=f,f=0;f<s.length;f++)(0,s[f])(void 0)}),o}var cg=Q.S;Q.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&NT(e,n),cg!==null&&cg(e,n)};var us=W(null);function Df(){var e=us.current;return e!==null?e:Jt.pooledCache}function iu(e,n){n===null?tt(us,us.current):tt(us,n.pool)}function fg(){var e=Df();return e===null?null:{parent:Se._currentValue,pool:e}}var vo=Error(a(460)),hg=Error(a(474)),ru=Error(a(542)),If={then:function(){}};function dg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function su(){}function mg(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(su,su),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,pg(e),e;default:if(typeof n.status=="string")n.then(su,su);else{if(e=Jt,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=o}},function(o){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,pg(e),e}throw Eo=n,vo}}var Eo=null;function gg(){if(Eo===null)throw Error(a(459));var e=Eo;return Eo=null,e}function pg(e){if(e===vo||e===ru)throw Error(a(483))}var Zi=!1;function Of(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Vf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ji(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Wi(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Ft&2)!==0){var f=o.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),o.pending=n,n=Zl(e),ng(e,null,s),n}return $l(e,o,n,s),Zl(e)}function To(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,Ya(e,s)}}function Nf(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var f=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var v={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?f=d=v:d=d.next=v,s=s.next}while(s!==null);d===null?f=d=n:d=d.next=n}else f=d=n;s={baseState:o.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var Mf=!1;function Ao(){if(Mf){var e=na;if(e!==null)throw e}}function So(e,n,s,o){Mf=!1;var f=e.updateQueue;Zi=!1;var d=f.firstBaseUpdate,v=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var R=T,z=R.next;R.next=null,v===null?d=z:v.next=z,v=R;var K=e.alternate;K!==null&&(K=K.updateQueue,T=K.lastBaseUpdate,T!==v&&(T===null?K.firstBaseUpdate=z:T.next=z,K.lastBaseUpdate=R))}if(d!==null){var X=f.baseState;v=0,K=z=R=null,T=d;do{var k=T.lane&-536870913,q=k!==T.lane;if(q?(Ut&k)===k:(o&k)===k){k!==0&&k===ea&&(Mf=!0),K!==null&&(K=K.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var yt=e,gt=T;k=n;var Xt=s;switch(gt.tag){case 1:if(yt=gt.payload,typeof yt=="function"){X=yt.call(Xt,X,k);break t}X=yt;break t;case 3:yt.flags=yt.flags&-65537|128;case 0:if(yt=gt.payload,k=typeof yt=="function"?yt.call(Xt,X,k):yt,k==null)break t;X=E({},X,k);break t;case 2:Zi=!0}}k=T.callback,k!==null&&(e.flags|=64,q&&(e.flags|=8192),q=f.callbacks,q===null?f.callbacks=[k]:q.push(k))}else q={lane:k,tag:T.tag,payload:T.payload,callback:T.callback,next:null},K===null?(z=K=q,R=X):K=K.next=q,v|=k;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;q=T,T=q.next,q.next=null,f.lastBaseUpdate=q,f.shared.pending=null}}while(!0);K===null&&(R=X),f.baseState=R,f.firstBaseUpdate=z,f.lastBaseUpdate=K,d===null&&(f.shared.lanes=0),or|=v,e.lanes=v,e.memoizedState=X}}function yg(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function _g(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)yg(s[e],n)}var ia=W(null),au=W(0);function vg(e,n){e=Ui,tt(au,e),tt(ia,n),Ui=e|n.baseLanes}function xf(){tt(au,Ui),tt(ia,ia.current)}function Uf(){Ui=au.current,rt(ia),rt(au)}var tr=0,wt=null,Kt=null,ge=null,ou=!1,ra=!1,cs=!1,lu=0,bo=0,sa=null,xT=0;function ue(){throw Error(a(321))}function Lf(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!un(e[s],n[s]))return!1;return!0}function Pf(e,n,s,o,f,d){return tr=d,wt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Q.H=e===null||e.memoizedState===null?np:ip,cs=!1,d=s(o,f),cs=!1,ra&&(d=Tg(n,s,o,f)),Eg(e),d}function Eg(e){Q.H=mu;var n=Kt!==null&&Kt.next!==null;if(tr=0,ge=Kt=wt=null,ou=!1,bo=0,sa=null,n)throw Error(a(300));e===null||Oe||(e=e.dependencies,e!==null&&eu(e)&&(Oe=!0))}function Tg(e,n,s,o){wt=e;var f=0;do{if(ra&&(sa=null),bo=0,ra=!1,25<=f)throw Error(a(301));if(f+=1,ge=Kt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Q.H=qT,d=n(s,o)}while(ra);return d}function UT(){var e=Q.H,n=e.useState()[0];return n=typeof n.then=="function"?Ro(n):n,e=e.useState()[0],(Kt!==null?Kt.memoizedState:null)!==e&&(wt.flags|=1024),n}function zf(){var e=lu!==0;return lu=0,e}function Bf(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function kf(e){if(ou){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}ou=!1}tr=0,ge=Kt=wt=null,ra=!1,bo=lu=0,sa=null}function tn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ge===null?wt.memoizedState=ge=e:ge=ge.next=e,ge}function pe(){if(Kt===null){var e=wt.alternate;e=e!==null?e.memoizedState:null}else e=Kt.next;var n=ge===null?wt.memoizedState:ge.next;if(n!==null)ge=n,Kt=e;else{if(e===null)throw wt.alternate===null?Error(a(467)):Error(a(310));Kt=e,e={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},ge===null?wt.memoizedState=ge=e:ge=ge.next=e}return ge}function qf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ro(e){var n=bo;return bo+=1,sa===null&&(sa=[]),e=mg(sa,e,n),n=wt,(ge===null?n.memoizedState:ge.next)===null&&(n=n.alternate,Q.H=n===null||n.memoizedState===null?np:ip),e}function uu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ro(e);if(e.$$typeof===at)return Fe(e)}throw Error(a(438,String(e)))}function jf(e){var n=null,s=wt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=wt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=qf(),wt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=V;return n.index++,s}function Ii(e,n){return typeof n=="function"?n(e):n}function cu(e){var n=pe();return Hf(n,Kt,e)}function Hf(e,n,s){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var f=e.baseQueue,d=o.pending;if(d!==null){if(f!==null){var v=f.next;f.next=d.next,d.next=v}n.baseQueue=f=d,o.pending=null}if(d=e.baseState,f===null)e.memoizedState=d;else{n=f.next;var T=v=null,R=null,z=n,K=!1;do{var X=z.lane&-536870913;if(X!==z.lane?(Ut&X)===X:(tr&X)===X){var k=z.revertLane;if(k===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),X===ea&&(K=!0);else if((tr&k)===k){z=z.next,k===ea&&(K=!0);continue}else X={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(T=R=X,v=d):R=R.next=X,wt.lanes|=k,or|=k;X=z.action,cs&&s(d,X),d=z.hasEagerState?z.eagerState:s(d,X)}else k={lane:X,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(T=R=k,v=d):R=R.next=k,wt.lanes|=X,or|=X;z=z.next}while(z!==null&&z!==n);if(R===null?v=d:R.next=T,!un(d,e.memoizedState)&&(Oe=!0,K&&(s=na,s!==null)))throw s;e.memoizedState=d,e.baseState=v,e.baseQueue=R,o.lastRenderedState=d}return f===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Ff(e){var n=pe(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var o=s.dispatch,f=s.pending,d=n.memoizedState;if(f!==null){s.pending=null;var v=f=f.next;do d=e(d,v.action),v=v.next;while(v!==f);un(d,n.memoizedState)||(Oe=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),s.lastRenderedState=d}return[d,o]}function Ag(e,n,s){var o=wt,f=pe(),d=kt;if(d){if(s===void 0)throw Error(a(407));s=s()}else s=n();var v=!un((Kt||f).memoizedState,s);v&&(f.memoizedState=s,Oe=!0),f=f.queue;var T=Rg.bind(null,o,f,e);if(wo(2048,8,T,[e]),f.getSnapshot!==n||v||ge!==null&&ge.memoizedState.tag&1){if(o.flags|=2048,aa(9,fu(),bg.bind(null,o,f,s,n),null),Jt===null)throw Error(a(349));d||(tr&124)!==0||Sg(o,n,s)}return s}function Sg(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=wt.updateQueue,n===null?(n=qf(),wt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function bg(e,n,s,o){n.value=s,n.getSnapshot=o,wg(n)&&Cg(e)}function Rg(e,n,s){return s(function(){wg(n)&&Cg(e)})}function wg(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!un(e,s)}catch{return!0}}function Cg(e){var n=Zs(e,2);n!==null&&gn(n,e,2)}function Gf(e){var n=tn();if(typeof e=="function"){var s=e;if(e=s(),cs){on(!0);try{s()}finally{on(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:e},n}function Dg(e,n,s,o){return e.baseState=s,Hf(e,Kt,typeof o=="function"?o:Ii)}function LT(e,n,s,o,f){if(du(e))throw Error(a(485));if(e=n.action,e!==null){var d={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};Q.T!==null?s(!0):d.isTransition=!1,o(d),s=n.pending,s===null?(d.next=n.pending=d,Ig(n,d)):(d.next=s.next,n.pending=s.next=d)}}function Ig(e,n){var s=n.action,o=n.payload,f=e.state;if(n.isTransition){var d=Q.T,v={};Q.T=v;try{var T=s(f,o),R=Q.S;R!==null&&R(v,T),Og(e,n,T)}catch(z){Qf(e,n,z)}finally{Q.T=d}}else try{d=s(f,o),Og(e,n,d)}catch(z){Qf(e,n,z)}}function Og(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){Vg(e,n,o)},function(o){return Qf(e,n,o)}):Vg(e,n,s)}function Vg(e,n,s){n.status="fulfilled",n.value=s,Ng(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,Ig(e,s)))}function Qf(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,Ng(n),n=n.next;while(n!==o)}e.action=null}function Ng(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Mg(e,n){return n}function xg(e,n){if(kt){var s=Jt.formState;if(s!==null){t:{var o=wt;if(kt){if(ae){e:{for(var f=ae,d=ti;f.nodeType!==8;){if(!d){f=null;break e}if(f=zn(f.nextSibling),f===null){f=null;break e}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){ae=zn(f.nextSibling),o=f.data==="F!";break t}}as(o)}o=!1}o&&(n=s[0])}}return s=tn(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mg,lastRenderedState:n},s.queue=o,s=Wg.bind(null,wt,o),o.dispatch=s,o=Gf(!1),d=Zf.bind(null,wt,!1,o.queue),o=tn(),f={state:n,dispatch:null,action:e,pending:null},o.queue=f,s=LT.bind(null,wt,f,d,s),f.dispatch=s,o.memoizedState=e,[n,s,!1]}function Ug(e){var n=pe();return Lg(n,Kt,e)}function Lg(e,n,s){if(n=Hf(e,n,Mg)[0],e=cu(Ii)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Ro(n)}catch(v){throw v===vo?ru:v}else o=n;n=pe();var f=n.queue,d=f.dispatch;return s!==n.memoizedState&&(wt.flags|=2048,aa(9,fu(),PT.bind(null,f,s),null)),[o,d,e]}function PT(e,n){e.action=n}function Pg(e){var n=pe(),s=Kt;if(s!==null)return Lg(n,s,e);pe(),n=n.memoizedState,s=pe();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function aa(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=wt.updateQueue,n===null&&(n=qf(),wt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function fu(){return{destroy:void 0,resource:void 0}}function zg(){return pe().memoizedState}function hu(e,n,s,o){var f=tn();o=o===void 0?null:o,wt.flags|=e,f.memoizedState=aa(1|n,fu(),s,o)}function wo(e,n,s,o){var f=pe();o=o===void 0?null:o;var d=f.memoizedState.inst;Kt!==null&&o!==null&&Lf(o,Kt.memoizedState.deps)?f.memoizedState=aa(n,d,s,o):(wt.flags|=e,f.memoizedState=aa(1|n,d,s,o))}function Bg(e,n){hu(8390656,8,e,n)}function kg(e,n){wo(2048,8,e,n)}function qg(e,n){return wo(4,2,e,n)}function jg(e,n){return wo(4,4,e,n)}function Hg(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Fg(e,n,s){s=s!=null?s.concat([e]):null,wo(4,4,Hg.bind(null,n,e),s)}function Kf(){}function Gg(e,n){var s=pe();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&Lf(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function Qg(e,n){var s=pe();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&Lf(n,o[1]))return o[0];if(o=e(),cs){on(!0);try{e()}finally{on(!1)}}return s.memoizedState=[o,n],o}function Yf(e,n,s){return s===void 0||(tr&1073741824)!==0?e.memoizedState=n:(e.memoizedState=s,e=Xp(),wt.lanes|=e,or|=e,s)}function Kg(e,n,s,o){return un(s,n)?s:ia.current!==null?(e=Yf(e,s,o),un(e,n)||(Oe=!0),e):(tr&42)===0?(Oe=!0,e.memoizedState=s):(e=Xp(),wt.lanes|=e,or|=e,n)}function Yg(e,n,s,o,f){var d=nt.p;nt.p=d!==0&&8>d?d:8;var v=Q.T,T={};Q.T=T,Zf(e,!1,n,s);try{var R=f(),z=Q.S;if(z!==null&&z(T,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var K=MT(R,o);Co(e,n,K,mn(e))}else Co(e,n,o,mn(e))}catch(X){Co(e,n,{then:function(){},status:"rejected",reason:X},mn())}finally{nt.p=d,Q.T=v}}function zT(){}function Xf(e,n,s,o){if(e.tag!==5)throw Error(a(476));var f=Xg(e).queue;Yg(e,f,n,ht,s===null?zT:function(){return $g(e),s(o)})}function Xg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:ht},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function $g(e){var n=Xg(e).next.queue;Co(e,n,{},mn())}function $f(){return Fe(Go)}function Zg(){return pe().memoizedState}function Jg(){return pe().memoizedState}function BT(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=mn();e=Ji(s);var o=Wi(n,e,s);o!==null&&(gn(o,n,s),To(o,n,s)),n={cache:wf()},e.payload=n;return}n=n.return}}function kT(e,n,s){var o=mn();s={lane:o,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},du(e)?tp(n,s):(s=pf(e,n,s,o),s!==null&&(gn(s,e,o),ep(s,n,o)))}function Wg(e,n,s){var o=mn();Co(e,n,s,o)}function Co(e,n,s,o){var f={lane:o,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(du(e))tp(n,f);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var v=n.lastRenderedState,T=d(v,s);if(f.hasEagerState=!0,f.eagerState=T,un(T,v))return $l(e,n,f,0),Jt===null&&Xl(),!1}catch{}finally{}if(s=pf(e,n,f,o),s!==null)return gn(s,e,o),ep(s,n,o),!0}return!1}function Zf(e,n,s,o){if(o={lane:2,revertLane:Ih(),action:o,hasEagerState:!1,eagerState:null,next:null},du(e)){if(n)throw Error(a(479))}else n=pf(e,s,o,2),n!==null&&gn(n,e,2)}function du(e){var n=e.alternate;return e===wt||n!==null&&n===wt}function tp(e,n){ra=ou=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function ep(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,Ya(e,s)}}var mu={readContext:Fe,use:uu,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue},np={readContext:Fe,use:uu,useCallback:function(e,n){return tn().memoizedState=[e,n===void 0?null:n],e},useContext:Fe,useEffect:Bg,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,hu(4194308,4,Hg.bind(null,n,e),s)},useLayoutEffect:function(e,n){return hu(4194308,4,e,n)},useInsertionEffect:function(e,n){hu(4,2,e,n)},useMemo:function(e,n){var s=tn();n=n===void 0?null:n;var o=e();if(cs){on(!0);try{e()}finally{on(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=tn();if(s!==void 0){var f=s(n);if(cs){on(!0);try{s(n)}finally{on(!1)}}}else f=n;return o.memoizedState=o.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},o.queue=e,e=e.dispatch=kT.bind(null,wt,e),[o.memoizedState,e]},useRef:function(e){var n=tn();return e={current:e},n.memoizedState=e},useState:function(e){e=Gf(e);var n=e.queue,s=Wg.bind(null,wt,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:Kf,useDeferredValue:function(e,n){var s=tn();return Yf(s,e,n)},useTransition:function(){var e=Gf(!1);return e=Yg.bind(null,wt,e.queue,!0,!1),tn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=wt,f=tn();if(kt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),Jt===null)throw Error(a(349));(Ut&124)!==0||Sg(o,n,s)}f.memoizedState=s;var d={value:s,getSnapshot:n};return f.queue=d,Bg(Rg.bind(null,o,d,e),[e]),o.flags|=2048,aa(9,fu(),bg.bind(null,o,d,s,n),null),s},useId:function(){var e=tn(),n=Jt.identifierPrefix;if(kt){var s=wi,o=Ri;s=(o&~(1<<32-He(o)-1)).toString(32)+s,n="«"+n+"R"+s,s=lu++,0<s&&(n+="H"+s.toString(32)),n+="»"}else s=xT++,n="«"+n+"r"+s.toString(32)+"»";return e.memoizedState=n},useHostTransitionStatus:$f,useFormState:xg,useActionState:xg,useOptimistic:function(e){var n=tn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Zf.bind(null,wt,!0,s),s.dispatch=n,[e,n]},useMemoCache:jf,useCacheRefresh:function(){return tn().memoizedState=BT.bind(null,wt)}},ip={readContext:Fe,use:uu,useCallback:Gg,useContext:Fe,useEffect:kg,useImperativeHandle:Fg,useInsertionEffect:qg,useLayoutEffect:jg,useMemo:Qg,useReducer:cu,useRef:zg,useState:function(){return cu(Ii)},useDebugValue:Kf,useDeferredValue:function(e,n){var s=pe();return Kg(s,Kt.memoizedState,e,n)},useTransition:function(){var e=cu(Ii)[0],n=pe().memoizedState;return[typeof e=="boolean"?e:Ro(e),n]},useSyncExternalStore:Ag,useId:Zg,useHostTransitionStatus:$f,useFormState:Ug,useActionState:Ug,useOptimistic:function(e,n){var s=pe();return Dg(s,Kt,e,n)},useMemoCache:jf,useCacheRefresh:Jg},qT={readContext:Fe,use:uu,useCallback:Gg,useContext:Fe,useEffect:kg,useImperativeHandle:Fg,useInsertionEffect:qg,useLayoutEffect:jg,useMemo:Qg,useReducer:Ff,useRef:zg,useState:function(){return Ff(Ii)},useDebugValue:Kf,useDeferredValue:function(e,n){var s=pe();return Kt===null?Yf(s,e,n):Kg(s,Kt.memoizedState,e,n)},useTransition:function(){var e=Ff(Ii)[0],n=pe().memoizedState;return[typeof e=="boolean"?e:Ro(e),n]},useSyncExternalStore:Ag,useId:Zg,useHostTransitionStatus:$f,useFormState:Pg,useActionState:Pg,useOptimistic:function(e,n){var s=pe();return Kt!==null?Dg(s,Kt,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:jf,useCacheRefresh:Jg},oa=null,Do=0;function gu(e){var n=Do;return Do+=1,oa===null&&(oa=[]),mg(oa,e,n)}function Io(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function pu(e,n){throw n.$$typeof===b?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function rp(e){var n=e._init;return n(e._payload)}function sp(e){function n(M,I){if(e){var P=M.deletions;P===null?(M.deletions=[I],M.flags|=16):P.push(I)}}function s(M,I){if(!e)return null;for(;I!==null;)n(M,I),I=I.sibling;return null}function o(M){for(var I=new Map;M!==null;)M.key!==null?I.set(M.key,M):I.set(M.index,M),M=M.sibling;return I}function f(M,I){return M=bi(M,I),M.index=0,M.sibling=null,M}function d(M,I,P){return M.index=P,e?(P=M.alternate,P!==null?(P=P.index,P<I?(M.flags|=67108866,I):P):(M.flags|=67108866,I)):(M.flags|=1048576,I)}function v(M){return e&&M.alternate===null&&(M.flags|=67108866),M}function T(M,I,P,Y){return I===null||I.tag!==6?(I=_f(P,M.mode,Y),I.return=M,I):(I=f(I,P),I.return=M,I)}function R(M,I,P,Y){var ut=P.type;return ut===F?K(M,I,P.props.children,Y,P.key):I!==null&&(I.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===S&&rp(ut)===I.type)?(I=f(I,P.props),Io(I,P),I.return=M,I):(I=Jl(P.type,P.key,P.props,null,M.mode,Y),Io(I,P),I.return=M,I)}function z(M,I,P,Y){return I===null||I.tag!==4||I.stateNode.containerInfo!==P.containerInfo||I.stateNode.implementation!==P.implementation?(I=vf(P,M.mode,Y),I.return=M,I):(I=f(I,P.children||[]),I.return=M,I)}function K(M,I,P,Y,ut){return I===null||I.tag!==7?(I=ns(P,M.mode,Y,ut),I.return=M,I):(I=f(I,P),I.return=M,I)}function X(M,I,P){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=_f(""+I,M.mode,P),I.return=M,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case x:return P=Jl(I.type,I.key,I.props,null,M.mode,P),Io(P,I),P.return=M,P;case j:return I=vf(I,M.mode,P),I.return=M,I;case S:var Y=I._init;return I=Y(I._payload),X(M,I,P)}if(re(I)||U(I))return I=ns(I,M.mode,P,null),I.return=M,I;if(typeof I.then=="function")return X(M,gu(I),P);if(I.$$typeof===at)return X(M,nu(M,I),P);pu(M,I)}return null}function k(M,I,P,Y){var ut=I!==null?I.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ut!==null?null:T(M,I,""+P,Y);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case x:return P.key===ut?R(M,I,P,Y):null;case j:return P.key===ut?z(M,I,P,Y):null;case S:return ut=P._init,P=ut(P._payload),k(M,I,P,Y)}if(re(P)||U(P))return ut!==null?null:K(M,I,P,Y,null);if(typeof P.then=="function")return k(M,I,gu(P),Y);if(P.$$typeof===at)return k(M,I,nu(M,P),Y);pu(M,P)}return null}function q(M,I,P,Y,ut){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return M=M.get(P)||null,T(I,M,""+Y,ut);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case x:return M=M.get(Y.key===null?P:Y.key)||null,R(I,M,Y,ut);case j:return M=M.get(Y.key===null?P:Y.key)||null,z(I,M,Y,ut);case S:var It=Y._init;return Y=It(Y._payload),q(M,I,P,Y,ut)}if(re(Y)||U(Y))return M=M.get(P)||null,K(I,M,Y,ut,null);if(typeof Y.then=="function")return q(M,I,P,gu(Y),ut);if(Y.$$typeof===at)return q(M,I,P,nu(I,Y),ut);pu(I,Y)}return null}function yt(M,I,P,Y){for(var ut=null,It=null,ft=I,pt=I=0,Ne=null;ft!==null&&pt<P.length;pt++){ft.index>pt?(Ne=ft,ft=null):Ne=ft.sibling;var zt=k(M,ft,P[pt],Y);if(zt===null){ft===null&&(ft=Ne);break}e&&ft&&zt.alternate===null&&n(M,ft),I=d(zt,I,pt),It===null?ut=zt:It.sibling=zt,It=zt,ft=Ne}if(pt===P.length)return s(M,ft),kt&&rs(M,pt),ut;if(ft===null){for(;pt<P.length;pt++)ft=X(M,P[pt],Y),ft!==null&&(I=d(ft,I,pt),It===null?ut=ft:It.sibling=ft,It=ft);return kt&&rs(M,pt),ut}for(ft=o(ft);pt<P.length;pt++)Ne=q(ft,M,pt,P[pt],Y),Ne!==null&&(e&&Ne.alternate!==null&&ft.delete(Ne.key===null?pt:Ne.key),I=d(Ne,I,pt),It===null?ut=Ne:It.sibling=Ne,It=Ne);return e&&ft.forEach(function(pr){return n(M,pr)}),kt&&rs(M,pt),ut}function gt(M,I,P,Y){if(P==null)throw Error(a(151));for(var ut=null,It=null,ft=I,pt=I=0,Ne=null,zt=P.next();ft!==null&&!zt.done;pt++,zt=P.next()){ft.index>pt?(Ne=ft,ft=null):Ne=ft.sibling;var pr=k(M,ft,zt.value,Y);if(pr===null){ft===null&&(ft=Ne);break}e&&ft&&pr.alternate===null&&n(M,ft),I=d(pr,I,pt),It===null?ut=pr:It.sibling=pr,It=pr,ft=Ne}if(zt.done)return s(M,ft),kt&&rs(M,pt),ut;if(ft===null){for(;!zt.done;pt++,zt=P.next())zt=X(M,zt.value,Y),zt!==null&&(I=d(zt,I,pt),It===null?ut=zt:It.sibling=zt,It=zt);return kt&&rs(M,pt),ut}for(ft=o(ft);!zt.done;pt++,zt=P.next())zt=q(ft,M,pt,zt.value,Y),zt!==null&&(e&&zt.alternate!==null&&ft.delete(zt.key===null?pt:zt.key),I=d(zt,I,pt),It===null?ut=zt:It.sibling=zt,It=zt);return e&&ft.forEach(function(jA){return n(M,jA)}),kt&&rs(M,pt),ut}function Xt(M,I,P,Y){if(typeof P=="object"&&P!==null&&P.type===F&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case x:t:{for(var ut=P.key;I!==null;){if(I.key===ut){if(ut=P.type,ut===F){if(I.tag===7){s(M,I.sibling),Y=f(I,P.props.children),Y.return=M,M=Y;break t}}else if(I.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===S&&rp(ut)===I.type){s(M,I.sibling),Y=f(I,P.props),Io(Y,P),Y.return=M,M=Y;break t}s(M,I);break}else n(M,I);I=I.sibling}P.type===F?(Y=ns(P.props.children,M.mode,Y,P.key),Y.return=M,M=Y):(Y=Jl(P.type,P.key,P.props,null,M.mode,Y),Io(Y,P),Y.return=M,M=Y)}return v(M);case j:t:{for(ut=P.key;I!==null;){if(I.key===ut)if(I.tag===4&&I.stateNode.containerInfo===P.containerInfo&&I.stateNode.implementation===P.implementation){s(M,I.sibling),Y=f(I,P.children||[]),Y.return=M,M=Y;break t}else{s(M,I);break}else n(M,I);I=I.sibling}Y=vf(P,M.mode,Y),Y.return=M,M=Y}return v(M);case S:return ut=P._init,P=ut(P._payload),Xt(M,I,P,Y)}if(re(P))return yt(M,I,P,Y);if(U(P)){if(ut=U(P),typeof ut!="function")throw Error(a(150));return P=ut.call(P),gt(M,I,P,Y)}if(typeof P.then=="function")return Xt(M,I,gu(P),Y);if(P.$$typeof===at)return Xt(M,I,nu(M,P),Y);pu(M,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,I!==null&&I.tag===6?(s(M,I.sibling),Y=f(I,P),Y.return=M,M=Y):(s(M,I),Y=_f(P,M.mode,Y),Y.return=M,M=Y),v(M)):s(M,I)}return function(M,I,P,Y){try{Do=0;var ut=Xt(M,I,P,Y);return oa=null,ut}catch(ft){if(ft===vo||ft===ru)throw ft;var It=cn(29,ft,null,M.mode);return It.lanes=Y,It.return=M,It}finally{}}}var la=sp(!0),ap=sp(!1),Dn=W(null),ei=null;function er(e){var n=e.alternate;tt(be,be.current&1),tt(Dn,e),ei===null&&(n===null||ia.current!==null||n.memoizedState!==null)&&(ei=e)}function op(e){if(e.tag===22){if(tt(be,be.current),tt(Dn,e),ei===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(ei=e)}}else nr()}function nr(){tt(be,be.current),tt(Dn,Dn.current)}function Oi(e){rt(Dn),ei===e&&(ei=null),rt(be)}var be=W(0);function yu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||qh(s)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Jf(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:E({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Wf={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=mn(),f=Ji(o);f.payload=n,s!=null&&(f.callback=s),n=Wi(e,f,o),n!==null&&(gn(n,e,o),To(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=mn(),f=Ji(o);f.tag=1,f.payload=n,s!=null&&(f.callback=s),n=Wi(e,f,o),n!==null&&(gn(n,e,o),To(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=mn(),o=Ji(s);o.tag=2,n!=null&&(o.callback=n),n=Wi(e,o,s),n!==null&&(gn(n,e,s),To(n,e,s))}};function lp(e,n,s,o,f,d,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,d,v):n.prototype&&n.prototype.isPureReactComponent?!co(s,o)||!co(f,d):!0}function up(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&Wf.enqueueReplaceState(n,n.state,null)}function fs(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=E({},s));for(var f in e)s[f]===void 0&&(s[f]=e[f])}return s}var _u=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function cp(e){_u(e)}function fp(e){console.error(e)}function hp(e){_u(e)}function vu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function dp(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function th(e,n,s){return s=Ji(s),s.tag=3,s.payload={element:null},s.callback=function(){vu(e,n)},s}function mp(e){return e=Ji(e),e.tag=3,e}function gp(e,n,s,o){var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var d=o.value;e.payload=function(){return f(d)},e.callback=function(){dp(n,s,o)}}var v=s.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){dp(n,s,o),typeof f!="function"&&(lr===null?lr=new Set([this]):lr.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function jT(e,n,s,o,f){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&po(n,s,f,!0),s=Dn.current,s!==null){switch(s.tag){case 13:return ei===null?bh():s.alternate===null&&oe===0&&(oe=3),s.flags&=-257,s.flags|=65536,s.lanes=f,o===If?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),wh(e,o,f)),!1;case 22:return s.flags|=65536,o===If?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),wh(e,o,f)),!1}throw Error(a(435,s.tag))}return wh(e,o,f),bh(),!1}if(kt)return n=Dn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,o!==Af&&(e=Error(a(422),{cause:o}),go(bn(e,s)))):(o!==Af&&(n=Error(a(423),{cause:o}),go(bn(n,s))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,o=bn(o,s),f=th(e.stateNode,o,f),Nf(e,f),oe!==4&&(oe=2)),!1;var d=Error(a(520),{cause:o});if(d=bn(d,s),Lo===null?Lo=[d]:Lo.push(d),oe!==4&&(oe=2),n===null)return!0;o=bn(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=f&-f,s.lanes|=e,e=th(s.stateNode,o,e),Nf(s,e),!1;case 1:if(n=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(lr===null||!lr.has(d))))return s.flags|=65536,f&=-f,s.lanes|=f,f=mp(f),gp(f,e,s,o),Nf(s,f),!1}s=s.return}while(s!==null);return!1}var pp=Error(a(461)),Oe=!1;function Pe(e,n,s,o){n.child=e===null?ap(n,null,s,o):la(n,e.child,s,o)}function yp(e,n,s,o,f){s=s.render;var d=n.ref;if("ref"in o){var v={};for(var T in o)T!=="ref"&&(v[T]=o[T])}else v=o;return ls(n),o=Pf(e,n,s,v,d,f),T=zf(),e!==null&&!Oe?(Bf(e,n,f),Vi(e,n,f)):(kt&&T&&Ef(n),n.flags|=1,Pe(e,n,o,f),n.child)}function _p(e,n,s,o,f){if(e===null){var d=s.type;return typeof d=="function"&&!yf(d)&&d.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=d,vp(e,n,d,o,f)):(e=Jl(s.type,null,o,n,n.mode,f),e.ref=n.ref,e.return=n,n.child=e)}if(d=e.child,!lh(e,f)){var v=d.memoizedProps;if(s=s.compare,s=s!==null?s:co,s(v,o)&&e.ref===n.ref)return Vi(e,n,f)}return n.flags|=1,e=bi(d,o),e.ref=n.ref,e.return=n,n.child=e}function vp(e,n,s,o,f){if(e!==null){var d=e.memoizedProps;if(co(d,o)&&e.ref===n.ref)if(Oe=!1,n.pendingProps=o=d,lh(e,f))(e.flags&131072)!==0&&(Oe=!0);else return n.lanes=e.lanes,Vi(e,n,f)}return eh(e,n,s,o,f)}function Ep(e,n,s){var o=n.pendingProps,f=o.children,d=e!==null?e.memoizedState:null;if(o.mode==="hidden"){if((n.flags&128)!==0){if(o=d!==null?d.baseLanes|s:s,e!==null){for(f=n.child=e.child,d=0;f!==null;)d=d|f.lanes|f.childLanes,f=f.sibling;n.childLanes=d&~o}else n.childLanes=0,n.child=null;return Tp(e,n,o,s)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&iu(n,d!==null?d.cachePool:null),d!==null?vg(n,d):xf(),op(n);else return n.lanes=n.childLanes=536870912,Tp(e,n,d!==null?d.baseLanes|s:s,s)}else d!==null?(iu(n,d.cachePool),vg(n,d),nr(),n.memoizedState=null):(e!==null&&iu(n,null),xf(),nr());return Pe(e,n,f,s),n.child}function Tp(e,n,s,o){var f=Df();return f=f===null?null:{parent:Se._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&iu(n,null),xf(),op(n),e!==null&&po(e,n,o,!0),null}function Eu(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function eh(e,n,s,o,f){return ls(n),s=Pf(e,n,s,o,void 0,f),o=zf(),e!==null&&!Oe?(Bf(e,n,f),Vi(e,n,f)):(kt&&o&&Ef(n),n.flags|=1,Pe(e,n,s,f),n.child)}function Ap(e,n,s,o,f,d){return ls(n),n.updateQueue=null,s=Tg(n,o,s,f),Eg(e),o=zf(),e!==null&&!Oe?(Bf(e,n,d),Vi(e,n,d)):(kt&&o&&Ef(n),n.flags|=1,Pe(e,n,s,d),n.child)}function Sp(e,n,s,o,f){if(ls(n),n.stateNode===null){var d=Js,v=s.contextType;typeof v=="object"&&v!==null&&(d=Fe(v)),d=new s(o,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Wf,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=o,d.state=n.memoizedState,d.refs={},Of(n),v=s.contextType,d.context=typeof v=="object"&&v!==null?Fe(v):Js,d.state=n.memoizedState,v=s.getDerivedStateFromProps,typeof v=="function"&&(Jf(n,s,v,o),d.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Wf.enqueueReplaceState(d,d.state,null),So(n,o,d,f),Ao(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){d=n.stateNode;var T=n.memoizedProps,R=fs(s,T);d.props=R;var z=d.context,K=s.contextType;v=Js,typeof K=="object"&&K!==null&&(v=Fe(K));var X=s.getDerivedStateFromProps;K=typeof X=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,K||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||z!==v)&&up(n,d,o,v),Zi=!1;var k=n.memoizedState;d.state=k,So(n,o,d,f),Ao(),z=n.memoizedState,T||k!==z||Zi?(typeof X=="function"&&(Jf(n,s,X,o),z=n.memoizedState),(R=Zi||lp(n,s,R,o,k,z,v))?(K||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),d.props=o,d.state=z,d.context=v,o=R):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{d=n.stateNode,Vf(e,n),v=n.memoizedProps,K=fs(s,v),d.props=K,X=n.pendingProps,k=d.context,z=s.contextType,R=Js,typeof z=="object"&&z!==null&&(R=Fe(z)),T=s.getDerivedStateFromProps,(z=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==X||k!==R)&&up(n,d,o,R),Zi=!1,k=n.memoizedState,d.state=k,So(n,o,d,f),Ao();var q=n.memoizedState;v!==X||k!==q||Zi||e!==null&&e.dependencies!==null&&eu(e.dependencies)?(typeof T=="function"&&(Jf(n,s,T,o),q=n.memoizedState),(K=Zi||lp(n,s,K,o,k,q,R)||e!==null&&e.dependencies!==null&&eu(e.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,q,R),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,q,R)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&k===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&k===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),d.props=o,d.state=q,d.context=R,o=K):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&k===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&k===e.memoizedState||(n.flags|=1024),o=!1)}return d=o,Eu(e,n),o=(n.flags&128)!==0,d||o?(d=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,e!==null&&o?(n.child=la(n,e.child,null,f),n.child=la(n,null,s,f)):Pe(e,n,s,f),n.memoizedState=d.state,e=n.child):e=Vi(e,n,f),e}function bp(e,n,s,o){return mo(),n.flags|=256,Pe(e,n,s,o),n.child}var nh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ih(e){return{baseLanes:e,cachePool:fg()}}function rh(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=In),e}function Rp(e,n,s){var o=n.pendingProps,f=!1,d=(n.flags&128)!==0,v;if((v=d)||(v=e!==null&&e.memoizedState===null?!1:(be.current&2)!==0),v&&(f=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,e===null){if(kt){if(f?er(n):nr(),kt){var T=ae,R;if(R=T){t:{for(R=T,T=ti;R.nodeType!==8;){if(!T){T=null;break t}if(R=zn(R.nextSibling),R===null){T=null;break t}}T=R}T!==null?(n.memoizedState={dehydrated:T,treeContext:is!==null?{id:Ri,overflow:wi}:null,retryLane:536870912,hydrationErrors:null},R=cn(18,null,null,0),R.stateNode=T,R.return=n,n.child=R,We=n,ae=null,R=!0):R=!1}R||as(n)}if(T=n.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return qh(T)?n.lanes=32:n.lanes=536870912,null;Oi(n)}return T=o.children,o=o.fallback,f?(nr(),f=n.mode,T=Tu({mode:"hidden",children:T},f),o=ns(o,f,s,null),T.return=n,o.return=n,T.sibling=o,n.child=T,f=n.child,f.memoizedState=ih(s),f.childLanes=rh(e,v,s),n.memoizedState=nh,o):(er(n),sh(n,T))}if(R=e.memoizedState,R!==null&&(T=R.dehydrated,T!==null)){if(d)n.flags&256?(er(n),n.flags&=-257,n=ah(e,n,s)):n.memoizedState!==null?(nr(),n.child=e.child,n.flags|=128,n=null):(nr(),f=o.fallback,T=n.mode,o=Tu({mode:"visible",children:o.children},T),f=ns(f,T,s,null),f.flags|=2,o.return=n,f.return=n,o.sibling=f,n.child=o,la(n,e.child,null,s),o=n.child,o.memoizedState=ih(s),o.childLanes=rh(e,v,s),n.memoizedState=nh,n=f);else if(er(n),qh(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var z=v.dgst;v=z,o=Error(a(419)),o.stack="",o.digest=v,go({value:o,source:null,stack:null}),n=ah(e,n,s)}else if(Oe||po(e,n,s,!1),v=(s&e.childLanes)!==0,Oe||v){if(v=Jt,v!==null&&(o=s&-s,o=(o&42)!==0?1:Hi(o),o=(o&(v.suspendedLanes|s))!==0?0:o,o!==0&&o!==R.retryLane))throw R.retryLane=o,Zs(e,o),gn(v,e,o),pp;T.data==="$?"||bh(),n=ah(e,n,s)}else T.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,ae=zn(T.nextSibling),We=n,kt=!0,ss=null,ti=!1,e!==null&&(wn[Cn++]=Ri,wn[Cn++]=wi,wn[Cn++]=is,Ri=e.id,wi=e.overflow,is=n),n=sh(n,o.children),n.flags|=4096);return n}return f?(nr(),f=o.fallback,T=n.mode,R=e.child,z=R.sibling,o=bi(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,z!==null?f=bi(z,f):(f=ns(f,T,s,null),f.flags|=2),f.return=n,o.return=n,o.sibling=f,n.child=o,o=f,f=n.child,T=e.child.memoizedState,T===null?T=ih(s):(R=T.cachePool,R!==null?(z=Se._currentValue,R=R.parent!==z?{parent:z,pool:z}:R):R=fg(),T={baseLanes:T.baseLanes|s,cachePool:R}),f.memoizedState=T,f.childLanes=rh(e,v,s),n.memoizedState=nh,o):(er(n),s=e.child,e=s.sibling,s=bi(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(v=n.deletions,v===null?(n.deletions=[e],n.flags|=16):v.push(e)),n.child=s,n.memoizedState=null,s)}function sh(e,n){return n=Tu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Tu(e,n){return e=cn(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function ah(e,n,s){return la(n,e.child,null,s),e=sh(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function wp(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),bf(e.return,n,s)}function oh(e,n,s,o,f){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:f}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=o,d.tail=s,d.tailMode=f)}function Cp(e,n,s){var o=n.pendingProps,f=o.revealOrder,d=o.tail;if(Pe(e,n,o.children,s),o=be.current,(o&2)!==0)o=o&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&wp(e,s,n);else if(e.tag===19)wp(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(tt(be,o),f){case"forwards":for(s=n.child,f=null;s!==null;)e=s.alternate,e!==null&&yu(e)===null&&(f=s),s=s.sibling;s=f,s===null?(f=n.child,n.child=null):(f=s.sibling,s.sibling=null),oh(n,!1,f,s,d);break;case"backwards":for(s=null,f=n.child,n.child=null;f!==null;){if(e=f.alternate,e!==null&&yu(e)===null){n.child=f;break}e=f.sibling,f.sibling=s,s=f,f=e}oh(n,!0,s,null,d);break;case"together":oh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Vi(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),or|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(po(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=bi(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=bi(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function lh(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&eu(e)))}function HT(e,n,s){switch(n.tag){case 3:Zt(n,n.stateNode.containerInfo),$i(n,Se,e.memoizedState.cache),mo();break;case 27:case 5:ji(n);break;case 4:Zt(n,n.stateNode.containerInfo);break;case 10:$i(n,n.type,n.memoizedProps.value);break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(er(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Rp(e,n,s):(er(n),e=Vi(e,n,s),e!==null?e.sibling:null);er(n);break;case 19:var f=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(po(e,n,s,!1),o=(s&n.childLanes)!==0),f){if(o)return Cp(e,n,s);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),tt(be,be.current),o)break;return null;case 22:case 23:return n.lanes=0,Ep(e,n,s);case 24:$i(n,Se,e.memoizedState.cache)}return Vi(e,n,s)}function Dp(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Oe=!0;else{if(!lh(e,s)&&(n.flags&128)===0)return Oe=!1,HT(e,n,s);Oe=(e.flags&131072)!==0}else Oe=!1,kt&&(n.flags&1048576)!==0&&rg(n,tu,n.index);switch(n.lanes=0,n.tag){case 16:t:{e=n.pendingProps;var o=n.elementType,f=o._init;if(o=f(o._payload),n.type=o,typeof o=="function")yf(o)?(e=fs(o,e),n.tag=1,n=Sp(null,n,o,e,s)):(n.tag=0,n=eh(null,n,o,e,s));else{if(o!=null){if(f=o.$$typeof,f===vt){n.tag=11,n=yp(null,n,o,e,s);break t}else if(f===O){n.tag=14,n=_p(null,n,o,e,s);break t}}throw n=xe(o)||o,Error(a(306,n,""))}}return n;case 0:return eh(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,f=fs(o,n.pendingProps),Sp(e,n,o,f,s);case 3:t:{if(Zt(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var d=n.memoizedState;f=d.element,Vf(e,n),So(n,o,null,s);var v=n.memoizedState;if(o=v.cache,$i(n,Se,o),o!==d.cache&&Rf(n,[Se],s,!0),Ao(),o=v.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=bp(e,n,o,s);break t}else if(o!==f){f=bn(Error(a(424)),n),go(f),n=bp(e,n,o,s);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ae=zn(e.firstChild),We=n,kt=!0,ss=null,ti=!0,s=ap(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(mo(),o===f){n=Vi(e,n,s);break t}Pe(e,n,o,s)}n=n.child}return n;case 26:return Eu(e,n),e===null?(s=Ny(n.type,null,n.pendingProps,null))?n.memoizedState=s:kt||(s=n.type,e=n.pendingProps,o=Uu(Et.current).createElement(s),o[Ee]=n,o[de]=e,Be(o,s,e),le(o),n.stateNode=o):n.memoizedState=Ny(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return ji(n),e===null&&kt&&(o=n.stateNode=Iy(n.type,n.pendingProps,Et.current),We=n,ti=!0,f=ae,fr(n.type)?(jh=f,ae=zn(o.firstChild)):ae=f),Pe(e,n,n.pendingProps.children,s),Eu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&kt&&((f=o=ae)&&(o=yA(o,n.type,n.pendingProps,ti),o!==null?(n.stateNode=o,We=n,ae=zn(o.firstChild),ti=!1,f=!0):f=!1),f||as(n)),ji(n),f=n.type,d=n.pendingProps,v=e!==null?e.memoizedProps:null,o=d.children,zh(f,d)?o=null:v!==null&&zh(f,v)&&(n.flags|=32),n.memoizedState!==null&&(f=Pf(e,n,UT,null,null,s),Go._currentValue=f),Eu(e,n),Pe(e,n,o,s),n.child;case 6:return e===null&&kt&&((e=s=ae)&&(s=_A(s,n.pendingProps,ti),s!==null?(n.stateNode=s,We=n,ae=null,e=!0):e=!1),e||as(n)),null;case 13:return Rp(e,n,s);case 4:return Zt(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=la(n,null,o,s):Pe(e,n,o,s),n.child;case 11:return yp(e,n,n.type,n.pendingProps,s);case 7:return Pe(e,n,n.pendingProps,s),n.child;case 8:return Pe(e,n,n.pendingProps.children,s),n.child;case 12:return Pe(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,$i(n,n.type,o.value),Pe(e,n,o.children,s),n.child;case 9:return f=n.type._context,o=n.pendingProps.children,ls(n),f=Fe(f),o=o(f),n.flags|=1,Pe(e,n,o,s),n.child;case 14:return _p(e,n,n.type,n.pendingProps,s);case 15:return vp(e,n,n.type,n.pendingProps,s);case 19:return Cp(e,n,s);case 31:return o=n.pendingProps,s=n.mode,o={mode:o.mode,children:o.children},e===null?(s=Tu(o,s),s.ref=n.ref,n.child=s,s.return=n,n=s):(s=bi(e.child,o),s.ref=n.ref,n.child=s,s.return=n,n=s),n;case 22:return Ep(e,n,s);case 24:return ls(n),o=Fe(Se),e===null?(f=Df(),f===null&&(f=Jt,d=wf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=s),f=d),n.memoizedState={parent:o,cache:f},Of(n),$i(n,Se,f)):((e.lanes&s)!==0&&(Vf(e,n),So(n,null,null,s),Ao()),f=e.memoizedState,d=n.memoizedState,f.parent!==o?(f={parent:o,cache:o},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),$i(n,Se,o)):(o=d.cache,$i(n,Se,o),o!==f.cache&&Rf(n,[Se],s,!0))),Pe(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Ni(e){e.flags|=4}function Ip(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Py(n)){if(n=Dn.current,n!==null&&((Ut&4194048)===Ut?ei!==null:(Ut&62914560)!==Ut&&(Ut&536870912)===0||n!==ei))throw Eo=If,hg;e.flags|=8192}}function Au(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Qa():536870912,e.lanes|=n,ha|=n)}function Oo(e,n){if(!kt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ne(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var f=e.child;f!==null;)s|=f.lanes|f.childLanes,o|=f.subtreeFlags&65011712,o|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)s|=f.lanes|f.childLanes,o|=f.subtreeFlags,o|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function FT(e,n,s){var o=n.pendingProps;switch(Tf(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(n),null;case 1:return ne(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Di(Se),jn(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(ho(n)?Ni(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,og())),ne(n),null;case 26:return s=n.memoizedState,e===null?(Ni(n),s!==null?(ne(n),Ip(n,s)):(ne(n),n.flags&=-16777217)):s?s!==e.memoizedState?(Ni(n),ne(n),Ip(n,s)):(ne(n),n.flags&=-16777217):(e.memoizedProps!==o&&Ni(n),ne(n),n.flags&=-16777217),null;case 27:fi(n),s=Et.current;var f=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Ni(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ne(n),null}e=mt.current,ho(n)?sg(n):(e=Iy(f,o,s),n.stateNode=e,Ni(n))}return ne(n),null;case 5:if(fi(n),s=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Ni(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ne(n),null}if(e=mt.current,ho(n))sg(n);else{switch(f=Uu(Et.current),e){case 1:e=f.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:e=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":e=f.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":e=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":e=f.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?f.createElement("select",{is:o.is}):f.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?f.createElement(s,{is:o.is}):f.createElement(s)}}e[Ee]=n,e[de]=o;t:for(f=n.child;f!==null;){if(f.tag===5||f.tag===6)e.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===n)break t;for(;f.sibling===null;){if(f.return===null||f.return===n)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}n.stateNode=e;t:switch(Be(e,s,o),s){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Ni(n)}}return ne(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Ni(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=Et.current,ho(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,f=We,f!==null)switch(f.tag){case 27:case 5:o=f.memoizedProps}e[Ee]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||Ay(e.nodeValue,s)),e||as(n)}else e=Uu(e).createTextNode(o),e[Ee]=n,n.stateNode=e}return ne(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=ho(n),o!==null&&o.dehydrated!==null){if(e===null){if(!f)throw Error(a(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[Ee]=n}else mo(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),f=!1}else f=og(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return n.flags&256?(Oi(n),n):(Oi(n),null)}if(Oi(n),(n.flags&128)!==0)return n.lanes=s,n;if(s=o!==null,e=e!==null&&e.memoizedState!==null,s){o=n.child,f=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(f=o.alternate.memoizedState.cachePool.pool);var d=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==f&&(o.flags|=2048)}return s!==e&&s&&(n.child.flags|=8192),Au(n,n.updateQueue),ne(n),null;case 4:return jn(),e===null&&Mh(n.stateNode.containerInfo),ne(n),null;case 10:return Di(n.type),ne(n),null;case 19:if(rt(be),f=n.memoizedState,f===null)return ne(n),null;if(o=(n.flags&128)!==0,d=f.rendering,d===null)if(o)Oo(f,!1);else{if(oe!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(d=yu(e),d!==null){for(n.flags|=128,Oo(f,!1),e=d.updateQueue,n.updateQueue=e,Au(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)ig(s,e),s=s.sibling;return tt(be,be.current&1|2),n.child}e=e.sibling}f.tail!==null&&_n()>Ru&&(n.flags|=128,o=!0,Oo(f,!1),n.lanes=4194304)}else{if(!o)if(e=yu(d),e!==null){if(n.flags|=128,o=!0,e=e.updateQueue,n.updateQueue=e,Au(n,e),Oo(f,!0),f.tail===null&&f.tailMode==="hidden"&&!d.alternate&&!kt)return ne(n),null}else 2*_n()-f.renderingStartTime>Ru&&s!==536870912&&(n.flags|=128,o=!0,Oo(f,!1),n.lanes=4194304);f.isBackwards?(d.sibling=n.child,n.child=d):(e=f.last,e!==null?e.sibling=d:n.child=d,f.last=d)}return f.tail!==null?(n=f.tail,f.rendering=n,f.tail=n.sibling,f.renderingStartTime=_n(),n.sibling=null,e=be.current,tt(be,o?e&1|2:e&1),n):(ne(n),null);case 22:case 23:return Oi(n),Uf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(ne(n),n.subtreeFlags&6&&(n.flags|=8192)):ne(n),s=n.updateQueue,s!==null&&Au(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&rt(us),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Di(Se),ne(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function GT(e,n){switch(Tf(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Di(Se),jn(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return fi(n),null;case 13:if(Oi(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));mo()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return rt(be),null;case 4:return jn(),null;case 10:return Di(n.type),null;case 22:case 23:return Oi(n),Uf(),e!==null&&rt(us),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Di(Se),null;case 25:return null;default:return null}}function Op(e,n){switch(Tf(n),n.tag){case 3:Di(Se),jn();break;case 26:case 27:case 5:fi(n);break;case 4:jn();break;case 13:Oi(n);break;case 19:rt(be);break;case 10:Di(n.type);break;case 22:case 23:Oi(n),Uf(),e!==null&&rt(us);break;case 24:Di(Se)}}function Vo(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var f=o.next;s=f;do{if((s.tag&e)===e){o=void 0;var d=s.create,v=s.inst;o=d(),v.destroy=o}s=s.next}while(s!==f)}}catch(T){$t(n,n.return,T)}}function ir(e,n,s){try{var o=n.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var d=f.next;o=d;do{if((o.tag&e)===e){var v=o.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,f=n;var R=s,z=T;try{z()}catch(K){$t(f,R,K)}}}o=o.next}while(o!==d)}}catch(K){$t(n,n.return,K)}}function Vp(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{_g(n,s)}catch(o){$t(e,e.return,o)}}}function Np(e,n,s){s.props=fs(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){$t(e,n,o)}}function No(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(f){$t(e,n,f)}}function ni(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(f){$t(e,n,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(f){$t(e,n,f)}else s.current=null}function Mp(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(f){$t(e,e.return,f)}}function uh(e,n,s){try{var o=e.stateNode;hA(o,e.type,s,n),o[de]=n}catch(f){$t(e,e.return,f)}}function xp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&fr(e.type)||e.tag===4}function ch(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||xp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&fr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function fh(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=xu));else if(o!==4&&(o===27&&fr(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(fh(e,n,s),e=e.sibling;e!==null;)fh(e,n,s),e=e.sibling}function Su(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&fr(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Su(e,n,s),e=e.sibling;e!==null;)Su(e,n,s),e=e.sibling}function Up(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,f=n.attributes;f.length;)n.removeAttributeNode(f[0]);Be(n,o,s),n[Ee]=e,n[de]=s}catch(d){$t(e,e.return,d)}}var Mi=!1,ce=!1,hh=!1,Lp=typeof WeakSet=="function"?WeakSet:Set,Ve=null;function QT(e,n){if(e=e.containerInfo,Lh=qu,e=Km(e),cf(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var f=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break t}var v=0,T=-1,R=-1,z=0,K=0,X=e,k=null;e:for(;;){for(var q;X!==s||f!==0&&X.nodeType!==3||(T=v+f),X!==d||o!==0&&X.nodeType!==3||(R=v+o),X.nodeType===3&&(v+=X.nodeValue.length),(q=X.firstChild)!==null;)k=X,X=q;for(;;){if(X===e)break e;if(k===s&&++z===f&&(T=v),k===d&&++K===o&&(R=v),(q=X.nextSibling)!==null)break;X=k,k=X.parentNode}X=q}s=T===-1||R===-1?null:{start:T,end:R}}else s=null}s=s||{start:0,end:0}}else s=null;for(Ph={focusedElem:e,selectionRange:s},qu=!1,Ve=n;Ve!==null;)if(n=Ve,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,Ve=e;else for(;Ve!==null;){switch(n=Ve,d=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,s=n,f=d.memoizedProps,d=d.memoizedState,o=s.stateNode;try{var yt=fs(s.type,f,s.elementType===s.type);e=o.getSnapshotBeforeUpdate(yt,d),o.__reactInternalSnapshotBeforeUpdate=e}catch(gt){$t(s,s.return,gt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)kh(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":kh(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Ve=e;break}Ve=n.return}}function Pp(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:rr(e,s),o&4&&Vo(5,s);break;case 1:if(rr(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(v){$t(s,s.return,v)}else{var f=fs(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(f,n,e.__reactInternalSnapshotBeforeUpdate)}catch(v){$t(s,s.return,v)}}o&64&&Vp(s),o&512&&No(s,s.return);break;case 3:if(rr(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{_g(e,n)}catch(v){$t(s,s.return,v)}}break;case 27:n===null&&o&4&&Up(s);case 26:case 5:rr(e,s),n===null&&o&4&&Mp(s),o&512&&No(s,s.return);break;case 12:rr(e,s);break;case 13:rr(e,s),o&4&&kp(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=eA.bind(null,s),vA(e,s))));break;case 22:if(o=s.memoizedState!==null||Mi,!o){n=n!==null&&n.memoizedState!==null||ce,f=Mi;var d=ce;Mi=o,(ce=n)&&!d?sr(e,s,(s.subtreeFlags&8772)!==0):rr(e,s),Mi=f,ce=d}break;case 30:break;default:rr(e,s)}}function zp(e){var n=e.alternate;n!==null&&(e.alternate=null,zp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Qi(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ee=null,en=!1;function xi(e,n,s){for(s=s.child;s!==null;)Bp(e,n,s),s=s.sibling}function Bp(e,n,s){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(se,s)}catch{}switch(s.tag){case 26:ce||ni(s,n),xi(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:ce||ni(s,n);var o=ee,f=en;fr(s.type)&&(ee=s.stateNode,en=!1),xi(e,n,s),qo(s.stateNode),ee=o,en=f;break;case 5:ce||ni(s,n);case 6:if(o=ee,f=en,ee=null,xi(e,n,s),ee=o,en=f,ee!==null)if(en)try{(ee.nodeType===9?ee.body:ee.nodeName==="HTML"?ee.ownerDocument.body:ee).removeChild(s.stateNode)}catch(d){$t(s,n,d)}else try{ee.removeChild(s.stateNode)}catch(d){$t(s,n,d)}break;case 18:ee!==null&&(en?(e=ee,Cy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Xo(e)):Cy(ee,s.stateNode));break;case 4:o=ee,f=en,ee=s.stateNode.containerInfo,en=!0,xi(e,n,s),ee=o,en=f;break;case 0:case 11:case 14:case 15:ce||ir(2,s,n),ce||ir(4,s,n),xi(e,n,s);break;case 1:ce||(ni(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&Np(s,n,o)),xi(e,n,s);break;case 21:xi(e,n,s);break;case 22:ce=(o=ce)||s.memoizedState!==null,xi(e,n,s),ce=o;break;default:xi(e,n,s)}}function kp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Xo(e)}catch(s){$t(n,n.return,s)}}function KT(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Lp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Lp),n;default:throw Error(a(435,e.tag))}}function dh(e,n){var s=KT(e);n.forEach(function(o){var f=nA.bind(null,e,o);s.has(o)||(s.add(o),o.then(f,f))})}function fn(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var f=s[o],d=e,v=n,T=v;t:for(;T!==null;){switch(T.tag){case 27:if(fr(T.type)){ee=T.stateNode,en=!1;break t}break;case 5:ee=T.stateNode,en=!1;break t;case 3:case 4:ee=T.stateNode.containerInfo,en=!0;break t}T=T.return}if(ee===null)throw Error(a(160));Bp(d,v,f),ee=null,en=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)qp(n,e),n=n.sibling}var Pn=null;function qp(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:fn(n,e),hn(e),o&4&&(ir(3,e,e.return),Vo(3,e),ir(5,e,e.return));break;case 1:fn(n,e),hn(e),o&512&&(ce||s===null||ni(s,s.return)),o&64&&Mi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var f=Pn;if(fn(n,e),hn(e),o&512&&(ce||s===null||ni(s,s.return)),o&4){var d=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,f=f.ownerDocument||f;e:switch(o){case"title":d=f.getElementsByTagName("title")[0],(!d||d[kr]||d[Ee]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(o),f.head.insertBefore(d,f.querySelector("head > title"))),Be(d,o,s),d[Ee]=e,le(d),o=d;break t;case"link":var v=Uy("link","href",f).get(o+(s.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){v.splice(T,1);break e}}d=f.createElement(o),Be(d,o,s),f.head.appendChild(d);break;case"meta":if(v=Uy("meta","content",f).get(o+(s.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){v.splice(T,1);break e}}d=f.createElement(o),Be(d,o,s),f.head.appendChild(d);break;default:throw Error(a(468,o))}d[Ee]=e,le(d),o=d}e.stateNode=o}else Ly(f,e.type,e.stateNode);else e.stateNode=xy(f,o,e.memoizedProps);else d!==o?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,o===null?Ly(f,e.type,e.stateNode):xy(f,o,e.memoizedProps)):o===null&&e.stateNode!==null&&uh(e,e.memoizedProps,s.memoizedProps)}break;case 27:fn(n,e),hn(e),o&512&&(ce||s===null||ni(s,s.return)),s!==null&&o&4&&uh(e,e.memoizedProps,s.memoizedProps);break;case 5:if(fn(n,e),hn(e),o&512&&(ce||s===null||ni(s,s.return)),e.flags&32){f=e.stateNode;try{En(f,"")}catch(q){$t(e,e.return,q)}}o&4&&e.stateNode!=null&&(f=e.memoizedProps,uh(e,f,s!==null?s.memoizedProps:f)),o&1024&&(hh=!0);break;case 6:if(fn(n,e),hn(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(q){$t(e,e.return,q)}}break;case 3:if(zu=null,f=Pn,Pn=Lu(n.containerInfo),fn(n,e),Pn=f,hn(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Xo(n.containerInfo)}catch(q){$t(e,e.return,q)}hh&&(hh=!1,jp(e));break;case 4:o=Pn,Pn=Lu(e.stateNode.containerInfo),fn(n,e),hn(e),Pn=o;break;case 12:fn(n,e),hn(e);break;case 13:fn(n,e),hn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(vh=_n()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,dh(e,o)));break;case 22:f=e.memoizedState!==null;var R=s!==null&&s.memoizedState!==null,z=Mi,K=ce;if(Mi=z||f,ce=K||R,fn(n,e),ce=K,Mi=z,hn(e),o&8192)t:for(n=e.stateNode,n._visibility=f?n._visibility&-2:n._visibility|1,f&&(s===null||R||Mi||ce||hs(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){R=s=n;try{if(d=R.stateNode,f)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=R.stateNode;var X=R.memoizedProps.style,k=X!=null&&X.hasOwnProperty("display")?X.display:null;T.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(q){$t(R,R.return,q)}}}else if(n.tag===6){if(s===null){R=n;try{R.stateNode.nodeValue=f?"":R.memoizedProps}catch(q){$t(R,R.return,q)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,dh(e,s))));break;case 19:fn(n,e),hn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,dh(e,o)));break;case 30:break;case 21:break;default:fn(n,e),hn(e)}}function hn(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(xp(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var f=s.stateNode,d=ch(e);Su(e,d,f);break;case 5:var v=s.stateNode;s.flags&32&&(En(v,""),s.flags&=-33);var T=ch(e);Su(e,T,v);break;case 3:case 4:var R=s.stateNode.containerInfo,z=ch(e);fh(e,z,R);break;default:throw Error(a(161))}}catch(K){$t(e,e.return,K)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function jp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;jp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function rr(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Pp(e,n.alternate,n),n=n.sibling}function hs(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:ir(4,n,n.return),hs(n);break;case 1:ni(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Np(n,n.return,s),hs(n);break;case 27:qo(n.stateNode);case 26:case 5:ni(n,n.return),hs(n);break;case 22:n.memoizedState===null&&hs(n);break;case 30:hs(n);break;default:hs(n)}e=e.sibling}}function sr(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,f=e,d=n,v=d.flags;switch(d.tag){case 0:case 11:case 15:sr(f,d,s),Vo(4,d);break;case 1:if(sr(f,d,s),o=d,f=o.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(z){$t(o,o.return,z)}if(o=d,f=o.updateQueue,f!==null){var T=o.stateNode;try{var R=f.shared.hiddenCallbacks;if(R!==null)for(f.shared.hiddenCallbacks=null,f=0;f<R.length;f++)yg(R[f],T)}catch(z){$t(o,o.return,z)}}s&&v&64&&Vp(d),No(d,d.return);break;case 27:Up(d);case 26:case 5:sr(f,d,s),s&&o===null&&v&4&&Mp(d),No(d,d.return);break;case 12:sr(f,d,s);break;case 13:sr(f,d,s),s&&v&4&&kp(f,d);break;case 22:d.memoizedState===null&&sr(f,d,s),No(d,d.return);break;case 30:break;default:sr(f,d,s)}n=n.sibling}}function mh(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&yo(s))}function gh(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&yo(e))}function ii(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Hp(e,n,s,o),n=n.sibling}function Hp(e,n,s,o){var f=n.flags;switch(n.tag){case 0:case 11:case 15:ii(e,n,s,o),f&2048&&Vo(9,n);break;case 1:ii(e,n,s,o);break;case 3:ii(e,n,s,o),f&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&yo(e)));break;case 12:if(f&2048){ii(e,n,s,o),e=n.stateNode;try{var d=n.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){$t(n,n.return,R)}}else ii(e,n,s,o);break;case 13:ii(e,n,s,o);break;case 23:break;case 22:d=n.stateNode,v=n.alternate,n.memoizedState!==null?d._visibility&2?ii(e,n,s,o):Mo(e,n):d._visibility&2?ii(e,n,s,o):(d._visibility|=2,ua(e,n,s,o,(n.subtreeFlags&10256)!==0)),f&2048&&mh(v,n);break;case 24:ii(e,n,s,o),f&2048&&gh(n.alternate,n);break;default:ii(e,n,s,o)}}function ua(e,n,s,o,f){for(f=f&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var d=e,v=n,T=s,R=o,z=v.flags;switch(v.tag){case 0:case 11:case 15:ua(d,v,T,R,f),Vo(8,v);break;case 23:break;case 22:var K=v.stateNode;v.memoizedState!==null?K._visibility&2?ua(d,v,T,R,f):Mo(d,v):(K._visibility|=2,ua(d,v,T,R,f)),f&&z&2048&&mh(v.alternate,v);break;case 24:ua(d,v,T,R,f),f&&z&2048&&gh(v.alternate,v);break;default:ua(d,v,T,R,f)}n=n.sibling}}function Mo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,f=o.flags;switch(o.tag){case 22:Mo(s,o),f&2048&&mh(o.alternate,o);break;case 24:Mo(s,o),f&2048&&gh(o.alternate,o);break;default:Mo(s,o)}n=n.sibling}}var xo=8192;function ca(e){if(e.subtreeFlags&xo)for(e=e.child;e!==null;)Fp(e),e=e.sibling}function Fp(e){switch(e.tag){case 26:ca(e),e.flags&xo&&e.memoizedState!==null&&NA(Pn,e.memoizedState,e.memoizedProps);break;case 5:ca(e);break;case 3:case 4:var n=Pn;Pn=Lu(e.stateNode.containerInfo),ca(e),Pn=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=xo,xo=16777216,ca(e),xo=n):ca(e));break;default:ca(e)}}function Gp(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Uo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Ve=o,Kp(o,e)}Gp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Qp(e),e=e.sibling}function Qp(e){switch(e.tag){case 0:case 11:case 15:Uo(e),e.flags&2048&&ir(9,e,e.return);break;case 3:Uo(e);break;case 12:Uo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,bu(e)):Uo(e);break;default:Uo(e)}}function bu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Ve=o,Kp(o,e)}Gp(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:ir(8,n,n.return),bu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,bu(n));break;default:bu(n)}e=e.sibling}}function Kp(e,n){for(;Ve!==null;){var s=Ve;switch(s.tag){case 0:case 11:case 15:ir(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:yo(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,Ve=o;else t:for(s=e;Ve!==null;){o=Ve;var f=o.sibling,d=o.return;if(zp(o),o===s){Ve=null;break t}if(f!==null){f.return=d,Ve=f;break t}Ve=d}}}var YT={getCacheForType:function(e){var n=Fe(Se),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s}},XT=typeof WeakMap=="function"?WeakMap:Map,Ft=0,Jt=null,Ot=null,Ut=0,Gt=0,dn=null,ar=!1,fa=!1,ph=!1,Ui=0,oe=0,or=0,ds=0,yh=0,In=0,ha=0,Lo=null,nn=null,_h=!1,vh=0,Ru=1/0,wu=null,lr=null,ze=0,ur=null,da=null,ma=0,Eh=0,Th=null,Yp=null,Po=0,Ah=null;function mn(){if((Ft&2)!==0&&Ut!==0)return Ut&-Ut;if(Q.T!==null){var e=ea;return e!==0?e:Ih()}return Fi()}function Xp(){In===0&&(In=(Ut&536870912)===0||kt?Ga():536870912);var e=Dn.current;return e!==null&&(e.flags|=32),In}function gn(e,n,s){(e===Jt&&(Gt===2||Gt===9)||e.cancelPendingCommit!==null)&&(ga(e,0),cr(e,Ut,In,!1)),di(e,s),((Ft&2)===0||e!==Jt)&&(e===Jt&&((Ft&2)===0&&(ds|=s),oe===4&&cr(e,Ut,In,!1)),ri(e))}function $p(e,n,s){if((Ft&6)!==0)throw Error(a(327));var o=!s&&(n&124)===0&&(n&e.expiredLanes)===0||Br(e,n),f=o?JT(e,n):Rh(e,n,!0),d=o;do{if(f===0){fa&&!o&&cr(e,n,0,!1);break}else{if(s=e.current.alternate,d&&!$T(s)){f=Rh(e,n,!1),d=!1;continue}if(f===2){if(d=n,e.errorRecoveryDisabledLanes&d)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;t:{var T=e;f=Lo;var R=T.current.memoizedState.isDehydrated;if(R&&(ga(T,v).flags|=256),v=Rh(T,v,!1),v!==2){if(ph&&!R){T.errorRecoveryDisabledLanes|=d,ds|=d,f=4;break t}d=nn,nn=f,d!==null&&(nn===null?nn=d:nn.push.apply(nn,d))}f=v}if(d=!1,f!==2)continue}}if(f===1){ga(e,0),cr(e,n,0,!0);break}t:{switch(o=e,d=f,d){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:cr(o,n,In,!ar);break t;case 2:nn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(f=vh+300-_n(),10<f)){if(cr(o,n,In,!ar),Ns(o,0,!0)!==0)break t;o.timeoutHandle=Ry(Zp.bind(null,o,s,nn,wu,_h,n,In,ds,ha,ar,d,2,-0,0),f);break t}Zp(o,s,nn,wu,_h,n,In,ds,ha,ar,d,0,-0,0)}}break}while(!0);ri(e)}function Zp(e,n,s,o,f,d,v,T,R,z,K,X,k,q){if(e.timeoutHandle=-1,X=n.subtreeFlags,(X&8192||(X&16785408)===16785408)&&(Fo={stylesheets:null,count:0,unsuspend:VA},Fp(n),X=MA(),X!==null)){e.cancelPendingCommit=X(ry.bind(null,e,n,d,s,o,f,v,T,R,K,1,k,q)),cr(e,d,v,!z);return}ry(e,n,d,s,o,f,v,T,R)}function $T(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var f=s[o],d=f.getSnapshot;f=f.value;try{if(!un(d(),f))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function cr(e,n,s,o){n&=~yh,n&=~ds,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var f=n;0<f;){var d=31-He(f),v=1<<d;o[d]=-1,f&=~v}s!==0&&Hn(e,s,n)}function Cu(){return(Ft&6)===0?(zo(0),!1):!0}function Sh(){if(Ot!==null){if(Gt===0)var e=Ot.return;else e=Ot,Ci=os=null,kf(e),oa=null,Do=0,e=Ot;for(;e!==null;)Op(e.alternate,e),e=e.return;Ot=null}}function ga(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,mA(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Sh(),Jt=e,Ot=s=bi(e.current,null),Ut=n,Gt=0,dn=null,ar=!1,fa=Br(e,n),ph=!1,ha=In=yh=ds=or=oe=0,nn=Lo=null,_h=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var f=31-He(o),d=1<<f;n|=e[f],o&=~d}return Ui=n,Xl(),s}function Jp(e,n){wt=null,Q.H=mu,n===vo||n===ru?(n=gg(),Gt=3):n===hg?(n=gg(),Gt=4):Gt=n===pp?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,dn=n,Ot===null&&(oe=1,vu(e,bn(n,e.current)))}function Wp(){var e=Q.H;return Q.H=mu,e===null?mu:e}function ty(){var e=Q.A;return Q.A=YT,e}function bh(){oe=4,ar||(Ut&4194048)!==Ut&&Dn.current!==null||(fa=!0),(or&134217727)===0&&(ds&134217727)===0||Jt===null||cr(Jt,Ut,In,!1)}function Rh(e,n,s){var o=Ft;Ft|=2;var f=Wp(),d=ty();(Jt!==e||Ut!==n)&&(wu=null,ga(e,n)),n=!1;var v=oe;t:do try{if(Gt!==0&&Ot!==null){var T=Ot,R=dn;switch(Gt){case 8:Sh(),v=6;break t;case 3:case 2:case 9:case 6:Dn.current===null&&(n=!0);var z=Gt;if(Gt=0,dn=null,pa(e,T,R,z),s&&fa){v=0;break t}break;default:z=Gt,Gt=0,dn=null,pa(e,T,R,z)}}ZT(),v=oe;break}catch(K){Jp(e,K)}while(!0);return n&&e.shellSuspendCounter++,Ci=os=null,Ft=o,Q.H=f,Q.A=d,Ot===null&&(Jt=null,Ut=0,Xl()),v}function ZT(){for(;Ot!==null;)ey(Ot)}function JT(e,n){var s=Ft;Ft|=2;var o=Wp(),f=ty();Jt!==e||Ut!==n?(wu=null,Ru=_n()+500,ga(e,n)):fa=Br(e,n);t:do try{if(Gt!==0&&Ot!==null){n=Ot;var d=dn;e:switch(Gt){case 1:Gt=0,dn=null,pa(e,n,d,1);break;case 2:case 9:if(dg(d)){Gt=0,dn=null,ny(n);break}n=function(){Gt!==2&&Gt!==9||Jt!==e||(Gt=7),ri(e)},d.then(n,n);break t;case 3:Gt=7;break t;case 4:Gt=5;break t;case 7:dg(d)?(Gt=0,dn=null,ny(n)):(Gt=0,dn=null,pa(e,n,d,7));break;case 5:var v=null;switch(Ot.tag){case 26:v=Ot.memoizedState;case 5:case 27:var T=Ot;if(!v||Py(v)){Gt=0,dn=null;var R=T.sibling;if(R!==null)Ot=R;else{var z=T.return;z!==null?(Ot=z,Du(z)):Ot=null}break e}}Gt=0,dn=null,pa(e,n,d,5);break;case 6:Gt=0,dn=null,pa(e,n,d,6);break;case 8:Sh(),oe=6;break t;default:throw Error(a(462))}}WT();break}catch(K){Jp(e,K)}while(!0);return Ci=os=null,Q.H=o,Q.A=f,Ft=s,Ot!==null?0:(Jt=null,Ut=0,Xl(),oe)}function WT(){for(;Ot!==null&&!qa();)ey(Ot)}function ey(e){var n=Dp(e.alternate,e,Ui);e.memoizedProps=e.pendingProps,n===null?Du(e):Ot=n}function ny(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=Ap(s,n,n.pendingProps,n.type,void 0,Ut);break;case 11:n=Ap(s,n,n.pendingProps,n.type.render,n.ref,Ut);break;case 5:kf(n);default:Op(s,n),n=Ot=ig(n,Ui),n=Dp(s,n,Ui)}e.memoizedProps=e.pendingProps,n===null?Du(e):Ot=n}function pa(e,n,s,o){Ci=os=null,kf(n),oa=null,Do=0;var f=n.return;try{if(jT(e,f,n,s,Ut)){oe=1,vu(e,bn(s,e.current)),Ot=null;return}}catch(d){if(f!==null)throw Ot=f,d;oe=1,vu(e,bn(s,e.current)),Ot=null;return}n.flags&32768?(kt||o===1?e=!0:fa||(Ut&536870912)!==0?e=!1:(ar=e=!0,(o===2||o===9||o===3||o===6)&&(o=Dn.current,o!==null&&o.tag===13&&(o.flags|=16384))),iy(n,e)):Du(n)}function Du(e){var n=e;do{if((n.flags&32768)!==0){iy(n,ar);return}e=n.return;var s=FT(n.alternate,n,Ui);if(s!==null){Ot=s;return}if(n=n.sibling,n!==null){Ot=n;return}Ot=n=e}while(n!==null);oe===0&&(oe=5)}function iy(e,n){do{var s=GT(e.alternate,e);if(s!==null){s.flags&=32767,Ot=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Ot=e;return}Ot=e=s}while(e!==null);oe=6,Ot=null}function ry(e,n,s,o,f,d,v,T,R){e.cancelPendingCommit=null;do Iu();while(ze!==0);if((Ft&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(d=n.lanes|n.childLanes,d|=gf,Ka(e,s,d,v,T,R),e===Jt&&(Ot=Jt=null,Ut=0),da=n,ur=e,ma=s,Eh=d,Th=f,Yp=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,iA(Ur,function(){return uy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=Q.T,Q.T=null,f=nt.p,nt.p=2,v=Ft,Ft|=4;try{QT(e,n,s)}finally{Ft=v,nt.p=f,Q.T=o}}ze=1,sy(),ay(),oy()}}function sy(){if(ze===1){ze=0;var e=ur,n=da,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=Q.T,Q.T=null;var o=nt.p;nt.p=2;var f=Ft;Ft|=4;try{qp(n,e);var d=Ph,v=Km(e.containerInfo),T=d.focusedElem,R=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&Qm(T.ownerDocument.documentElement,T)){if(R!==null&&cf(T)){var z=R.start,K=R.end;if(K===void 0&&(K=z),"selectionStart"in T)T.selectionStart=z,T.selectionEnd=Math.min(K,T.value.length);else{var X=T.ownerDocument||document,k=X&&X.defaultView||window;if(k.getSelection){var q=k.getSelection(),yt=T.textContent.length,gt=Math.min(R.start,yt),Xt=R.end===void 0?gt:Math.min(R.end,yt);!q.extend&&gt>Xt&&(v=Xt,Xt=gt,gt=v);var M=Gm(T,gt),I=Gm(T,Xt);if(M&&I&&(q.rangeCount!==1||q.anchorNode!==M.node||q.anchorOffset!==M.offset||q.focusNode!==I.node||q.focusOffset!==I.offset)){var P=X.createRange();P.setStart(M.node,M.offset),q.removeAllRanges(),gt>Xt?(q.addRange(P),q.extend(I.node,I.offset)):(P.setEnd(I.node,I.offset),q.addRange(P))}}}}for(X=[],q=T;q=q.parentNode;)q.nodeType===1&&X.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<X.length;T++){var Y=X[T];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}qu=!!Lh,Ph=Lh=null}finally{Ft=f,nt.p=o,Q.T=s}}e.current=n,ze=2}}function ay(){if(ze===2){ze=0;var e=ur,n=da,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=Q.T,Q.T=null;var o=nt.p;nt.p=2;var f=Ft;Ft|=4;try{Pp(e,n.alternate,n)}finally{Ft=f,nt.p=o,Q.T=s}}ze=3}}function oy(){if(ze===4||ze===3){ze=0,bl();var e=ur,n=da,s=ma,o=Yp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ze=5:(ze=0,da=ur=null,ly(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(lr=null),Ms(s),n=n.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(se,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=Q.T,f=nt.p,nt.p=2,Q.T=null;try{for(var d=e.onRecoverableError,v=0;v<o.length;v++){var T=o[v];d(T.value,{componentStack:T.stack})}}finally{Q.T=n,nt.p=f}}(ma&3)!==0&&Iu(),ri(e),f=e.pendingLanes,(s&4194090)!==0&&(f&42)!==0?e===Ah?Po++:(Po=0,Ah=e):Po=0,zo(0)}}function ly(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,yo(n)))}function Iu(e){return sy(),ay(),oy(),uy()}function uy(){if(ze!==5)return!1;var e=ur,n=Eh;Eh=0;var s=Ms(ma),o=Q.T,f=nt.p;try{nt.p=32>s?32:s,Q.T=null,s=Th,Th=null;var d=ur,v=ma;if(ze=0,da=ur=null,ma=0,(Ft&6)!==0)throw Error(a(331));var T=Ft;if(Ft|=4,Qp(d.current),Hp(d,d.current,v,s),Ft=T,zo(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(se,d)}catch{}return!0}finally{nt.p=f,Q.T=o,ly(e,n)}}function cy(e,n,s){n=bn(s,n),n=th(e.stateNode,n,2),e=Wi(e,n,2),e!==null&&(di(e,2),ri(e))}function $t(e,n,s){if(e.tag===3)cy(e,e,s);else for(;n!==null;){if(n.tag===3){cy(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(lr===null||!lr.has(o))){e=bn(s,e),s=mp(2),o=Wi(n,s,2),o!==null&&(gp(s,o,n,e),di(o,2),ri(o));break}}n=n.return}}function wh(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new XT;var f=new Set;o.set(n,f)}else f=o.get(n),f===void 0&&(f=new Set,o.set(n,f));f.has(s)||(ph=!0,f.add(s),e=tA.bind(null,e,n,s),n.then(e,e))}function tA(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,Jt===e&&(Ut&s)===s&&(oe===4||oe===3&&(Ut&62914560)===Ut&&300>_n()-vh?(Ft&2)===0&&ga(e,0):yh|=s,ha===Ut&&(ha=0)),ri(e)}function fy(e,n){n===0&&(n=Qa()),e=Zs(e,n),e!==null&&(di(e,n),ri(e))}function eA(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),fy(e,s)}function nA(e,n){var s=0;switch(e.tag){case 13:var o=e.stateNode,f=e.memoizedState;f!==null&&(s=f.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),fy(e,s)}function iA(e,n){return Mr(e,n)}var Ou=null,ya=null,Ch=!1,Vu=!1,Dh=!1,ms=0;function ri(e){e!==ya&&e.next===null&&(ya===null?Ou=ya=e:ya=ya.next=e),Vu=!0,Ch||(Ch=!0,sA())}function zo(e,n){if(!Dh&&Vu){Dh=!0;do for(var s=!1,o=Ou;o!==null;){if(e!==0){var f=o.pendingLanes;if(f===0)var d=0;else{var v=o.suspendedLanes,T=o.pingedLanes;d=(1<<31-He(42|e)+1)-1,d&=f&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,gy(o,d))}else d=Ut,d=Ns(o,o===Jt?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(d&3)===0||Br(o,d)||(s=!0,gy(o,d));o=o.next}while(s);Dh=!1}}function rA(){hy()}function hy(){Vu=Ch=!1;var e=0;ms!==0&&(dA()&&(e=ms),ms=0);for(var n=_n(),s=null,o=Ou;o!==null;){var f=o.next,d=dy(o,n);d===0?(o.next=null,s===null?Ou=f:s.next=f,f===null&&(ya=s)):(s=o,(e!==0||(d&3)!==0)&&(Vu=!0)),o=f}zo(e)}function dy(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,f=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var v=31-He(d),T=1<<v,R=f[v];R===-1?((T&s)===0||(T&o)!==0)&&(f[v]=Fa(T,n)):R<=n&&(e.expiredLanes|=T),d&=~T}if(n=Jt,s=Ut,s=Ns(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&(Gt===2||Gt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&xr(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Br(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&xr(o),Ms(s)){case 2:case 8:s=Os;break;case 32:s=Ur;break;case 268435456:s=Vs;break;default:s=Ur}return o=my.bind(null,e),s=Mr(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&xr(o),e.callbackPriority=2,e.callbackNode=null,2}function my(e,n){if(ze!==0&&ze!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(Iu()&&e.callbackNode!==s)return null;var o=Ut;return o=Ns(e,e===Jt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:($p(e,o,n),dy(e,_n()),e.callbackNode!=null&&e.callbackNode===s?my.bind(null,e):null)}function gy(e,n){if(Iu())return null;$p(e,n,!0)}function sA(){gA(function(){(Ft&6)!==0?Mr(ja,rA):hy()})}function Ih(){return ms===0&&(ms=Ga()),ms}function py(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Bs(""+e)}function yy(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function aA(e,n,s,o,f){if(n==="submit"&&s&&s.stateNode===f){var d=py((f[de]||null).action),v=o.submitter;v&&(n=(n=v[de]||null)?py(n.formAction):v.getAttribute("formAction"),n!==null&&(d=n,v=null));var T=new ks("action","action",null,o,f);e.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(ms!==0){var R=v?yy(f,v):new FormData(f);Xf(s,{pending:!0,data:R,method:f.method,action:d},null,R)}}else typeof d=="function"&&(T.preventDefault(),R=v?yy(f,v):new FormData(f),Xf(s,{pending:!0,data:R,method:f.method,action:d},d,R))},currentTarget:f}]})}}for(var Oh=0;Oh<mf.length;Oh++){var Vh=mf[Oh],oA=Vh.toLowerCase(),lA=Vh[0].toUpperCase()+Vh.slice(1);Ln(oA,"on"+lA)}Ln($m,"onAnimationEnd"),Ln(Zm,"onAnimationIteration"),Ln(Jm,"onAnimationStart"),Ln("dblclick","onDoubleClick"),Ln("focusin","onFocus"),Ln("focusout","onBlur"),Ln(RT,"onTransitionRun"),Ln(wT,"onTransitionStart"),Ln(CT,"onTransitionCancel"),Ln(Wm,"onTransitionEnd"),gi("onMouseEnter",["mouseout","mouseover"]),gi("onMouseLeave",["mouseout","mouseover"]),gi("onPointerEnter",["pointerout","pointerover"]),gi("onPointerLeave",["pointerout","pointerover"]),xn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xn("onBeforeInput",["compositionend","keypress","textInput","paste"]),xn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Bo));function _y(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],f=o.event;o=o.listeners;t:{var d=void 0;if(n)for(var v=o.length-1;0<=v;v--){var T=o[v],R=T.instance,z=T.currentTarget;if(T=T.listener,R!==d&&f.isPropagationStopped())break t;d=T,f.currentTarget=z;try{d(f)}catch(K){_u(K)}f.currentTarget=null,d=R}else for(v=0;v<o.length;v++){if(T=o[v],R=T.instance,z=T.currentTarget,T=T.listener,R!==d&&f.isPropagationStopped())break t;d=T,f.currentTarget=z;try{d(f)}catch(K){_u(K)}f.currentTarget=null,d=R}}}}function Vt(e,n){var s=n[Xa];s===void 0&&(s=n[Xa]=new Set);var o=e+"__bubble";s.has(o)||(vy(n,e,2,!1),s.add(o))}function Nh(e,n,s){var o=0;n&&(o|=4),vy(s,e,o,n)}var Nu="_reactListening"+Math.random().toString(36).slice(2);function Mh(e){if(!e[Nu]){e[Nu]=!0,$a.forEach(function(s){s!=="selectionchange"&&(uA.has(s)||Nh(s,!1,e),Nh(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Nu]||(n[Nu]=!0,Nh("selectionchange",!1,n))}}function vy(e,n,s,o){switch(Hy(n)){case 2:var f=LA;break;case 8:f=PA;break;default:f=Kh}s=f.bind(null,n,s,e),f=void 0,!An||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),o?f!==void 0?e.addEventListener(n,s,{capture:!0,passive:f}):e.addEventListener(n,s,!0):f!==void 0?e.addEventListener(n,s,{passive:f}):e.addEventListener(n,s,!1)}function xh(e,n,s,o,f){var d=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var T=o.stateNode.containerInfo;if(T===f)break;if(v===4)for(v=o.return;v!==null;){var R=v.tag;if((R===3||R===4)&&v.stateNode.containerInfo===f)return;v=v.return}for(;T!==null;){if(v=mi(T),v===null)return;if(R=v.tag,R===5||R===6||R===26||R===27){o=d=v;continue t}T=T.parentNode}}o=o.return}xl(function(){var z=d,K=Tn(s),X=[];t:{var k=tg.get(e);if(k!==void 0){var q=ks,yt=e;switch(e){case"keypress":if(Xn(s)===0)break t;case"keydown":case"keyup":q=Qs;break;case"focusin":yt="focus",q=Hs;break;case"focusout":yt="blur",q=Hs;break;case"beforeblur":case"afterblur":q=Hs;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Sn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=af;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=jl;break;case $m:case Zm:case Jm:q=Fs;break;case Wm:q=Fl;break;case"scroll":case"scrollend":q=Ul;break;case"wheel":q=Ks;break;case"copy":case"cut":case"paste":q=Gs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=lo;break;case"toggle":case"beforetoggle":q=Ql}var gt=(n&4)!==0,Xt=!gt&&(e==="scroll"||e==="scrollend"),M=gt?k!==null?k+"Capture":null:k;gt=[];for(var I=z,P;I!==null;){var Y=I;if(P=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||P===null||M===null||(Y=Kr(I,M),Y!=null&&gt.push(ko(I,Y,P))),Xt)break;I=I.return}0<gt.length&&(k=new q(k,yt,null,s,K),X.push({event:k,listeners:gt}))}}if((n&7)===0){t:{if(k=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",k&&s!==_i&&(yt=s.relatedTarget||s.fromElement)&&(mi(yt)||yt[vn]))break t;if((q||k)&&(k=K.window===K?K:(k=K.ownerDocument)?k.defaultView||k.parentWindow:window,q?(yt=s.relatedTarget||s.toElement,q=z,yt=yt?mi(yt):null,yt!==null&&(Xt=c(yt),gt=yt.tag,yt!==Xt||gt!==5&&gt!==27&&gt!==6)&&(yt=null)):(q=null,yt=z),q!==yt)){if(gt=Sn,Y="onMouseLeave",M="onMouseEnter",I="mouse",(e==="pointerout"||e==="pointerover")&&(gt=lo,Y="onPointerLeave",M="onPointerEnter",I="pointer"),Xt=q==null?k:Gn(q),P=yt==null?k:Gn(yt),k=new gt(Y,I+"leave",q,s,K),k.target=Xt,k.relatedTarget=P,Y=null,mi(K)===z&&(gt=new gt(M,I+"enter",yt,s,K),gt.target=P,gt.relatedTarget=Xt,Y=gt),Xt=Y,q&&yt)e:{for(gt=q,M=yt,I=0,P=gt;P;P=_a(P))I++;for(P=0,Y=M;Y;Y=_a(Y))P++;for(;0<I-P;)gt=_a(gt),I--;for(;0<P-I;)M=_a(M),P--;for(;I--;){if(gt===M||M!==null&&gt===M.alternate)break e;gt=_a(gt),M=_a(M)}gt=null}else gt=null;q!==null&&Ey(X,k,q,gt,!1),yt!==null&&Xt!==null&&Ey(X,Xt,yt,gt,!0)}}t:{if(k=z?Gn(z):window,q=k.nodeName&&k.nodeName.toLowerCase(),q==="select"||q==="input"&&k.type==="file")var ut=Bm;else if(Ae(k))if(km)ut=AT;else{ut=ET;var It=vT}else q=k.nodeName,!q||q.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?z&&eo(z.elementType)&&(ut=Bm):ut=TT;if(ut&&(ut=ut(e,z))){Si(X,ut,s,K);break t}It&&It(e,k,z),e==="focusout"&&z&&k.type==="number"&&z.memoizedProps.value!=null&&Yi(k,"number",k.value)}switch(It=z?Gn(z):window,e){case"focusin":(Ae(It)||It.contentEditable==="true")&&(Ys=It,ff=z,fo=null);break;case"focusout":fo=ff=Ys=null;break;case"mousedown":hf=!0;break;case"contextmenu":case"mouseup":case"dragend":hf=!1,Ym(X,s,K);break;case"selectionchange":if(bT)break;case"keydown":case"keyup":Ym(X,s,K)}var ft;if(Jn)t:{switch(e){case"compositionstart":var pt="onCompositionStart";break t;case"compositionend":pt="onCompositionEnd";break t;case"compositionupdate":pt="onCompositionUpdate";break t}pt=void 0}else Mt?H(e,s)&&(pt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(pt="onCompositionStart");pt&&(_&&s.locale!=="ko"&&(Mt||pt!=="onCompositionStart"?pt==="onCompositionEnd"&&Mt&&(ft=io()):(Yn=K,Xi="value"in Yn?Yn.value:Yn.textContent,Mt=!0)),It=Mu(z,pt),0<It.length&&(pt=new ao(pt,e,null,s,K),X.push({event:pt,listeners:It}),ft?pt.data=ft:(ft=et(s),ft!==null&&(pt.data=ft)))),(ft=g?Te(e,s):xt(e,s))&&(pt=Mu(z,"onBeforeInput"),0<pt.length&&(It=new ao("onBeforeInput","beforeinput",null,s,K),X.push({event:It,listeners:pt}),It.data=ft)),aA(X,e,z,s,K)}_y(X,n)})}function ko(e,n,s){return{instance:e,listener:n,currentTarget:s}}function Mu(e,n){for(var s=n+"Capture",o=[];e!==null;){var f=e,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Kr(e,s),f!=null&&o.unshift(ko(e,f,d)),f=Kr(e,n),f!=null&&o.push(ko(e,f,d))),e.tag===3)return o;e=e.return}return[]}function _a(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Ey(e,n,s,o,f){for(var d=n._reactName,v=[];s!==null&&s!==o;){var T=s,R=T.alternate,z=T.stateNode;if(T=T.tag,R!==null&&R===o)break;T!==5&&T!==26&&T!==27||z===null||(R=z,f?(z=Kr(s,d),z!=null&&v.unshift(ko(s,z,R))):f||(z=Kr(s,d),z!=null&&v.push(ko(s,z,R)))),s=s.return}v.length!==0&&e.push({event:n,listeners:v})}var cA=/\r\n?/g,fA=/\u0000|\uFFFD/g;function Ty(e){return(typeof e=="string"?e:""+e).replace(cA,`
`).replace(fA,"")}function Ay(e,n){return n=Ty(n),Ty(e)===n}function xu(){}function Yt(e,n,s,o,f,d){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||En(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&En(e,""+o);break;case"className":Qn(e,"class",o);break;case"tabIndex":Qn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Qn(e,s,o);break;case"style":to(e,o,d);break;case"data":if(n!=="object"){Qn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=Bs(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(n!=="input"&&Yt(e,n,"name",f.name,f,null),Yt(e,n,"formEncType",f.formEncType,f,null),Yt(e,n,"formMethod",f.formMethod,f,null),Yt(e,n,"formTarget",f.formTarget,f,null)):(Yt(e,n,"encType",f.encType,f,null),Yt(e,n,"method",f.method,f,null),Yt(e,n,"target",f.target,f,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=Bs(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=xu);break;case"onScroll":o!=null&&Vt("scroll",e);break;case"onScrollEnd":o!=null&&Vt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(f.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=Bs(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":Vt("beforetoggle",e),Vt("toggle",e),Ki(e,"popover",o);break;case"xlinkActuate":Ue(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ue(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ue(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ue(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ue(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ue(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ue(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ue(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ue(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Ki(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=rf.get(s)||s,Ki(e,s,o))}}function Uh(e,n,s,o,f,d){switch(s){case"style":to(e,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(f.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof o=="string"?En(e,o):(typeof o=="number"||typeof o=="bigint")&&En(e,""+o);break;case"onScroll":o!=null&&Vt("scroll",e);break;case"onScrollEnd":o!=null&&Vt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=xu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xs.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(f=s.endsWith("Capture"),n=s.slice(2,f?s.length-7:void 0),d=e[de]||null,d=d!=null?d[s]:null,typeof d=="function"&&e.removeEventListener(n,d,f),typeof o=="function")){typeof d!="function"&&d!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,f);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):Ki(e,s,o)}}}function Be(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",e),Vt("load",e);var o=!1,f=!1,d;for(d in s)if(s.hasOwnProperty(d)){var v=s[d];if(v!=null)switch(d){case"src":o=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Yt(e,n,d,v,s,null)}}f&&Yt(e,n,"srcSet",s.srcSet,s,null),o&&Yt(e,n,"src",s.src,s,null);return;case"input":Vt("invalid",e);var T=d=v=f=null,R=null,z=null;for(o in s)if(s.hasOwnProperty(o)){var K=s[o];if(K!=null)switch(o){case"name":f=K;break;case"type":v=K;break;case"checked":R=K;break;case"defaultChecked":z=K;break;case"value":d=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(a(137,n));break;default:Yt(e,n,o,K,s,null)}}Fr(e,d,T,R,z,v,f,!1),zs(e);return;case"select":Vt("invalid",e),o=v=d=null;for(f in s)if(s.hasOwnProperty(f)&&(T=s[f],T!=null))switch(f){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":o=T;default:Yt(e,n,f,T,s,null)}n=d,s=v,e.multiple=!!o,n!=null?yi(e,!!o,n,!1):s!=null&&yi(e,!!o,s,!0);return;case"textarea":Vt("invalid",e),d=f=o=null;for(v in s)if(s.hasOwnProperty(v)&&(T=s[v],T!=null))switch(v){case"value":o=T;break;case"defaultValue":f=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:Yt(e,n,v,T,s,null)}Gr(e,o,f,d),zs(e);return;case"option":for(R in s)if(s.hasOwnProperty(R)&&(o=s[R],o!=null))switch(R){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Yt(e,n,R,o,s,null)}return;case"dialog":Vt("beforetoggle",e),Vt("toggle",e),Vt("cancel",e),Vt("close",e);break;case"iframe":case"object":Vt("load",e);break;case"video":case"audio":for(o=0;o<Bo.length;o++)Vt(Bo[o],e);break;case"image":Vt("error",e),Vt("load",e);break;case"details":Vt("toggle",e);break;case"embed":case"source":case"link":Vt("error",e),Vt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in s)if(s.hasOwnProperty(z)&&(o=s[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Yt(e,n,z,o,s,null)}return;default:if(eo(n)){for(K in s)s.hasOwnProperty(K)&&(o=s[K],o!==void 0&&Uh(e,n,K,o,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(o=s[T],o!=null&&Yt(e,n,T,o,s,null))}function hA(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,v=null,T=null,R=null,z=null,K=null;for(q in s){var X=s[q];if(s.hasOwnProperty(q)&&X!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":R=X;default:o.hasOwnProperty(q)||Yt(e,n,q,null,o,X)}}for(var k in o){var q=o[k];if(X=s[k],o.hasOwnProperty(k)&&(q!=null||X!=null))switch(k){case"type":d=q;break;case"name":f=q;break;case"checked":z=q;break;case"defaultChecked":K=q;break;case"value":v=q;break;case"defaultValue":T=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==X&&Yt(e,n,k,q,o,X)}}ln(e,v,T,R,z,K,d,f);return;case"select":q=v=T=k=null;for(d in s)if(R=s[d],s.hasOwnProperty(d)&&R!=null)switch(d){case"value":break;case"multiple":q=R;default:o.hasOwnProperty(d)||Yt(e,n,d,null,o,R)}for(f in o)if(d=o[f],R=s[f],o.hasOwnProperty(f)&&(d!=null||R!=null))switch(f){case"value":k=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==R&&Yt(e,n,f,d,o,R)}n=T,s=v,o=q,k!=null?yi(e,!!s,k,!1):!!o!=!!s&&(n!=null?yi(e,!!s,n,!0):yi(e,!!s,s?[]:"",!1));return;case"textarea":q=k=null;for(T in s)if(f=s[T],s.hasOwnProperty(T)&&f!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Yt(e,n,T,null,o,f)}for(v in o)if(f=o[v],d=s[v],o.hasOwnProperty(v)&&(f!=null||d!=null))switch(v){case"value":k=f;break;case"defaultValue":q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==d&&Yt(e,n,v,f,o,d)}Qt(e,k,q);return;case"option":for(var yt in s)if(k=s[yt],s.hasOwnProperty(yt)&&k!=null&&!o.hasOwnProperty(yt))switch(yt){case"selected":e.selected=!1;break;default:Yt(e,n,yt,null,o,k)}for(R in o)if(k=o[R],q=s[R],o.hasOwnProperty(R)&&k!==q&&(k!=null||q!=null))switch(R){case"selected":e.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:Yt(e,n,R,k,o,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in s)k=s[gt],s.hasOwnProperty(gt)&&k!=null&&!o.hasOwnProperty(gt)&&Yt(e,n,gt,null,o,k);for(z in o)if(k=o[z],q=s[z],o.hasOwnProperty(z)&&k!==q&&(k!=null||q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(a(137,n));break;default:Yt(e,n,z,k,o,q)}return;default:if(eo(n)){for(var Xt in s)k=s[Xt],s.hasOwnProperty(Xt)&&k!==void 0&&!o.hasOwnProperty(Xt)&&Uh(e,n,Xt,void 0,o,k);for(K in o)k=o[K],q=s[K],!o.hasOwnProperty(K)||k===q||k===void 0&&q===void 0||Uh(e,n,K,k,o,q);return}}for(var M in s)k=s[M],s.hasOwnProperty(M)&&k!=null&&!o.hasOwnProperty(M)&&Yt(e,n,M,null,o,k);for(X in o)k=o[X],q=s[X],!o.hasOwnProperty(X)||k===q||k==null&&q==null||Yt(e,n,X,k,o,q)}var Lh=null,Ph=null;function Uu(e){return e.nodeType===9?e:e.ownerDocument}function Sy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function by(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function zh(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Bh=null;function dA(){var e=window.event;return e&&e.type==="popstate"?e===Bh?!1:(Bh=e,!0):(Bh=null,!1)}var Ry=typeof setTimeout=="function"?setTimeout:void 0,mA=typeof clearTimeout=="function"?clearTimeout:void 0,wy=typeof Promise=="function"?Promise:void 0,gA=typeof queueMicrotask=="function"?queueMicrotask:typeof wy<"u"?function(e){return wy.resolve(null).then(e).catch(pA)}:Ry;function pA(e){setTimeout(function(){throw e})}function fr(e){return e==="head"}function Cy(e,n){var s=n,o=0,f=0;do{var d=s.nextSibling;if(e.removeChild(s),d&&d.nodeType===8)if(s=d.data,s==="/$"){if(0<o&&8>o){s=o;var v=e.ownerDocument;if(s&1&&qo(v.documentElement),s&2&&qo(v.body),s&4)for(s=v.head,qo(s),v=s.firstChild;v;){var T=v.nextSibling,R=v.nodeName;v[kr]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&v.rel.toLowerCase()==="stylesheet"||s.removeChild(v),v=T}}if(f===0){e.removeChild(d),Xo(n);return}f--}else s==="$"||s==="$?"||s==="$!"?f++:o=s.charCodeAt(0)-48;else o=0;s=d}while(s);Xo(n)}function kh(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":kh(s),Qi(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function yA(e,n,s,o){for(;e.nodeType===1;){var f=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[kr])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=zn(e.nextSibling),e===null)break}return null}function _A(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=zn(e.nextSibling),e===null))return null;return e}function qh(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function vA(e,n){var s=e.ownerDocument;if(e.data!=="$?"||s.readyState==="complete")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function zn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var jh=null;function Dy(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return e;n--}else s==="/$"&&n++}e=e.previousSibling}return null}function Iy(e,n,s){switch(n=Uu(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function qo(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Qi(e)}var On=new Map,Oy=new Set;function Lu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Li=nt.d;nt.d={f:EA,r:TA,D:AA,C:SA,L:bA,m:RA,X:CA,S:wA,M:DA};function EA(){var e=Li.f(),n=Cu();return e||n}function TA(e){var n=Fn(e);n!==null&&n.tag===5&&n.type==="form"?$g(n):Li.r(e)}var va=typeof document>"u"?null:document;function Vy(e,n,s){var o=va;if(o&&typeof n=="string"&&n){var f=me(n);f='link[rel="'+e+'"][href="'+f+'"]',typeof s=="string"&&(f+='[crossorigin="'+s+'"]'),Oy.has(f)||(Oy.add(f),e={rel:e,crossOrigin:s,href:n},o.querySelector(f)===null&&(n=o.createElement("link"),Be(n,"link",e),le(n),o.head.appendChild(n)))}}function AA(e){Li.D(e),Vy("dns-prefetch",e,null)}function SA(e,n){Li.C(e,n),Vy("preconnect",e,n)}function bA(e,n,s){Li.L(e,n,s);var o=va;if(o&&e&&n){var f='link[rel="preload"][as="'+me(n)+'"]';n==="image"&&s&&s.imageSrcSet?(f+='[imagesrcset="'+me(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(f+='[imagesizes="'+me(s.imageSizes)+'"]')):f+='[href="'+me(e)+'"]';var d=f;switch(n){case"style":d=Ea(e);break;case"script":d=Ta(e)}On.has(d)||(e=E({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),On.set(d,e),o.querySelector(f)!==null||n==="style"&&o.querySelector(jo(d))||n==="script"&&o.querySelector(Ho(d))||(n=o.createElement("link"),Be(n,"link",e),le(n),o.head.appendChild(n)))}}function RA(e,n){Li.m(e,n);var s=va;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+me(o)+'"][href="'+me(e)+'"]',d=f;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ta(e)}if(!On.has(d)&&(e=E({rel:"modulepreload",href:e},n),On.set(d,e),s.querySelector(f)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Ho(d)))return}o=s.createElement("link"),Be(o,"link",e),le(o),s.head.appendChild(o)}}}function wA(e,n,s){Li.S(e,n,s);var o=va;if(o&&e){var f=$e(o).hoistableStyles,d=Ea(e);n=n||"default";var v=f.get(d);if(!v){var T={loading:0,preload:null};if(v=o.querySelector(jo(d)))T.loading=5;else{e=E({rel:"stylesheet",href:e,"data-precedence":n},s),(s=On.get(d))&&Hh(e,s);var R=v=o.createElement("link");le(R),Be(R,"link",e),R._p=new Promise(function(z,K){R.onload=z,R.onerror=K}),R.addEventListener("load",function(){T.loading|=1}),R.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Pu(v,n,o)}v={type:"stylesheet",instance:v,count:1,state:T},f.set(d,v)}}}function CA(e,n){Li.X(e,n);var s=va;if(s&&e){var o=$e(s).hoistableScripts,f=Ta(e),d=o.get(f);d||(d=s.querySelector(Ho(f)),d||(e=E({src:e,async:!0},n),(n=On.get(f))&&Fh(e,n),d=s.createElement("script"),le(d),Be(d,"link",e),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(f,d))}}function DA(e,n){Li.M(e,n);var s=va;if(s&&e){var o=$e(s).hoistableScripts,f=Ta(e),d=o.get(f);d||(d=s.querySelector(Ho(f)),d||(e=E({src:e,async:!0,type:"module"},n),(n=On.get(f))&&Fh(e,n),d=s.createElement("script"),le(d),Be(d,"link",e),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(f,d))}}function Ny(e,n,s,o){var f=(f=Et.current)?Lu(f):null;if(!f)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Ea(s.href),s=$e(f).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Ea(s.href);var d=$e(f).hoistableStyles,v=d.get(e);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,v),(d=f.querySelector(jo(e)))&&!d._p&&(v.instance=d,v.state.loading=5),On.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},On.set(e,s),d||IA(f,e,s,v.state))),n&&o===null)throw Error(a(528,""));return v}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ta(s),s=$e(f).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Ea(e){return'href="'+me(e)+'"'}function jo(e){return'link[rel="stylesheet"]['+e+"]"}function My(e){return E({},e,{"data-precedence":e.precedence,precedence:null})}function IA(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Be(n,"link",s),le(n),e.head.appendChild(n))}function Ta(e){return'[src="'+me(e)+'"]'}function Ho(e){return"script[async]"+e}function xy(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+me(s.href)+'"]');if(o)return n.instance=o,le(o),o;var f=E({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),le(o),Be(o,"style",f),Pu(o,s.precedence,e),n.instance=o;case"stylesheet":f=Ea(s.href);var d=e.querySelector(jo(f));if(d)return n.state.loading|=4,n.instance=d,le(d),d;o=My(s),(f=On.get(f))&&Hh(o,f),d=(e.ownerDocument||e).createElement("link"),le(d);var v=d;return v._p=new Promise(function(T,R){v.onload=T,v.onerror=R}),Be(d,"link",o),n.state.loading|=4,Pu(d,s.precedence,e),n.instance=d;case"script":return d=Ta(s.src),(f=e.querySelector(Ho(d)))?(n.instance=f,le(f),f):(o=s,(f=On.get(d))&&(o=E({},s),Fh(o,f)),e=e.ownerDocument||e,f=e.createElement("script"),le(f),Be(f,"link",o),e.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Pu(o,s.precedence,e));return n.instance}function Pu(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=o.length?o[o.length-1]:null,d=f,v=0;v<o.length;v++){var T=o[v];if(T.dataset.precedence===n)d=T;else if(d!==f)break}d?d.parentNode.insertBefore(e,d.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function Hh(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Fh(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var zu=null;function Uy(e,n,s){if(zu===null){var o=new Map,f=zu=new Map;f.set(s,o)}else f=zu,o=f.get(s),o||(o=new Map,f.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),f=0;f<s.length;f++){var d=s[f];if(!(d[kr]||d[Ee]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(n)||"";v=e+v;var T=o.get(v);T?T.push(d):o.set(v,[d])}}return o}function Ly(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function OA(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Py(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Fo=null;function VA(){}function NA(e,n,s){if(Fo===null)throw Error(a(475));var o=Fo;if(n.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var f=Ea(s.href),d=e.querySelector(jo(f));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=Bu.bind(o),e.then(o,o)),n.state.loading|=4,n.instance=d,le(d);return}d=e.ownerDocument||e,s=My(s),(f=On.get(f))&&Hh(s,f),d=d.createElement("link"),le(d);var v=d;v._p=new Promise(function(T,R){v.onload=T,v.onerror=R}),Be(d,"link",s),n.instance=d}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(o.count++,n=Bu.bind(o),e.addEventListener("load",n),e.addEventListener("error",n))}}function MA(){if(Fo===null)throw Error(a(475));var e=Fo;return e.stylesheets&&e.count===0&&Gh(e,e.stylesheets),0<e.count?function(n){var s=setTimeout(function(){if(e.stylesheets&&Gh(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(s)}}:null}function Bu(){if(this.count--,this.count===0){if(this.stylesheets)Gh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ku=null;function Gh(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ku=new Map,n.forEach(xA,e),ku=null,Bu.call(e))}function xA(e,n){if(!(n.state.loading&4)){var s=ku.get(e);if(s)var o=s.get(null);else{s=new Map,ku.set(e,s);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var v=f[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(s.set(v.dataset.precedence,v),o=v)}o&&s.set(null,o)}f=n.instance,v=f.getAttribute("data-precedence"),d=s.get(v)||o,d===o&&s.set(null,f),s.set(v,f),this.count++,o=Bu.bind(this),f.addEventListener("load",o),f.addEventListener("error",o),d?d.parentNode.insertBefore(f,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),n.state.loading|=4}}var Go={$$typeof:at,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function UA(e,n,s,o,f,d,v,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hi(0),this.hiddenUpdates=hi(null),this.identifierPrefix=o,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function zy(e,n,s,o,f,d,v,T,R,z,K,X){return e=new UA(e,n,s,v,T,R,z,X),n=1,d===!0&&(n|=24),d=cn(3,null,null,n),e.current=d,d.stateNode=e,n=wf(),n.refCount++,e.pooledCache=n,n.refCount++,d.memoizedState={element:o,isDehydrated:s,cache:n},Of(d),e}function By(e){return e?(e=Js,e):Js}function ky(e,n,s,o,f,d){f=By(f),o.context===null?o.context=f:o.pendingContext=f,o=Ji(n),o.payload={element:s},d=d===void 0?null:d,d!==null&&(o.callback=d),s=Wi(e,o,n),s!==null&&(gn(s,e,n),To(s,e,n))}function qy(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Qh(e,n){qy(e,n),(e=e.alternate)&&qy(e,n)}function jy(e){if(e.tag===13){var n=Zs(e,67108864);n!==null&&gn(n,e,67108864),Qh(e,67108864)}}var qu=!0;function LA(e,n,s,o){var f=Q.T;Q.T=null;var d=nt.p;try{nt.p=2,Kh(e,n,s,o)}finally{nt.p=d,Q.T=f}}function PA(e,n,s,o){var f=Q.T;Q.T=null;var d=nt.p;try{nt.p=8,Kh(e,n,s,o)}finally{nt.p=d,Q.T=f}}function Kh(e,n,s,o){if(qu){var f=Yh(o);if(f===null)xh(e,n,o,ju,s),Fy(e,o);else if(BA(f,e,n,s,o))o.stopPropagation();else if(Fy(e,o),n&4&&-1<zA.indexOf(e)){for(;f!==null;){var d=Fn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Mn(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var R=1<<31-He(v);T.entanglements[1]|=R,v&=~R}ri(d),(Ft&6)===0&&(Ru=_n()+500,zo(0))}}break;case 13:T=Zs(d,2),T!==null&&gn(T,d,2),Cu(),Qh(d,2)}if(d=Yh(o),d===null&&xh(e,n,o,ju,s),d===f)break;f=d}f!==null&&o.stopPropagation()}else xh(e,n,o,null,s)}}function Yh(e){return e=Tn(e),Xh(e)}var ju=null;function Xh(e){if(ju=null,e=mi(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=h(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return ju=e,null}function Hy(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Zc()){case ja:return 2;case Os:return 8;case Ur:case Jc:return 32;case Vs:return 268435456;default:return 32}default:return 32}}var $h=!1,hr=null,dr=null,mr=null,Qo=new Map,Ko=new Map,gr=[],zA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Fy(e,n){switch(e){case"focusin":case"focusout":hr=null;break;case"dragenter":case"dragleave":dr=null;break;case"mouseover":case"mouseout":mr=null;break;case"pointerover":case"pointerout":Qo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ko.delete(n.pointerId)}}function Yo(e,n,s,o,f,d){return e===null||e.nativeEvent!==d?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:d,targetContainers:[f]},n!==null&&(n=Fn(n),n!==null&&jy(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),e)}function BA(e,n,s,o,f){switch(n){case"focusin":return hr=Yo(hr,e,n,s,o,f),!0;case"dragenter":return dr=Yo(dr,e,n,s,o,f),!0;case"mouseover":return mr=Yo(mr,e,n,s,o,f),!0;case"pointerover":var d=f.pointerId;return Qo.set(d,Yo(Qo.get(d)||null,e,n,s,o,f)),!0;case"gotpointercapture":return d=f.pointerId,Ko.set(d,Yo(Ko.get(d)||null,e,n,s,o,f)),!0}return!1}function Gy(e){var n=mi(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=h(s),n!==null){e.blockedOn=n,Cl(e.priority,function(){if(s.tag===13){var o=mn();o=Hi(o);var f=Zs(s,o);f!==null&&gn(f,s,o),Qh(s,o)}});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Hu(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=Yh(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);_i=o,s.target.dispatchEvent(o),_i=null}else return n=Fn(s),n!==null&&jy(n),e.blockedOn=s,!1;n.shift()}return!0}function Qy(e,n,s){Hu(e)&&s.delete(n)}function kA(){$h=!1,hr!==null&&Hu(hr)&&(hr=null),dr!==null&&Hu(dr)&&(dr=null),mr!==null&&Hu(mr)&&(mr=null),Qo.forEach(Qy),Ko.forEach(Qy)}function Fu(e,n){e.blockedOn===n&&(e.blockedOn=null,$h||($h=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,kA)))}var Gu=null;function Ky(e){Gu!==e&&(Gu=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Gu===e&&(Gu=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],f=e[n+2];if(typeof o!="function"){if(Xh(o||s)===null)continue;break}var d=Fn(s);d!==null&&(e.splice(n,3),n-=3,Xf(d,{pending:!0,data:f,method:s.method,action:o},o,f))}}))}function Xo(e){function n(R){return Fu(R,e)}hr!==null&&Fu(hr,e),dr!==null&&Fu(dr,e),mr!==null&&Fu(mr,e),Qo.forEach(n),Ko.forEach(n);for(var s=0;s<gr.length;s++){var o=gr[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<gr.length&&(s=gr[0],s.blockedOn===null);)Gy(s),s.blockedOn===null&&gr.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var f=s[o],d=s[o+1],v=f[de]||null;if(typeof d=="function")v||Ky(s);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(f=d,v=d[de]||null)T=v.formAction;else if(Xh(f)!==null)continue}else T=v.action;typeof T=="function"?s[o+1]=T:(s.splice(o,3),o-=3),Ky(s)}}}function Zh(e){this._internalRoot=e}Qu.prototype.render=Zh.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=mn();ky(s,o,e,n,null,null)},Qu.prototype.unmount=Zh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;ky(e.current,2,null,e,null,null),Cu(),n[vn]=null}};function Qu(e){this._internalRoot=e}Qu.prototype.unstable_scheduleHydration=function(e){if(e){var n=Fi();e={blockedOn:null,target:e,priority:n};for(var s=0;s<gr.length&&n!==0&&n<gr[s].priority;s++);gr.splice(s,0,e),s===0&&Gy(e)}};var Yy=t.version;if(Yy!=="19.1.0")throw Error(a(527,Yy,"19.1.0"));nt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=y(n),e=e!==null?p(e):null,e=e===null?null:e.stateNode,e};var qA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ku=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ku.isDisabled&&Ku.supportsFiber)try{se=Ku.inject(qA),Ht=Ku}catch{}}return Zo.createRoot=function(e,n){if(!l(e))throw Error(a(299));var s=!1,o="",f=cp,d=fp,v=hp,T=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(T=n.unstable_transitionCallbacks)),n=zy(e,1,!1,null,null,s,o,f,d,v,T,null),e[vn]=n.current,Mh(e),new Zh(n)},Zo.hydrateRoot=function(e,n,s){if(!l(e))throw Error(a(299));var o=!1,f="",d=cp,v=fp,T=hp,R=null,z=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(v=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(R=s.unstable_transitionCallbacks),s.formState!==void 0&&(z=s.formState)),n=zy(e,1,!0,n,s??null,o,f,d,v,T,R,z),n.context=By(null),s=n.current,o=mn(),o=Hi(o),f=Ji(o),f.callback=null,Wi(s,f,o),s=o,n.current.lanes=s,di(n,s),ri(n),e[vn]=n.current,Mh(e),new Qu(n)},Zo.version="19.1.0",Zo}var r_;function ZA(){if(r_)return td.exports;r_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),td.exports=$A(),td.exports}var JA=ZA();function zv(r,t){return function(){return r.apply(t,arguments)}}const{toString:WA}=Object.prototype,{getPrototypeOf:$d}=Object,Dc=(r=>t=>{const i=WA.call(t);return r[i]||(r[i]=i.slice(8,-1).toLowerCase())})(Object.create(null)),qn=r=>(r=r.toLowerCase(),t=>Dc(t)===r),Ic=r=>t=>typeof t===r,{isArray:xa}=Array,ol=Ic("undefined");function tS(r){return r!==null&&!ol(r)&&r.constructor!==null&&!ol(r.constructor)&&pn(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const Bv=qn("ArrayBuffer");function eS(r){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(r):t=r&&r.buffer&&Bv(r.buffer),t}const nS=Ic("string"),pn=Ic("function"),kv=Ic("number"),Oc=r=>r!==null&&typeof r=="object",iS=r=>r===!0||r===!1,tc=r=>{if(Dc(r)!=="object")return!1;const t=$d(r);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},rS=qn("Date"),sS=qn("File"),aS=qn("Blob"),oS=qn("FileList"),lS=r=>Oc(r)&&pn(r.pipe),uS=r=>{let t;return r&&(typeof FormData=="function"&&r instanceof FormData||pn(r.append)&&((t=Dc(r))==="formdata"||t==="object"&&pn(r.toString)&&r.toString()==="[object FormData]"))},cS=qn("URLSearchParams"),[fS,hS,dS,mS]=["ReadableStream","Request","Response","Headers"].map(qn),gS=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function pl(r,t,{allOwnKeys:i=!1}={}){if(r===null||typeof r>"u")return;let a,l;if(typeof r!="object"&&(r=[r]),xa(r))for(a=0,l=r.length;a<l;a++)t.call(null,r[a],a,r);else{const c=i?Object.getOwnPropertyNames(r):Object.keys(r),h=c.length;let m;for(a=0;a<h;a++)m=c[a],t.call(null,r[m],m,r)}}function qv(r,t){t=t.toLowerCase();const i=Object.keys(r);let a=i.length,l;for(;a-- >0;)if(l=i[a],t===l.toLowerCase())return l;return null}const ys=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,jv=r=>!ol(r)&&r!==ys;function Ed(){const{caseless:r}=jv(this)&&this||{},t={},i=(a,l)=>{const c=r&&qv(t,l)||l;tc(t[c])&&tc(a)?t[c]=Ed(t[c],a):tc(a)?t[c]=Ed({},a):xa(a)?t[c]=a.slice():t[c]=a};for(let a=0,l=arguments.length;a<l;a++)arguments[a]&&pl(arguments[a],i);return t}const pS=(r,t,i,{allOwnKeys:a}={})=>(pl(t,(l,c)=>{i&&pn(l)?r[c]=zv(l,i):r[c]=l},{allOwnKeys:a}),r),yS=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),_S=(r,t,i,a)=>{r.prototype=Object.create(t.prototype,a),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:t.prototype}),i&&Object.assign(r.prototype,i)},vS=(r,t,i,a)=>{let l,c,h;const m={};if(t=t||{},r==null)return t;do{for(l=Object.getOwnPropertyNames(r),c=l.length;c-- >0;)h=l[c],(!a||a(h,r,t))&&!m[h]&&(t[h]=r[h],m[h]=!0);r=i!==!1&&$d(r)}while(r&&(!i||i(r,t))&&r!==Object.prototype);return t},ES=(r,t,i)=>{r=String(r),(i===void 0||i>r.length)&&(i=r.length),i-=t.length;const a=r.indexOf(t,i);return a!==-1&&a===i},TS=r=>{if(!r)return null;if(xa(r))return r;let t=r.length;if(!kv(t))return null;const i=new Array(t);for(;t-- >0;)i[t]=r[t];return i},AS=(r=>t=>r&&t instanceof r)(typeof Uint8Array<"u"&&$d(Uint8Array)),SS=(r,t)=>{const a=(r&&r[Symbol.iterator]).call(r);let l;for(;(l=a.next())&&!l.done;){const c=l.value;t.call(r,c[0],c[1])}},bS=(r,t)=>{let i;const a=[];for(;(i=r.exec(t))!==null;)a.push(i);return a},RS=qn("HTMLFormElement"),wS=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(i,a,l){return a.toUpperCase()+l}),s_=(({hasOwnProperty:r})=>(t,i)=>r.call(t,i))(Object.prototype),CS=qn("RegExp"),Hv=(r,t)=>{const i=Object.getOwnPropertyDescriptors(r),a={};pl(i,(l,c)=>{let h;(h=t(l,c,r))!==!1&&(a[c]=h||l)}),Object.defineProperties(r,a)},DS=r=>{Hv(r,(t,i)=>{if(pn(r)&&["arguments","caller","callee"].indexOf(i)!==-1)return!1;const a=r[i];if(pn(a)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")})}})},IS=(r,t)=>{const i={},a=l=>{l.forEach(c=>{i[c]=!0})};return xa(r)?a(r):a(String(r).split(t)),i},OS=()=>{},VS=(r,t)=>r!=null&&Number.isFinite(r=+r)?r:t;function NS(r){return!!(r&&pn(r.append)&&r[Symbol.toStringTag]==="FormData"&&r[Symbol.iterator])}const MS=r=>{const t=new Array(10),i=(a,l)=>{if(Oc(a)){if(t.indexOf(a)>=0)return;if(!("toJSON"in a)){t[l]=a;const c=xa(a)?[]:{};return pl(a,(h,m)=>{const y=i(h,l+1);!ol(y)&&(c[m]=y)}),t[l]=void 0,c}}return a};return i(r,0)},xS=qn("AsyncFunction"),US=r=>r&&(Oc(r)||pn(r))&&pn(r.then)&&pn(r.catch),Fv=((r,t)=>r?setImmediate:t?((i,a)=>(ys.addEventListener("message",({source:l,data:c})=>{l===ys&&c===i&&a.length&&a.shift()()},!1),l=>{a.push(l),ys.postMessage(i,"*")}))(`axios@${Math.random()}`,[]):i=>setTimeout(i))(typeof setImmediate=="function",pn(ys.postMessage)),LS=typeof queueMicrotask<"u"?queueMicrotask.bind(ys):typeof process<"u"&&process.nextTick||Fv,G={isArray:xa,isArrayBuffer:Bv,isBuffer:tS,isFormData:uS,isArrayBufferView:eS,isString:nS,isNumber:kv,isBoolean:iS,isObject:Oc,isPlainObject:tc,isReadableStream:fS,isRequest:hS,isResponse:dS,isHeaders:mS,isUndefined:ol,isDate:rS,isFile:sS,isBlob:aS,isRegExp:CS,isFunction:pn,isStream:lS,isURLSearchParams:cS,isTypedArray:AS,isFileList:oS,forEach:pl,merge:Ed,extend:pS,trim:gS,stripBOM:yS,inherits:_S,toFlatObject:vS,kindOf:Dc,kindOfTest:qn,endsWith:ES,toArray:TS,forEachEntry:SS,matchAll:bS,isHTMLForm:RS,hasOwnProperty:s_,hasOwnProp:s_,reduceDescriptors:Hv,freezeMethods:DS,toObjectSet:IS,toCamelCase:wS,noop:OS,toFiniteNumber:VS,findKey:qv,global:ys,isContextDefined:jv,isSpecCompliantForm:NS,toJSONObject:MS,isAsyncFn:xS,isThenable:US,setImmediate:Fv,asap:LS};function bt(r,t,i,a,l){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",t&&(this.code=t),i&&(this.config=i),a&&(this.request=a),l&&(this.response=l,this.status=l.status?l.status:null)}G.inherits(bt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:G.toJSONObject(this.config),code:this.code,status:this.status}}});const Gv=bt.prototype,Qv={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{Qv[r]={value:r}});Object.defineProperties(bt,Qv);Object.defineProperty(Gv,"isAxiosError",{value:!0});bt.from=(r,t,i,a,l,c)=>{const h=Object.create(Gv);return G.toFlatObject(r,h,function(y){return y!==Error.prototype},m=>m!=="isAxiosError"),bt.call(h,r.message,t,i,a,l),h.cause=r,h.name=r.name,c&&Object.assign(h,c),h};const PS=null;function Td(r){return G.isPlainObject(r)||G.isArray(r)}function Kv(r){return G.endsWith(r,"[]")?r.slice(0,-2):r}function a_(r,t,i){return r?r.concat(t).map(function(l,c){return l=Kv(l),!i&&c?"["+l+"]":l}).join(i?".":""):t}function zS(r){return G.isArray(r)&&!r.some(Td)}const BS=G.toFlatObject(G,{},null,function(t){return/^is[A-Z]/.test(t)});function Vc(r,t,i){if(!G.isObject(r))throw new TypeError("target must be an object");t=t||new FormData,i=G.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,function(Z,B){return!G.isUndefined(B[Z])});const a=i.metaTokens,l=i.visitor||E,c=i.dots,h=i.indexes,y=(i.Blob||typeof Blob<"u"&&Blob)&&G.isSpecCompliantForm(t);if(!G.isFunction(l))throw new TypeError("visitor must be a function");function p(F){if(F===null)return"";if(G.isDate(F))return F.toISOString();if(!y&&G.isBlob(F))throw new bt("Blob is not supported. Use a Buffer instead.");return G.isArrayBuffer(F)||G.isTypedArray(F)?y&&typeof Blob=="function"?new Blob([F]):Buffer.from(F):F}function E(F,Z,B){let it=F;if(F&&!B&&typeof F=="object"){if(G.endsWith(Z,"{}"))Z=a?Z:Z.slice(0,-2),F=JSON.stringify(F);else if(G.isArray(F)&&zS(F)||(G.isFileList(F)||G.endsWith(Z,"[]"))&&(it=G.toArray(F)))return Z=Kv(Z),it.forEach(function(at,vt){!(G.isUndefined(at)||at===null)&&t.append(h===!0?a_([Z],vt,c):h===null?Z:Z+"[]",p(at))}),!1}return Td(F)?!0:(t.append(a_(B,Z,c),p(F)),!1)}const b=[],x=Object.assign(BS,{defaultVisitor:E,convertValue:p,isVisitable:Td});function j(F,Z){if(!G.isUndefined(F)){if(b.indexOf(F)!==-1)throw Error("Circular reference detected in "+Z.join("."));b.push(F),G.forEach(F,function(it,st){(!(G.isUndefined(it)||it===null)&&l.call(t,it,G.isString(st)?st.trim():st,Z,x))===!0&&j(it,Z?Z.concat(st):[st])}),b.pop()}}if(!G.isObject(r))throw new TypeError("data must be an object");return j(r),t}function o_(r){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(a){return t[a]})}function Zd(r,t){this._pairs=[],r&&Vc(r,this,t)}const Yv=Zd.prototype;Yv.append=function(t,i){this._pairs.push([t,i])};Yv.toString=function(t){const i=t?function(a){return t.call(this,a,o_)}:o_;return this._pairs.map(function(l){return i(l[0])+"="+i(l[1])},"").join("&")};function kS(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Xv(r,t,i){if(!t)return r;const a=i&&i.encode||kS;G.isFunction(i)&&(i={serialize:i});const l=i&&i.serialize;let c;if(l?c=l(t,i):c=G.isURLSearchParams(t)?t.toString():new Zd(t,i).toString(a),c){const h=r.indexOf("#");h!==-1&&(r=r.slice(0,h)),r+=(r.indexOf("?")===-1?"?":"&")+c}return r}class l_{constructor(){this.handlers=[]}use(t,i,a){return this.handlers.push({fulfilled:t,rejected:i,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){G.forEach(this.handlers,function(a){a!==null&&t(a)})}}const $v={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},qS=typeof URLSearchParams<"u"?URLSearchParams:Zd,jS=typeof FormData<"u"?FormData:null,HS=typeof Blob<"u"?Blob:null,FS={isBrowser:!0,classes:{URLSearchParams:qS,FormData:jS,Blob:HS},protocols:["http","https","file","blob","url","data"]},Jd=typeof window<"u"&&typeof document<"u",Ad=typeof navigator=="object"&&navigator||void 0,GS=Jd&&(!Ad||["ReactNative","NativeScript","NS"].indexOf(Ad.product)<0),QS=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",KS=Jd&&window.location.href||"http://localhost",YS=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Jd,hasStandardBrowserEnv:GS,hasStandardBrowserWebWorkerEnv:QS,navigator:Ad,origin:KS},Symbol.toStringTag,{value:"Module"})),Xe={...YS,...FS};function XS(r,t){return Vc(r,new Xe.classes.URLSearchParams,Object.assign({visitor:function(i,a,l,c){return Xe.isNode&&G.isBuffer(i)?(this.append(a,i.toString("base64")),!1):c.defaultVisitor.apply(this,arguments)}},t))}function $S(r){return G.matchAll(/\w+|\[(\w*)]/g,r).map(t=>t[0]==="[]"?"":t[1]||t[0])}function ZS(r){const t={},i=Object.keys(r);let a;const l=i.length;let c;for(a=0;a<l;a++)c=i[a],t[c]=r[c];return t}function Zv(r){function t(i,a,l,c){let h=i[c++];if(h==="__proto__")return!0;const m=Number.isFinite(+h),y=c>=i.length;return h=!h&&G.isArray(l)?l.length:h,y?(G.hasOwnProp(l,h)?l[h]=[l[h],a]:l[h]=a,!m):((!l[h]||!G.isObject(l[h]))&&(l[h]=[]),t(i,a,l[h],c)&&G.isArray(l[h])&&(l[h]=ZS(l[h])),!m)}if(G.isFormData(r)&&G.isFunction(r.entries)){const i={};return G.forEachEntry(r,(a,l)=>{t($S(a),l,i,0)}),i}return null}function JS(r,t,i){if(G.isString(r))try{return(t||JSON.parse)(r),G.trim(r)}catch(a){if(a.name!=="SyntaxError")throw a}return(i||JSON.stringify)(r)}const yl={transitional:$v,adapter:["xhr","http","fetch"],transformRequest:[function(t,i){const a=i.getContentType()||"",l=a.indexOf("application/json")>-1,c=G.isObject(t);if(c&&G.isHTMLForm(t)&&(t=new FormData(t)),G.isFormData(t))return l?JSON.stringify(Zv(t)):t;if(G.isArrayBuffer(t)||G.isBuffer(t)||G.isStream(t)||G.isFile(t)||G.isBlob(t)||G.isReadableStream(t))return t;if(G.isArrayBufferView(t))return t.buffer;if(G.isURLSearchParams(t))return i.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let m;if(c){if(a.indexOf("application/x-www-form-urlencoded")>-1)return XS(t,this.formSerializer).toString();if((m=G.isFileList(t))||a.indexOf("multipart/form-data")>-1){const y=this.env&&this.env.FormData;return Vc(m?{"files[]":t}:t,y&&new y,this.formSerializer)}}return c||l?(i.setContentType("application/json",!1),JS(t)):t}],transformResponse:[function(t){const i=this.transitional||yl.transitional,a=i&&i.forcedJSONParsing,l=this.responseType==="json";if(G.isResponse(t)||G.isReadableStream(t))return t;if(t&&G.isString(t)&&(a&&!this.responseType||l)){const h=!(i&&i.silentJSONParsing)&&l;try{return JSON.parse(t)}catch(m){if(h)throw m.name==="SyntaxError"?bt.from(m,bt.ERR_BAD_RESPONSE,this,null,this.response):m}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Xe.classes.FormData,Blob:Xe.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};G.forEach(["delete","get","head","post","put","patch"],r=>{yl.headers[r]={}});const WS=G.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),tb=r=>{const t={};let i,a,l;return r&&r.split(`
`).forEach(function(h){l=h.indexOf(":"),i=h.substring(0,l).trim().toLowerCase(),a=h.substring(l+1).trim(),!(!i||t[i]&&WS[i])&&(i==="set-cookie"?t[i]?t[i].push(a):t[i]=[a]:t[i]=t[i]?t[i]+", "+a:a)}),t},u_=Symbol("internals");function Jo(r){return r&&String(r).trim().toLowerCase()}function ec(r){return r===!1||r==null?r:G.isArray(r)?r.map(ec):String(r)}function eb(r){const t=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=i.exec(r);)t[a[1]]=a[2];return t}const nb=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function rd(r,t,i,a,l){if(G.isFunction(a))return a.call(this,t,i);if(l&&(t=i),!!G.isString(t)){if(G.isString(a))return t.indexOf(a)!==-1;if(G.isRegExp(a))return a.test(t)}}function ib(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,i,a)=>i.toUpperCase()+a)}function rb(r,t){const i=G.toCamelCase(" "+t);["get","set","has"].forEach(a=>{Object.defineProperty(r,a+i,{value:function(l,c,h){return this[a].call(this,t,l,c,h)},configurable:!0})})}let sn=class{constructor(t){t&&this.set(t)}set(t,i,a){const l=this;function c(m,y,p){const E=Jo(y);if(!E)throw new Error("header name must be a non-empty string");const b=G.findKey(l,E);(!b||l[b]===void 0||p===!0||p===void 0&&l[b]!==!1)&&(l[b||y]=ec(m))}const h=(m,y)=>G.forEach(m,(p,E)=>c(p,E,y));if(G.isPlainObject(t)||t instanceof this.constructor)h(t,i);else if(G.isString(t)&&(t=t.trim())&&!nb(t))h(tb(t),i);else if(G.isHeaders(t))for(const[m,y]of t.entries())c(y,m,a);else t!=null&&c(i,t,a);return this}get(t,i){if(t=Jo(t),t){const a=G.findKey(this,t);if(a){const l=this[a];if(!i)return l;if(i===!0)return eb(l);if(G.isFunction(i))return i.call(this,l,a);if(G.isRegExp(i))return i.exec(l);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,i){if(t=Jo(t),t){const a=G.findKey(this,t);return!!(a&&this[a]!==void 0&&(!i||rd(this,this[a],a,i)))}return!1}delete(t,i){const a=this;let l=!1;function c(h){if(h=Jo(h),h){const m=G.findKey(a,h);m&&(!i||rd(a,a[m],m,i))&&(delete a[m],l=!0)}}return G.isArray(t)?t.forEach(c):c(t),l}clear(t){const i=Object.keys(this);let a=i.length,l=!1;for(;a--;){const c=i[a];(!t||rd(this,this[c],c,t,!0))&&(delete this[c],l=!0)}return l}normalize(t){const i=this,a={};return G.forEach(this,(l,c)=>{const h=G.findKey(a,c);if(h){i[h]=ec(l),delete i[c];return}const m=t?ib(c):String(c).trim();m!==c&&delete i[c],i[m]=ec(l),a[m]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const i=Object.create(null);return G.forEach(this,(a,l)=>{a!=null&&a!==!1&&(i[l]=t&&G.isArray(a)?a.join(", "):a)}),i}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,i])=>t+": "+i).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...i){const a=new this(t);return i.forEach(l=>a.set(l)),a}static accessor(t){const a=(this[u_]=this[u_]={accessors:{}}).accessors,l=this.prototype;function c(h){const m=Jo(h);a[m]||(rb(l,h),a[m]=!0)}return G.isArray(t)?t.forEach(c):c(t),this}};sn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);G.reduceDescriptors(sn.prototype,({value:r},t)=>{let i=t[0].toUpperCase()+t.slice(1);return{get:()=>r,set(a){this[i]=a}}});G.freezeMethods(sn);function sd(r,t){const i=this||yl,a=t||i,l=sn.from(a.headers);let c=a.data;return G.forEach(r,function(m){c=m.call(i,c,l.normalize(),t?t.status:void 0)}),l.normalize(),c}function Jv(r){return!!(r&&r.__CANCEL__)}function Ua(r,t,i){bt.call(this,r??"canceled",bt.ERR_CANCELED,t,i),this.name="CanceledError"}G.inherits(Ua,bt,{__CANCEL__:!0});function Wv(r,t,i){const a=i.config.validateStatus;!i.status||!a||a(i.status)?r(i):t(new bt("Request failed with status code "+i.status,[bt.ERR_BAD_REQUEST,bt.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))}function sb(r){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return t&&t[1]||""}function ab(r,t){r=r||10;const i=new Array(r),a=new Array(r);let l=0,c=0,h;return t=t!==void 0?t:1e3,function(y){const p=Date.now(),E=a[c];h||(h=p),i[l]=y,a[l]=p;let b=c,x=0;for(;b!==l;)x+=i[b++],b=b%r;if(l=(l+1)%r,l===c&&(c=(c+1)%r),p-h<t)return;const j=E&&p-E;return j?Math.round(x*1e3/j):void 0}}function ob(r,t){let i=0,a=1e3/t,l,c;const h=(p,E=Date.now())=>{i=E,l=null,c&&(clearTimeout(c),c=null),r.apply(null,p)};return[(...p)=>{const E=Date.now(),b=E-i;b>=a?h(p,E):(l=p,c||(c=setTimeout(()=>{c=null,h(l)},a-b)))},()=>l&&h(l)]}const uc=(r,t,i=3)=>{let a=0;const l=ab(50,250);return ob(c=>{const h=c.loaded,m=c.lengthComputable?c.total:void 0,y=h-a,p=l(y),E=h<=m;a=h;const b={loaded:h,total:m,progress:m?h/m:void 0,bytes:y,rate:p||void 0,estimated:p&&m&&E?(m-h)/p:void 0,event:c,lengthComputable:m!=null,[t?"download":"upload"]:!0};r(b)},i)},c_=(r,t)=>{const i=r!=null;return[a=>t[0]({lengthComputable:i,total:r,loaded:a}),t[1]]},f_=r=>(...t)=>G.asap(()=>r(...t)),lb=Xe.hasStandardBrowserEnv?((r,t)=>i=>(i=new URL(i,Xe.origin),r.protocol===i.protocol&&r.host===i.host&&(t||r.port===i.port)))(new URL(Xe.origin),Xe.navigator&&/(msie|trident)/i.test(Xe.navigator.userAgent)):()=>!0,ub=Xe.hasStandardBrowserEnv?{write(r,t,i,a,l,c){const h=[r+"="+encodeURIComponent(t)];G.isNumber(i)&&h.push("expires="+new Date(i).toGMTString()),G.isString(a)&&h.push("path="+a),G.isString(l)&&h.push("domain="+l),c===!0&&h.push("secure"),document.cookie=h.join("; ")},read(r){const t=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(r){this.write(r,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function cb(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function fb(r,t){return t?r.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):r}function tE(r,t,i){let a=!cb(t);return r&&(a||i==!1)?fb(r,t):t}const h_=r=>r instanceof sn?{...r}:r;function Ts(r,t){t=t||{};const i={};function a(p,E,b,x){return G.isPlainObject(p)&&G.isPlainObject(E)?G.merge.call({caseless:x},p,E):G.isPlainObject(E)?G.merge({},E):G.isArray(E)?E.slice():E}function l(p,E,b,x){if(G.isUndefined(E)){if(!G.isUndefined(p))return a(void 0,p,b,x)}else return a(p,E,b,x)}function c(p,E){if(!G.isUndefined(E))return a(void 0,E)}function h(p,E){if(G.isUndefined(E)){if(!G.isUndefined(p))return a(void 0,p)}else return a(void 0,E)}function m(p,E,b){if(b in t)return a(p,E);if(b in r)return a(void 0,p)}const y={url:c,method:c,data:c,baseURL:h,transformRequest:h,transformResponse:h,paramsSerializer:h,timeout:h,timeoutMessage:h,withCredentials:h,withXSRFToken:h,adapter:h,responseType:h,xsrfCookieName:h,xsrfHeaderName:h,onUploadProgress:h,onDownloadProgress:h,decompress:h,maxContentLength:h,maxBodyLength:h,beforeRedirect:h,transport:h,httpAgent:h,httpsAgent:h,cancelToken:h,socketPath:h,responseEncoding:h,validateStatus:m,headers:(p,E,b)=>l(h_(p),h_(E),b,!0)};return G.forEach(Object.keys(Object.assign({},r,t)),function(E){const b=y[E]||l,x=b(r[E],t[E],E);G.isUndefined(x)&&b!==m||(i[E]=x)}),i}const eE=r=>{const t=Ts({},r);let{data:i,withXSRFToken:a,xsrfHeaderName:l,xsrfCookieName:c,headers:h,auth:m}=t;t.headers=h=sn.from(h),t.url=Xv(tE(t.baseURL,t.url,t.allowAbsoluteUrls),r.params,r.paramsSerializer),m&&h.set("Authorization","Basic "+btoa((m.username||"")+":"+(m.password?unescape(encodeURIComponent(m.password)):"")));let y;if(G.isFormData(i)){if(Xe.hasStandardBrowserEnv||Xe.hasStandardBrowserWebWorkerEnv)h.setContentType(void 0);else if((y=h.getContentType())!==!1){const[p,...E]=y?y.split(";").map(b=>b.trim()).filter(Boolean):[];h.setContentType([p||"multipart/form-data",...E].join("; "))}}if(Xe.hasStandardBrowserEnv&&(a&&G.isFunction(a)&&(a=a(t)),a||a!==!1&&lb(t.url))){const p=l&&c&&ub.read(c);p&&h.set(l,p)}return t},hb=typeof XMLHttpRequest<"u",db=hb&&function(r){return new Promise(function(i,a){const l=eE(r);let c=l.data;const h=sn.from(l.headers).normalize();let{responseType:m,onUploadProgress:y,onDownloadProgress:p}=l,E,b,x,j,F;function Z(){j&&j(),F&&F(),l.cancelToken&&l.cancelToken.unsubscribe(E),l.signal&&l.signal.removeEventListener("abort",E)}let B=new XMLHttpRequest;B.open(l.method.toUpperCase(),l.url,!0),B.timeout=l.timeout;function it(){if(!B)return;const at=sn.from("getAllResponseHeaders"in B&&B.getAllResponseHeaders()),ot={data:!m||m==="text"||m==="json"?B.responseText:B.response,status:B.status,statusText:B.statusText,headers:at,config:r,request:B};Wv(function(O){i(O),Z()},function(O){a(O),Z()},ot),B=null}"onloadend"in B?B.onloadend=it:B.onreadystatechange=function(){!B||B.readyState!==4||B.status===0&&!(B.responseURL&&B.responseURL.indexOf("file:")===0)||setTimeout(it)},B.onabort=function(){B&&(a(new bt("Request aborted",bt.ECONNABORTED,r,B)),B=null)},B.onerror=function(){a(new bt("Network Error",bt.ERR_NETWORK,r,B)),B=null},B.ontimeout=function(){let vt=l.timeout?"timeout of "+l.timeout+"ms exceeded":"timeout exceeded";const ot=l.transitional||$v;l.timeoutErrorMessage&&(vt=l.timeoutErrorMessage),a(new bt(vt,ot.clarifyTimeoutError?bt.ETIMEDOUT:bt.ECONNABORTED,r,B)),B=null},c===void 0&&h.setContentType(null),"setRequestHeader"in B&&G.forEach(h.toJSON(),function(vt,ot){B.setRequestHeader(ot,vt)}),G.isUndefined(l.withCredentials)||(B.withCredentials=!!l.withCredentials),m&&m!=="json"&&(B.responseType=l.responseType),p&&([x,F]=uc(p,!0),B.addEventListener("progress",x)),y&&B.upload&&([b,j]=uc(y),B.upload.addEventListener("progress",b),B.upload.addEventListener("loadend",j)),(l.cancelToken||l.signal)&&(E=at=>{B&&(a(!at||at.type?new Ua(null,r,B):at),B.abort(),B=null)},l.cancelToken&&l.cancelToken.subscribe(E),l.signal&&(l.signal.aborted?E():l.signal.addEventListener("abort",E)));const st=sb(l.url);if(st&&Xe.protocols.indexOf(st)===-1){a(new bt("Unsupported protocol "+st+":",bt.ERR_BAD_REQUEST,r));return}B.send(c||null)})},mb=(r,t)=>{const{length:i}=r=r?r.filter(Boolean):[];if(t||i){let a=new AbortController,l;const c=function(p){if(!l){l=!0,m();const E=p instanceof Error?p:this.reason;a.abort(E instanceof bt?E:new Ua(E instanceof Error?E.message:E))}};let h=t&&setTimeout(()=>{h=null,c(new bt(`timeout ${t} of ms exceeded`,bt.ETIMEDOUT))},t);const m=()=>{r&&(h&&clearTimeout(h),h=null,r.forEach(p=>{p.unsubscribe?p.unsubscribe(c):p.removeEventListener("abort",c)}),r=null)};r.forEach(p=>p.addEventListener("abort",c));const{signal:y}=a;return y.unsubscribe=()=>G.asap(m),y}},gb=function*(r,t){let i=r.byteLength;if(i<t){yield r;return}let a=0,l;for(;a<i;)l=a+t,yield r.slice(a,l),a=l},pb=async function*(r,t){for await(const i of yb(r))yield*gb(i,t)},yb=async function*(r){if(r[Symbol.asyncIterator]){yield*r;return}const t=r.getReader();try{for(;;){const{done:i,value:a}=await t.read();if(i)break;yield a}}finally{await t.cancel()}},d_=(r,t,i,a)=>{const l=pb(r,t);let c=0,h,m=y=>{h||(h=!0,a&&a(y))};return new ReadableStream({async pull(y){try{const{done:p,value:E}=await l.next();if(p){m(),y.close();return}let b=E.byteLength;if(i){let x=c+=b;i(x)}y.enqueue(new Uint8Array(E))}catch(p){throw m(p),p}},cancel(y){return m(y),l.return()}},{highWaterMark:2})},Nc=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",nE=Nc&&typeof ReadableStream=="function",_b=Nc&&(typeof TextEncoder=="function"?(r=>t=>r.encode(t))(new TextEncoder):async r=>new Uint8Array(await new Response(r).arrayBuffer())),iE=(r,...t)=>{try{return!!r(...t)}catch{return!1}},vb=nE&&iE(()=>{let r=!1;const t=new Request(Xe.origin,{body:new ReadableStream,method:"POST",get duplex(){return r=!0,"half"}}).headers.has("Content-Type");return r&&!t}),m_=64*1024,Sd=nE&&iE(()=>G.isReadableStream(new Response("").body)),cc={stream:Sd&&(r=>r.body)};Nc&&(r=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!cc[t]&&(cc[t]=G.isFunction(r[t])?i=>i[t]():(i,a)=>{throw new bt(`Response type '${t}' is not supported`,bt.ERR_NOT_SUPPORT,a)})})})(new Response);const Eb=async r=>{if(r==null)return 0;if(G.isBlob(r))return r.size;if(G.isSpecCompliantForm(r))return(await new Request(Xe.origin,{method:"POST",body:r}).arrayBuffer()).byteLength;if(G.isArrayBufferView(r)||G.isArrayBuffer(r))return r.byteLength;if(G.isURLSearchParams(r)&&(r=r+""),G.isString(r))return(await _b(r)).byteLength},Tb=async(r,t)=>{const i=G.toFiniteNumber(r.getContentLength());return i??Eb(t)},Ab=Nc&&(async r=>{let{url:t,method:i,data:a,signal:l,cancelToken:c,timeout:h,onDownloadProgress:m,onUploadProgress:y,responseType:p,headers:E,withCredentials:b="same-origin",fetchOptions:x}=eE(r);p=p?(p+"").toLowerCase():"text";let j=mb([l,c&&c.toAbortSignal()],h),F;const Z=j&&j.unsubscribe&&(()=>{j.unsubscribe()});let B;try{if(y&&vb&&i!=="get"&&i!=="head"&&(B=await Tb(E,a))!==0){let ot=new Request(t,{method:"POST",body:a,duplex:"half"}),At;if(G.isFormData(a)&&(At=ot.headers.get("content-type"))&&E.setContentType(At),ot.body){const[O,S]=c_(B,uc(f_(y)));a=d_(ot.body,m_,O,S)}}G.isString(b)||(b=b?"include":"omit");const it="credentials"in Request.prototype;F=new Request(t,{...x,signal:j,method:i.toUpperCase(),headers:E.normalize().toJSON(),body:a,duplex:"half",credentials:it?b:void 0});let st=await fetch(F);const at=Sd&&(p==="stream"||p==="response");if(Sd&&(m||at&&Z)){const ot={};["status","statusText","headers"].forEach(w=>{ot[w]=st[w]});const At=G.toFiniteNumber(st.headers.get("content-length")),[O,S]=m&&c_(At,uc(f_(m),!0))||[];st=new Response(d_(st.body,m_,O,()=>{S&&S(),Z&&Z()}),ot)}p=p||"text";let vt=await cc[G.findKey(cc,p)||"text"](st,r);return!at&&Z&&Z(),await new Promise((ot,At)=>{Wv(ot,At,{data:vt,headers:sn.from(st.headers),status:st.status,statusText:st.statusText,config:r,request:F})})}catch(it){throw Z&&Z(),it&&it.name==="TypeError"&&/fetch/i.test(it.message)?Object.assign(new bt("Network Error",bt.ERR_NETWORK,r,F),{cause:it.cause||it}):bt.from(it,it&&it.code,r,F)}}),bd={http:PS,xhr:db,fetch:Ab};G.forEach(bd,(r,t)=>{if(r){try{Object.defineProperty(r,"name",{value:t})}catch{}Object.defineProperty(r,"adapterName",{value:t})}});const g_=r=>`- ${r}`,Sb=r=>G.isFunction(r)||r===null||r===!1,rE={getAdapter:r=>{r=G.isArray(r)?r:[r];const{length:t}=r;let i,a;const l={};for(let c=0;c<t;c++){i=r[c];let h;if(a=i,!Sb(i)&&(a=bd[(h=String(i)).toLowerCase()],a===void 0))throw new bt(`Unknown adapter '${h}'`);if(a)break;l[h||"#"+c]=a}if(!a){const c=Object.entries(l).map(([m,y])=>`adapter ${m} `+(y===!1?"is not supported by the environment":"is not available in the build"));let h=t?c.length>1?`since :
`+c.map(g_).join(`
`):" "+g_(c[0]):"as no adapter specified";throw new bt("There is no suitable adapter to dispatch the request "+h,"ERR_NOT_SUPPORT")}return a},adapters:bd};function ad(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new Ua(null,r)}function p_(r){return ad(r),r.headers=sn.from(r.headers),r.data=sd.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),rE.getAdapter(r.adapter||yl.adapter)(r).then(function(a){return ad(r),a.data=sd.call(r,r.transformResponse,a),a.headers=sn.from(a.headers),a},function(a){return Jv(a)||(ad(r),a&&a.response&&(a.response.data=sd.call(r,r.transformResponse,a.response),a.response.headers=sn.from(a.response.headers))),Promise.reject(a)})}const sE="1.8.4",Mc={};["object","boolean","number","function","string","symbol"].forEach((r,t)=>{Mc[r]=function(a){return typeof a===r||"a"+(t<1?"n ":" ")+r}});const y_={};Mc.transitional=function(t,i,a){function l(c,h){return"[Axios v"+sE+"] Transitional option '"+c+"'"+h+(a?". "+a:"")}return(c,h,m)=>{if(t===!1)throw new bt(l(h," has been removed"+(i?" in "+i:"")),bt.ERR_DEPRECATED);return i&&!y_[h]&&(y_[h]=!0,console.warn(l(h," has been deprecated since v"+i+" and will be removed in the near future"))),t?t(c,h,m):!0}};Mc.spelling=function(t){return(i,a)=>(console.warn(`${a} is likely a misspelling of ${t}`),!0)};function bb(r,t,i){if(typeof r!="object")throw new bt("options must be an object",bt.ERR_BAD_OPTION_VALUE);const a=Object.keys(r);let l=a.length;for(;l-- >0;){const c=a[l],h=t[c];if(h){const m=r[c],y=m===void 0||h(m,c,r);if(y!==!0)throw new bt("option "+c+" must be "+y,bt.ERR_BAD_OPTION_VALUE);continue}if(i!==!0)throw new bt("Unknown option "+c,bt.ERR_BAD_OPTION)}}const nc={assertOptions:bb,validators:Mc},si=nc.validators;let Es=class{constructor(t){this.defaults=t,this.interceptors={request:new l_,response:new l_}}async request(t,i){try{return await this._request(t,i)}catch(a){if(a instanceof Error){let l={};Error.captureStackTrace?Error.captureStackTrace(l):l=new Error;const c=l.stack?l.stack.replace(/^.+\n/,""):"";try{a.stack?c&&!String(a.stack).endsWith(c.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+c):a.stack=c}catch{}}throw a}}_request(t,i){typeof t=="string"?(i=i||{},i.url=t):i=t||{},i=Ts(this.defaults,i);const{transitional:a,paramsSerializer:l,headers:c}=i;a!==void 0&&nc.assertOptions(a,{silentJSONParsing:si.transitional(si.boolean),forcedJSONParsing:si.transitional(si.boolean),clarifyTimeoutError:si.transitional(si.boolean)},!1),l!=null&&(G.isFunction(l)?i.paramsSerializer={serialize:l}:nc.assertOptions(l,{encode:si.function,serialize:si.function},!0)),i.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?i.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:i.allowAbsoluteUrls=!0),nc.assertOptions(i,{baseUrl:si.spelling("baseURL"),withXsrfToken:si.spelling("withXSRFToken")},!0),i.method=(i.method||this.defaults.method||"get").toLowerCase();let h=c&&G.merge(c.common,c[i.method]);c&&G.forEach(["delete","get","head","post","put","patch","common"],F=>{delete c[F]}),i.headers=sn.concat(h,c);const m=[];let y=!0;this.interceptors.request.forEach(function(Z){typeof Z.runWhen=="function"&&Z.runWhen(i)===!1||(y=y&&Z.synchronous,m.unshift(Z.fulfilled,Z.rejected))});const p=[];this.interceptors.response.forEach(function(Z){p.push(Z.fulfilled,Z.rejected)});let E,b=0,x;if(!y){const F=[p_.bind(this),void 0];for(F.unshift.apply(F,m),F.push.apply(F,p),x=F.length,E=Promise.resolve(i);b<x;)E=E.then(F[b++],F[b++]);return E}x=m.length;let j=i;for(b=0;b<x;){const F=m[b++],Z=m[b++];try{j=F(j)}catch(B){Z.call(this,B);break}}try{E=p_.call(this,j)}catch(F){return Promise.reject(F)}for(b=0,x=p.length;b<x;)E=E.then(p[b++],p[b++]);return E}getUri(t){t=Ts(this.defaults,t);const i=tE(t.baseURL,t.url,t.allowAbsoluteUrls);return Xv(i,t.params,t.paramsSerializer)}};G.forEach(["delete","get","head","options"],function(t){Es.prototype[t]=function(i,a){return this.request(Ts(a||{},{method:t,url:i,data:(a||{}).data}))}});G.forEach(["post","put","patch"],function(t){function i(a){return function(c,h,m){return this.request(Ts(m||{},{method:t,headers:a?{"Content-Type":"multipart/form-data"}:{},url:c,data:h}))}}Es.prototype[t]=i(),Es.prototype[t+"Form"]=i(!0)});let Rb=class aE{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let i;this.promise=new Promise(function(c){i=c});const a=this;this.promise.then(l=>{if(!a._listeners)return;let c=a._listeners.length;for(;c-- >0;)a._listeners[c](l);a._listeners=null}),this.promise.then=l=>{let c;const h=new Promise(m=>{a.subscribe(m),c=m}).then(l);return h.cancel=function(){a.unsubscribe(c)},h},t(function(c,h,m){a.reason||(a.reason=new Ua(c,h,m),i(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const i=this._listeners.indexOf(t);i!==-1&&this._listeners.splice(i,1)}toAbortSignal(){const t=new AbortController,i=a=>{t.abort(a)};return this.subscribe(i),t.signal.unsubscribe=()=>this.unsubscribe(i),t.signal}static source(){let t;return{token:new aE(function(l){t=l}),cancel:t}}};function wb(r){return function(i){return r.apply(null,i)}}function Cb(r){return G.isObject(r)&&r.isAxiosError===!0}const Rd={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Rd).forEach(([r,t])=>{Rd[t]=r});function oE(r){const t=new Es(r),i=zv(Es.prototype.request,t);return G.extend(i,Es.prototype,t,{allOwnKeys:!0}),G.extend(i,t,null,{allOwnKeys:!0}),i.create=function(l){return oE(Ts(r,l))},i}const he=oE(yl);he.Axios=Es;he.CanceledError=Ua;he.CancelToken=Rb;he.isCancel=Jv;he.VERSION=sE;he.toFormData=Vc;he.AxiosError=bt;he.Cancel=he.CanceledError;he.all=function(t){return Promise.all(t)};he.spread=wb;he.isAxiosError=Cb;he.mergeConfig=Ts;he.AxiosHeaders=sn;he.formToJSON=r=>Zv(G.isHTMLForm(r)?new FormData(r):r);he.getAdapter=rE.getAdapter;he.HttpStatusCode=Rd;he.default=he;const{Axios:nI,AxiosError:iI,CanceledError:rI,isCancel:sI,CancelToken:aI,VERSION:oI,all:lI,Cancel:uI,isAxiosError:cI,spread:fI,toFormData:hI,AxiosHeaders:dI,HttpStatusCode:mI,formToJSON:gI,getAdapter:pI,mergeConfig:yI}=he,Db=()=>{};var __={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},Ib=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],h=r[i++],m=r[i++],y=((l&7)<<18|(c&63)<<12|(h&63)<<6|m&63)-65536;t[a++]=String.fromCharCode(55296+(y>>10)),t[a++]=String.fromCharCode(56320+(y&1023))}else{const c=r[i++],h=r[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|h&63)}}return t.join("")},uE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const c=r[l],h=l+1<r.length,m=h?r[l+1]:0,y=l+2<r.length,p=y?r[l+2]:0,E=c>>2,b=(c&3)<<4|m>>4;let x=(m&15)<<2|p>>6,j=p&63;y||(j=64,h||(x=64)),a.push(i[E],i[b],i[x],i[j])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(lE(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):Ib(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],m=l<r.length?i[r.charAt(l)]:0;++l;const p=l<r.length?i[r.charAt(l)]:64;++l;const b=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||m==null||p==null||b==null)throw new Ob;const x=c<<2|m>>4;if(a.push(x),p!==64){const j=m<<4&240|p>>2;if(a.push(j),b!==64){const F=p<<6&192|b;a.push(F)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Ob extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Vb=function(r){const t=lE(r);return uE.encodeByteArray(t,!0)},fc=function(r){return Vb(r).replace(/\./g,"")},Nb=function(r){try{return uE.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb=()=>Mb().__FIREBASE_DEFAULTS__,Ub=()=>{if(typeof process>"u"||typeof __>"u")return;const r=__.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Lb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&Nb(r[1]);return t&&JSON.parse(t)},Wd=()=>{try{return Db()||xb()||Ub()||Lb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Pb=r=>{var t,i;return(i=(t=Wd())===null||t===void 0?void 0:t.emulatorHosts)===null||i===void 0?void 0:i[r]},zb=r=>{const t=Pb(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},cE=()=>{var r;return(r=Wd())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kb(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},r);return[fc(JSON.stringify(i)),fc(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qb(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jb(){var r;const t=(r=Wd())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Hb(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Fb(){return!jb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fE(){try{return typeof indexedDB=="object"}catch{return!1}}function hE(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{var c;t(((c=l.error)===null||c===void 0?void 0:c.message)||"")}}catch(i){t(i)}})}function Gb(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb="FirebaseError";class Vr extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=Qb,Object.setPrototypeOf(this,Vr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xc.prototype.create)}}class xc{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],h=c?Kb(c,a):"Error",m=`${this.serviceName}: ${h} (${l}).`;return new Vr(l,m,a)}}function Kb(r,t){return r.replace(Yb,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const Yb=/\{\$([^}]+)}/g;function ll(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=r[l],h=t[l];if(v_(c)&&v_(h)){if(!ll(c,h))return!1}else if(c!==h)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function v_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb=1e3,$b=2,Zb=4*60*60*1e3,Jb=.5;function E_(r,t=Xb,i=$b){const a=t*Math.pow(i,r),l=Math.round(Jb*a*(Math.random()-.5)*2);return Math.min(Zb,a+l)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(r){return r&&r._delegate?r._delegate:r}class zi{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ps="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new Bb;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){var i;const a=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),l=(i=t==null?void 0:t.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(c){if(l)return null;throw c}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(eR(t))try{this.getOrInitializeService({instanceIdentifier:ps})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=ps){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ps){return this.instances.has(t)}getOptions(t=ps){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);a===m&&h.resolve(l)}return l}onInit(t,i){var a;const l=this.normalizeInstanceIdentifier(i),c=(a=this.onInitCallbacks.get(l))!==null&&a!==void 0?a:new Set;c.add(t),this.onInitCallbacks.set(l,c);const h=this.instances.get(l);return h&&t(h,l),()=>{c.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:tR(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=ps){return this.component?this.component.multipleInstances?t:ps:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function tR(r){return r===ps?void 0:r}function eR(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new Wb(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Pt||(Pt={}));const iR={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},rR=Pt.INFO,sR={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},aR=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),l=sR[t];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class tm{constructor(t){this.name=t,this._logLevel=rR,this._logHandler=aR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Pt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?iR[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...t),this._logHandler(this,Pt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...t),this._logHandler(this,Pt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...t),this._logHandler(this,Pt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...t),this._logHandler(this,Pt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...t),this._logHandler(this,Pt.ERROR,...t)}}const oR=(r,t)=>t.some(i=>r instanceof i);let T_,A_;function lR(){return T_||(T_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uR(){return A_||(A_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const dE=new WeakMap,wd=new WeakMap,mE=new WeakMap,od=new WeakMap,em=new WeakMap;function cR(r){const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",h)},c=()=>{i(_r(r.result)),l()},h=()=>{a(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",h)});return t.then(i=>{i instanceof IDBCursor&&dE.set(i,r)}).catch(()=>{}),em.set(t,r),t}function fR(r){if(wd.has(r))return;const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",h),r.removeEventListener("abort",h)},c=()=>{i(),l()},h=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",h),r.addEventListener("abort",h)});wd.set(r,t)}let Cd={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return wd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||mE.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return _r(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function hR(r){Cd=r(Cd)}function dR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(ld(this),t,...i);return mE.set(a,t.sort?t.sort():[t]),_r(a)}:uR().includes(r)?function(...t){return r.apply(ld(this),t),_r(dE.get(this))}:function(...t){return _r(r.apply(ld(this),t))}}function mR(r){return typeof r=="function"?dR(r):(r instanceof IDBTransaction&&fR(r),oR(r,lR())?new Proxy(r,Cd):r)}function _r(r){if(r instanceof IDBRequest)return cR(r);if(od.has(r))return od.get(r);const t=mR(r);return t!==r&&(od.set(r,t),em.set(t,r)),t}const ld=r=>em.get(r);function gE(r,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const h=indexedDB.open(r,t),m=_r(h);return a&&h.addEventListener("upgradeneeded",y=>{a(_r(h.result),y.oldVersion,y.newVersion,_r(h.transaction),y)}),i&&h.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),m.then(y=>{c&&y.addEventListener("close",()=>c()),l&&y.addEventListener("versionchange",p=>l(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const gR=["get","getKey","getAll","getAllKeys","count"],pR=["put","add","delete","clear"],ud=new Map;function S_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(ud.get(t))return ud.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=pR.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||gR.includes(i)))return;const c=async function(h,...m){const y=this.transaction(h,l?"readwrite":"readonly");let p=y.store;return a&&(p=p.index(m.shift())),(await Promise.all([p[i](...m),l&&y.done]))[0]};return ud.set(t,c),c}hR(r=>({...r,get:(t,i,a)=>S_(t,i)||r.get(t,i,a),has:(t,i)=>!!S_(t,i)||r.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(_R(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function _R(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Dd="@firebase/app",b_="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi=new tm("@firebase/app"),vR="@firebase/app-compat",ER="@firebase/analytics-compat",TR="@firebase/analytics",AR="@firebase/app-check-compat",SR="@firebase/app-check",bR="@firebase/auth",RR="@firebase/auth-compat",wR="@firebase/database",CR="@firebase/data-connect",DR="@firebase/database-compat",IR="@firebase/functions",OR="@firebase/functions-compat",VR="@firebase/installations",NR="@firebase/installations-compat",MR="@firebase/messaging",xR="@firebase/messaging-compat",UR="@firebase/performance",LR="@firebase/performance-compat",PR="@firebase/remote-config",zR="@firebase/remote-config-compat",BR="@firebase/storage",kR="@firebase/storage-compat",qR="@firebase/firestore",jR="@firebase/vertexai",HR="@firebase/firestore-compat",FR="firebase",GR="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Id="[DEFAULT]",QR={[Dd]:"fire-core",[vR]:"fire-core-compat",[TR]:"fire-analytics",[ER]:"fire-analytics-compat",[SR]:"fire-app-check",[AR]:"fire-app-check-compat",[bR]:"fire-auth",[RR]:"fire-auth-compat",[wR]:"fire-rtdb",[CR]:"fire-data-connect",[DR]:"fire-rtdb-compat",[IR]:"fire-fn",[OR]:"fire-fn-compat",[VR]:"fire-iid",[NR]:"fire-iid-compat",[MR]:"fire-fcm",[xR]:"fire-fcm-compat",[UR]:"fire-perf",[LR]:"fire-perf-compat",[PR]:"fire-rc",[zR]:"fire-rc-compat",[BR]:"fire-gcs",[kR]:"fire-gcs-compat",[qR]:"fire-fst",[HR]:"fire-fst-compat",[jR]:"fire-vertex","fire-js":"fire-js",[FR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hc=new Map,KR=new Map,Od=new Map;function R_(r,t){try{r.container.addComponent(t)}catch(i){Bi.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function br(r){const t=r.name;if(Od.has(t))return Bi.debug(`There were multiple attempts to register component ${t}.`),!1;Od.set(t,r);for(const i of hc.values())R_(i,r);for(const i of KR.values())R_(i,r);return!0}function _l(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function YR(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},vr=new xc("app","Firebase",XR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(t,i,a){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new zi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw vr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR=GR;function pE(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a=Object.assign({name:Id,automaticDataCollectionEnabled:!1},t),l=a.name;if(typeof l!="string"||!l)throw vr.create("bad-app-name",{appName:String(l)});if(i||(i=cE()),!i)throw vr.create("no-options");const c=hc.get(l);if(c){if(ll(i,c.options)&&ll(a,c.config))return c;throw vr.create("duplicate-app",{appName:l})}const h=new nR(l);for(const y of Od.values())h.addComponent(y);const m=new $R(i,a,h);return hc.set(l,m),m}function yE(r=Id){const t=hc.get(r);if(!t&&r===Id&&cE())return pE();if(!t)throw vr.create("no-app",{appName:r});return t}function oi(r,t,i){var a;let l=(a=QR[r])!==null&&a!==void 0?a:r;i&&(l+=`-${i}`);const c=l.match(/\s|\//),h=t.match(/\s|\//);if(c||h){const m=[`Unable to register library "${l}" with version "${t}":`];c&&m.push(`library name "${l}" contains illegal characters (whitespace or "/")`),c&&h&&m.push("and"),h&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Bi.warn(m.join(" "));return}br(new zi(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR="firebase-heartbeat-database",WR=1,ul="firebase-heartbeat-store";let cd=null;function _E(){return cd||(cd=gE(JR,WR,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(ul)}catch(i){console.warn(i)}}}}).catch(r=>{throw vr.create("idb-open",{originalErrorMessage:r.message})})),cd}async function t1(r){try{const i=(await _E()).transaction(ul),a=await i.objectStore(ul).get(vE(r));return await i.done,a}catch(t){if(t instanceof Vr)Bi.warn(t.message);else{const i=vr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Bi.warn(i.message)}}}async function w_(r,t){try{const a=(await _E()).transaction(ul,"readwrite");await a.objectStore(ul).put(t,vE(r)),await a.done}catch(i){if(i instanceof Vr)Bi.warn(i.message);else{const a=vr.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Bi.warn(a.message)}}}function vE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1=1024,n1=30;class i1{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new s1(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var t,i;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=C_();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(h=>h.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats.length>n1){const h=a1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Bi.warn(a)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=C_(),{heartbeatsToSend:a,unsentEntries:l}=r1(this._heartbeatsCache.heartbeats),c=fc(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=i,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(i){return Bi.warn(i),""}}}function C_(){return new Date().toISOString().substring(0,10)}function r1(r,t=e1){const i=[];let a=r.slice();for(const l of r){const c=i.find(h=>h.agent===l.agent);if(c){if(c.dates.push(l.date),D_(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),D_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class s1{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fE()?hE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await t1(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return w_(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return w_(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function D_(r){return fc(JSON.stringify({version:2,heartbeats:r})).length}function a1(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o1(r){br(new zi("platform-logger",t=>new yR(t),"PRIVATE")),br(new zi("heartbeat",t=>new i1(t),"PRIVATE")),oi(Dd,b_,r),oi(Dd,b_,"esm2017"),oi("fire-js","")}o1("");var l1="firebase",u1="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */oi(l1,u1,"app");const EE="@firebase/installations",nm="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE=1e4,AE=`w:${nm}`,SE="FIS_v2",c1="https://firebaseinstallations.googleapis.com/v1",f1=60*60*1e3,h1="installations",d1="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},As=new xc(h1,d1,m1);function bE(r){return r instanceof Vr&&r.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RE({projectId:r}){return`${c1}/projects/${r}/installations`}function wE(r){return{token:r.token,requestStatus:2,expiresIn:p1(r.expiresIn),creationTime:Date.now()}}async function CE(r,t){const a=(await t.json()).error;return As.create("request-failed",{requestName:r,serverCode:a.code,serverMessage:a.message,serverStatus:a.status})}function DE({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function g1(r,{refreshToken:t}){const i=DE(r);return i.append("Authorization",y1(t)),i}async function IE(r){const t=await r();return t.status>=500&&t.status<600?r():t}function p1(r){return Number(r.replace("s","000"))}function y1(r){return`${SE} ${r}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _1({appConfig:r,heartbeatServiceProvider:t},{fid:i}){const a=RE(r),l=DE(r),c=t.getImmediate({optional:!0});if(c){const p=await c.getHeartbeatsHeader();p&&l.append("x-firebase-client",p)}const h={fid:i,authVersion:SE,appId:r.appId,sdkVersion:AE},m={method:"POST",headers:l,body:JSON.stringify(h)},y=await IE(()=>fetch(a,m));if(y.ok){const p=await y.json();return{fid:p.fid||i,registrationStatus:2,refreshToken:p.refreshToken,authToken:wE(p.authToken)}}else throw await CE("Create Installation",y)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OE(r){return new Promise(t=>{setTimeout(t,r)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v1(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1=/^[cdef][\w-]{21}$/,Vd="";function T1(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const i=A1(r);return E1.test(i)?i:Vd}catch{return Vd}}function A1(r){return v1(r).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uc(r){return`${r.appName}!${r.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE=new Map;function NE(r,t){const i=Uc(r);ME(i,t),S1(i,t)}function ME(r,t){const i=VE.get(r);if(i)for(const a of i)a(t)}function S1(r,t){const i=b1();i&&i.postMessage({key:r,fid:t}),R1()}let _s=null;function b1(){return!_s&&"BroadcastChannel"in self&&(_s=new BroadcastChannel("[Firebase] FID Change"),_s.onmessage=r=>{ME(r.data.key,r.data.fid)}),_s}function R1(){VE.size===0&&_s&&(_s.close(),_s=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1="firebase-installations-database",C1=1,Ss="firebase-installations-store";let fd=null;function im(){return fd||(fd=gE(w1,C1,{upgrade:(r,t)=>{switch(t){case 0:r.createObjectStore(Ss)}}})),fd}async function dc(r,t){const i=Uc(r),l=(await im()).transaction(Ss,"readwrite"),c=l.objectStore(Ss),h=await c.get(i);return await c.put(t,i),await l.done,(!h||h.fid!==t.fid)&&NE(r,t.fid),t}async function xE(r){const t=Uc(r),a=(await im()).transaction(Ss,"readwrite");await a.objectStore(Ss).delete(t),await a.done}async function Lc(r,t){const i=Uc(r),l=(await im()).transaction(Ss,"readwrite"),c=l.objectStore(Ss),h=await c.get(i),m=t(h);return m===void 0?await c.delete(i):await c.put(m,i),await l.done,m&&(!h||h.fid!==m.fid)&&NE(r,m.fid),m}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rm(r){let t;const i=await Lc(r.appConfig,a=>{const l=D1(a),c=I1(r,l);return t=c.registrationPromise,c.installationEntry});return i.fid===Vd?{installationEntry:await t}:{installationEntry:i,registrationPromise:t}}function D1(r){const t=r||{fid:T1(),registrationStatus:0};return UE(t)}function I1(r,t){if(t.registrationStatus===0){if(!navigator.onLine){const l=Promise.reject(As.create("app-offline"));return{installationEntry:t,registrationPromise:l}}const i={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},a=O1(r,i);return{installationEntry:i,registrationPromise:a}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:V1(r)}:{installationEntry:t}}async function O1(r,t){try{const i=await _1(r,t);return dc(r.appConfig,i)}catch(i){throw bE(i)&&i.customData.serverCode===409?await xE(r.appConfig):await dc(r.appConfig,{fid:t.fid,registrationStatus:0}),i}}async function V1(r){let t=await I_(r.appConfig);for(;t.registrationStatus===1;)await OE(100),t=await I_(r.appConfig);if(t.registrationStatus===0){const{installationEntry:i,registrationPromise:a}=await rm(r);return a||i}return t}function I_(r){return Lc(r,t=>{if(!t)throw As.create("installation-not-found");return UE(t)})}function UE(r){return N1(r)?{fid:r.fid,registrationStatus:0}:r}function N1(r){return r.registrationStatus===1&&r.registrationTime+TE<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M1({appConfig:r,heartbeatServiceProvider:t},i){const a=x1(r,i),l=g1(r,i),c=t.getImmediate({optional:!0});if(c){const p=await c.getHeartbeatsHeader();p&&l.append("x-firebase-client",p)}const h={installation:{sdkVersion:AE,appId:r.appId}},m={method:"POST",headers:l,body:JSON.stringify(h)},y=await IE(()=>fetch(a,m));if(y.ok){const p=await y.json();return wE(p)}else throw await CE("Generate Auth Token",y)}function x1(r,{fid:t}){return`${RE(r)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sm(r,t=!1){let i;const a=await Lc(r.appConfig,c=>{if(!LE(c))throw As.create("not-registered");const h=c.authToken;if(!t&&P1(h))return c;if(h.requestStatus===1)return i=U1(r,t),c;{if(!navigator.onLine)throw As.create("app-offline");const m=B1(c);return i=L1(r,m),m}});return i?await i:a.authToken}async function U1(r,t){let i=await O_(r.appConfig);for(;i.authToken.requestStatus===1;)await OE(100),i=await O_(r.appConfig);const a=i.authToken;return a.requestStatus===0?sm(r,t):a}function O_(r){return Lc(r,t=>{if(!LE(t))throw As.create("not-registered");const i=t.authToken;return k1(i)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function L1(r,t){try{const i=await M1(r,t),a=Object.assign(Object.assign({},t),{authToken:i});return await dc(r.appConfig,a),i}catch(i){if(bE(i)&&(i.customData.serverCode===401||i.customData.serverCode===404))await xE(r.appConfig);else{const a=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await dc(r.appConfig,a)}throw i}}function LE(r){return r!==void 0&&r.registrationStatus===2}function P1(r){return r.requestStatus===2&&!z1(r)}function z1(r){const t=Date.now();return t<r.creationTime||r.creationTime+r.expiresIn<t+f1}function B1(r){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},r),{authToken:t})}function k1(r){return r.requestStatus===1&&r.requestTime+TE<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q1(r){const t=r,{installationEntry:i,registrationPromise:a}=await rm(t);return a?a.catch(console.error):sm(t).catch(console.error),i.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j1(r,t=!1){const i=r;return await H1(i),(await sm(i,t)).token}async function H1(r){const{registrationPromise:t}=await rm(r);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F1(r){if(!r||!r.options)throw hd("App Configuration");if(!r.name)throw hd("App Name");const t=["projectId","apiKey","appId"];for(const i of t)if(!r.options[i])throw hd(i);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function hd(r){return As.create("missing-app-config-values",{valueName:r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE="installations",G1="installations-internal",Q1=r=>{const t=r.getProvider("app").getImmediate(),i=F1(t),a=_l(t,"heartbeat");return{app:t,appConfig:i,heartbeatServiceProvider:a,_delete:()=>Promise.resolve()}},K1=r=>{const t=r.getProvider("app").getImmediate(),i=_l(t,PE).getImmediate();return{getId:()=>q1(i),getToken:l=>j1(i,l)}};function Y1(){br(new zi(PE,Q1,"PUBLIC")),br(new zi(G1,K1,"PRIVATE"))}Y1();oi(EE,nm);oi(EE,nm,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mc="analytics",X1="firebase_id",$1="origin",Z1=60*1e3,J1="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",am="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const an=new tm("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},yn=new xc("analytics","Analytics",W1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tw(r){if(!r.startsWith(am)){const t=yn.create("invalid-gtag-resource",{gtagURL:r});return an.warn(t.message),""}return r}function zE(r){return Promise.all(r.map(t=>t.catch(i=>i)))}function ew(r,t){let i;return window.trustedTypes&&(i=window.trustedTypes.createPolicy(r,t)),i}function nw(r,t){const i=ew("firebase-js-sdk-policy",{createScriptURL:tw}),a=document.createElement("script"),l=`${am}?l=${r}&id=${t}`;a.src=i?i==null?void 0:i.createScriptURL(l):l,a.async=!0,document.head.appendChild(a)}function iw(r){let t=[];return Array.isArray(window[r])?t=window[r]:window[r]=t,t}async function rw(r,t,i,a,l,c){const h=a[l];try{if(h)await t[h];else{const y=(await zE(i)).find(p=>p.measurementId===l);y&&await t[y.appId]}}catch(m){an.error(m)}r("config",l,c)}async function sw(r,t,i,a,l){try{let c=[];if(l&&l.send_to){let h=l.send_to;Array.isArray(h)||(h=[h]);const m=await zE(i);for(const y of h){const p=m.find(b=>b.measurementId===y),E=p&&t[p.appId];if(E)c.push(E);else{c=[];break}}}c.length===0&&(c=Object.values(t)),await Promise.all(c),r("event",a,l||{})}catch(c){an.error(c)}}function aw(r,t,i,a){async function l(c,...h){try{if(c==="event"){const[m,y]=h;await sw(r,t,i,m,y)}else if(c==="config"){const[m,y]=h;await rw(r,t,i,a,m,y)}else if(c==="consent"){const[m,y]=h;r("consent",m,y)}else if(c==="get"){const[m,y,p]=h;r("get",m,y,p)}else if(c==="set"){const[m]=h;r("set",m)}else r(c,...h)}catch(m){an.error(m)}}return l}function ow(r,t,i,a,l){let c=function(...h){window[a].push(arguments)};return window[l]&&typeof window[l]=="function"&&(c=window[l]),window[l]=aw(c,r,t,i),{gtagCore:c,wrappedGtag:window[l]}}function lw(r){const t=window.document.getElementsByTagName("script");for(const i of Object.values(t))if(i.src&&i.src.includes(am)&&i.src.includes(r))return i;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw=30,cw=1e3;class fw{constructor(t={},i=cw){this.throttleMetadata=t,this.intervalMillis=i}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,i){this.throttleMetadata[t]=i}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const BE=new fw;function hw(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function dw(r){var t;const{appId:i,apiKey:a}=r,l={method:"GET",headers:hw(a)},c=J1.replace("{app-id}",i),h=await fetch(c,l);if(h.status!==200&&h.status!==304){let m="";try{const y=await h.json();!((t=y.error)===null||t===void 0)&&t.message&&(m=y.error.message)}catch{}throw yn.create("config-fetch-failed",{httpStatus:h.status,responseMessage:m})}return h.json()}async function mw(r,t=BE,i){const{appId:a,apiKey:l,measurementId:c}=r.options;if(!a)throw yn.create("no-app-id");if(!l){if(c)return{measurementId:c,appId:a};throw yn.create("no-api-key")}const h=t.getThrottleMetadata(a)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new yw;return setTimeout(async()=>{m.abort()},Z1),kE({appId:a,apiKey:l,measurementId:c},h,m,t)}async function kE(r,{throttleEndTimeMillis:t,backoffCount:i},a,l=BE){var c;const{appId:h,measurementId:m}=r;try{await gw(a,t)}catch(y){if(m)return an.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${y==null?void 0:y.message}]`),{appId:h,measurementId:m};throw y}try{const y=await dw(r);return l.deleteThrottleMetadata(h),y}catch(y){const p=y;if(!pw(p)){if(l.deleteThrottleMetadata(h),m)return an.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:h,measurementId:m};throw y}const E=Number((c=p==null?void 0:p.customData)===null||c===void 0?void 0:c.httpStatus)===503?E_(i,l.intervalMillis,uw):E_(i,l.intervalMillis),b={throttleEndTimeMillis:Date.now()+E,backoffCount:i+1};return l.setThrottleMetadata(h,b),an.debug(`Calling attemptFetch again in ${E} millis`),kE(r,b,a,l)}}function gw(r,t){return new Promise((i,a)=>{const l=Math.max(t-Date.now(),0),c=setTimeout(i,l);r.addEventListener(()=>{clearTimeout(c),a(yn.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function pw(r){if(!(r instanceof Vr)||!r.customData)return!1;const t=Number(r.customData.httpStatus);return t===429||t===500||t===503||t===504}class yw{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function _w(r,t,i,a,l){if(l&&l.global){r("event",i,a);return}else{const c=await t,h=Object.assign(Object.assign({},a),{send_to:c});r("event",i,h)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vw(){if(fE())try{await hE()}catch(r){return an.warn(yn.create("indexeddb-unavailable",{errorInfo:r==null?void 0:r.toString()}).message),!1}else return an.warn(yn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Ew(r,t,i,a,l,c,h){var m;const y=mw(r);y.then(j=>{i[j.measurementId]=j.appId,r.options.measurementId&&j.measurementId!==r.options.measurementId&&an.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${j.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(j=>an.error(j)),t.push(y);const p=vw().then(j=>{if(j)return a.getId()}),[E,b]=await Promise.all([y,p]);lw(c)||nw(c,E.measurementId),l("js",new Date);const x=(m=h==null?void 0:h.config)!==null&&m!==void 0?m:{};return x[$1]="firebase",x.update=!0,b!=null&&(x[X1]=b),l("config",E.measurementId,x),E.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(t){this.app=t}_delete(){return delete nl[this.app.options.appId],Promise.resolve()}}let nl={},V_=[];const N_={};let dd="dataLayer",Aw="gtag",M_,qE,x_=!1;function Sw(){const r=[];if(Hb()&&r.push("This is a browser extension environment."),Gb()||r.push("Cookies are not available."),r.length>0){const t=r.map((a,l)=>`(${l+1}) ${a}`).join(" "),i=yn.create("invalid-analytics-context",{errorInfo:t});an.warn(i.message)}}function bw(r,t,i){Sw();const a=r.options.appId;if(!a)throw yn.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)an.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw yn.create("no-api-key");if(nl[a]!=null)throw yn.create("already-exists",{id:a});if(!x_){iw(dd);const{wrappedGtag:c,gtagCore:h}=ow(nl,V_,N_,dd,Aw);qE=c,M_=h,x_=!0}return nl[a]=Ew(r,V_,N_,t,M_,dd,i),new Tw(r)}function Rw(r=yE()){r=Sr(r);const t=_l(r,mc);return t.isInitialized()?t.getImmediate():ww(r)}function ww(r,t={}){const i=_l(r,mc);if(i.isInitialized()){const l=i.getImmediate();if(ll(t,i.getOptions()))return l;throw yn.create("already-initialized")}return i.initialize({options:t})}function Cw(r,t,i,a){r=Sr(r),_w(qE,nl[r.app.options.appId],t,i,a).catch(l=>an.error(l))}const U_="@firebase/analytics",L_="0.10.12";function Dw(){br(new zi(mc,(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("installations-internal").getImmediate();return bw(a,l,i)},"PUBLIC")),br(new zi("analytics-internal",r,"PRIVATE")),oi(U_,L_),oi(U_,L_,"esm2017");function r(t){try{const i=t.getProvider(mc).getImmediate();return{logEvent:(a,l,c)=>Cw(i,a,l,c)}}catch(i){throw yn.create("interop-component-reg-failed",{reason:i})}}}Dw();var P_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Er,jE;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(O,S){function w(){}w.prototype=S.prototype,O.D=S.prototype,O.prototype=new w,O.prototype.constructor=O,O.C=function(V,N,U){for(var C=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)C[xe-2]=arguments[xe];return S.prototype[N].apply(V,C)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(a,i),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(O,S,w){w||(w=0);var V=Array(16);if(typeof S=="string")for(var N=0;16>N;++N)V[N]=S.charCodeAt(w++)|S.charCodeAt(w++)<<8|S.charCodeAt(w++)<<16|S.charCodeAt(w++)<<24;else for(N=0;16>N;++N)V[N]=S[w++]|S[w++]<<8|S[w++]<<16|S[w++]<<24;S=O.g[0],w=O.g[1],N=O.g[2];var U=O.g[3],C=S+(U^w&(N^U))+V[0]+3614090360&4294967295;S=w+(C<<7&4294967295|C>>>25),C=U+(N^S&(w^N))+V[1]+3905402710&4294967295,U=S+(C<<12&4294967295|C>>>20),C=N+(w^U&(S^w))+V[2]+606105819&4294967295,N=U+(C<<17&4294967295|C>>>15),C=w+(S^N&(U^S))+V[3]+3250441966&4294967295,w=N+(C<<22&4294967295|C>>>10),C=S+(U^w&(N^U))+V[4]+4118548399&4294967295,S=w+(C<<7&4294967295|C>>>25),C=U+(N^S&(w^N))+V[5]+1200080426&4294967295,U=S+(C<<12&4294967295|C>>>20),C=N+(w^U&(S^w))+V[6]+2821735955&4294967295,N=U+(C<<17&4294967295|C>>>15),C=w+(S^N&(U^S))+V[7]+4249261313&4294967295,w=N+(C<<22&4294967295|C>>>10),C=S+(U^w&(N^U))+V[8]+1770035416&4294967295,S=w+(C<<7&4294967295|C>>>25),C=U+(N^S&(w^N))+V[9]+2336552879&4294967295,U=S+(C<<12&4294967295|C>>>20),C=N+(w^U&(S^w))+V[10]+4294925233&4294967295,N=U+(C<<17&4294967295|C>>>15),C=w+(S^N&(U^S))+V[11]+2304563134&4294967295,w=N+(C<<22&4294967295|C>>>10),C=S+(U^w&(N^U))+V[12]+1804603682&4294967295,S=w+(C<<7&4294967295|C>>>25),C=U+(N^S&(w^N))+V[13]+4254626195&4294967295,U=S+(C<<12&4294967295|C>>>20),C=N+(w^U&(S^w))+V[14]+2792965006&4294967295,N=U+(C<<17&4294967295|C>>>15),C=w+(S^N&(U^S))+V[15]+1236535329&4294967295,w=N+(C<<22&4294967295|C>>>10),C=S+(N^U&(w^N))+V[1]+4129170786&4294967295,S=w+(C<<5&4294967295|C>>>27),C=U+(w^N&(S^w))+V[6]+3225465664&4294967295,U=S+(C<<9&4294967295|C>>>23),C=N+(S^w&(U^S))+V[11]+643717713&4294967295,N=U+(C<<14&4294967295|C>>>18),C=w+(U^S&(N^U))+V[0]+3921069994&4294967295,w=N+(C<<20&4294967295|C>>>12),C=S+(N^U&(w^N))+V[5]+3593408605&4294967295,S=w+(C<<5&4294967295|C>>>27),C=U+(w^N&(S^w))+V[10]+38016083&4294967295,U=S+(C<<9&4294967295|C>>>23),C=N+(S^w&(U^S))+V[15]+3634488961&4294967295,N=U+(C<<14&4294967295|C>>>18),C=w+(U^S&(N^U))+V[4]+3889429448&4294967295,w=N+(C<<20&4294967295|C>>>12),C=S+(N^U&(w^N))+V[9]+568446438&4294967295,S=w+(C<<5&4294967295|C>>>27),C=U+(w^N&(S^w))+V[14]+3275163606&4294967295,U=S+(C<<9&4294967295|C>>>23),C=N+(S^w&(U^S))+V[3]+4107603335&4294967295,N=U+(C<<14&4294967295|C>>>18),C=w+(U^S&(N^U))+V[8]+1163531501&4294967295,w=N+(C<<20&4294967295|C>>>12),C=S+(N^U&(w^N))+V[13]+2850285829&4294967295,S=w+(C<<5&4294967295|C>>>27),C=U+(w^N&(S^w))+V[2]+4243563512&4294967295,U=S+(C<<9&4294967295|C>>>23),C=N+(S^w&(U^S))+V[7]+1735328473&4294967295,N=U+(C<<14&4294967295|C>>>18),C=w+(U^S&(N^U))+V[12]+2368359562&4294967295,w=N+(C<<20&4294967295|C>>>12),C=S+(w^N^U)+V[5]+4294588738&4294967295,S=w+(C<<4&4294967295|C>>>28),C=U+(S^w^N)+V[8]+2272392833&4294967295,U=S+(C<<11&4294967295|C>>>21),C=N+(U^S^w)+V[11]+1839030562&4294967295,N=U+(C<<16&4294967295|C>>>16),C=w+(N^U^S)+V[14]+4259657740&4294967295,w=N+(C<<23&4294967295|C>>>9),C=S+(w^N^U)+V[1]+2763975236&4294967295,S=w+(C<<4&4294967295|C>>>28),C=U+(S^w^N)+V[4]+1272893353&4294967295,U=S+(C<<11&4294967295|C>>>21),C=N+(U^S^w)+V[7]+4139469664&4294967295,N=U+(C<<16&4294967295|C>>>16),C=w+(N^U^S)+V[10]+3200236656&4294967295,w=N+(C<<23&4294967295|C>>>9),C=S+(w^N^U)+V[13]+681279174&4294967295,S=w+(C<<4&4294967295|C>>>28),C=U+(S^w^N)+V[0]+3936430074&4294967295,U=S+(C<<11&4294967295|C>>>21),C=N+(U^S^w)+V[3]+3572445317&4294967295,N=U+(C<<16&4294967295|C>>>16),C=w+(N^U^S)+V[6]+76029189&4294967295,w=N+(C<<23&4294967295|C>>>9),C=S+(w^N^U)+V[9]+3654602809&4294967295,S=w+(C<<4&4294967295|C>>>28),C=U+(S^w^N)+V[12]+3873151461&4294967295,U=S+(C<<11&4294967295|C>>>21),C=N+(U^S^w)+V[15]+530742520&4294967295,N=U+(C<<16&4294967295|C>>>16),C=w+(N^U^S)+V[2]+3299628645&4294967295,w=N+(C<<23&4294967295|C>>>9),C=S+(N^(w|~U))+V[0]+4096336452&4294967295,S=w+(C<<6&4294967295|C>>>26),C=U+(w^(S|~N))+V[7]+1126891415&4294967295,U=S+(C<<10&4294967295|C>>>22),C=N+(S^(U|~w))+V[14]+2878612391&4294967295,N=U+(C<<15&4294967295|C>>>17),C=w+(U^(N|~S))+V[5]+4237533241&4294967295,w=N+(C<<21&4294967295|C>>>11),C=S+(N^(w|~U))+V[12]+1700485571&4294967295,S=w+(C<<6&4294967295|C>>>26),C=U+(w^(S|~N))+V[3]+2399980690&4294967295,U=S+(C<<10&4294967295|C>>>22),C=N+(S^(U|~w))+V[10]+4293915773&4294967295,N=U+(C<<15&4294967295|C>>>17),C=w+(U^(N|~S))+V[1]+2240044497&4294967295,w=N+(C<<21&4294967295|C>>>11),C=S+(N^(w|~U))+V[8]+1873313359&4294967295,S=w+(C<<6&4294967295|C>>>26),C=U+(w^(S|~N))+V[15]+4264355552&4294967295,U=S+(C<<10&4294967295|C>>>22),C=N+(S^(U|~w))+V[6]+2734768916&4294967295,N=U+(C<<15&4294967295|C>>>17),C=w+(U^(N|~S))+V[13]+1309151649&4294967295,w=N+(C<<21&4294967295|C>>>11),C=S+(N^(w|~U))+V[4]+4149444226&4294967295,S=w+(C<<6&4294967295|C>>>26),C=U+(w^(S|~N))+V[11]+3174756917&4294967295,U=S+(C<<10&4294967295|C>>>22),C=N+(S^(U|~w))+V[2]+718787259&4294967295,N=U+(C<<15&4294967295|C>>>17),C=w+(U^(N|~S))+V[9]+3951481745&4294967295,O.g[0]=O.g[0]+S&4294967295,O.g[1]=O.g[1]+(N+(C<<21&4294967295|C>>>11))&4294967295,O.g[2]=O.g[2]+N&4294967295,O.g[3]=O.g[3]+U&4294967295}a.prototype.u=function(O,S){S===void 0&&(S=O.length);for(var w=S-this.blockSize,V=this.B,N=this.h,U=0;U<S;){if(N==0)for(;U<=w;)l(this,O,U),U+=this.blockSize;if(typeof O=="string"){for(;U<S;)if(V[N++]=O.charCodeAt(U++),N==this.blockSize){l(this,V),N=0;break}}else for(;U<S;)if(V[N++]=O[U++],N==this.blockSize){l(this,V),N=0;break}}this.h=N,this.o+=S},a.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var S=1;S<O.length-8;++S)O[S]=0;var w=8*this.o;for(S=O.length-8;S<O.length;++S)O[S]=w&255,w/=256;for(this.u(O),O=Array(16),S=w=0;4>S;++S)for(var V=0;32>V;V+=8)O[w++]=this.g[S]>>>V&255;return O};function c(O,S){var w=m;return Object.prototype.hasOwnProperty.call(w,O)?w[O]:w[O]=S(O)}function h(O,S){this.h=S;for(var w=[],V=!0,N=O.length-1;0<=N;N--){var U=O[N]|0;V&&U==S||(w[N]=U,V=!1)}this.g=w}var m={};function y(O){return-128<=O&&128>O?c(O,function(S){return new h([S|0],0>S?-1:0)}):new h([O|0],0>O?-1:0)}function p(O){if(isNaN(O)||!isFinite(O))return b;if(0>O)return B(p(-O));for(var S=[],w=1,V=0;O>=w;V++)S[V]=O/w|0,w*=4294967296;return new h(S,0)}function E(O,S){if(O.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(O.charAt(0)=="-")return B(E(O.substring(1),S));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=p(Math.pow(S,8)),V=b,N=0;N<O.length;N+=8){var U=Math.min(8,O.length-N),C=parseInt(O.substring(N,N+U),S);8>U?(U=p(Math.pow(S,U)),V=V.j(U).add(p(C))):(V=V.j(w),V=V.add(p(C)))}return V}var b=y(0),x=y(1),j=y(16777216);r=h.prototype,r.m=function(){if(Z(this))return-B(this).m();for(var O=0,S=1,w=0;w<this.g.length;w++){var V=this.i(w);O+=(0<=V?V:4294967296+V)*S,S*=4294967296}return O},r.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(F(this))return"0";if(Z(this))return"-"+B(this).toString(O);for(var S=p(Math.pow(O,6)),w=this,V="";;){var N=vt(w,S).g;w=it(w,N.j(S));var U=((0<w.g.length?w.g[0]:w.h)>>>0).toString(O);if(w=N,F(w))return U+V;for(;6>U.length;)U="0"+U;V=U+V}},r.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function F(O){if(O.h!=0)return!1;for(var S=0;S<O.g.length;S++)if(O.g[S]!=0)return!1;return!0}function Z(O){return O.h==-1}r.l=function(O){return O=it(this,O),Z(O)?-1:F(O)?0:1};function B(O){for(var S=O.g.length,w=[],V=0;V<S;V++)w[V]=~O.g[V];return new h(w,~O.h).add(x)}r.abs=function(){return Z(this)?B(this):this},r.add=function(O){for(var S=Math.max(this.g.length,O.g.length),w=[],V=0,N=0;N<=S;N++){var U=V+(this.i(N)&65535)+(O.i(N)&65535),C=(U>>>16)+(this.i(N)>>>16)+(O.i(N)>>>16);V=C>>>16,U&=65535,C&=65535,w[N]=C<<16|U}return new h(w,w[w.length-1]&-2147483648?-1:0)};function it(O,S){return O.add(B(S))}r.j=function(O){if(F(this)||F(O))return b;if(Z(this))return Z(O)?B(this).j(B(O)):B(B(this).j(O));if(Z(O))return B(this.j(B(O)));if(0>this.l(j)&&0>O.l(j))return p(this.m()*O.m());for(var S=this.g.length+O.g.length,w=[],V=0;V<2*S;V++)w[V]=0;for(V=0;V<this.g.length;V++)for(var N=0;N<O.g.length;N++){var U=this.i(V)>>>16,C=this.i(V)&65535,xe=O.i(N)>>>16,re=O.i(N)&65535;w[2*V+2*N]+=C*re,st(w,2*V+2*N),w[2*V+2*N+1]+=U*re,st(w,2*V+2*N+1),w[2*V+2*N+1]+=C*xe,st(w,2*V+2*N+1),w[2*V+2*N+2]+=U*xe,st(w,2*V+2*N+2)}for(V=0;V<S;V++)w[V]=w[2*V+1]<<16|w[2*V];for(V=S;V<2*S;V++)w[V]=0;return new h(w,0)};function st(O,S){for(;(O[S]&65535)!=O[S];)O[S+1]+=O[S]>>>16,O[S]&=65535,S++}function at(O,S){this.g=O,this.h=S}function vt(O,S){if(F(S))throw Error("division by zero");if(F(O))return new at(b,b);if(Z(O))return S=vt(B(O),S),new at(B(S.g),B(S.h));if(Z(S))return S=vt(O,B(S)),new at(B(S.g),S.h);if(30<O.g.length){if(Z(O)||Z(S))throw Error("slowDivide_ only works with positive integers.");for(var w=x,V=S;0>=V.l(O);)w=ot(w),V=ot(V);var N=At(w,1),U=At(V,1);for(V=At(V,2),w=At(w,2);!F(V);){var C=U.add(V);0>=C.l(O)&&(N=N.add(w),U=C),V=At(V,1),w=At(w,1)}return S=it(O,N.j(S)),new at(N,S)}for(N=b;0<=O.l(S);){for(w=Math.max(1,Math.floor(O.m()/S.m())),V=Math.ceil(Math.log(w)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),U=p(w),C=U.j(S);Z(C)||0<C.l(O);)w-=V,U=p(w),C=U.j(S);F(U)&&(U=x),N=N.add(U),O=it(O,C)}return new at(N,O)}r.A=function(O){return vt(this,O).h},r.and=function(O){for(var S=Math.max(this.g.length,O.g.length),w=[],V=0;V<S;V++)w[V]=this.i(V)&O.i(V);return new h(w,this.h&O.h)},r.or=function(O){for(var S=Math.max(this.g.length,O.g.length),w=[],V=0;V<S;V++)w[V]=this.i(V)|O.i(V);return new h(w,this.h|O.h)},r.xor=function(O){for(var S=Math.max(this.g.length,O.g.length),w=[],V=0;V<S;V++)w[V]=this.i(V)^O.i(V);return new h(w,this.h^O.h)};function ot(O){for(var S=O.g.length+1,w=[],V=0;V<S;V++)w[V]=O.i(V)<<1|O.i(V-1)>>>31;return new h(w,O.h)}function At(O,S){var w=S>>5;S%=32;for(var V=O.g.length-w,N=[],U=0;U<V;U++)N[U]=0<S?O.i(U+w)>>>S|O.i(U+w+1)<<32-S:O.i(U+w);return new h(N,O.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,jE=a,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=p,h.fromString=E,Er=h}).apply(typeof P_<"u"?P_:typeof self<"u"?self:typeof window<"u"?window:{});var Yu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var HE,Wo,FE,ic,Nd,GE,QE,KE;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,g,_){return u==Array.prototype||u==Object.prototype||(u[g]=_.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Yu=="object"&&Yu];for(var g=0;g<u.length;++g){var _=u[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=i(this);function l(u,g){if(g)t:{var _=a;u=u.split(".");for(var A=0;A<u.length-1;A++){var L=u[A];if(!(L in _))break t;_=_[L]}u=u[u.length-1],A=_[u],g=g(A),g!=A&&g!=null&&t(_,u,{configurable:!0,writable:!0,value:g})}}function c(u,g){u instanceof String&&(u+="");var _=0,A=!1,L={next:function(){if(!A&&_<u.length){var H=_++;return{value:g(H,u[H]),done:!1}}return A=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}l("Array.prototype.values",function(u){return u||function(){return c(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function y(u){var g=typeof u;return g=g!="object"?g:u?Array.isArray(u)?"array":g:"null",g=="array"||g=="object"&&typeof u.length=="number"}function p(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function E(u,g,_){return u.call.apply(u.bind,arguments)}function b(u,g,_){if(!u)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,A),u.apply(g,L)}}return function(){return u.apply(g,arguments)}}function x(u,g,_){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:b,x.apply(null,arguments)}function j(u,g){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function F(u,g){function _(){}_.prototype=g.prototype,u.aa=g.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(A,L,H){for(var et=Array(arguments.length-2),Mt=2;Mt<arguments.length;Mt++)et[Mt-2]=arguments[Mt];return g.prototype[L].apply(A,et)}}function Z(u){const g=u.length;if(0<g){const _=Array(g);for(let A=0;A<g;A++)_[A]=u[A];return _}return[]}function B(u,g){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(y(A)){const L=u.length||0,H=A.length||0;u.length=L+H;for(let et=0;et<H;et++)u[L+et]=A[et]}else u.push(A)}}class it{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function st(u){return/^[\s\xa0]*$/.test(u)}function at(){var u=m.navigator;return u&&(u=u.userAgent)?u:""}function vt(u){return vt[" "](u),u}vt[" "]=function(){};var ot=at().indexOf("Gecko")!=-1&&!(at().toLowerCase().indexOf("webkit")!=-1&&at().indexOf("Edge")==-1)&&!(at().indexOf("Trident")!=-1||at().indexOf("MSIE")!=-1)&&at().indexOf("Edge")==-1;function At(u,g,_){for(const A in u)g.call(_,u[A],A,u)}function O(u,g){for(const _ in u)g.call(void 0,u[_],_,u)}function S(u){const g={};for(const _ in u)g[_]=u[_];return g}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(u,g){let _,A;for(let L=1;L<arguments.length;L++){A=arguments[L];for(_ in A)u[_]=A[_];for(let H=0;H<w.length;H++)_=w[H],Object.prototype.hasOwnProperty.call(A,_)&&(u[_]=A[_])}}function N(u){var g=1;u=u.split(":");const _=[];for(;0<g&&u.length;)_.push(u.shift()),g--;return u.length&&_.push(u.join(":")),_}function U(u){m.setTimeout(()=>{throw u},0)}function C(){var u=Bt;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class xe{constructor(){this.h=this.g=null}add(g,_){const A=re.get();A.set(g,_),this.h?this.h.next=A:this.g=A,this.h=A}}var re=new it(()=>new Q,u=>u.reset());class Q{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let nt,ht=!1,Bt=new xe,D=()=>{const u=m.Promise.resolve(void 0);nt=()=>{u.then(W)}};var W=()=>{for(var u;u=C();){try{u.h.call(u.g)}catch(_){U(_)}var g=re;g.j(u),100>g.h&&(g.h++,u.next=g.g,g.g=u)}ht=!1};function rt(){this.s=this.s,this.C=this.C}rt.prototype.s=!1,rt.prototype.ma=function(){this.s||(this.s=!0,this.N())},rt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function tt(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}tt.prototype.h=function(){this.defaultPrevented=!0};var mt=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};m.addEventListener("test",_,g),m.removeEventListener("test",_,g)}catch{}return u}();function Dt(u,g){if(tt.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget){if(ot){t:{try{vt(g.nodeName);var L=!0;break t}catch{}L=!1}L||(g=null)}}else _=="mouseover"?g=u.fromElement:_=="mouseout"&&(g=u.toElement);this.relatedTarget=g,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Et[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Dt.aa.h.call(this)}}F(Dt,tt);var Et={2:"touch",3:"pen",4:"mouse"};Dt.prototype.h=function(){Dt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ce="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function jn(u,g,_,A,L){this.listener=u,this.proxy=null,this.src=g,this.type=_,this.capture=!!A,this.ha=L,this.key=++Zt,this.da=this.fa=!1}function ji(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function fi(u){this.src=u,this.g={},this.h=0}fi.prototype.add=function(u,g,_,A,L){var H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);var et=Mr(u,g,A,L);return-1<et?(g=u[et],_||(g.fa=!1)):(g=new jn(g,this.src,H,!!A,L),g.fa=_,u.push(g)),g};function Nr(u,g){var _=g.type;if(_ in u.g){var A=u.g[_],L=Array.prototype.indexOf.call(A,g,void 0),H;(H=0<=L)&&Array.prototype.splice.call(A,L,1),H&&(ji(g),u.g[_].length==0&&(delete u.g[_],u.h--))}}function Mr(u,g,_,A){for(var L=0;L<u.length;++L){var H=u[L];if(!H.da&&H.listener==g&&H.capture==!!_&&H.ha==A)return L}return-1}var xr="closure_lm_"+(1e6*Math.random()|0),qa={};function bl(u,g,_,A,L){if(Array.isArray(g)){for(var H=0;H<g.length;H++)bl(u,g[H],_,A,L);return null}return _=Rl(_),u&&u[Ce]?u.K(g,_,p(A)?!!A.capture:!1,L):_n(u,g,_,!1,A,L)}function _n(u,g,_,A,L,H){if(!g)throw Error("Invalid event type");var et=p(L)?!!L.capture:!!L,Mt=Vs(u);if(Mt||(u[xr]=Mt=new fi(u)),_=Mt.add(g,_,A,et,H),_.proxy)return _;if(A=Zc(),_.proxy=A,A.src=u,A.listener=_,u.addEventListener)mt||(L=et),L===void 0&&(L=!1),u.addEventListener(g.toString(),A,L);else if(u.attachEvent)u.attachEvent(Ur(g.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Zc(){function u(_){return g.call(u.src,u.listener,_)}const g=Jc;return u}function ja(u,g,_,A,L){if(Array.isArray(g))for(var H=0;H<g.length;H++)ja(u,g[H],_,A,L);else A=p(A)?!!A.capture:!!A,_=Rl(_),u&&u[Ce]?(u=u.i,g=String(g).toString(),g in u.g&&(H=u.g[g],_=Mr(H,_,A,L),-1<_&&(ji(H[_]),Array.prototype.splice.call(H,_,1),H.length==0&&(delete u.g[g],u.h--)))):u&&(u=Vs(u))&&(g=u.g[g.toString()],u=-1,g&&(u=Mr(g,_,A,L)),(_=-1<u?g[u]:null)&&Os(_))}function Os(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[Ce])Nr(g.i,u);else{var _=u.type,A=u.proxy;g.removeEventListener?g.removeEventListener(_,A,u.capture):g.detachEvent?g.detachEvent(Ur(_),A):g.addListener&&g.removeListener&&g.removeListener(A),(_=Vs(g))?(Nr(_,u),_.h==0&&(_.src=null,g[xr]=null)):ji(u)}}}function Ur(u){return u in qa?qa[u]:qa[u]="on"+u}function Jc(u,g){if(u.da)u=!0;else{g=new Dt(g,this);var _=u.listener,A=u.ha||u.src;u.fa&&Os(u),u=_.call(A,g)}return u}function Vs(u){return u=u[xr],u instanceof fi?u:null}var Ha="__closure_events_fn_"+(1e9*Math.random()>>>0);function Rl(u){return typeof u=="function"?u:(u[Ha]||(u[Ha]=function(g){return u.handleEvent(g)}),u[Ha])}function se(){rt.call(this),this.i=new fi(this),this.M=this,this.F=null}F(se,rt),se.prototype[Ce]=!0,se.prototype.removeEventListener=function(u,g,_,A){ja(this,u,g,_,A)};function Ht(u,g){var _,A=u.F;if(A)for(_=[];A;A=A.F)_.push(A);if(u=u.M,A=g.type||g,typeof g=="string")g=new tt(g,u);else if(g instanceof tt)g.target=g.target||u;else{var L=g;g=new tt(A,u),V(g,L)}if(L=!0,_)for(var H=_.length-1;0<=H;H--){var et=g.g=_[H];L=on(et,A,!0,g)&&L}if(et=g.g=u,L=on(et,A,!0,g)&&L,L=on(et,A,!1,g)&&L,_)for(H=0;H<_.length;H++)et=g.g=_[H],L=on(et,A,!1,g)&&L}se.prototype.N=function(){if(se.aa.N.call(this),this.i){var u=this.i,g;for(g in u.g){for(var _=u.g[g],A=0;A<_.length;A++)ji(_[A]);delete u.g[g],u.h--}}this.F=null},se.prototype.K=function(u,g,_,A){return this.i.add(String(u),g,!1,_,A)},se.prototype.L=function(u,g,_,A){return this.i.add(String(u),g,!0,_,A)};function on(u,g,_,A){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();for(var L=!0,H=0;H<g.length;++H){var et=g[H];if(et&&!et.da&&et.capture==_){var Mt=et.listener,Te=et.ha||et.src;et.fa&&Nr(u.i,et),L=Mt.call(Te,A)!==!1&&L}}return L&&!A.defaultPrevented}function He(u,g,_){if(typeof u=="function")_&&(u=x(u,_));else if(u&&typeof u.handleEvent=="function")u=x(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:m.setTimeout(u,g||0)}function wl(u){u.g=He(()=>{u.g=null,u.i&&(u.i=!1,wl(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class Wc extends rt{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:wl(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Lr(u){rt.call(this),this.h=u,this.g={}}F(Lr,rt);var Pr=[];function zr(u){At(u.g,function(g,_){this.g.hasOwnProperty(_)&&Os(g)},u),u.g={}}Lr.prototype.N=function(){Lr.aa.N.call(this),zr(this)},Lr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Mn=m.JSON.stringify,Ns=m.JSON.parse,Br=class{stringify(u){return m.JSON.stringify(u,void 0)}parse(u){return m.JSON.parse(u,void 0)}};function Fa(){}Fa.prototype.h=null;function Ga(u){return u.h||(u.h=u.i())}function Qa(){}var hi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function di(){tt.call(this,"d")}F(di,tt);function Ka(){tt.call(this,"c")}F(Ka,tt);var Hn={},Ya=null;function Hi(){return Ya=Ya||new se}Hn.La="serverreachability";function Ms(u){tt.call(this,Hn.La,u)}F(Ms,tt);function Fi(u){const g=Hi();Ht(g,new Ms(g))}Hn.STAT_EVENT="statevent";function Cl(u,g){tt.call(this,Hn.STAT_EVENT,u),this.stat=g}F(Cl,tt);function te(u){const g=Hi();Ht(g,new Cl(g,u))}Hn.Ma="timingevent";function Ee(u,g){tt.call(this,Hn.Ma,u),this.size=g}F(Ee,tt);function de(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){u()},g)}function vn(){this.g=!0}vn.prototype.xa=function(){this.g=!1};function Xa(u,g,_,A,L,H){u.info(function(){if(u.g)if(H)for(var et="",Mt=H.split("&"),Te=0;Te<Mt.length;Te++){var xt=Mt[Te].split("=");if(1<xt.length){var Ie=xt[0];xt=xt[1];var Ae=Ie.split("_");et=2<=Ae.length&&Ae[1]=="type"?et+(Ie+"="+xt+"&"):et+(Ie+"=redacted&")}}else et=null;else et=H;return"XMLHTTP REQ ("+A+") [attempt "+L+"]: "+g+`
`+_+`
`+et})}function tf(u,g,_,A,L,H,et){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+L+"]: "+g+`
`+_+`
`+H+" "+et})}function Gi(u,g,_,A){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+kr(u,_)+(A?" "+A:"")})}function Dl(u,g){u.info(function(){return"TIMEOUT: "+g})}vn.prototype.info=function(){};function kr(u,g){if(!u.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var A=_[u];if(!(2>A.length)){var L=A[1];if(Array.isArray(L)&&!(1>L.length)){var H=L[0];if(H!="noop"&&H!="stop"&&H!="close")for(var et=1;et<L.length;et++)L[et]=""}}}}return Mn(_)}catch{return g}}var Qi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},mi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Fn;function Gn(){}F(Gn,Fa),Gn.prototype.g=function(){return new XMLHttpRequest},Gn.prototype.i=function(){return{}},Fn=new Gn;function $e(u,g,_,A){this.j=u,this.i=g,this.l=_,this.R=A||1,this.U=new Lr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new le}function le(){this.i=null,this.g="",this.h=!1}var $a={},xs={};function xn(u,g,_){u.L=1,u.v=Gr(ln(g)),u.m=_,u.P=!0,gi(u,null)}function gi(u,g){u.F=Date.now(),qr(u),u.A=ln(u.v);var _=u.A,A=u.R;Array.isArray(A)||(A=[String(A)]),no(_.i,"t",A),u.C=0,_=u.j.J,u.h=new le,u.g=Fl(u.j,_?g:null,!u.m),0<u.O&&(u.M=new Wc(x(u.Y,u,u.g),u.O)),g=u.U,_=u.g,A=u.ca;var L="readystatechange";Array.isArray(L)||(L&&(Pr[0]=L.toString()),L=Pr);for(var H=0;H<L.length;H++){var et=bl(_,L[H],A||g.handleEvent,!1,g.h||g);if(!et)break;g.g[et.key]=et}g=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,g)):(u.u="GET",u.g.ea(u.A,u.u,null,g)),Fi(),Xa(u.i,u.u,u.A,u.l,u.R,u.m)}$e.prototype.ca=function(u){u=u.target;const g=this.M;g&&Sn(u)==3?g.j():this.Y(u)},$e.prototype.Y=function(u){try{if(u==this.g)t:{const Ae=Sn(this.g);var g=this.g.Ba();const Si=this.g.Z();if(!(3>Ae)&&(Ae!=3||this.g&&(this.h.h||this.g.oa()||Ll(this.g)))){this.J||Ae!=4||g==7||(g==8||0>=Si?Fi(3):Fi(2)),Ki(this);var _=this.g.Z();this.X=_;e:if(Il(this)){var A=Ll(this.g);u="";var L=A.length,H=Sn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ue(this),Qn(this);var et="";break e}this.h.i=new m.TextDecoder}for(g=0;g<L;g++)this.h.h=!0,u+=this.h.i.decode(A[g],{stream:!(H&&g==L-1)});A.length=0,this.h.g+=u,this.C=0,et=this.h.g}else et=this.g.oa();if(this.o=_==200,tf(this.i,this.u,this.A,this.l,this.R,Ae,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Mt,Te=this.g;if((Mt=Te.g?Te.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!st(Mt)){var xt=Mt;break e}}xt=null}if(_=xt)Gi(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,jr(this,_);else{this.o=!1,this.s=3,te(12),Ue(this),Qn(this);break t}}if(this.P){_=!0;let Le;for(;!this.J&&this.C<et.length;)if(Le=Ol(this,et),Le==xs){Ae==4&&(this.s=4,te(14),_=!1),Gi(this.i,this.l,null,"[Incomplete Response]");break}else if(Le==$a){this.s=4,te(15),Gi(this.i,this.l,et,"[Invalid Chunk]"),_=!1;break}else Gi(this.i,this.l,Le,null),jr(this,Le);if(Il(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ae!=4||et.length!=0||this.h.h||(this.s=1,te(16),_=!1),this.o=this.o&&_,!_)Gi(this.i,this.l,et,"[Invalid Chunked Response]"),Ue(this),Qn(this);else if(0<et.length&&!this.W){this.W=!0;var Ie=this.j;Ie.g==this&&Ie.ba&&!Ie.M&&(Ie.j.info("Great, no buffering proxy detected. Bytes received: "+et.length),Wr(Ie),Ie.M=!0,te(11))}}else Gi(this.i,this.l,et,null),jr(this,et);Ae==4&&Ue(this),this.o&&!this.J&&(Ae==4?ql(this.j,this):(this.o=!1,qr(this)))}else af(this.g),_==400&&0<et.indexOf("Unknown SID")?(this.s=3,te(12)):(this.s=0,te(13)),Ue(this),Qn(this)}}}catch{}finally{}};function Il(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Ol(u,g){var _=u.C,A=g.indexOf(`
`,_);return A==-1?xs:(_=Number(g.substring(_,A)),isNaN(_)?$a:(A+=1,A+_>g.length?xs:(g=g.slice(A,A+_),u.C=A+_,g)))}$e.prototype.cancel=function(){this.J=!0,Ue(this)};function qr(u){u.S=Date.now()+u.I,Vl(u,u.I)}function Vl(u,g){if(u.B!=null)throw Error("WatchDog timer not null");u.B=de(x(u.ba,u),g)}function Ki(u){u.B&&(m.clearTimeout(u.B),u.B=null)}$e.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Dl(this.i,this.A),this.L!=2&&(Fi(),te(17)),Ue(this),this.s=2,Qn(this)):Vl(this,this.S-u)};function Qn(u){u.j.G==0||u.J||ql(u.j,u)}function Ue(u){Ki(u);var g=u.M;g&&typeof g.ma=="function"&&g.ma(),u.M=null,zr(u.U),u.g&&(g=u.g,u.g=null,g.abort(),g.ma())}function jr(u,g){try{var _=u.j;if(_.G!=0&&(_.g==u||Za(_.h,u))){if(!u.K&&Za(_.h,u)&&_.G==3){try{var A=_.Da.g.parse(g)}catch{A=null}if(Array.isArray(A)&&A.length==3){var L=A;if(L[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)Qs(_),Fs(_);else break t;oo(_),te(18)}}else _.za=L[1],0<_.za-_.T&&37500>L[2]&&_.F&&_.v==0&&!_.C&&(_.C=de(x(_.Za,_),6e3));if(1>=Ls(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Ai(_,11)}else if((u.K||_.g==u)&&Qs(_),!st(g))for(L=_.Da.g.parse(g),g=0;g<L.length;g++){let xt=L[g];if(_.T=xt[0],xt=xt[1],_.G==2)if(xt[0]=="c"){_.K=xt[1],_.ia=xt[2];const Ie=xt[3];Ie!=null&&(_.la=Ie,_.j.info("VER="+_.la));const Ae=xt[4];Ae!=null&&(_.Aa=Ae,_.j.info("SVER="+_.Aa));const Si=xt[5];Si!=null&&typeof Si=="number"&&0<Si&&(A=1.5*Si,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const Le=u.g;if(Le){const Wn=Le.g?Le.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Wn){var H=A.h;H.g||Wn.indexOf("spdy")==-1&&Wn.indexOf("quic")==-1&&Wn.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Ps(H,H.h),H.h=null))}if(A.D){const uo=Le.g?Le.g.getResponseHeader("X-HTTP-Session-Id"):null;uo&&(A.ya=uo,Qt(A.I,A.D,uo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var et=u;if(A.qa=Hl(A,A.J?A.ia:null,A.W),et.K){Ze(A.h,et);var Mt=et,Te=A.L;Te&&(Mt.I=Te),Mt.B&&(Ki(Mt),qr(Mt)),A.g=et}else Bl(A);0<_.i.length&&Gs(_)}else xt[0]!="stop"&&xt[0]!="close"||Ai(_,7);else _.G==3&&(xt[0]=="stop"||xt[0]=="close"?xt[0]=="stop"?Ai(_,7):so(_):xt[0]!="noop"&&_.l&&_.l.ta(xt),_.v=0)}}Fi(4)}catch{}}var Nl=class{constructor(u,g){this.g=u,this.map=g}};function pi(u){this.l=u||10,m.PerformanceNavigationTiming?(u=m.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Us(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ls(u){return u.h?1:u.g?u.g.size:0}function Za(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function Ps(u,g){u.g?u.g.add(g):u.h=g}function Ze(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}pi.prototype.cancel=function(){if(this.i=Ja(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ja(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const _ of u.g.values())g=g.concat(_.D);return g}return Z(u.i)}function ef(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(y(u)){for(var g=[],_=u.length,A=0;A<_;A++)g.push(u[A]);return g}g=[],_=0;for(A in u)g[_++]=u[A];return g}function zs(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(y(u)||typeof u=="string"){var g=[];u=u.length;for(var _=0;_<u;_++)g.push(_);return g}g=[],_=0;for(const A in u)g[_++]=A;return g}}}function Wa(u,g){if(u.forEach&&typeof u.forEach=="function")u.forEach(g,void 0);else if(y(u)||typeof u=="string")Array.prototype.forEach.call(u,g,void 0);else for(var _=zs(u),A=ef(u),L=A.length,H=0;H<L;H++)g.call(void 0,A[H],_&&_[H],u)}var Hr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function nf(u,g){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var A=u[_].indexOf("="),L=null;if(0<=A){var H=u[_].substring(0,A);L=u[_].substring(A+1)}else H=u[_];g(H,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function me(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof me){this.h=u.h,Fr(this,u.j),this.o=u.o,this.g=u.g,Yi(this,u.s),this.l=u.l;var g=u.i,_=new _i;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),yi(this,_),this.m=u.m}else u&&(g=String(u).match(Hr))?(this.h=!1,Fr(this,g[1]||"",!0),this.o=En(g[2]||""),this.g=En(g[3]||"",!0),Yi(this,g[4]),this.l=En(g[5]||"",!0),yi(this,g[6]||"",!0),this.m=En(g[7]||"")):(this.h=!1,this.i=new _i(null,this.h))}me.prototype.toString=function(){var u=[],g=this.j;g&&u.push(Qr(g,to,!0),":");var _=this.g;return(_||g=="file")&&(u.push("//"),(g=this.o)&&u.push(Qr(g,to,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(Qr(_,_.charAt(0)=="/"?rf:eo,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",Qr(_,Bs)),u.join("")};function ln(u){return new me(u)}function Fr(u,g,_){u.j=_?En(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function Yi(u,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);u.s=g}else u.s=null}function yi(u,g,_){g instanceof _i?(u.i=g,xl(u.i,u.h)):(_||(g=Qr(g,sf)),u.i=new _i(g,u.h))}function Qt(u,g,_){u.i.set(g,_)}function Gr(u){return Qt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function En(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Qr(u,g,_){return typeof u=="string"?(u=encodeURI(u).replace(g,Ml),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Ml(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var to=/[#\/\?@]/g,eo=/[#\?:]/g,rf=/[#\?]/g,sf=/[#\?@]/g,Bs=/#/g;function _i(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function Tn(u){u.g||(u.g=new Map,u.h=0,u.i&&nf(u.i,function(g,_){u.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}r=_i.prototype,r.add=function(u,g){Tn(this),this.i=null,u=Kn(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(g),this.h+=1,this};function vi(u,g){Tn(u),g=Kn(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function Ei(u,g){return Tn(u),g=Kn(u,g),u.g.has(g)}r.forEach=function(u,g){Tn(this),this.g.forEach(function(_,A){_.forEach(function(L){u.call(g,L,A,this)},this)},this)},r.na=function(){Tn(this);const u=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let A=0;A<g.length;A++){const L=u[A];for(let H=0;H<L.length;H++)_.push(g[A])}return _},r.V=function(u){Tn(this);let g=[];if(typeof u=="string")Ei(this,u)&&(g=g.concat(this.g.get(Kn(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)g=g.concat(u[_])}return g},r.set=function(u,g){return Tn(this),this.i=null,u=Kn(this,u),Ei(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},r.get=function(u,g){return u?(u=this.V(u),0<u.length?String(u[0]):g):g};function no(u,g,_){vi(u,g),0<_.length&&(u.i=null,u.g.set(Kn(u,g),Z(_)),u.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var A=g[_];const H=encodeURIComponent(String(A)),et=this.V(A);for(A=0;A<et.length;A++){var L=H;et[A]!==""&&(L+="="+encodeURIComponent(String(et[A]))),u.push(L)}}return this.i=u.join("&")};function Kn(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function xl(u,g){g&&!u.j&&(Tn(u),u.i=null,u.g.forEach(function(_,A){var L=A.toLowerCase();A!=L&&(vi(this,A),no(this,L,_))},u)),u.j=g}function Kr(u,g){const _=new vn;if(m.Image){const A=new Image;A.onload=j(An,_,"TestLoadImage: loaded",!0,g,A),A.onerror=j(An,_,"TestLoadImage: error",!1,g,A),A.onabort=j(An,_,"TestLoadImage: abort",!1,g,A),A.ontimeout=j(An,_,"TestLoadImage: timeout",!1,g,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else g(!1)}function Un(u,g){const _=new vn,A=new AbortController,L=setTimeout(()=>{A.abort(),An(_,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:A.signal}).then(H=>{clearTimeout(L),H.ok?An(_,"TestPingServer: ok",!0,g):An(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(L),An(_,"TestPingServer: error",!1,g)})}function An(u,g,_,A,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),A(_)}catch{}}function Yr(){this.g=new Br}function Yn(u,g,_){const A=_||"";try{Wa(u,function(L,H){let et=L;p(L)&&(et=Mn(L)),g.push(A+H+"="+encodeURIComponent(et))})}catch(L){throw g.push(A+"type="+encodeURIComponent("_badmap")),L}}function Xi(u){this.l=u.Ub||null,this.j=u.eb||!1}F(Xi,Fa),Xi.prototype.g=function(){return new Ti(this.l,this.j)},Xi.prototype.i=function(u){return function(){return u}}({});function Ti(u,g){se.call(this),this.D=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}F(Ti,se),r=Ti.prototype,r.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=g,this.readyState=1,$n(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(g.body=u),(this.D||m).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Xn(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,$n(this)),this.g&&(this.readyState=3,$n(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;io(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function io(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?Xn(this):$n(this),this.readyState==3&&io(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,Xn(this))},r.Qa=function(u){this.g&&(this.response=u,Xn(this))},r.ga=function(){this.g&&Xn(this)};function Xn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,$n(u)}r.setRequestHeader=function(u,g){this.u.append(u,g)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=g.next();return u.join(`\r
`)};function $n(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ti.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function ro(u){let g="";return At(u,function(_,A){g+=A,g+=":",g+=_,g+=`\r
`}),g}function De(u,g,_){t:{for(A in _){var A=!1;break t}A=!0}A||(_=ro(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):Qt(u,g,_))}function qt(u){se.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}F(qt,se);var ks=/^https?$/i,Xr=["POST","PUT"];r=qt.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,g,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Fn.g(),this.v=this.o?Ga(this.o):Ga(Fn),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(H){Ul(this,H);return}if(u=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var L in A)_.set(L,A[L]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const H of A.keys())_.set(H,A.get(H));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(H=>H.toLowerCase()=="content-type"),L=m.FormData&&u instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Xr,g,void 0))||A||L||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,et]of _)this.g.setRequestHeader(H,et);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{$r(this),this.u=!0,this.g.send(u),this.u=!1}catch(H){Ul(this,H)}};function Ul(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.m=5,qs(u),Zn(u)}function qs(u){u.A||(u.A=!0,Ht(u,"complete"),Ht(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ht(this,"complete"),Ht(this,"abort"),Zn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zn(this,!0)),qt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?js(this):this.bb())},r.bb=function(){js(this)};function js(u){if(u.h&&typeof h<"u"&&(!u.v[1]||Sn(u)!=4||u.Z()!=2)){if(u.u&&Sn(u)==4)He(u.Ea,0,u);else if(Ht(u,"readystatechange"),Sn(u)==4){u.h=!1;try{const et=u.Z();t:switch(et){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break t;default:g=!1}var _;if(!(_=g)){var A;if(A=et===0){var L=String(u.D).match(Hr)[1]||null;!L&&m.self&&m.self.location&&(L=m.self.location.protocol.slice(0,-1)),A=!ks.test(L?L.toLowerCase():"")}_=A}if(_)Ht(u,"complete"),Ht(u,"success");else{u.m=6;try{var H=2<Sn(u)?u.g.statusText:""}catch{H=""}u.l=H+" ["+u.Z()+"]",qs(u)}}finally{Zn(u)}}}}function Zn(u,g){if(u.g){$r(u);const _=u.g,A=u.v[0]?()=>{}:null;u.g=null,u.v=null,g||Ht(u,"ready");try{_.onreadystatechange=A}catch{}}}function $r(u){u.I&&(m.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function Sn(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<Sn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),Ns(g)}};function Ll(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function af(u){const g={};u=(u.g&&2<=Sn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(st(u[A]))continue;var _=N(u[A]);const L=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const H=g[L]||[];g[L]=H,H.push(_)}O(g,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Zr(u,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||g}function Hs(u){this.Aa=0,this.i=[],this.j=new vn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Zr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Zr("baseRetryDelayMs",5e3,u),this.cb=Zr("retryDelaySeedMs",1e4,u),this.Wa=Zr("forwardChannelMaxRetries",2,u),this.wa=Zr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new pi(u&&u.concurrentRequestLimit),this.Da=new Yr,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Hs.prototype,r.la=8,r.G=1,r.connect=function(u,g,_,A){te(0),this.W=u,this.H=g||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=Hl(this,null,this.W),Gs(this)};function so(u){if(Pl(u),u.G==3){var g=u.U++,_=ln(u.I);if(Qt(_,"SID",u.K),Qt(_,"RID",g),Qt(_,"TYPE","terminate"),Jr(u,_),g=new $e(u,u.j,g),g.L=2,g.v=Gr(ln(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=g.v,_=!0),_||(g.g=Fl(g.j,null),g.g.ea(g.v)),g.F=Date.now(),qr(g)}jl(u)}function Fs(u){u.g&&(Wr(u),u.g.cancel(),u.g=null)}function Pl(u){Fs(u),u.u&&(m.clearTimeout(u.u),u.u=null),Qs(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&m.clearTimeout(u.s),u.s=null)}function Gs(u){if(!Us(u.h)&&!u.s){u.s=!0;var g=u.Ga;nt||D(),ht||(nt(),ht=!0),Bt.add(g,u),u.B=0}}function of(u,g){return Ls(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=g.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=de(x(u.Ga,u,g),lo(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const L=new $e(this,this.j,u);let H=this.o;if(this.S&&(H?(H=S(H),V(H,this.S)):H=this.S),this.m!==null||this.O||(L.H=H,H=null),this.P)t:{for(var g=0,_=0;_<this.i.length;_++){e:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(g+=A,4096<g){g=_;break t}if(g===4096||_===this.i.length-1){g=_+1;break t}}g=1e3}else g=1e3;g=zl(this,L,g),_=ln(this.I),Qt(_,"RID",u),Qt(_,"CVER",22),this.D&&Qt(_,"X-HTTP-Session-Id",this.D),Jr(this,_),H&&(this.O?g="headers="+encodeURIComponent(String(ro(H)))+"&"+g:this.m&&De(_,this.m,H)),Ps(this.h,L),this.Ua&&Qt(_,"TYPE","init"),this.P?(Qt(_,"$req",g),Qt(_,"SID","null"),L.T=!0,xn(L,_,null)):xn(L,_,g),this.G=2}}else this.G==3&&(u?ao(this,u):this.i.length==0||Us(this.h)||ao(this))};function ao(u,g){var _;g?_=g.l:_=u.U++;const A=ln(u.I);Qt(A,"SID",u.K),Qt(A,"RID",_),Qt(A,"AID",u.T),Jr(u,A),u.m&&u.o&&De(A,u.m,u.o),_=new $e(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),g&&(u.i=g.D.concat(u.i)),g=zl(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Ps(u.h,_),xn(_,A,g)}function Jr(u,g){u.H&&At(u.H,function(_,A){Qt(g,A,_)}),u.l&&Wa({},function(_,A){Qt(g,A,_)})}function zl(u,g,_){_=Math.min(u.i.length,_);var A=u.l?x(u.l.Na,u.l,u):null;t:{var L=u.i;let H=-1;for(;;){const et=["count="+_];H==-1?0<_?(H=L[0].g,et.push("ofs="+H)):H=0:et.push("ofs="+H);let Mt=!0;for(let Te=0;Te<_;Te++){let xt=L[Te].g;const Ie=L[Te].map;if(xt-=H,0>xt)H=Math.max(0,L[Te].g-100),Mt=!1;else try{Yn(Ie,et,"req"+xt+"_")}catch{A&&A(Ie)}}if(Mt){A=et.join("&");break t}}}return u=u.i.splice(0,_),g.D=u,A}function Bl(u){if(!u.g&&!u.u){u.Y=1;var g=u.Fa;nt||D(),ht||(nt(),ht=!0),Bt.add(g,u),u.v=0}}function oo(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=de(x(u.Fa,u),lo(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,kl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=de(x(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,te(10),Fs(this),kl(this))};function Wr(u){u.A!=null&&(m.clearTimeout(u.A),u.A=null)}function kl(u){u.g=new $e(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var g=ln(u.qa);Qt(g,"RID","rpc"),Qt(g,"SID",u.K),Qt(g,"AID",u.T),Qt(g,"CI",u.F?"0":"1"),!u.F&&u.ja&&Qt(g,"TO",u.ja),Qt(g,"TYPE","xmlhttp"),Jr(u,g),u.m&&u.o&&De(g,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=Gr(ln(g)),_.m=null,_.P=!0,gi(_,u)}r.Za=function(){this.C!=null&&(this.C=null,Fs(this),oo(this),te(19))};function Qs(u){u.C!=null&&(m.clearTimeout(u.C),u.C=null)}function ql(u,g){var _=null;if(u.g==g){Qs(u),Wr(u),u.g=null;var A=2}else if(Za(u.h,g))_=g.D,Ze(u.h,g),A=1;else return;if(u.G!=0){if(g.o)if(A==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var L=u.B;A=Hi(),Ht(A,new Ee(A,_)),Gs(u)}else Bl(u);else if(L=g.s,L==3||L==0&&0<g.X||!(A==1&&of(u,g)||A==2&&oo(u)))switch(_&&0<_.length&&(g=u.h,g.i=g.i.concat(_)),L){case 1:Ai(u,5);break;case 4:Ai(u,10);break;case 3:Ai(u,6);break;default:Ai(u,2)}}}function lo(u,g){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*g}function Ai(u,g){if(u.j.info("Error code "+g),g==2){var _=x(u.fb,u),A=u.Xa;const L=!A;A=new me(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Fr(A,"https"),Gr(A),L?Kr(A.toString(),_):Un(A.toString(),_)}else te(2);u.G=0,u.l&&u.l.sa(g),jl(u),Pl(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),te(2)):(this.j.info("Failed to ping google.com"),te(1))};function jl(u){if(u.G=0,u.ka=[],u.l){const g=Ja(u.h);(g.length!=0||u.i.length!=0)&&(B(u.ka,g),B(u.ka,u.i),u.h.i.length=0,Z(u.i),u.i.length=0),u.l.ra()}}function Hl(u,g,_){var A=_ instanceof me?ln(_):new me(_);if(A.g!="")g&&(A.g=g+"."+A.g),Yi(A,A.s);else{var L=m.location;A=L.protocol,g=g?g+"."+L.hostname:L.hostname,L=+L.port;var H=new me(null);A&&Fr(H,A),g&&(H.g=g),L&&Yi(H,L),_&&(H.l=_),A=H}return _=u.D,g=u.ya,_&&g&&Qt(A,_,g),Qt(A,"VER",u.la),Jr(u,A),A}function Fl(u,g,_){if(g&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Ca&&!u.pa?new qt(new Xi({eb:_})):new qt(u.pa),g.Ha(u.J),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Gl(){}r=Gl.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Ks(){}Ks.prototype.g=function(u,g){return new Je(u,g)};function Je(u,g){se.call(this),this.g=new Hs(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(u?u["X-WebChannel-Client-Profile"]=g.va:u={"X-WebChannel-Client-Profile":g.va}),this.g.S=u,(u=g&&g.Sb)&&!st(u)&&(this.g.m=u),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!st(g)&&(this.g.D=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new Jn(this)}F(Je,se),Je.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Je.prototype.close=function(){so(this.g)},Je.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=Mn(u),u=_);g.i.push(new Nl(g.Ya++,u)),g.G==3&&Gs(g)},Je.prototype.N=function(){this.g.l=null,delete this.j,so(this.g),delete this.g,Je.aa.N.call(this)};function Ql(u){di.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){t:{for(const _ in g){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}F(Ql,di);function Kl(){Ka.call(this),this.status=1}F(Kl,Ka);function Jn(u){this.g=u}F(Jn,Gl),Jn.prototype.ua=function(){Ht(this.g,"a")},Jn.prototype.ta=function(u){Ht(this.g,new Ql(u))},Jn.prototype.sa=function(u){Ht(this.g,new Kl)},Jn.prototype.ra=function(){Ht(this.g,"b")},Ks.prototype.createWebChannel=Ks.prototype.g,Je.prototype.send=Je.prototype.o,Je.prototype.open=Je.prototype.m,Je.prototype.close=Je.prototype.close,KE=function(){return new Ks},QE=function(){return Hi()},GE=Hn,Nd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Qi.NO_ERROR=0,Qi.TIMEOUT=8,Qi.HTTP_ERROR=6,ic=Qi,mi.COMPLETE="complete",FE=mi,Qa.EventType=hi,hi.OPEN="a",hi.CLOSE="b",hi.ERROR="c",hi.MESSAGE="d",se.prototype.listen=se.prototype.K,Wo=Qa,qt.prototype.listenOnce=qt.prototype.L,qt.prototype.getLastError=qt.prototype.Ka,qt.prototype.getLastErrorCode=qt.prototype.Ba,qt.prototype.getStatus=qt.prototype.Z,qt.prototype.getResponseJson=qt.prototype.Oa,qt.prototype.getResponseText=qt.prototype.oa,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Ha,HE=qt}).apply(typeof Yu<"u"?Yu:typeof self<"u"?self:typeof window<"u"?window:{});const z_="@firebase/firestore",B_="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ke.UNAUTHENTICATED=new Ke(null),Ke.GOOGLE_CREDENTIALS=new Ke("google-credentials-uid"),Ke.FIRST_PARTY=new Ke("first-party-uid"),Ke.MOCK_USER=new Ke("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let La="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs=new tm("@firebase/firestore");function Aa(){return bs.logLevel}function lt(r,...t){if(bs.logLevel<=Pt.DEBUG){const i=t.map(om);bs.debug(`Firestore (${La}): ${r}`,...i)}}function ki(r,...t){if(bs.logLevel<=Pt.ERROR){const i=t.map(om);bs.error(`Firestore (${La}): ${r}`,...i)}}function Ca(r,...t){if(bs.logLevel<=Pt.WARN){const i=t.map(om);bs.warn(`Firestore (${La}): ${r}`,...i)}}function om(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(r="Unexpected state"){const t=`FIRESTORE (${La}) INTERNAL ASSERTION FAILED: `+r;throw ki(t),new Error(t)}function jt(r,t){r||_t()}function St(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends Vr{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(){this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Iw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable(()=>i(Ke.UNAUTHENTICATED))}shutdown(){}}class Ow{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class Vw{constructor(t){this.t=t,this.currentUser=Ke.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){jt(this.o===void 0);let a=this.i;const l=y=>this.i!==a?(a=this.i,i(y)):Promise.resolve();let c=new Tr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Tr,t.enqueueRetryable(()=>l(this.currentUser))};const h=()=>{const y=c;t.enqueueRetryable(async()=>{await y.promise,await l(this.currentUser)})},m=y=>{lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(y=>m(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?m(y):(lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Tr)}},0),h()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(a=>this.i!==t?(lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(jt(typeof a.accessToken=="string"),new YE(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return jt(t===null||typeof t=="string"),new Ke(t)}}class Nw{constructor(t,i,a){this.l=t,this.h=i,this.P=a,this.type="FirstParty",this.user=Ke.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Mw{constructor(t,i,a){this.l=t,this.h=i,this.P=a}getToken(){return Promise.resolve(new Nw(this.l,this.h,this.P))}start(t,i){t.enqueueRetryable(()=>i(Ke.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class k_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xw{constructor(t,i){this.A=i,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,YR(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,i){jt(this.o===void 0);const a=c=>{c.error!=null&&lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const h=c.token!==this.R;return this.R=c.token,lt("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable(()=>a(c))};const l=c=>{lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>l(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?l(c):lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new k_(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(i=>i?(jt(typeof i.token=="string"),this.R=i.token,new k_(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uw(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XE(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=Uw(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function Ct(r,t){return r<t?-1:r>t?1:0}function Md(r,t){let i=0;for(;i<r.length&&i<t.length;){const a=r.codePointAt(i),l=t.codePointAt(i);if(a!==l){if(a<128&&l<128)return Ct(a,l);{const c=XE(),h=Lw(c.encode(q_(r,i)),c.encode(q_(t,i)));return h!==0?h:Ct(a,l)}}i+=a>65535?2:1}return Ct(r.length,t.length)}function q_(r,t){return r.codePointAt(t)>65535?r.substring(t,t+2):r.substring(t,t+1)}function Lw(r,t){for(let i=0;i<r.length&&i<t.length;++i)if(r[i]!==t[i])return Ct(r[i],t[i]);return Ct(r.length,t.length)}function Da(r,t,i){return r.length===t.length&&r.every((a,l)=>i(a,t[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_=-62135596800,H_=1e6;class Re{static now(){return Re.fromMillis(Date.now())}static fromDate(t){return Re.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*H_);return new Re(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ct(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ct(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<j_)throw new ct(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ct(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/H_}_compareTo(t){return this.seconds===t.seconds?Ct(this.nanoseconds,t.nanoseconds):Ct(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-j_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{static fromTimestamp(t){return new Tt(t)}static min(){return new Tt(new Re(0,0))}static max(){return new Tt(new Re(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_="__name__";class ai{constructor(t,i,a){i===void 0?i=0:i>t.length&&_t(),a===void 0?a=t.length-i:a>t.length-i&&_t(),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return ai.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof ai?t.forEach(a=>{i.push(a)}):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=ai.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Ct(t.length,i.length)}static compareSegments(t,i){const a=ai.isNumericId(t),l=ai.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?ai.extractNumericId(t).compare(ai.extractNumericId(i)):Md(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Er.fromString(t.substring(4,t.length-2))}}class Wt extends ai{construct(t,i,a){return new Wt(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new ct(J.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter(l=>l.length>0))}return new Wt(i)}static emptyPath(){return new Wt([])}}const Pw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qe extends ai{construct(t,i,a){return new qe(t,i,a)}static isValidIdentifier(t){return Pw.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qe.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===F_}static keyField(){return new qe([F_])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new ct(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let h=!1;for(;l<t.length;){const m=t[l];if(m==="\\"){if(l+1===t.length)throw new ct(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ct(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=y,l+=2}else m==="`"?(h=!h,l++):m!=="."||h?(a+=m,l++):(c(),l++)}if(c(),h)throw new ct(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new qe(i)}static emptyPath(){return new qe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(t){this.path=t}static fromPath(t){return new dt(Wt.fromString(t))}static fromName(t){return new dt(Wt.fromString(t).popFirst(5))}static empty(){return new dt(Wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Wt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return Wt.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new dt(new Wt(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cl=-1;function zw(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=Tt.fromTimestamp(a===1e9?new Re(i+1,0):new Re(i,a));return new Rr(l,dt.empty(),t)}function Bw(r){return new Rr(r.readTime,r.key,cl)}class Rr{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new Rr(Tt.min(),dt.empty(),cl)}static max(){return new Rr(Tt.max(),dt.empty(),cl)}}function kw(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=dt.comparator(r.documentKey,t.documentKey),i!==0?i:Ct(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pa(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==qw)throw r;lt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&_t(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new $((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}})}toPromise(){return new Promise((t,i)=>{this.next(t,i)})}wrapUserFunction(t){try{const i=t();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction(()=>t(i)):$.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction(()=>t(i)):$.reject(i)}static resolve(t){return new $((i,a)=>{i(t)})}static reject(t){return new $((i,a)=>{a(t)})}static waitFor(t){return new $((i,a)=>{let l=0,c=0,h=!1;t.forEach(m=>{++l,m.next(()=>{++c,h&&c===l&&i()},y=>a(y))}),h=!0,c===l&&i()})}static or(t){let i=$.resolve(!1);for(const a of t)i=i.next(l=>l?$.resolve(l):a());return i}static forEach(t,i){const a=[];return t.forEach((l,c)=>{a.push(i.call(this,l,c))}),this.waitFor(a)}static mapArray(t,i){return new $((a,l)=>{const c=t.length,h=new Array(c);let m=0;for(let y=0;y<c;y++){const p=y;i(t[p]).next(E=>{h[p]=E,++m,m===c&&a(h)},E=>l(E))}})}static doWhile(t,i){return new $((a,l)=>{const c=()=>{t()===!0?i().next(()=>{c()},l):a()};c()})}}function Hw(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function za(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.oe(a),this._e=a=>i.writeSequenceNumber(a))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}Pc.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lm=-1;function zc(r){return r==null}function gc(r){return r===0&&1/r==-1/0}function Fw(r){return typeof r=="number"&&Number.isInteger(r)&&!gc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE="";function Gw(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=G_(t)),t=Qw(r.get(i),t);return G_(t)}function Qw(r,t){let i=t;const a=r.length;for(let l=0;l<a;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case ZE:i+="";break;default:i+=c}}return i}function G_(r){return r+ZE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q_(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function ws(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function JE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(t,i){this.comparator=t,this.root=i||ke.EMPTY}insert(t,i){return new ie(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,ke.BLACK,null,null))}remove(t){return new ie(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ke.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((i,a)=>(t(i,a),!1))}toString(){const t=[];return this.inorderTraversal((i,a)=>(t.push(`${i}:${a}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Xu(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Xu(this.root,t,this.comparator,!1)}getReverseIterator(){return new Xu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Xu(this.root,t,this.comparator,!0)}}class Xu{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ke{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??ke.RED,this.left=l??ke.EMPTY,this.right=c??ke.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new ke(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return ke.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return ke.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ke.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ke.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw _t();const t=this.left.check();if(t!==this.right.check())throw _t();return t+(this.isRed()?0:1)}}ke.EMPTY=null,ke.RED=!0,ke.BLACK=!1;ke.EMPTY=new class{constructor(){this.size=0}get key(){throw _t()}get value(){throw _t()}get color(){throw _t()}get left(){throw _t()}get right(){throw _t()}copy(t,i,a,l,c){return this}insert(t,i,a){return new ke(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(t){this.comparator=t,this.data=new ie(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((i,a)=>(t(i),!1))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new K_(this.data.getIterator())}getIteratorFrom(t){return new K_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach(a=>{i=i.add(a)}),i}isEqual(t){if(!(t instanceof we)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(i=>{t.push(i)}),t}toString(){const t=[];return this.forEach(i=>t.push(i)),"SortedSet("+t.toString()+")"}copy(t){const i=new we(this.comparator);return i.data=t,i}}class K_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(t){this.fields=t,t.sort(qe.comparator)}static empty(){return new Bn([])}unionWith(t){let i=new we(qe.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new Bn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Da(this.fields,t.fields,(i,a)=>i.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(t){this.binaryString=t}static fromBase64String(t){const i=function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new WE("Invalid base64 string: "+c):c}}(t);return new je(i)}static fromUint8Array(t){const i=function(l){let c="";for(let h=0;h<l.length;++h)c+=String.fromCharCode(l[h]);return c}(t);return new je(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ct(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}je.EMPTY_BYTE_STRING=new je("");const Kw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wr(r){if(jt(!!r),typeof r=="string"){let t=0;const i=Kw.exec(r);if(jt(!!i),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:fe(r.seconds),nanos:fe(r.nanos)}}function fe(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Cr(r){return typeof r=="string"?je.fromBase64String(r):je.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0="server_timestamp",e0="__type__",n0="__previous_value__",i0="__local_write_time__";function um(r){var t,i;return((i=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[e0])===null||i===void 0?void 0:i.stringValue)===t0}function Bc(r){const t=r.mapValue.fields[n0];return um(t)?Bc(t):t}function fl(r){const t=wr(r.mapValue.fields[i0].timestampValue);return new Re(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(t,i,a,l,c,h,m,y,p){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=y,this.useFetchStreams=p}}const pc="(default)";class hl{constructor(t,i){this.projectId=t,this.database=i||pc}static empty(){return new hl("","")}get isDefaultDatabase(){return this.database===pc}isEqual(t){return t instanceof hl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0="__type__",Xw="__max__",$u={mapValue:{}},s0="__vector__",yc="value";function Dr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?um(r)?4:Zw(r)?9007199254740991:$w(r)?10:11:_t()}function ci(r,t){if(r===t)return!0;const i=Dr(r);if(i!==Dr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return fl(r).isEqual(fl(t));case 3:return function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const h=wr(l.timestampValue),m=wr(c.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(l,c){return Cr(l.bytesValue).isEqual(Cr(c.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(l,c){return fe(l.geoPointValue.latitude)===fe(c.geoPointValue.latitude)&&fe(l.geoPointValue.longitude)===fe(c.geoPointValue.longitude)}(r,t);case 2:return function(l,c){if("integerValue"in l&&"integerValue"in c)return fe(l.integerValue)===fe(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const h=fe(l.doubleValue),m=fe(c.doubleValue);return h===m?gc(h)===gc(m):isNaN(h)&&isNaN(m)}return!1}(r,t);case 9:return Da(r.arrayValue.values||[],t.arrayValue.values||[],ci);case 10:case 11:return function(l,c){const h=l.mapValue.fields||{},m=c.mapValue.fields||{};if(Q_(h)!==Q_(m))return!1;for(const y in h)if(h.hasOwnProperty(y)&&(m[y]===void 0||!ci(h[y],m[y])))return!1;return!0}(r,t);default:return _t()}}function dl(r,t){return(r.values||[]).find(i=>ci(i,t))!==void 0}function Ia(r,t){if(r===t)return 0;const i=Dr(r),a=Dr(t);if(i!==a)return Ct(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ct(r.booleanValue,t.booleanValue);case 2:return function(c,h){const m=fe(c.integerValue||c.doubleValue),y=fe(h.integerValue||h.doubleValue);return m<y?-1:m>y?1:m===y?0:isNaN(m)?isNaN(y)?0:-1:1}(r,t);case 3:return Y_(r.timestampValue,t.timestampValue);case 4:return Y_(fl(r),fl(t));case 5:return Md(r.stringValue,t.stringValue);case 6:return function(c,h){const m=Cr(c),y=Cr(h);return m.compareTo(y)}(r.bytesValue,t.bytesValue);case 7:return function(c,h){const m=c.split("/"),y=h.split("/");for(let p=0;p<m.length&&p<y.length;p++){const E=Ct(m[p],y[p]);if(E!==0)return E}return Ct(m.length,y.length)}(r.referenceValue,t.referenceValue);case 8:return function(c,h){const m=Ct(fe(c.latitude),fe(h.latitude));return m!==0?m:Ct(fe(c.longitude),fe(h.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return X_(r.arrayValue,t.arrayValue);case 10:return function(c,h){var m,y,p,E;const b=c.fields||{},x=h.fields||{},j=(m=b[yc])===null||m===void 0?void 0:m.arrayValue,F=(y=x[yc])===null||y===void 0?void 0:y.arrayValue,Z=Ct(((p=j==null?void 0:j.values)===null||p===void 0?void 0:p.length)||0,((E=F==null?void 0:F.values)===null||E===void 0?void 0:E.length)||0);return Z!==0?Z:X_(j,F)}(r.mapValue,t.mapValue);case 11:return function(c,h){if(c===$u.mapValue&&h===$u.mapValue)return 0;if(c===$u.mapValue)return 1;if(h===$u.mapValue)return-1;const m=c.fields||{},y=Object.keys(m),p=h.fields||{},E=Object.keys(p);y.sort(),E.sort();for(let b=0;b<y.length&&b<E.length;++b){const x=Md(y[b],E[b]);if(x!==0)return x;const j=Ia(m[y[b]],p[E[b]]);if(j!==0)return j}return Ct(y.length,E.length)}(r.mapValue,t.mapValue);default:throw _t()}}function Y_(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Ct(r,t);const i=wr(r),a=wr(t),l=Ct(i.seconds,a.seconds);return l!==0?l:Ct(i.nanos,a.nanos)}function X_(r,t){const i=r.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=Ia(i[l],a[l]);if(c)return c}return Ct(i.length,a.length)}function Oa(r){return xd(r)}function xd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(i){const a=wr(i);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(i){return Cr(i).toBase64()}(r.bytesValue):"referenceValue"in r?function(i){return dt.fromName(i).toString()}(r.referenceValue):"geoPointValue"in r?function(i){return`geo(${i.latitude},${i.longitude})`}(r.geoPointValue):"arrayValue"in r?function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=xd(c);return a+"]"}(r.arrayValue):"mapValue"in r?function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const h of a)c?c=!1:l+=",",l+=`${h}:${xd(i.fields[h])}`;return l+"}"}(r.mapValue):_t()}function rc(r){switch(Dr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Bc(r);return t?16+rc(t):16;case 5:return 2*r.stringValue.length;case 6:return Cr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((l,c)=>l+rc(c),0)}(r.arrayValue);case 10:case 11:return function(a){let l=0;return ws(a.fields,(c,h)=>{l+=c.length+rc(h)}),l}(r.mapValue);default:throw _t()}}function $_(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function Ud(r){return!!r&&"integerValue"in r}function cm(r){return!!r&&"arrayValue"in r}function Z_(r){return!!r&&"nullValue"in r}function J_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function sc(r){return!!r&&"mapValue"in r}function $w(r){var t,i;return((i=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[r0])===null||i===void 0?void 0:i.stringValue)===s0}function il(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return ws(r.mapValue.fields,(i,a)=>t.mapValue.fields[i]=il(a)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=il(r.arrayValue.values[i]);return t}return Object.assign({},r)}function Zw(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Xw}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(t){this.value=t}static empty(){return new Vn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!sc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=il(i)}setAll(t){let i=qe.emptyPath(),a={},l=[];t.forEach((h,m)=>{if(!i.isImmediateParentOf(m)){const y=this.getFieldsMap(i);this.applyChanges(y,a,l),a={},l=[],i=m.popLast()}h?a[m.lastSegment()]=il(h):l.push(m.lastSegment())});const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());sc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return ci(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];sc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){ws(i,(l,c)=>t[l]=c);for(const l of a)delete t[l]}clone(){return new Vn(il(this.value))}}function a0(r){const t=[];return ws(r.fields,(i,a)=>{const l=new qe([i]);if(sc(a)){const c=a0(a.mapValue).fields;if(c.length===0)t.push(l);else for(const h of c)t.push(l.child(h))}else t.push(l)}),new Bn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(t,i,a,l,c,h,m){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=h,this.documentState=m}static newInvalidDocument(t){return new Ye(t,0,Tt.min(),Tt.min(),Tt.min(),Vn.empty(),0)}static newFoundDocument(t,i,a,l){return new Ye(t,1,i,Tt.min(),a,l,0)}static newNoDocument(t,i){return new Ye(t,2,i,Tt.min(),Tt.min(),Vn.empty(),0)}static newUnknownDocument(t,i){return new Ye(t,3,i,Tt.min(),Tt.min(),Vn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Vn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ye&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ye(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(t,i){this.position=t,this.inclusive=i}}function W_(r,t,i){let a=0;for(let l=0;l<r.position.length;l++){const c=t[l],h=r.position[l];if(c.field.isKeyField()?a=dt.comparator(dt.fromName(h.referenceValue),i.key):a=Ia(h,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function tv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!ci(r.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(t,i="asc"){this.field=t,this.dir=i}}function Jw(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{}class ve extends o0{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new t2(t,i,a):i==="array-contains"?new i2(t,a):i==="in"?new r2(t,a):i==="not-in"?new s2(t,a):i==="array-contains-any"?new a2(t,a):new ve(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new e2(t,a):new n2(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(Ia(i,this.value)):i!==null&&Dr(this.value)===Dr(i)&&this.matchesComparison(Ia(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return _t()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class kn extends o0{constructor(t,i){super(),this.filters=t,this.op=i,this.ce=null}static create(t,i){return new kn(t,i)}matches(t){return l0(this)?this.filters.find(i=>!i.matches(t))===void 0:this.filters.find(i=>i.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,i)=>t.concat(i.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function l0(r){return r.op==="and"}function u0(r){return Ww(r)&&l0(r)}function Ww(r){for(const t of r.filters)if(t instanceof kn)return!1;return!0}function Ld(r){if(r instanceof ve)return r.field.canonicalString()+r.op.toString()+Oa(r.value);if(u0(r))return r.filters.map(t=>Ld(t)).join(",");{const t=r.filters.map(i=>Ld(i)).join(",");return`${r.op}(${t})`}}function c0(r,t){return r instanceof ve?function(a,l){return l instanceof ve&&a.op===l.op&&a.field.isEqual(l.field)&&ci(a.value,l.value)}(r,t):r instanceof kn?function(a,l){return l instanceof kn&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce((c,h,m)=>c&&c0(h,l.filters[m]),!0):!1}(r,t):void _t()}function f0(r){return r instanceof ve?function(i){return`${i.field.canonicalString()} ${i.op} ${Oa(i.value)}`}(r):r instanceof kn?function(i){return i.op.toString()+" {"+i.getFilters().map(f0).join(" ,")+"}"}(r):"Filter"}class t2 extends ve{constructor(t,i,a){super(t,i,a),this.key=dt.fromName(a.referenceValue)}matches(t){const i=dt.comparator(t.key,this.key);return this.matchesComparison(i)}}class e2 extends ve{constructor(t,i){super(t,"in",i),this.keys=h0("in",i)}matches(t){return this.keys.some(i=>i.isEqual(t.key))}}class n2 extends ve{constructor(t,i){super(t,"not-in",i),this.keys=h0("not-in",i)}matches(t){return!this.keys.some(i=>i.isEqual(t.key))}}function h0(r,t){var i;return(((i=t.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(a=>dt.fromName(a.referenceValue))}class i2 extends ve{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return cm(i)&&dl(i.arrayValue,this.value)}}class r2 extends ve{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&dl(this.value.arrayValue,i)}}class s2 extends ve{constructor(t,i){super(t,"not-in",i)}matches(t){if(dl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&!dl(this.value.arrayValue,i)}}class a2 extends ve{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!cm(i)||!i.arrayValue.values)&&i.arrayValue.values.some(a=>dl(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(t,i=null,a=[],l=[],c=null,h=null,m=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=h,this.endAt=m,this.le=null}}function ev(r,t=null,i=[],a=[],l=null,c=null,h=null){return new o2(r,t,i,a,l,c,h)}function fm(r){const t=St(r);if(t.le===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map(a=>Ld(a)).join(","),i+="|ob:",i+=t.orderBy.map(a=>function(c){return c.field.canonicalString()+c.dir}(a)).join(","),zc(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(a=>Oa(a)).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(a=>Oa(a)).join(",")),t.le=i}return t.le}function hm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!Jw(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!c0(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!tv(r.startAt,t.startAt)&&tv(r.endAt,t.endAt)}function Pd(r){return dt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(t,i=null,a=[],l=[],c=null,h="F",m=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=h,this.startAt=m,this.endAt=y,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function l2(r,t,i,a,l,c,h,m){return new vl(r,t,i,a,l,c,h,m)}function d0(r){return new vl(r)}function nv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function m0(r){return r.collectionGroup!==null}function rl(r){const t=St(r);if(t.he===null){t.he=[];const i=new Set;for(const c of t.explicitOrderBy)t.he.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new we(qe.comparator);return h.filters.forEach(y=>{y.getFlattenedFilters().forEach(p=>{p.isInequality()&&(m=m.add(p.field))})}),m})(t).forEach(c=>{i.has(c.canonicalString())||c.isKeyField()||t.he.push(new vc(c,a))}),i.has(qe.keyField().canonicalString())||t.he.push(new vc(qe.keyField(),a))}return t.he}function li(r){const t=St(r);return t.Pe||(t.Pe=u2(t,rl(r))),t.Pe}function u2(r,t){if(r.limitType==="F")return ev(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(l=>{const c=l.dir==="desc"?"asc":"desc";return new vc(l.field,c)});const i=r.endAt?new _c(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new _c(r.startAt.position,r.startAt.inclusive):null;return ev(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function zd(r,t){const i=r.filters.concat([t]);return new vl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function Bd(r,t,i){return new vl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function kc(r,t){return hm(li(r),li(t))&&r.limitType===t.limitType}function g0(r){return`${fm(li(r))}|lt:${r.limitType}`}function Sa(r){return`Query(target=${function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map(l=>f0(l)).join(", ")}]`),zc(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map(l=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(l)).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map(l=>Oa(l)).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map(l=>Oa(l)).join(",")),`Target(${a})`}(li(r))}; limitType=${r.limitType})`}function qc(r,t){return t.isFoundDocument()&&function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):dt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)}(r,t)&&function(a,l){for(const c of rl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0}(r,t)&&function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0}(r,t)&&function(a,l){return!(a.startAt&&!function(h,m,y){const p=W_(h,m,y);return h.inclusive?p<=0:p<0}(a.startAt,rl(a),l)||a.endAt&&!function(h,m,y){const p=W_(h,m,y);return h.inclusive?p>=0:p>0}(a.endAt,rl(a),l))}(r,t)}function c2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function p0(r){return(t,i)=>{let a=!1;for(const l of rl(r)){const c=f2(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function f2(r,t,i){const a=r.field.isKeyField()?dt.comparator(t.key,i.key):function(c,h,m){const y=h.data.field(c),p=m.data.field(c);return y!==null&&p!==null?Ia(y,p):_t()}(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return _t()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){ws(this.inner,(i,a)=>{for(const[l,c]of a)t(l,c)})}isEmpty(){return JE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2=new ie(dt.comparator);function qi(){return h2}const y0=new ie(dt.comparator);function tl(...r){let t=y0;for(const i of r)t=t.insert(i.key,i);return t}function _0(r){let t=y0;return r.forEach((i,a)=>t=t.insert(i,a.overlayedDocument)),t}function vs(){return sl()}function v0(){return sl()}function sl(){return new Cs(r=>r.toString(),(r,t)=>r.isEqual(t))}const d2=new ie(dt.comparator),m2=new we(dt.comparator);function Nt(...r){let t=m2;for(const i of r)t=t.add(i);return t}const g2=new we(Ct);function p2(){return g2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gc(t)?"-0":t}}function E0(r){return{integerValue:""+r}}function y2(r,t){return Fw(t)?E0(t):dm(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(){this._=void 0}}function _2(r,t,i){return r instanceof Ec?function(l,c){const h={fields:{[e0]:{stringValue:t0},[i0]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&um(c)&&(c=Bc(c)),c&&(h.fields[n0]=c),{mapValue:h}}(i,t):r instanceof ml?A0(r,t):r instanceof gl?S0(r,t):function(l,c){const h=T0(l,c),m=iv(h)+iv(l.Ie);return Ud(h)&&Ud(l.Ie)?E0(m):dm(l.serializer,m)}(r,t)}function v2(r,t,i){return r instanceof ml?A0(r,t):r instanceof gl?S0(r,t):i}function T0(r,t){return r instanceof Tc?function(a){return Ud(a)||function(c){return!!c&&"doubleValue"in c}(a)}(t)?t:{integerValue:0}:null}class Ec extends jc{}class ml extends jc{constructor(t){super(),this.elements=t}}function A0(r,t){const i=b0(t);for(const a of r.elements)i.some(l=>ci(l,a))||i.push(a);return{arrayValue:{values:i}}}class gl extends jc{constructor(t){super(),this.elements=t}}function S0(r,t){let i=b0(t);for(const a of r.elements)i=i.filter(l=>!ci(l,a));return{arrayValue:{values:i}}}class Tc extends jc{constructor(t,i){super(),this.serializer=t,this.Ie=i}}function iv(r){return fe(r.integerValue||r.doubleValue)}function b0(r){return cm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function E2(r,t){return r.field.isEqual(t.field)&&function(a,l){return a instanceof ml&&l instanceof ml||a instanceof gl&&l instanceof gl?Da(a.elements,l.elements,ci):a instanceof Tc&&l instanceof Tc?ci(a.Ie,l.Ie):a instanceof Ec&&l instanceof Ec}(r.transform,t.transform)}class T2{constructor(t,i){this.version=t,this.transformResults=i}}class Pi{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Pi}static exists(t){return new Pi(void 0,t)}static updateTime(t){return new Pi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function ac(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Hc{}function R0(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new C0(r.key,Pi.none()):new El(r.key,r.data,Pi.none());{const i=r.data,a=Vn.empty();let l=new we(qe.comparator);for(let c of t.fields)if(!l.has(c)){let h=i.field(c);h===null&&c.length>1&&(c=c.popLast(),h=i.field(c)),h===null?a.delete(c):a.set(c,h),l=l.add(c)}return new Ds(r.key,a,new Bn(l.toArray()),Pi.none())}}function A2(r,t,i){r instanceof El?function(l,c,h){const m=l.value.clone(),y=sv(l.fieldTransforms,c,h.transformResults);m.setAll(y),c.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(r,t,i):r instanceof Ds?function(l,c,h){if(!ac(l.precondition,c))return void c.convertToUnknownDocument(h.version);const m=sv(l.fieldTransforms,c,h.transformResults),y=c.data;y.setAll(w0(l)),y.setAll(m),c.convertToFoundDocument(h.version,y).setHasCommittedMutations()}(r,t,i):function(l,c,h){c.convertToNoDocument(h.version).setHasCommittedMutations()}(0,t,i)}function al(r,t,i,a){return r instanceof El?function(c,h,m,y){if(!ac(c.precondition,h))return m;const p=c.value.clone(),E=av(c.fieldTransforms,y,h);return p.setAll(E),h.convertToFoundDocument(h.version,p).setHasLocalMutations(),null}(r,t,i,a):r instanceof Ds?function(c,h,m,y){if(!ac(c.precondition,h))return m;const p=av(c.fieldTransforms,y,h),E=h.data;return E.setAll(w0(c)),E.setAll(p),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(b=>b.field))}(r,t,i,a):function(c,h,m){return ac(c.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(r,t,i)}function S2(r,t){let i=null;for(const a of r.fieldTransforms){const l=t.data.field(a.field),c=T0(a.transform,l||null);c!=null&&(i===null&&(i=Vn.empty()),i.set(a.field,c))}return i||null}function rv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Da(a,l,(c,h)=>E2(c,h))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class El extends Hc{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Ds extends Hc{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function w0(r){const t=new Map;return r.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}}),t}function sv(r,t,i){const a=new Map;jt(r.length===i.length);for(let l=0;l<i.length;l++){const c=r[l],h=c.transform,m=t.data.field(c.field);a.set(c.field,v2(h,m,i[l]))}return a}function av(r,t,i){const a=new Map;for(const l of r){const c=l.transform,h=i.data.field(l.field);a.set(l.field,_2(c,h,t))}return a}class C0 extends Hc{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class b2 extends Hc{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&A2(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=al(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=al(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=v0();return this.mutations.forEach(l=>{const c=t.get(l.key),h=c.overlayedDocument;let m=this.applyToLocalView(h,c.mutatedFields);m=i.has(l.key)?null:m;const y=R0(h,m);y!==null&&a.set(l.key,y),h.isValidDocument()||h.convertToNoDocument(Tt.min())}),a}keys(){return this.mutations.reduce((t,i)=>t.add(i.key),Nt())}isEqual(t){return this.batchId===t.batchId&&Da(this.mutations,t.mutations,(i,a)=>rv(i,a))&&Da(this.baseMutations,t.baseMutations,(i,a)=>rv(i,a))}}class mm{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){jt(t.mutations.length===a.length);let l=function(){return d2}();const c=t.mutations;for(let h=0;h<c.length;h++)l=l.insert(c[h].key,a[h].version);return new mm(t,i,a,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e,Lt;function D2(r){switch(r){case J.OK:return _t();case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return _t()}}function D0(r){if(r===void 0)return ki("GRPC error has no .code"),J.UNKNOWN;switch(r){case _e.OK:return J.OK;case _e.CANCELLED:return J.CANCELLED;case _e.UNKNOWN:return J.UNKNOWN;case _e.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case _e.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case _e.INTERNAL:return J.INTERNAL;case _e.UNAVAILABLE:return J.UNAVAILABLE;case _e.UNAUTHENTICATED:return J.UNAUTHENTICATED;case _e.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case _e.NOT_FOUND:return J.NOT_FOUND;case _e.ALREADY_EXISTS:return J.ALREADY_EXISTS;case _e.PERMISSION_DENIED:return J.PERMISSION_DENIED;case _e.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case _e.ABORTED:return J.ABORTED;case _e.OUT_OF_RANGE:return J.OUT_OF_RANGE;case _e.UNIMPLEMENTED:return J.UNIMPLEMENTED;case _e.DATA_LOSS:return J.DATA_LOSS;default:return _t()}}(Lt=_e||(_e={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2=new Er([4294967295,4294967295],0);function ov(r){const t=XE().encode(r),i=new jE;return i.update(t),new Uint8Array(i.digest())}function lv(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Er([i,a],0),new Er([l,c],0)]}class gm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new el(`Invalid padding: ${i}`);if(a<0)throw new el(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new el(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new el(`Invalid padding when bitmap length is 0: ${i}`);this.Ee=8*t.length-i,this.de=Er.fromNumber(this.Ee)}Ae(t,i,a){let l=t.add(i.multiply(Er.fromNumber(a)));return l.compare(I2)===1&&(l=new Er([l.getBits(0),l.getBits(1)],0)),l.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const i=ov(t),[a,l]=lv(i);for(let c=0;c<this.hashCount;c++){const h=this.Ae(a,l,c);if(!this.Re(h))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),h=new gm(c,l,i);return a.forEach(m=>h.insert(m)),h}insert(t){if(this.Ee===0)return;const i=ov(t),[a,l]=lv(i);for(let c=0;c<this.hashCount;c++){const h=this.Ae(a,l,c);this.Ve(h)}}Ve(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class el extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Tl.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new Fc(Tt.min(),l,new ie(Ct),qi(),Nt())}}class Tl{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Tl(a,i,Nt(),Nt(),Nt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(t,i,a,l){this.me=t,this.removedTargetIds=i,this.key=a,this.fe=l}}class I0{constructor(t,i){this.targetId=t,this.ge=i}}class O0{constructor(t,i,a=je.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class uv{constructor(){this.pe=0,this.ye=cv(),this.we=je.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(t){t.approximateByteSize()>0&&(this.be=!0,this.we=t)}Fe(){let t=Nt(),i=Nt(),a=Nt();return this.ye.forEach((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:_t()}}),new Tl(this.we,this.Se,t,i,a)}Me(){this.be=!1,this.ye=cv()}xe(t,i){this.be=!0,this.ye=this.ye.insert(t,i)}Oe(t){this.be=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,jt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class O2{constructor(t){this.ke=t,this.qe=new Map,this.Qe=qi(),this.$e=Zu(),this.Ue=Zu(),this.Ke=new ie(Ct)}We(t){for(const i of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(i,t.fe):this.ze(i,t.key,t.fe);for(const i of t.removedTargetIds)this.ze(i,t.key,t.fe)}je(t){this.forEachTarget(t,i=>{const a=this.He(i);switch(t.state){case 0:this.Je(i)&&a.Ce(t.resumeToken);break;case 1:a.Be(),a.De||a.Me(),a.Ce(t.resumeToken);break;case 2:a.Be(),a.De||this.removeTarget(i);break;case 3:this.Je(i)&&(a.Le(),a.Ce(t.resumeToken));break;case 4:this.Je(i)&&(this.Ye(i),a.Ce(t.resumeToken));break;default:_t()}})}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.qe.forEach((a,l)=>{this.Je(l)&&i(l)})}Ze(t){const i=t.targetId,a=t.ge.count,l=this.Xe(i);if(l){const c=l.target;if(Pd(c))if(a===0){const h=new dt(c.path);this.ze(i,h,Ye.newNoDocument(h,Tt.min()))}else jt(a===1);else{const h=this.et(i);if(h!==a){const m=this.tt(t),y=m?this.nt(m,t,h):1;if(y!==0){this.Ye(i);const p=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(i,p)}}}}}tt(t){const i=t.ge.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let h,m;try{h=Cr(a).toUint8Array()}catch(y){if(y instanceof WE)return Ca("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{m=new gm(h,l,c)}catch(y){return Ca(y instanceof el?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return m.Ee===0?null:m}nt(t,i,a){return i.ge.count===a-this.st(t,i.targetId)?0:2}st(t,i){const a=this.ke.getRemoteKeysForTarget(i);let l=0;return a.forEach(c=>{const h=this.ke.it(),m=`projects/${h.projectId}/databases/${h.database}/documents/${c.path.canonicalString()}`;t.mightContain(m)||(this.ze(i,c,null),l++)}),l}ot(t){const i=new Map;this.qe.forEach((c,h)=>{const m=this.Xe(h);if(m){if(c.current&&Pd(m.target)){const y=new dt(m.target.path);this._t(y).has(h)||this.ut(h,y)||this.ze(h,y,Ye.newNoDocument(y,t))}c.ve&&(i.set(h,c.Fe()),c.Me())}});let a=Nt();this.Ue.forEach((c,h)=>{let m=!0;h.forEachWhile(y=>{const p=this.Xe(y);return!p||p.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(a=a.add(c))}),this.Qe.forEach((c,h)=>h.setReadTime(t));const l=new Fc(t,i,this.Ke,this.Qe,a);return this.Qe=qi(),this.$e=Zu(),this.Ue=Zu(),this.Ke=new ie(Ct),l}Ge(t,i){if(!this.Je(t))return;const a=this.ut(t,i.key)?2:0;this.He(t).xe(i.key,a),this.Qe=this.Qe.insert(i.key,i),this.$e=this.$e.insert(i.key,this._t(i.key).add(t)),this.Ue=this.Ue.insert(i.key,this.ct(i.key).add(t))}ze(t,i,a){if(!this.Je(t))return;const l=this.He(t);this.ut(t,i)?l.xe(i,1):l.Oe(i),this.Ue=this.Ue.insert(i,this.ct(i).delete(t)),this.Ue=this.Ue.insert(i,this.ct(i).add(t)),a&&(this.Qe=this.Qe.insert(i,a))}removeTarget(t){this.qe.delete(t)}et(t){const i=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let i=this.qe.get(t);return i||(i=new uv,this.qe.set(t,i)),i}ct(t){let i=this.Ue.get(t);return i||(i=new we(Ct),this.Ue=this.Ue.insert(t,i)),i}_t(t){let i=this.$e.get(t);return i||(i=new we(Ct),this.$e=this.$e.insert(t,i)),i}Je(t){const i=this.Xe(t)!==null;return i||lt("WatchChangeAggregator","Detected inactive target",t),i}Xe(t){const i=this.qe.get(t);return i&&i.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new uv),this.ke.getRemoteKeysForTarget(t).forEach(i=>{this.ze(t,i,null)})}ut(t,i){return this.ke.getRemoteKeysForTarget(t).has(i)}}function Zu(){return new ie(dt.comparator)}function cv(){return new ie(dt.comparator)}const V2={asc:"ASCENDING",desc:"DESCENDING"},N2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},M2={and:"AND",or:"OR"};class x2{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function kd(r,t){return r.useProto3Json||zc(t)?t:{value:t}}function Ac(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function V0(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function U2(r,t){return Ac(r,t.toTimestamp())}function ui(r){return jt(!!r),Tt.fromTimestamp(function(i){const a=wr(i);return new Re(a.seconds,a.nanos)}(r))}function pm(r,t){return qd(r,t).canonicalString()}function qd(r,t){const i=function(l){return new Wt(["projects",l.projectId,"databases",l.database])}(r).child("documents");return t===void 0?i:i.child(t)}function N0(r){const t=Wt.fromString(r);return jt(P0(t)),t}function jd(r,t){return pm(r.databaseId,t.path)}function md(r,t){const i=N0(t);if(i.get(1)!==r.databaseId.projectId)throw new ct(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ct(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new dt(x0(i))}function M0(r,t){return pm(r.databaseId,t)}function L2(r){const t=N0(r);return t.length===4?Wt.emptyPath():x0(t)}function Hd(r){return new Wt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function x0(r){return jt(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function fv(r,t,i){return{name:jd(r,t),fields:i.value.mapValue.fields}}function P2(r,t){let i;if("targetChange"in t){t.targetChange;const a=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:_t()}(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=function(p,E){return p.useProto3Json?(jt(E===void 0||typeof E=="string"),je.fromBase64String(E||"")):(jt(E===void 0||E instanceof Buffer||E instanceof Uint8Array),je.fromUint8Array(E||new Uint8Array))}(r,t.targetChange.resumeToken),h=t.targetChange.cause,m=h&&function(p){const E=p.code===void 0?J.UNKNOWN:D0(p.code);return new ct(E,p.message||"")}(h);i=new O0(a,l,c,m||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=md(r,a.document.name),c=ui(a.document.updateTime),h=a.document.createTime?ui(a.document.createTime):Tt.min(),m=new Vn({mapValue:{fields:a.document.fields}}),y=Ye.newFoundDocument(l,c,h,m),p=a.targetIds||[],E=a.removedTargetIds||[];i=new oc(p,E,y.key,y)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=md(r,a.document),c=a.readTime?ui(a.readTime):Tt.min(),h=Ye.newNoDocument(l,c),m=a.removedTargetIds||[];i=new oc([],m,h.key,h)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=md(r,a.document),c=a.removedTargetIds||[];i=new oc([],c,l,null)}else{if(!("filter"in t))return _t();{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,h=new C2(l,c),m=a.targetId;i=new I0(m,h)}}return i}function z2(r,t){let i;if(t instanceof El)i={update:fv(r,t.key,t.value)};else if(t instanceof C0)i={delete:jd(r,t.key)};else if(t instanceof Ds)i={update:fv(r,t.key,t.data),updateMask:K2(t.fieldMask)};else{if(!(t instanceof b2))return _t();i={verify:jd(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map(a=>function(c,h){const m=h.transform;if(m instanceof Ec)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof ml)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof gl)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Tc)return{fieldPath:h.field.canonicalString(),increment:m.Ie};throw _t()}(0,a))),t.precondition.isNone||(i.currentDocument=function(l,c){return c.updateTime!==void 0?{updateTime:U2(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:_t()}(r,t.precondition)),i}function B2(r,t){return r&&r.length>0?(jt(t!==void 0),r.map(i=>function(l,c){let h=l.updateTime?ui(l.updateTime):ui(c);return h.isEqual(Tt.min())&&(h=ui(c)),new T2(h,l.transformResults||[])}(i,t))):[]}function k2(r,t){return{documents:[M0(r,t.path)]}}function q2(r,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=M0(r,l);const c=function(p){if(p.length!==0)return L0(kn.create(p,"and"))}(t.filters);c&&(i.structuredQuery.where=c);const h=function(p){if(p.length!==0)return p.map(E=>function(x){return{field:ba(x.field),direction:F2(x.dir)}}(E))}(t.orderBy);h&&(i.structuredQuery.orderBy=h);const m=kd(r,t.limit);return m!==null&&(i.structuredQuery.limit=m),t.startAt&&(i.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(t.startAt)),t.endAt&&(i.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(t.endAt)),{ht:i,parent:l}}function j2(r){let t=L2(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){jt(a===1);const E=i.from[0];E.allDescendants?l=E.collectionId:t=t.child(E.collectionId)}let c=[];i.where&&(c=function(b){const x=U0(b);return x instanceof kn&&u0(x)?x.getFilters():[x]}(i.where));let h=[];i.orderBy&&(h=function(b){return b.map(x=>function(F){return new vc(Ra(F.field),function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(F.direction))}(x))}(i.orderBy));let m=null;i.limit&&(m=function(b){let x;return x=typeof b=="object"?b.value:b,zc(x)?null:x}(i.limit));let y=null;i.startAt&&(y=function(b){const x=!!b.before,j=b.values||[];return new _c(j,x)}(i.startAt));let p=null;return i.endAt&&(p=function(b){const x=!b.before,j=b.values||[];return new _c(j,x)}(i.endAt)),l2(t,l,h,c,m,"F",y,p)}function H2(r,t){const i=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t()}}(t.purpose);return i==null?null:{"goog-listen-tags":i}}function U0(r){return r.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Ra(i.unaryFilter.field);return ve.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Ra(i.unaryFilter.field);return ve.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ra(i.unaryFilter.field);return ve.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Ra(i.unaryFilter.field);return ve.create(h,"!=",{nullValue:"NULL_VALUE"});default:return _t()}}(r):r.fieldFilter!==void 0?function(i){return ve.create(Ra(i.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _t()}}(i.fieldFilter.op),i.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(i){return kn.create(i.compositeFilter.filters.map(a=>U0(a)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return _t()}}(i.compositeFilter.op))}(r):_t()}function F2(r){return V2[r]}function G2(r){return N2[r]}function Q2(r){return M2[r]}function ba(r){return{fieldPath:r.canonicalString()}}function Ra(r){return qe.fromServerFormat(r.fieldPath)}function L0(r){return r instanceof ve?function(i){if(i.op==="=="){if(J_(i.value))return{unaryFilter:{field:ba(i.field),op:"IS_NAN"}};if(Z_(i.value))return{unaryFilter:{field:ba(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(J_(i.value))return{unaryFilter:{field:ba(i.field),op:"IS_NOT_NAN"}};if(Z_(i.value))return{unaryFilter:{field:ba(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ba(i.field),op:G2(i.op),value:i.value}}}(r):r instanceof kn?function(i){const a=i.getFilters().map(l=>L0(l));return a.length===1?a[0]:{compositeFilter:{op:Q2(i.op),filters:a}}}(r):_t()}function K2(r){const t=[];return r.fields.forEach(i=>t.push(i.canonicalString())),{fieldPaths:t}}function P0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(t,i,a,l,c=Tt.min(),h=Tt.min(),m=je.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=y}withSequenceNumber(t){return new yr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new yr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(t){this.Tt=t}}function X2(r){const t=j2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Bd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(){this.Tn=new Z2}addToCollectionParentIndex(t,i){return this.Tn.add(i),$.resolve()}getCollectionParents(t,i){return $.resolve(this.Tn.getEntries(i))}addFieldIndex(t,i){return $.resolve()}deleteFieldIndex(t,i){return $.resolve()}deleteAllFieldIndexes(t){return $.resolve()}createTargetIndexes(t,i){return $.resolve()}getDocumentsMatchingTarget(t,i){return $.resolve(null)}getIndexType(t,i){return $.resolve(0)}getFieldIndexes(t,i){return $.resolve([])}getNextCollectionGroupToUpdate(t){return $.resolve(null)}getMinOffset(t,i){return $.resolve(Rr.min())}getMinOffsetFromCollectionGroup(t,i){return $.resolve(Rr.min())}updateCollectionGroup(t,i,a){return $.resolve()}updateIndexEntries(t,i){return $.resolve()}}class Z2{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new we(Wt.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new we(Wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},z0=41943040;class rn{static withCacheSize(t){return new rn(t,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rn.DEFAULT_COLLECTION_PERCENTILE=10,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rn.DEFAULT=new rn(z0,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rn.DISABLED=new rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Un(){return new Va(0)}static Kn(){return new Va(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv="LruGarbageCollector",J2=1048576;function mv([r,t],[i,a]){const l=Ct(r,i);return l===0?Ct(t,a):l}class W2{constructor(t){this.Hn=t,this.buffer=new we(mv),this.Jn=0}Yn(){return++this.Jn}Zn(t){const i=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();mv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class tC{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){lt(dv,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){za(i)?lt(dv,"Ignoring IndexedDB error during garbage collection: ",i):await Pa(i)}await this.er(3e5)})}}class eC{constructor(t,i){this.tr=t,this.params=i}calculateTargetCount(t,i){return this.tr.nr(t).next(a=>Math.floor(i/100*a))}nthSequenceNumber(t,i){if(i===0)return $.resolve(Pc.ae);const a=new W2(i);return this.tr.forEachTarget(t,l=>a.Zn(l.sequenceNumber)).next(()=>this.tr.rr(t,l=>a.Zn(l))).next(()=>a.maxValue)}removeTargets(t,i,a){return this.tr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.tr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(lt("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(hv)):this.getCacheSize(t).next(a=>a<this.params.cacheSizeCollectionThreshold?(lt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),hv):this.ir(t,i))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,i){let a,l,c,h,m,y,p;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(lt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),l=this.params.maximumSequenceNumbersToCollect):l=b,h=Date.now(),this.nthSequenceNumber(t,l))).next(b=>(a=b,m=Date.now(),this.removeTargets(t,a,i))).next(b=>(c=b,y=Date.now(),this.removeOrphanedDocuments(t,a))).next(b=>(p=Date.now(),Aa()<=Pt.DEBUG&&lt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${l} in `+(m-h)+`ms
	Removed ${c} targets in `+(y-m)+`ms
	Removed ${b} documents in `+(p-y)+`ms
Total Duration: ${p-E}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:b})))}}function nC(r,t){return new eC(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(){this.changes=new Cs(t=>t.toString(),(t,i)=>t.isEqual(i)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Ye.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?$.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next(l=>(a=l,this.remoteDocumentCache.getEntry(t,i))).next(l=>(a!==null&&al(a.mutation,l,Bn.empty(),Re.now()),l))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next(a=>this.getLocalViewOfDocuments(t,a,Nt()).next(()=>a))}getLocalViewOfDocuments(t,i,a=Nt()){const l=vs();return this.populateOverlays(t,l,i).next(()=>this.computeViews(t,i,l,a).next(c=>{let h=tl();return c.forEach((m,y)=>{h=h.insert(m,y.overlayedDocument)}),h}))}getOverlayedDocuments(t,i){const a=vs();return this.populateOverlays(t,a,i).next(()=>this.computeViews(t,i,a,Nt()))}populateOverlays(t,i,a){const l=[];return a.forEach(c=>{i.has(c)||l.push(c)}),this.documentOverlayCache.getOverlays(t,l).next(c=>{c.forEach((h,m)=>{i.set(h,m)})})}computeViews(t,i,a,l){let c=qi();const h=sl(),m=function(){return sl()}();return i.forEach((y,p)=>{const E=a.get(p.key);l.has(p.key)&&(E===void 0||E.mutation instanceof Ds)?c=c.insert(p.key,p):E!==void 0?(h.set(p.key,E.mutation.getFieldMask()),al(E.mutation,p,E.mutation.getFieldMask(),Re.now())):h.set(p.key,Bn.empty())}),this.recalculateAndSaveOverlays(t,c).next(y=>(y.forEach((p,E)=>h.set(p,E)),i.forEach((p,E)=>{var b;return m.set(p,new rC(E,(b=h.get(p))!==null&&b!==void 0?b:null))}),m))}recalculateAndSaveOverlays(t,i){const a=sl();let l=new ie((h,m)=>h-m),c=Nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next(h=>{for(const m of h)m.keys().forEach(y=>{const p=i.get(y);if(p===null)return;let E=a.get(y)||Bn.empty();E=m.applyToLocalView(p,E),a.set(y,E);const b=(l.get(m.batchId)||Nt()).add(y);l=l.insert(m.batchId,b)})}).next(()=>{const h=[],m=l.getReverseIterator();for(;m.hasNext();){const y=m.getNext(),p=y.key,E=y.value,b=v0();E.forEach(x=>{if(!c.has(x)){const j=R0(i.get(x),a.get(x));j!==null&&b.set(x,j),c=c.add(x)}}),h.push(this.documentOverlayCache.saveOverlays(t,p,b))}return $.waitFor(h)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next(a=>this.recalculateAndSaveOverlays(t,a))}getDocumentsMatchingQuery(t,i,a,l){return function(h){return dt.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):m0(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next(c=>{const h=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):$.resolve(vs());let m=cl,y=c;return h.next(p=>$.forEach(p,(E,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),c.get(E)?$.resolve():this.remoteDocumentCache.getEntry(t,E).next(x=>{y=y.insert(E,x)}))).next(()=>this.populateOverlays(t,p,c)).next(()=>this.computeViews(t,y,p,Nt())).next(E=>({batchId:m,changes:_0(E)})))})}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new dt(i)).next(a=>{let l=tl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l})}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let h=tl();return this.indexManager.getCollectionParents(t,c).next(m=>$.forEach(m,y=>{const p=function(b,x){return new vl(x,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(t,p,a,l).next(E=>{E.forEach((b,x)=>{h=h.insert(b,x)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next(h=>(c=h,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l))).next(h=>{c.forEach((y,p)=>{const E=p.getKey();h.get(E)===null&&(h=h.insert(E,Ye.newInvalidDocument(E)))});let m=tl();return h.forEach((y,p)=>{const E=c.get(y);E!==void 0&&al(E.mutation,p,Bn.empty(),Re.now()),qc(i,p)&&(m=m.insert(y,p))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,i){return $.resolve(this.dr.get(i))}saveBundleMetadata(t,i){return this.dr.set(i.id,function(l){return{id:l.id,version:l.version,createTime:ui(l.createTime)}}(i)),$.resolve()}getNamedQuery(t,i){return $.resolve(this.Ar.get(i))}saveNamedQuery(t,i){return this.Ar.set(i.name,function(l){return{name:l.name,query:X2(l.bundledQuery),readTime:ui(l.readTime)}}(i)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(){this.overlays=new ie(dt.comparator),this.Rr=new Map}getOverlay(t,i){return $.resolve(this.overlays.get(i))}getOverlays(t,i){const a=vs();return $.forEach(i,l=>this.getOverlay(t,l).next(c=>{c!==null&&a.set(l,c)})).next(()=>a)}saveOverlays(t,i,a){return a.forEach((l,c)=>{this.Et(t,i,c)}),$.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.Rr.get(a);return l!==void 0&&(l.forEach(c=>this.overlays=this.overlays.remove(c)),this.Rr.delete(a)),$.resolve()}getOverlaysForCollection(t,i,a){const l=vs(),c=i.length+1,h=new dt(i.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const y=m.getNext().value,p=y.getKey();if(!i.isPrefixOf(p.path))break;p.path.length===c&&y.largestBatchId>a&&l.set(y.getKey(),y)}return $.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new ie((p,E)=>p-E);const h=this.overlays.getIterator();for(;h.hasNext();){const p=h.getNext().value;if(p.getKey().getCollectionGroup()===i&&p.largestBatchId>a){let E=c.get(p.largestBatchId);E===null&&(E=vs(),c=c.insert(p.largestBatchId,E)),E.set(p.getKey(),p)}}const m=vs(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((p,E)=>m.set(p,E)),!(m.size()>=l)););return $.resolve(m)}Et(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const h=this.Rr.get(l.largestBatchId).delete(a.key);this.Rr.set(l.largestBatchId,h)}this.overlays=this.overlays.insert(a.key,new w2(i,a));let c=this.Rr.get(i);c===void 0&&(c=Nt(),this.Rr.set(i,c)),this.Rr.set(i,c.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(){this.sessionToken=je.EMPTY_BYTE_STRING}getSessionToken(t){return $.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(){this.Vr=new we(Me.mr),this.gr=new we(Me.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,i){const a=new Me(t,i);this.Vr=this.Vr.add(a),this.gr=this.gr.add(a)}yr(t,i){t.forEach(a=>this.addReference(a,i))}removeReference(t,i){this.wr(new Me(t,i))}Sr(t,i){t.forEach(a=>this.removeReference(a,i))}br(t){const i=new dt(new Wt([])),a=new Me(i,t),l=new Me(i,t+1),c=[];return this.gr.forEachInRange([a,l],h=>{this.wr(h),c.push(h.key)}),c}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const i=new dt(new Wt([])),a=new Me(i,t),l=new Me(i,t+1);let c=Nt();return this.gr.forEachInRange([a,l],h=>{c=c.add(h.key)}),c}containsKey(t){const i=new Me(t,0),a=this.Vr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Me{constructor(t,i){this.key=t,this.Cr=i}static mr(t,i){return dt.comparator(t.key,i.key)||Ct(t.Cr,i.Cr)}static pr(t,i){return Ct(t.Cr,i.Cr)||dt.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Fr=1,this.Mr=new we(Me.mr)}checkEmpty(t){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new R2(c,i,a,l);this.mutationQueue.push(h);for(const m of l)this.Mr=this.Mr.add(new Me(m.key,c)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return $.resolve(h)}lookupMutationBatch(t,i){return $.resolve(this.Or(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.Nr(a),c=l<0?0:l;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?lm:this.Fr-1)}getAllMutationBatches(t){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Me(i,0),l=new Me(i,Number.POSITIVE_INFINITY),c=[];return this.Mr.forEachInRange([a,l],h=>{const m=this.Or(h.Cr);c.push(m)}),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new we(Ct);return i.forEach(l=>{const c=new Me(l,0),h=new Me(l,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([c,h],m=>{a=a.add(m.Cr)})}),$.resolve(this.Br(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;dt.isDocumentKey(c)||(c=c.child(""));const h=new Me(new dt(c),0);let m=new we(Ct);return this.Mr.forEachWhile(y=>{const p=y.key.path;return!!a.isPrefixOf(p)&&(p.length===l&&(m=m.add(y.Cr)),!0)},h),$.resolve(this.Br(m))}Br(t){const i=[];return t.forEach(a=>{const l=this.Or(a);l!==null&&i.push(l)}),i}removeMutationBatch(t,i){jt(this.Lr(i.batchId,"removed")===0),this.mutationQueue.shift();let a=this.Mr;return $.forEach(i.mutations,l=>{const c=new Me(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)}).next(()=>{this.Mr=a})}qn(t){}containsKey(t,i){const a=new Me(i,0),l=this.Mr.firstAfterOrEqual(a);return $.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,$.resolve()}Lr(t,i){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const i=this.Nr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(t){this.kr=t,this.docs=function(){return new ie(dt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,h=this.kr(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:h}),this.size+=h-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return $.resolve(a?a.document.mutableCopy():Ye.newInvalidDocument(i))}getEntries(t,i){let a=qi();return i.forEach(l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():Ye.newInvalidDocument(l))}),$.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=qi();const h=i.path,m=new dt(h.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(m);for(;y.hasNext();){const{key:p,value:{document:E}}=y.getNext();if(!h.isPrefixOf(p.path))break;p.path.length>h.length+1||kw(Bw(E),a)<=0||(l.has(E.key)||qc(i,E))&&(c=c.insert(E.key,E.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(t,i,a,l){_t()}qr(t,i){return $.forEach(this.docs,a=>i(a))}newChangeBuffer(t){return new fC(this)}getSize(t){return $.resolve(this.size)}}class fC extends iC{constructor(t){super(),this.Ir=t}applyChanges(t){const i=[];return this.changes.forEach((a,l)=>{l.isValidDocument()?i.push(this.Ir.addEntry(t,l)):this.Ir.removeEntry(a)}),$.waitFor(i)}getFromCache(t,i){return this.Ir.getEntry(t,i)}getAllFromCache(t,i){return this.Ir.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(t){this.persistence=t,this.Qr=new Cs(i=>fm(i),hm),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.$r=0,this.Ur=new ym,this.targetCount=0,this.Kr=Va.Un()}forEachTarget(t,i){return this.Qr.forEach((a,l)=>i(l)),$.resolve()}getLastRemoteSnapshotVersion(t){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Kr.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.$r&&(this.$r=i),$.resolve()}zn(t){this.Qr.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.Kr=new Va(i),this.highestTargetId=i),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,i){return this.zn(i),this.targetCount+=1,$.resolve()}updateTargetData(t,i){return this.zn(i),$.resolve()}removeTargetData(t,i){return this.Qr.delete(i.target),this.Ur.br(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.Qr.forEach((h,m)=>{m.sequenceNumber<=i&&a.get(m.targetId)===null&&(this.Qr.delete(h),c.push(this.removeMatchingKeysForTargetId(t,m.targetId)),l++)}),$.waitFor(c).next(()=>l)}getTargetCount(t){return $.resolve(this.targetCount)}getTargetData(t,i){const a=this.Qr.get(i)||null;return $.resolve(a)}addMatchingKeys(t,i,a){return this.Ur.yr(i,a),$.resolve()}removeMatchingKeys(t,i,a){this.Ur.Sr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach(h=>{c.push(l.markPotentiallyOrphaned(t,h))}),$.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.Ur.br(i),$.resolve()}getMatchingKeysForTargetId(t,i){const a=this.Ur.vr(i);return $.resolve(a)}containsKey(t,i){return $.resolve(this.Ur.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(t,i){this.Wr={},this.overlays={},this.Gr=new Pc(0),this.zr=!1,this.zr=!0,this.jr=new lC,this.referenceDelegate=t(this),this.Hr=new hC(this),this.indexManager=new $2,this.remoteDocumentCache=function(l){return new cC(l)}(a=>this.referenceDelegate.Jr(a)),this.serializer=new Y2(i),this.Yr=new aC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new oC,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.Wr[t.toKey()];return a||(a=new uC(i,this.referenceDelegate),this.Wr[t.toKey()]=a),a}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,i,a){lt("MemoryPersistence","Starting transaction:",t);const l=new dC(this.Gr.next());return this.referenceDelegate.Zr(),a(l).next(c=>this.referenceDelegate.Xr(l).next(()=>c)).toPromise().then(c=>(l.raiseOnCommittedEvent(),c))}ei(t,i){return $.or(Object.values(this.Wr).map(a=>()=>a.containsKey(t,i)))}}class dC extends jw{constructor(t){super(),this.currentSequenceNumber=t}}class _m{constructor(t){this.persistence=t,this.ti=new ym,this.ni=null}static ri(t){return new _m(t)}get ii(){if(this.ni)return this.ni;throw _t()}addReference(t,i,a){return this.ti.addReference(a,i),this.ii.delete(a.toString()),$.resolve()}removeReference(t,i,a){return this.ti.removeReference(a,i),this.ii.add(a.toString()),$.resolve()}markPotentiallyOrphaned(t,i){return this.ii.add(i.toString()),$.resolve()}removeTarget(t,i){this.ti.br(i.targetId).forEach(l=>this.ii.add(l.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next(l=>{l.forEach(c=>this.ii.add(c.toString()))}).next(()=>a.removeTargetData(t,i))}Zr(){this.ni=new Set}Xr(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.ii,a=>{const l=dt.fromPath(a);return this.si(t,l).next(c=>{c||i.removeEntry(l,Tt.min())})}).next(()=>(this.ni=null,i.apply(t)))}updateLimboDocument(t,i){return this.si(t,i).next(a=>{a?this.ii.delete(i.toString()):this.ii.add(i.toString())})}Jr(t){return 0}si(t,i){return $.or([()=>$.resolve(this.ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.ei(t,i)])}}class Sc{constructor(t,i){this.persistence=t,this.oi=new Cs(a=>Gw(a.path),(a,l)=>a.isEqual(l)),this.garbageCollector=nC(this,i)}static ri(t,i){return new Sc(t,i)}Zr(){}Xr(t){return $.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}nr(t){const i=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(a=>i.next(l=>a+l))}sr(t){let i=0;return this.rr(t,a=>{i++}).next(()=>i)}rr(t,i){return $.forEach(this.oi,(a,l)=>this.ar(t,a,l).next(c=>c?$.resolve():i(l)))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.qr(t,h=>this.ar(t,h,i).next(m=>{m||(a++,c.removeEntry(h,Tt.min()))})).next(()=>c.apply(t)).next(()=>a)}markPotentiallyOrphaned(t,i){return this.oi.set(i,t.currentSequenceNumber),$.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.oi.set(a,t.currentSequenceNumber),$.resolve()}removeReference(t,i,a){return this.oi.set(a,t.currentSequenceNumber),$.resolve()}updateLimboDocument(t,i){return this.oi.set(i,t.currentSequenceNumber),$.resolve()}Jr(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=rc(t.data.value)),i}ar(t,i,a){return $.or([()=>this.persistence.ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.oi.get(i);return $.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Hi=a,this.Ji=l}static Yi(t,i){let a=Nt(),l=Nt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new vm(t,i.fromCache,a,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return Fb()?8:Hw(qb())>0?6:4}()}initialize(t,i){this.ns=t,this.indexManager=i,this.Zi=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.rs(t,i).next(h=>{c.result=h}).next(()=>{if(!c.result)return this.ss(t,i,l,a).next(h=>{c.result=h})}).next(()=>{if(c.result)return;const h=new mC;return this._s(t,i,h).next(m=>{if(c.result=m,this.Xi)return this.us(t,i,h,m.size)})}).next(()=>c.result)}us(t,i,a,l){return a.documentReadCount<this.es?(Aa()<=Pt.DEBUG&&lt("QueryEngine","SDK will not create cache indexes for query:",Sa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),$.resolve()):(Aa()<=Pt.DEBUG&&lt("QueryEngine","Query:",Sa(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.ts*l?(Aa()<=Pt.DEBUG&&lt("QueryEngine","The SDK decides to create cache indexes for query:",Sa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,li(i))):$.resolve())}rs(t,i){if(nv(i))return $.resolve(null);let a=li(i);return this.indexManager.getIndexType(t,a).next(l=>l===0?null:(i.limit!==null&&l===1&&(i=Bd(i,null,"F"),a=li(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next(c=>{const h=Nt(...c);return this.ns.getDocuments(t,h).next(m=>this.indexManager.getMinOffset(t,a).next(y=>{const p=this.cs(i,m);return this.ls(i,p,h,y.readTime)?this.rs(t,Bd(i,null,"F")):this.hs(t,p,i,y)}))})))}ss(t,i,a,l){return nv(i)||l.isEqual(Tt.min())?$.resolve(null):this.ns.getDocuments(t,a).next(c=>{const h=this.cs(i,c);return this.ls(i,h,a,l)?$.resolve(null):(Aa()<=Pt.DEBUG&&lt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Sa(i)),this.hs(t,h,i,zw(l,cl)).next(m=>m))})}cs(t,i){let a=new we(p0(t));return i.forEach((l,c)=>{qc(t,c)&&(a=a.add(c))}),a}ls(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}_s(t,i,a){return Aa()<=Pt.DEBUG&&lt("QueryEngine","Using full collection scan to execute query:",Sa(i)),this.ns.getDocumentsMatchingQuery(t,i,Rr.min(),a)}hs(t,i,a,l){return this.ns.getDocumentsMatchingQuery(t,a,l).next(c=>(i.forEach(h=>{c=c.insert(h.key,h)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Em="LocalStore",pC=3e8;class yC{constructor(t,i,a,l){this.persistence=t,this.Ps=i,this.serializer=l,this.Ts=new ie(Ct),this.Is=new Cs(c=>fm(c),hm),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(a)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new sC(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>t.collect(i,this.Ts))}}function _C(r,t,i,a){return new yC(r,t,i,a)}async function k0(r,t){const i=St(r);return await i.persistence.runTransaction("Handle user change","readonly",a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next(c=>(l=c,i.As(t),i.mutationQueue.getAllMutationBatches(a))).next(c=>{const h=[],m=[];let y=Nt();for(const p of l){h.push(p.batchId);for(const E of p.mutations)y=y.add(E.key)}for(const p of c){m.push(p.batchId);for(const E of p.mutations)y=y.add(E.key)}return i.localDocuments.getDocuments(a,y).next(p=>({Rs:p,removedBatchIds:h,addedBatchIds:m}))})})}function vC(r,t){const i=St(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const l=t.batch.keys(),c=i.ds.newChangeBuffer({trackRemovals:!0});return function(m,y,p,E){const b=p.batch,x=b.keys();let j=$.resolve();return x.forEach(F=>{j=j.next(()=>E.getEntry(y,F)).next(Z=>{const B=p.docVersions.get(F);jt(B!==null),Z.version.compareTo(B)<0&&(b.applyToRemoteDocument(Z,p),Z.isValidDocument()&&(Z.setReadTime(p.commitVersion),E.addEntry(Z)))})}),j.next(()=>m.mutationQueue.removeMutationBatch(y,b))}(i,a,t,c).next(()=>c.apply(a)).next(()=>i.mutationQueue.performConsistencyCheck(a)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(m){let y=Nt();for(let p=0;p<m.mutationResults.length;++p)m.mutationResults[p].transformResults.length>0&&(y=y.add(m.batch.mutations[p].key));return y}(t))).next(()=>i.localDocuments.getDocuments(a,l))})}function q0(r){const t=St(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",i=>t.Hr.getLastRemoteSnapshotVersion(i))}function EC(r,t){const i=St(r),a=t.snapshotVersion;let l=i.Ts;return i.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const h=i.ds.newChangeBuffer({trackRemovals:!0});l=i.Ts;const m=[];t.targetChanges.forEach((E,b)=>{const x=l.get(b);if(!x)return;m.push(i.Hr.removeMatchingKeys(c,E.removedDocuments,b).next(()=>i.Hr.addMatchingKeys(c,E.addedDocuments,b)));let j=x.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(b)!==null?j=j.withResumeToken(je.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):E.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(E.resumeToken,a)),l=l.insert(b,j),function(Z,B,it){return Z.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=pC?!0:it.addedDocuments.size+it.modifiedDocuments.size+it.removedDocuments.size>0}(x,j,E)&&m.push(i.Hr.updateTargetData(c,j))});let y=qi(),p=Nt();if(t.documentUpdates.forEach(E=>{t.resolvedLimboDocuments.has(E)&&m.push(i.persistence.referenceDelegate.updateLimboDocument(c,E))}),m.push(TC(c,h,t.documentUpdates).next(E=>{y=E.Vs,p=E.fs})),!a.isEqual(Tt.min())){const E=i.Hr.getLastRemoteSnapshotVersion(c).next(b=>i.Hr.setTargetsMetadata(c,c.currentSequenceNumber,a));m.push(E)}return $.waitFor(m).next(()=>h.apply(c)).next(()=>i.localDocuments.getLocalViewOfDocuments(c,y,p)).next(()=>y)}).then(c=>(i.Ts=l,c))}function TC(r,t,i){let a=Nt(),l=Nt();return i.forEach(c=>a=a.add(c)),t.getEntries(r,a).next(c=>{let h=qi();return i.forEach((m,y)=>{const p=c.get(m);y.isFoundDocument()!==p.isFoundDocument()&&(l=l.add(m)),y.isNoDocument()&&y.version.isEqual(Tt.min())?(t.removeEntry(m,y.readTime),h=h.insert(m,y)):!p.isValidDocument()||y.version.compareTo(p.version)>0||y.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(y),h=h.insert(m,y)):lt(Em,"Ignoring outdated watch update for ",m,". Current version:",p.version," Watch version:",y.version)}),{Vs:h,fs:l}})}function AC(r,t){const i=St(r);return i.persistence.runTransaction("Get next mutation batch","readonly",a=>(t===void 0&&(t=lm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t)))}function SC(r,t){const i=St(r);return i.persistence.runTransaction("Allocate target","readwrite",a=>{let l;return i.Hr.getTargetData(a,t).next(c=>c?(l=c,$.resolve(l)):i.Hr.allocateTargetId(a).next(h=>(l=new yr(t,h,"TargetPurposeListen",a.currentSequenceNumber),i.Hr.addTargetData(a,l).next(()=>l))))}).then(a=>{const l=i.Ts.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ts=i.Ts.insert(a.targetId,a),i.Is.set(t,a.targetId)),a})}async function Fd(r,t,i){const a=St(r),l=a.Ts.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,h=>a.persistence.referenceDelegate.removeTarget(h,l))}catch(h){if(!za(h))throw h;lt(Em,`Failed to update sequence numbers for target ${t}: ${h}`)}a.Ts=a.Ts.remove(t),a.Is.delete(l.target)}function gv(r,t,i){const a=St(r);let l=Tt.min(),c=Nt();return a.persistence.runTransaction("Execute query","readwrite",h=>function(y,p,E){const b=St(y),x=b.Is.get(E);return x!==void 0?$.resolve(b.Ts.get(x)):b.Hr.getTargetData(p,E)}(a,h,li(t)).next(m=>{if(m)return l=m.lastLimboFreeSnapshotVersion,a.Hr.getMatchingKeysForTargetId(h,m.targetId).next(y=>{c=y})}).next(()=>a.Ps.getDocumentsMatchingQuery(h,t,i?l:Tt.min(),i?c:Nt())).next(m=>(bC(a,c2(t),m),{documents:m,gs:c})))}function bC(r,t,i){let a=r.Es.get(t)||Tt.min();i.forEach((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)}),r.Es.set(t,a)}class pv{constructor(){this.activeTargetIds=p2()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}bs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class RC{constructor(){this.ho=new pv,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,i,a){this.Po[t]=i}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new pv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv="ConnectivityMonitor";class _v{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){lt(yv,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){lt(yv,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ju=null;function Gd(){return Ju===null?Ju=function(){return 268435456+Math.round(2147483648*Math.random())}():Ju++,"0x"+Ju.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gd="RestConnection",CC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class DC{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.po=i+"://"+t.host,this.yo=`projects/${a}/databases/${l}`,this.wo=this.databaseId.database===pc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}So(t,i,a,l,c){const h=Gd(),m=this.bo(t,i.toUriEncodedString());lt(gd,`Sending RPC '${t}' ${h}:`,m,a);const y={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(y,l,c),this.vo(t,m,y,a).then(p=>(lt(gd,`Received RPC '${t}' ${h}: `,p),p),p=>{throw Ca(gd,`RPC '${t}' ${h} failed with error: `,p,"url: ",m,"request:",a),p})}Co(t,i,a,l,c,h){return this.So(t,i,a,l,c)}Do(t,i,a){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+La}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((l,c)=>t[c]=l),a&&a.headers.forEach((l,c)=>t[c]=l)}bo(t,i){const a=CC[t];return`${this.po}/v1/${i}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Uo(t){this.ko(t)}Ko(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qe="WebChannelConnection";class OC extends DC{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,i,a,l){const c=Gd();return new Promise((h,m)=>{const y=new HE;y.setWithCredentials(!0),y.listenOnce(FE.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case ic.NO_ERROR:const E=y.getResponseJson();lt(Qe,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(E)),h(E);break;case ic.TIMEOUT:lt(Qe,`RPC '${t}' ${c} timed out`),m(new ct(J.DEADLINE_EXCEEDED,"Request time out"));break;case ic.HTTP_ERROR:const b=y.getStatus();if(lt(Qe,`RPC '${t}' ${c} failed with status:`,b,"response text:",y.getResponseText()),b>0){let x=y.getResponseJson();Array.isArray(x)&&(x=x[0]);const j=x==null?void 0:x.error;if(j&&j.status&&j.message){const F=function(B){const it=B.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(it)>=0?it:J.UNKNOWN}(j.status);m(new ct(F,j.message))}else m(new ct(J.UNKNOWN,"Server responded with status "+y.getStatus()))}else m(new ct(J.UNAVAILABLE,"Connection failed."));break;default:_t()}}finally{lt(Qe,`RPC '${t}' ${c} completed.`)}});const p=JSON.stringify(l);lt(Qe,`RPC '${t}' ${c} sending request:`,l),y.send(i,"POST",p,a,15)})}Wo(t,i,a){const l=Gd(),c=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],h=KE(),m=QE(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(y.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(y.useFetchStreams=!0),this.Do(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const E=c.join("");lt(Qe,`Creating RPC '${t}' stream ${l}: ${E}`,y);const b=h.createWebChannel(E,y);let x=!1,j=!1;const F=new IC({Fo:B=>{j?lt(Qe,`Not sending because RPC '${t}' stream ${l} is closed:`,B):(x||(lt(Qe,`Opening RPC '${t}' stream ${l} transport.`),b.open(),x=!0),lt(Qe,`RPC '${t}' stream ${l} sending:`,B),b.send(B))},Mo:()=>b.close()}),Z=(B,it,st)=>{B.listen(it,at=>{try{st(at)}catch(vt){setTimeout(()=>{throw vt},0)}})};return Z(b,Wo.EventType.OPEN,()=>{j||(lt(Qe,`RPC '${t}' stream ${l} transport opened.`),F.Qo())}),Z(b,Wo.EventType.CLOSE,()=>{j||(j=!0,lt(Qe,`RPC '${t}' stream ${l} transport closed`),F.Uo())}),Z(b,Wo.EventType.ERROR,B=>{j||(j=!0,Ca(Qe,`RPC '${t}' stream ${l} transport errored:`,B),F.Uo(new ct(J.UNAVAILABLE,"The operation could not be completed")))}),Z(b,Wo.EventType.MESSAGE,B=>{var it;if(!j){const st=B.data[0];jt(!!st);const at=st,vt=(at==null?void 0:at.error)||((it=at[0])===null||it===void 0?void 0:it.error);if(vt){lt(Qe,`RPC '${t}' stream ${l} received error:`,vt);const ot=vt.status;let At=function(w){const V=_e[w];if(V!==void 0)return D0(V)}(ot),O=vt.message;At===void 0&&(At=J.INTERNAL,O="Unknown error status: "+ot+" with message "+vt.message),j=!0,F.Uo(new ct(At,O)),b.close()}else lt(Qe,`RPC '${t}' stream ${l} received:`,st),F.Ko(st)}}),Z(m,GE.STAT_EVENT,B=>{B.stat===Nd.PROXY?lt(Qe,`RPC '${t}' stream ${l} detected buffering proxy`):B.stat===Nd.NOPROXY&&lt(Qe,`RPC '${t}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{F.$o()},0),F}}function pd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gc(r){return new x2(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Ti=t,this.timerId=i,this.Go=a,this.zo=l,this.jo=c,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const i=Math.floor(this.Ho+this.e_()),a=Math.max(0,Date.now()-this.Yo),l=Math.max(0,i-a);l>0&&lt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.Ho} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,l,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv="PersistentStream";class H0{constructor(t,i,a,l,c,h,m,y){this.Ti=t,this.n_=a,this.r_=l,this.connection=c,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=y,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new j0(t,i)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,i){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(ki(i.toString()),ki("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(i)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),i=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,l])=>{this.i_===i&&this.V_(a,l)},a=>{t(()=>{const l=new ct(J.UNKNOWN,"Fetching auth token failed: "+a.message);return this.m_(l)})})}V_(t,i){const a=this.R_(this.i_);this.stream=this.f_(t,i),this.stream.xo(()=>{a(()=>this.listener.xo())}),this.stream.No(()=>{a(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(l=>{a(()=>this.m_(l))}),this.stream.onMessage(l=>{a(()=>++this.__==1?this.g_(l):this.onNext(l))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return lt(vv,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return i=>{this.Ti.enqueueAndForget(()=>this.i_===t?i():(lt(vv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class VC extends H0{constructor(t,i,a,l,c,h){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,h),this.serializer=c}f_(t,i){return this.connection.Wo("Listen",t,i)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const i=P2(this.serializer,t),a=function(c){if(!("targetChange"in c))return Tt.min();const h=c.targetChange;return h.targetIds&&h.targetIds.length?Tt.min():h.readTime?ui(h.readTime):Tt.min()}(t);return this.listener.p_(i,a)}y_(t){const i={};i.database=Hd(this.serializer),i.addTarget=function(c,h){let m;const y=h.target;if(m=Pd(y)?{documents:k2(c,y)}:{query:q2(c,y).ht},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=V0(c,h.resumeToken);const p=kd(c,h.expectedCount);p!==null&&(m.expectedCount=p)}else if(h.snapshotVersion.compareTo(Tt.min())>0){m.readTime=Ac(c,h.snapshotVersion.toTimestamp());const p=kd(c,h.expectedCount);p!==null&&(m.expectedCount=p)}return m}(this.serializer,t);const a=H2(this.serializer,t);a&&(i.labels=a),this.I_(i)}w_(t){const i={};i.database=Hd(this.serializer),i.removeTarget=t,this.I_(i)}}class NC extends H0{constructor(t,i,a,l,c,h){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,h),this.serializer=c}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(t,i){return this.connection.Wo("Write",t,i)}g_(t){return jt(!!t.streamToken),this.lastStreamToken=t.streamToken,jt(!t.writeResults||t.writeResults.length===0),this.listener.D_()}onNext(t){jt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const i=B2(t.writeResults,t.commitTime),a=ui(t.commitTime);return this.listener.v_(a,i)}C_(){const t={};t.database=Hd(this.serializer),this.I_(t)}b_(t){const i={streamToken:this.lastStreamToken,writes:t.map(a=>z2(this.serializer,a))};this.I_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{}class xC extends MC{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.F_=!1}M_(){if(this.F_)throw new ct(J.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,i,a,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,h])=>this.connection.So(t,qd(i,a),l,c,h)).catch(c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ct(J.UNKNOWN,c.toString())})}Co(t,i,a,l,c){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Co(t,qd(i,a),l,h,m,c)).catch(h=>{throw h.name==="FirebaseError"?(h.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ct(J.UNKNOWN,h.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class UC{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(ki(i),this.N_=!1):lt("OnlineStateTracker",i)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs="RemoteStore";class LC{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=c,this.z_.To(h=>{a.enqueueAndForget(async()=>{Is(this)&&(lt(Rs,"Restarting streams for network reachability change."),await async function(y){const p=St(y);p.W_.add(4),await Al(p),p.j_.set("Unknown"),p.W_.delete(4),await Qc(p)}(this))})}),this.j_=new UC(a,l)}}async function Qc(r){if(Is(r))for(const t of r.G_)await t(!0)}async function Al(r){for(const t of r.G_)await t(!1)}function F0(r,t){const i=St(r);i.K_.has(t.targetId)||(i.K_.set(t.targetId,t),bm(i)?Sm(i):Ba(i).c_()&&Am(i,t))}function Tm(r,t){const i=St(r),a=Ba(i);i.K_.delete(t),a.c_()&&G0(i,t),i.K_.size===0&&(a.c_()?a.P_():Is(i)&&i.j_.set("Unknown"))}function Am(r,t){if(r.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Tt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}Ba(r).y_(t)}function G0(r,t){r.H_.Ne(t),Ba(r).w_(t)}function Sm(r){r.H_=new O2({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>r.K_.get(t)||null,it:()=>r.datastore.serializer.databaseId}),Ba(r).start(),r.j_.B_()}function bm(r){return Is(r)&&!Ba(r).u_()&&r.K_.size>0}function Is(r){return St(r).W_.size===0}function Q0(r){r.H_=void 0}async function PC(r){r.j_.set("Online")}async function zC(r){r.K_.forEach((t,i)=>{Am(r,t)})}async function BC(r,t){Q0(r),bm(r)?(r.j_.q_(t),Sm(r)):r.j_.set("Unknown")}async function kC(r,t,i){if(r.j_.set("Online"),t instanceof O0&&t.state===2&&t.cause)try{await async function(l,c){const h=c.cause;for(const m of c.targetIds)l.K_.has(m)&&(await l.remoteSyncer.rejectListen(m,h),l.K_.delete(m),l.H_.removeTarget(m))}(r,t)}catch(a){lt(Rs,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await bc(r,a)}else if(t instanceof oc?r.H_.We(t):t instanceof I0?r.H_.Ze(t):r.H_.je(t),!i.isEqual(Tt.min()))try{const a=await q0(r.localStore);i.compareTo(a)>=0&&await function(c,h){const m=c.H_.ot(h);return m.targetChanges.forEach((y,p)=>{if(y.resumeToken.approximateByteSize()>0){const E=c.K_.get(p);E&&c.K_.set(p,E.withResumeToken(y.resumeToken,h))}}),m.targetMismatches.forEach((y,p)=>{const E=c.K_.get(y);if(!E)return;c.K_.set(y,E.withResumeToken(je.EMPTY_BYTE_STRING,E.snapshotVersion)),G0(c,y);const b=new yr(E.target,y,p,E.sequenceNumber);Am(c,b)}),c.remoteSyncer.applyRemoteEvent(m)}(r,i)}catch(a){lt(Rs,"Failed to raise snapshot:",a),await bc(r,a)}}async function bc(r,t,i){if(!za(t))throw t;r.W_.add(1),await Al(r),r.j_.set("Offline"),i||(i=()=>q0(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{lt(Rs,"Retrying IndexedDB access"),await i(),r.W_.delete(1),await Qc(r)})}function K0(r,t){return t().catch(i=>bc(r,i,t))}async function Kc(r){const t=St(r),i=Ir(t);let a=t.U_.length>0?t.U_[t.U_.length-1].batchId:lm;for(;qC(t);)try{const l=await AC(t.localStore,a);if(l===null){t.U_.length===0&&i.P_();break}a=l.batchId,jC(t,l)}catch(l){await bc(t,l)}Y0(t)&&X0(t)}function qC(r){return Is(r)&&r.U_.length<10}function jC(r,t){r.U_.push(t);const i=Ir(r);i.c_()&&i.S_&&i.b_(t.mutations)}function Y0(r){return Is(r)&&!Ir(r).u_()&&r.U_.length>0}function X0(r){Ir(r).start()}async function HC(r){Ir(r).C_()}async function FC(r){const t=Ir(r);for(const i of r.U_)t.b_(i.mutations)}async function GC(r,t,i){const a=r.U_.shift(),l=mm.from(a,t,i);await K0(r,()=>r.remoteSyncer.applySuccessfulWrite(l)),await Kc(r)}async function QC(r,t){t&&Ir(r).S_&&await async function(a,l){if(function(h){return D2(h)&&h!==J.ABORTED}(l.code)){const c=a.U_.shift();Ir(a).h_(),await K0(a,()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l)),await Kc(a)}}(r,t),Y0(r)&&X0(r)}async function Ev(r,t){const i=St(r);i.asyncQueue.verifyOperationInProgress(),lt(Rs,"RemoteStore received new credentials");const a=Is(i);i.W_.add(3),await Al(i),a&&i.j_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.W_.delete(3),await Qc(i)}async function KC(r,t){const i=St(r);t?(i.W_.delete(2),await Qc(i)):t||(i.W_.add(2),await Al(i),i.j_.set("Unknown"))}function Ba(r){return r.J_||(r.J_=function(i,a,l){const c=St(i);return c.M_(),new VC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(r.datastore,r.asyncQueue,{xo:PC.bind(null,r),No:zC.bind(null,r),Lo:BC.bind(null,r),p_:kC.bind(null,r)}),r.G_.push(async t=>{t?(r.J_.h_(),bm(r)?Sm(r):r.j_.set("Unknown")):(await r.J_.stop(),Q0(r))})),r.J_}function Ir(r){return r.Y_||(r.Y_=function(i,a,l){const c=St(i);return c.M_(),new NC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:HC.bind(null,r),Lo:QC.bind(null,r),D_:FC.bind(null,r),v_:GC.bind(null,r)}),r.G_.push(async t=>{t?(r.Y_.h_(),await Kc(r)):(await r.Y_.stop(),r.U_.length>0&&(lt(Rs,`Stopping write stream with ${r.U_.length} pending writes`),r.U_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new Tr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const h=Date.now()+a,m=new Rm(t,i,h,l,c);return m.start(a),m}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wm(r,t){if(ki("AsyncQueue",`${t}: ${r}`),za(r))return new ct(J.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{static emptySet(t){return new wa(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||dt.comparator(i.key,a.key):(i,a)=>dt.comparator(i.key,a.key),this.keyedMap=tl(),this.sortedSet=new ie(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((i,a)=>(t(i),!1))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof wa)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach(i=>{t.push(i.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new wa;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(){this.Z_=new ie(dt.comparator)}track(t){const i=t.doc.key,a=this.Z_.get(i);a?t.type!==0&&a.type===3?this.Z_=this.Z_.insert(i,t):t.type===3&&a.type!==1?this.Z_=this.Z_.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.Z_=this.Z_.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.Z_=this.Z_.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.Z_=this.Z_.remove(i):t.type===1&&a.type===2?this.Z_=this.Z_.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.Z_=this.Z_.insert(i,{type:2,doc:t.doc}):_t():this.Z_=this.Z_.insert(i,t)}X_(){const t=[];return this.Z_.inorderTraversal((i,a)=>{t.push(a)}),t}}class Na{constructor(t,i,a,l,c,h,m,y,p){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=y,this.hasCachedResults=p}static fromInitialDocuments(t,i,a,l,c){const h=[];return i.forEach(m=>{h.push({type:0,doc:m})}),new Na(t,i,wa.emptySet(i),h,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&kc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class XC{constructor(){this.queries=Av(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(i,a){const l=St(i),c=l.queries;l.queries=Av(),c.forEach((h,m)=>{for(const y of m.ta)y.onError(a)})})(this,new ct(J.ABORTED,"Firestore shutting down"))}}function Av(){return new Cs(r=>g0(r),kc)}async function $C(r,t){const i=St(r);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.na()&&t.ra()&&(a=2):(c=new YC,a=t.ra()?0:1);try{switch(a){case 0:c.ea=await i.onListen(l,!0);break;case 1:c.ea=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(h){const m=wm(h,`Initialization of query '${Sa(t.query)}' failed`);return void t.onError(m)}i.queries.set(l,c),c.ta.push(t),t.sa(i.onlineState),c.ea&&t.oa(c.ea)&&Cm(i)}async function ZC(r,t){const i=St(r),a=t.query;let l=3;const c=i.queries.get(a);if(c){const h=c.ta.indexOf(t);h>=0&&(c.ta.splice(h,1),c.ta.length===0?l=t.ra()?0:1:!c.na()&&t.ra()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function JC(r,t){const i=St(r);let a=!1;for(const l of t){const c=l.query,h=i.queries.get(c);if(h){for(const m of h.ta)m.oa(l)&&(a=!0);h.ea=l}}a&&Cm(i)}function WC(r,t,i){const a=St(r),l=a.queries.get(t);if(l)for(const c of l.ta)c.onError(i);a.queries.delete(t)}function Cm(r){r.ia.forEach(t=>{t.next()})}var Qd,Sv;(Sv=Qd||(Qd={}))._a="default",Sv.Cache="cache";class tD{constructor(t,i,a){this.query=t,this.aa=i,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=a||{}}oa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new Na(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.ua?this.la(t)&&(this.aa.next(t),i=!0):this.ha(t,this.onlineState)&&(this.Pa(t),i=!0),this.ca=t,i}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let i=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),i=!0),i}ha(t,i){if(!t.fromCache||!this.ra())return!0;const a=i!=="Offline";return(!this.options.Ta||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}la(t){if(t.docChanges.length>0)return!0;const i=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Pa(t){t=Na.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==Qd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(t){this.key=t}}class Z0{constructor(t){this.key=t}}class eD{constructor(t,i){this.query=t,this.fa=i,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Nt(),this.mutatedKeys=Nt(),this.ya=p0(t),this.wa=new wa(this.ya)}get Sa(){return this.fa}ba(t,i){const a=i?i.Da:new Tv,l=i?i.wa:this.wa;let c=i?i.mutatedKeys:this.mutatedKeys,h=l,m=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,p=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal((E,b)=>{const x=l.get(E),j=qc(this.query,b)?b:null,F=!!x&&this.mutatedKeys.has(x.key),Z=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let B=!1;x&&j?x.data.isEqual(j.data)?F!==Z&&(a.track({type:3,doc:j}),B=!0):this.va(x,j)||(a.track({type:2,doc:j}),B=!0,(y&&this.ya(j,y)>0||p&&this.ya(j,p)<0)&&(m=!0)):!x&&j?(a.track({type:0,doc:j}),B=!0):x&&!j&&(a.track({type:1,doc:x}),B=!0,(y||p)&&(m=!0)),B&&(j?(h=h.add(j),c=Z?c.add(E):c.delete(E)):(h=h.delete(E),c=c.delete(E)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),c=c.delete(E.key),a.track({type:1,doc:E})}return{wa:h,Da:a,ls:m,mutatedKeys:c}}va(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const h=t.Da.X_();h.sort((E,b)=>function(j,F){const Z=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t()}};return Z(j)-Z(F)}(E.type,b.type)||this.ya(E.doc,b.doc)),this.Ca(a),l=l!=null&&l;const m=i&&!l?this.Fa():[],y=this.pa.size===0&&this.current&&!l?1:0,p=y!==this.ga;return this.ga=y,h.length!==0||p?{snapshot:new Na(this.query,t.wa,c,h,t.mutatedKeys,y===0,p,!1,!!a&&a.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Tv,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(i=>this.fa=this.fa.add(i)),t.modifiedDocuments.forEach(i=>{}),t.removedDocuments.forEach(i=>this.fa=this.fa.delete(i)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=Nt(),this.wa.forEach(a=>{this.xa(a.key)&&(this.pa=this.pa.add(a.key))});const i=[];return t.forEach(a=>{this.pa.has(a)||i.push(new Z0(a))}),this.pa.forEach(a=>{t.has(a)||i.push(new $0(a))}),i}Oa(t){this.fa=t.gs,this.pa=Nt();const i=this.ba(t.documents);return this.applyChanges(i,!0)}Na(){return Na.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Dm="SyncEngine";class nD{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class iD{constructor(t){this.key=t,this.Ba=!1}}class rD{constructor(t,i,a,l,c,h){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=h,this.La={},this.ka=new Cs(m=>g0(m),kc),this.qa=new Map,this.Qa=new Set,this.$a=new ie(dt.comparator),this.Ua=new Map,this.Ka=new ym,this.Wa={},this.Ga=new Map,this.za=Va.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function sD(r,t,i=!0){const a=iT(r);let l;const c=a.ka.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.Na()):l=await J0(a,t,i,!0),l}async function aD(r,t){const i=iT(r);await J0(i,t,!0,!1)}async function J0(r,t,i,a){const l=await SC(r.localStore,li(t)),c=l.targetId,h=r.sharedClientState.addLocalQueryTarget(c,i);let m;return a&&(m=await oD(r,t,c,h==="current",l.resumeToken)),r.isPrimaryClient&&i&&F0(r.remoteStore,l),m}async function oD(r,t,i,a,l){r.Ha=(b,x,j)=>async function(Z,B,it,st){let at=B.view.ba(it);at.ls&&(at=await gv(Z.localStore,B.query,!1).then(({documents:O})=>B.view.ba(O,at)));const vt=st&&st.targetChanges.get(B.targetId),ot=st&&st.targetMismatches.get(B.targetId)!=null,At=B.view.applyChanges(at,Z.isPrimaryClient,vt,ot);return Rv(Z,B.targetId,At.Ma),At.snapshot}(r,b,x,j);const c=await gv(r.localStore,t,!0),h=new eD(t,c.gs),m=h.ba(c.documents),y=Tl.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",l),p=h.applyChanges(m,r.isPrimaryClient,y);Rv(r,i,p.Ma);const E=new nD(t,i,h);return r.ka.set(t,E),r.qa.has(i)?r.qa.get(i).push(t):r.qa.set(i,[t]),p.snapshot}async function lD(r,t,i){const a=St(r),l=a.ka.get(t),c=a.qa.get(l.targetId);if(c.length>1)return a.qa.set(l.targetId,c.filter(h=>!kc(h,t))),void a.ka.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await Fd(a.localStore,l.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(l.targetId),i&&Tm(a.remoteStore,l.targetId),Kd(a,l.targetId)}).catch(Pa)):(Kd(a,l.targetId),await Fd(a.localStore,l.targetId,!0))}async function uD(r,t){const i=St(r),a=i.ka.get(t),l=i.qa.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Tm(i.remoteStore,a.targetId))}async function cD(r,t,i){const a=yD(r);try{const l=await function(h,m){const y=St(h),p=Re.now(),E=m.reduce((j,F)=>j.add(F.key),Nt());let b,x;return y.persistence.runTransaction("Locally write mutations","readwrite",j=>{let F=qi(),Z=Nt();return y.ds.getEntries(j,E).next(B=>{F=B,F.forEach((it,st)=>{st.isValidDocument()||(Z=Z.add(it))})}).next(()=>y.localDocuments.getOverlayedDocuments(j,F)).next(B=>{b=B;const it=[];for(const st of m){const at=S2(st,b.get(st.key).overlayedDocument);at!=null&&it.push(new Ds(st.key,at,a0(at.value.mapValue),Pi.exists(!0)))}return y.mutationQueue.addMutationBatch(j,p,it,m)}).next(B=>{x=B;const it=B.applyToLocalDocumentSet(b,Z);return y.documentOverlayCache.saveOverlays(j,B.batchId,it)})}).then(()=>({batchId:x.batchId,changes:_0(b)}))}(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),function(h,m,y){let p=h.Wa[h.currentUser.toKey()];p||(p=new ie(Ct)),p=p.insert(m,y),h.Wa[h.currentUser.toKey()]=p}(a,l.batchId,i),await Sl(a,l.changes),await Kc(a.remoteStore)}catch(l){const c=wm(l,"Failed to persist write");i.reject(c)}}async function W0(r,t){const i=St(r);try{const a=await EC(i.localStore,t);t.targetChanges.forEach((l,c)=>{const h=i.Ua.get(c);h&&(jt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?h.Ba=!0:l.modifiedDocuments.size>0?jt(h.Ba):l.removedDocuments.size>0&&(jt(h.Ba),h.Ba=!1))}),await Sl(i,a,t)}catch(a){await Pa(a)}}function bv(r,t,i){const a=St(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.ka.forEach((c,h)=>{const m=h.view.sa(t);m.snapshot&&l.push(m.snapshot)}),function(h,m){const y=St(h);y.onlineState=m;let p=!1;y.queries.forEach((E,b)=>{for(const x of b.ta)x.sa(m)&&(p=!0)}),p&&Cm(y)}(a.eventManager,t),l.length&&a.La.p_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function fD(r,t,i){const a=St(r);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Ua.get(t),c=l&&l.key;if(c){let h=new ie(dt.comparator);h=h.insert(c,Ye.newNoDocument(c,Tt.min()));const m=Nt().add(c),y=new Fc(Tt.min(),new Map,new ie(Ct),h,m);await W0(a,y),a.$a=a.$a.remove(c),a.Ua.delete(t),Im(a)}else await Fd(a.localStore,t,!1).then(()=>Kd(a,t,i)).catch(Pa)}async function hD(r,t){const i=St(r),a=t.batch.batchId;try{const l=await vC(i.localStore,t);eT(i,a,null),tT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Sl(i,l)}catch(l){await Pa(l)}}async function dD(r,t,i){const a=St(r);try{const l=await function(h,m){const y=St(h);return y.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let E;return y.mutationQueue.lookupMutationBatch(p,m).next(b=>(jt(b!==null),E=b.keys(),y.mutationQueue.removeMutationBatch(p,b))).next(()=>y.mutationQueue.performConsistencyCheck(p)).next(()=>y.documentOverlayCache.removeOverlaysForBatchId(p,E,m)).next(()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,E)).next(()=>y.localDocuments.getDocuments(p,E))})}(a.localStore,t);eT(a,t,i),tT(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Sl(a,l)}catch(l){await Pa(l)}}function tT(r,t){(r.Ga.get(t)||[]).forEach(i=>{i.resolve()}),r.Ga.delete(t)}function eT(r,t,i){const a=St(r);let l=a.Wa[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.Wa[a.currentUser.toKey()]=l}}function Kd(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.qa.get(t))r.ka.delete(a),i&&r.La.Ja(a,i);r.qa.delete(t),r.isPrimaryClient&&r.Ka.br(t).forEach(a=>{r.Ka.containsKey(a)||nT(r,a)})}function nT(r,t){r.Qa.delete(t.path.canonicalString());const i=r.$a.get(t);i!==null&&(Tm(r.remoteStore,i),r.$a=r.$a.remove(t),r.Ua.delete(i),Im(r))}function Rv(r,t,i){for(const a of i)a instanceof $0?(r.Ka.addReference(a.key,t),mD(r,a)):a instanceof Z0?(lt(Dm,"Document no longer in limbo: "+a.key),r.Ka.removeReference(a.key,t),r.Ka.containsKey(a.key)||nT(r,a.key)):_t()}function mD(r,t){const i=t.key,a=i.path.canonicalString();r.$a.get(i)||r.Qa.has(a)||(lt(Dm,"New document in limbo: "+i),r.Qa.add(a),Im(r))}function Im(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const t=r.Qa.values().next().value;r.Qa.delete(t);const i=new dt(Wt.fromString(t)),a=r.za.next();r.Ua.set(a,new iD(i)),r.$a=r.$a.insert(i,a),F0(r.remoteStore,new yr(li(d0(i.path)),a,"TargetPurposeLimboResolution",Pc.ae))}}async function Sl(r,t,i){const a=St(r),l=[],c=[],h=[];a.ka.isEmpty()||(a.ka.forEach((m,y)=>{h.push(a.Ha(y,t,i).then(p=>{var E;if((p||i)&&a.isPrimaryClient){const b=p?!p.fromCache:(E=i==null?void 0:i.targetChanges.get(y.targetId))===null||E===void 0?void 0:E.current;a.sharedClientState.updateQueryState(y.targetId,b?"current":"not-current")}if(p){l.push(p);const b=vm.Yi(y.targetId,p);c.push(b)}}))}),await Promise.all(h),a.La.p_(l),await async function(y,p){const E=St(y);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>$.forEach(p,x=>$.forEach(x.Hi,j=>E.persistence.referenceDelegate.addReference(b,x.targetId,j)).next(()=>$.forEach(x.Ji,j=>E.persistence.referenceDelegate.removeReference(b,x.targetId,j)))))}catch(b){if(!za(b))throw b;lt(Em,"Failed to update sequence numbers: "+b)}for(const b of p){const x=b.targetId;if(!b.fromCache){const j=E.Ts.get(x),F=j.snapshotVersion,Z=j.withLastLimboFreeSnapshotVersion(F);E.Ts=E.Ts.insert(x,Z)}}}(a.localStore,c))}async function gD(r,t){const i=St(r);if(!i.currentUser.isEqual(t)){lt(Dm,"User change. New user:",t.toKey());const a=await k0(i.localStore,t);i.currentUser=t,function(c,h){c.Ga.forEach(m=>{m.forEach(y=>{y.reject(new ct(J.CANCELLED,h))})}),c.Ga.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Sl(i,a.Rs)}}function pD(r,t){const i=St(r),a=i.Ua.get(t);if(a&&a.Ba)return Nt().add(a.key);{let l=Nt();const c=i.qa.get(t);if(!c)return l;for(const h of c){const m=i.ka.get(h);l=l.unionWith(m.view.Sa)}return l}}function iT(r){const t=St(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=W0.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=pD.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=fD.bind(null,t),t.La.p_=JC.bind(null,t.eventManager),t.La.Ja=WC.bind(null,t.eventManager),t}function yD(r){const t=St(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=hD.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=dD.bind(null,t),t}class Rc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Gc(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,i){return null}nu(t,i){return null}eu(t){return _C(this.persistence,new gC,t.initialUser,this.serializer)}Xa(t){return new B0(_m.ri,this.serializer)}Za(t){return new RC}async terminate(){var t,i;(t=this.gcScheduler)===null||t===void 0||t.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Rc.provider={build:()=>new Rc};class _D extends Rc{constructor(t){super(),this.cacheSizeBytes=t}tu(t,i){jt(this.persistence.referenceDelegate instanceof Sc);const a=this.persistence.referenceDelegate.garbageCollector;return new tC(a,t.asyncQueue,i)}Xa(t){const i=this.cacheSizeBytes!==void 0?rn.withCacheSize(this.cacheSizeBytes):rn.DEFAULT;return new B0(a=>Sc.ri(a,i),this.serializer)}}class Yd{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>bv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=gD.bind(null,this.syncEngine),await KC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new XC}()}createDatastore(t){const i=Gc(t.databaseInfo.databaseId),a=function(c){return new OC(c)}(t.databaseInfo);return function(c,h,m,y){return new xC(c,h,m,y)}(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return function(a,l,c,h,m){return new LC(a,l,c,h,m)}(this.localStore,this.datastore,t.asyncQueue,i=>bv(this.syncEngine,i,0),function(){return _v.D()?new _v:new wC}())}createSyncEngine(t,i){return function(l,c,h,m,y,p,E){const b=new rD(l,c,h,m,y,p);return E&&(b.ja=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){var t,i;await async function(l){const c=St(l);lt(Rs,"RemoteStore shutting down."),c.W_.add(5),await Al(c),c.z_.shutdown(),c.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}Yd.provider={build:()=>new Yd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):ki("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,i){setTimeout(()=>{this.muted||t(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Or="FirestoreClient";class ED{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=Ke.UNAUTHENTICATED,this.clientId=$E.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,async h=>{lt(Or,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(a,h=>(lt(Or,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Tr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=wm(i,"Failed to shutdown persistence");t.reject(a)}}),t.promise}}async function yd(r,t){r.asyncQueue.verifyOperationInProgress(),lt(Or,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener(async l=>{a.isEqual(l)||(await k0(t.localStore,l),a=l)}),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}async function wv(r,t){r.asyncQueue.verifyOperationInProgress();const i=await TD(r);lt(Or,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener(a=>Ev(t.remoteStore,a)),r.setAppCheckTokenChangeListener((a,l)=>Ev(t.remoteStore,l)),r._onlineComponents=t}async function TD(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){lt(Or,"Using user provided OfflineComponentProvider");try{await yd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!function(l){return l.name==="FirebaseError"?l.code===J.FAILED_PRECONDITION||l.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(i))throw i;Ca("Error using user provided cache. Falling back to memory cache: "+i),await yd(r,new Rc)}}else lt(Or,"Using default OfflineComponentProvider"),await yd(r,new _D(void 0));return r._offlineComponents}async function rT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(lt(Or,"Using user provided OnlineComponentProvider"),await wv(r,r._uninitializedComponentsProvider._online)):(lt(Or,"Using default OnlineComponentProvider"),await wv(r,new Yd))),r._onlineComponents}function AD(r){return rT(r).then(t=>t.syncEngine)}async function SD(r){const t=await rT(r),i=t.eventManager;return i.onListen=sD.bind(null,t.syncEngine),i.onUnlisten=lD.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=aD.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=uD.bind(null,t.syncEngine),i}function bD(r,t,i={}){const a=new Tr;return r.asyncQueue.enqueueAndForget(async()=>function(c,h,m,y,p){const E=new vD({next:x=>{E.su(),h.enqueueAndForget(()=>ZC(c,b)),x.fromCache&&y.source==="server"?p.reject(new ct(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(x)},error:x=>p.reject(x)}),b=new tD(m,E,{includeMetadataChanges:!0,Ta:!0});return $C(c,b)}(await SD(r),r.asyncQueue,t,i,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sT(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(r,t,i){if(!i)throw new ct(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function RD(r,t,i,a){if(t===!0&&a===!0)throw new ct(J.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function Dv(r){if(!dt.isDocumentKey(r))throw new ct(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Iv(r){if(dt.isDocumentKey(r))throw new ct(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Yc(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(a){return a.constructor?a.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":_t()}function wc(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ct(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Yc(r);throw new ct(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT="firestore.googleapis.com",Ov=!0;class Vv{constructor(t){var i,a;if(t.host===void 0){if(t.ssl!==void 0)throw new ct(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=oT,this.ssl=Ov}else this.host=t.host,this.ssl=(i=t.ssl)!==null&&i!==void 0?i:Ov;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=z0;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<J2)throw new ct(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}RD("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sT((a=t.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new ct(J.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new ct(J.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new ct(J.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(a,l){return a.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Xc{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Vv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ct(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Vv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new Iw;switch(a.type){case"firstParty":return new Mw(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ct(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const a=Cv.get(i);a&&(lt("ComponentProvider","Removing Datastore"),Cv.delete(i),a.terminate())}(this),Promise.resolve()}}function wD(r,t,i,a={}){var l;const c=(r=wc(r,Xc))._getSettings(),h=Object.assign(Object.assign({},c),{emulatorOptions:r._getEmulatorOptions()}),m=`${t}:${i}`;c.host!==oT&&c.host!==m&&Ca("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y=Object.assign(Object.assign({},c),{host:m,ssl:!1,emulatorOptions:a});if(!ll(y,h)&&(r._setSettings(y),a.mockUserToken)){let p,E;if(typeof a.mockUserToken=="string")p=a.mockUserToken,E=Ke.MOCK_USER;else{p=kb(a.mockUserToken,(l=r._app)===null||l===void 0?void 0:l.options.projectId);const b=a.mockUserToken.sub||a.mockUserToken.user_id;if(!b)throw new ct(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Ke(b)}r._authCredentials=new Ow(new YE(p,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new ka(this.firestore,t,this._query)}}class Nn{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ar(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Nn(this.firestore,t,this._key)}}class Ar extends ka{constructor(t,i,a){super(t,i,d0(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Nn(this.firestore,null,new dt(t))}withConverter(t){return new Ar(this.firestore,t,this._path)}}function _d(r,t,...i){if(r=Sr(r),aT("collection","path",t),r instanceof Xc){const a=Wt.fromString(t,...i);return Iv(a),new Ar(r,null,a)}{if(!(r instanceof Nn||r instanceof Ar))throw new ct(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(Wt.fromString(t,...i));return Iv(a),new Ar(r.firestore,null,a)}}function CD(r,t,...i){if(r=Sr(r),arguments.length===1&&(t=$E.newId()),aT("doc","path",t),r instanceof Xc){const a=Wt.fromString(t,...i);return Dv(a),new Nn(r,null,new dt(a))}{if(!(r instanceof Nn||r instanceof Ar))throw new ct(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(Wt.fromString(t,...i));return Dv(a),new Nn(r.firestore,r instanceof Ar?r.converter:null,new dt(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv="AsyncQueue";class Mv{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new j0(this,"async_queue_retry"),this.Su=()=>{const a=pd();a&&lt(Nv,"Visibility state changed to "+a.visibilityState),this.a_.t_()},this.bu=t;const i=pd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const i=pd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Su)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const i=new Tr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!za(t))throw t;lt(Nv,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const i=this.bu.then(()=>(this.pu=!0,t().catch(a=>{this.gu=a,this.pu=!1;const l=function(h){let m=h.message||"";return h.stack&&(m=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),m}(a);throw ki("INTERNAL UNHANDLED ERROR: ",l),a}).then(a=>(this.pu=!1,a))));return this.bu=i,i}enqueueAfterDelay(t,i,a){this.Du(),this.wu.indexOf(t)>-1&&(i=0);const l=Rm.createAndSchedule(this,t,i,a,c=>this.Fu(c));return this.fu.push(l),l}Du(){this.gu&&_t()}verifyOperationInProgress(){}async Mu(){let t;do t=this.bu,await t;while(t!==this.bu)}xu(t){for(const i of this.fu)if(i.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((i,a)=>i.targetTimeMs-a.targetTimeMs);for(const i of this.fu)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const i=this.fu.indexOf(t);this.fu.splice(i,1)}}class Om extends Xc{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new Mv,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Mv(t),this._firestoreClient=void 0,await t}}}function DD(r,t){const i=typeof r=="object"?r:yE(),a=typeof r=="string"?r:pc,l=_l(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=zb("firestore");c&&wD(l,...c)}return l}function lT(r){if(r._terminated)throw new ct(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||ID(r),r._firestoreClient}function ID(r){var t,i,a;const l=r._freezeSettings(),c=function(m,y,p,E){return new Yw(m,y,p,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,sT(E.experimentalLongPollingOptions),E.useFetchStreams)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,l);r._componentsProvider||!((i=l.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((a=l.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(r._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),r._firestoreClient=new ED(r._authCredentials,r._appCheckCredentials,r._queue,c,r._componentsProvider&&function(m){const y=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(y),_online:y}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ma(je.fromBase64String(t))}catch(i){throw new ct(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Ma(je.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ct(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ct(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ct(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Ct(this._lat,t._lat)||Ct(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(t){this._values=(t||[]).map(i=>i)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD=/^__.*__$/;class VD{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new Ds(t,this.data,this.fieldMask,i,this.fieldTransforms):new El(t,this.data,i,this.fieldTransforms)}}function cT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t()}}class xm{constructor(t,i,a,l,c,h){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Bu(),this.fieldTransforms=c||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new xm(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(t),l=this.ku({path:a,Qu:!1});return l.$u(t),l}Uu(t){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(t),l=this.ku({path:a,Qu:!1});return l.Bu(),l}Ku(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return Cc(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return this.fieldMask.find(i=>t.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>t.isPrefixOf(i.field))!==void 0}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(t.length===0)throw this.Wu("Document fields must not be empty");if(cT(this.Lu)&&OD.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class ND{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||Gc(t)}ju(t,i,a,l=!1){return new xm({Lu:t,methodName:i,zu:a,path:qe.emptyPath(),Qu:!1,Gu:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function fT(r){const t=r._freezeSettings(),i=Gc(r._databaseId);return new ND(r._databaseId,!!t.ignoreUndefinedProperties,i)}function MD(r,t,i,a,l,c={}){const h=r.ju(c.merge||c.mergeFields?2:0,t,i,l);mT("Data must be an object, but it was:",h,a);const m=hT(a,h);let y,p;if(c.merge)y=new Bn(h.fieldMask),p=h.fieldTransforms;else if(c.mergeFields){const E=[];for(const b of c.mergeFields){const x=UD(t,b,i);if(!h.contains(x))throw new ct(J.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);PD(E,x)||E.push(x)}y=new Bn(E),p=h.fieldTransforms.filter(b=>y.covers(b.field))}else y=null,p=h.fieldTransforms;return new VD(new Vn(m),y,p)}function xD(r,t,i,a=!1){return Um(i,r.ju(a?4:3,t))}function Um(r,t){if(dT(r=Sr(r)))return mT("Unsupported field value:",t,r),hT(r,t);if(r instanceof uT)return function(a,l){if(!cT(l.Lu))throw l.Wu(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Wu(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.Qu&&t.Lu!==4)throw t.Wu("Nested arrays are not supported");return function(a,l){const c=[];let h=0;for(const m of a){let y=Um(m,l.Ku(h));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),h++}return{arrayValue:{values:c}}}(r,t)}return function(a,l){if((a=Sr(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return y2(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=Re.fromDate(a);return{timestampValue:Ac(l.serializer,c)}}if(a instanceof Re){const c=new Re(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Ac(l.serializer,c)}}if(a instanceof Nm)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Ma)return{bytesValue:V0(l.serializer,a._byteString)};if(a instanceof Nn){const c=l.databaseId,h=a.firestore._databaseId;if(!h.isEqual(c))throw l.Wu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:pm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Mm)return function(h,m){return{mapValue:{fields:{[r0]:{stringValue:s0},[yc]:{arrayValue:{values:h.toArray().map(p=>{if(typeof p!="number")throw m.Wu("VectorValues must only contain numeric values.");return dm(m.serializer,p)})}}}}}}(a,l);throw l.Wu(`Unsupported field value: ${Yc(a)}`)}(r,t)}function hT(r,t){const i={};return JE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ws(r,(a,l)=>{const c=Um(l,t.qu(a));c!=null&&(i[a]=c)}),{mapValue:{fields:i}}}function dT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Re||r instanceof Nm||r instanceof Ma||r instanceof Nn||r instanceof uT||r instanceof Mm)}function mT(r,t,i){if(!dT(i)||!function(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)}(i)){const a=Yc(i);throw a==="an object"?t.Wu(r+" a custom object"):t.Wu(r+" "+a)}}function UD(r,t,i){if((t=Sr(t))instanceof Vm)return t._internalPath;if(typeof t=="string")return gT(r,t);throw Cc("Field path arguments must be of type string or ",r,!1,void 0,i)}const LD=new RegExp("[~\\*/\\[\\]]");function gT(r,t,i){if(t.search(LD)>=0)throw Cc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Vm(...t.split("."))._internalPath}catch{throw Cc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function Cc(r,t,i,a,l){const c=a&&!a.isEmpty(),h=l!==void 0;let m=`Function ${t}() called with invalid data`;i&&(m+=" (via `toFirestore()`)"),m+=". ";let y="";return(c||h)&&(y+=" (found",c&&(y+=` in field ${a}`),h&&(y+=` in document ${l}`),y+=")"),new ct(J.INVALID_ARGUMENT,m+r+y)}function PD(r,t){return r.some(i=>i.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Nn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new zD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(Lm("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class zD extends pT{data(){return super.data()}}function Lm(r,t){return typeof t=="string"?gT(r,t):t instanceof Vm?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BD(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ct(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Pm{}class kD extends Pm{}function xv(r,t,...i){let a=[];t instanceof Pm&&a.push(t),a=a.concat(i),function(c){const h=c.filter(y=>y instanceof zm).length,m=c.filter(y=>y instanceof $c).length;if(h>1||h>0&&m>0)throw new ct(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const l of a)r=l._apply(r);return r}class $c extends kD{constructor(t,i,a){super(),this._field=t,this._op=i,this._value=a,this.type="where"}static _create(t,i,a){return new $c(t,i,a)}_apply(t){const i=this._parse(t);return yT(t._query,i),new ka(t.firestore,t.converter,zd(t._query,i))}_parse(t){const i=fT(t.firestore);return function(c,h,m,y,p,E,b){let x;if(p.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ct(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){Lv(b,E);const F=[];for(const Z of b)F.push(Uv(y,c,Z));x={arrayValue:{values:F}}}else x=Uv(y,c,b)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||Lv(b,E),x=xD(m,h,b,E==="in"||E==="not-in");return ve.create(p,E,x)}(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}function qD(r,t,i){const a=t,l=Lm("where",r);return $c._create(l,a,i)}class zm extends Pm{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new zm(t,i)}_parse(t){const i=this._queryConstraints.map(a=>a._parse(t)).filter(a=>a.getFilters().length>0);return i.length===1?i[0]:kn.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:(function(l,c){let h=l;const m=c.getFlattenedFilters();for(const y of m)yT(h,y),h=zd(h,y)}(t._query,i),new ka(t.firestore,t.converter,zd(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Uv(r,t,i){if(typeof(i=Sr(i))=="string"){if(i==="")throw new ct(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!m0(t)&&i.indexOf("/")!==-1)throw new ct(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=t.path.child(Wt.fromString(i));if(!dt.isDocumentKey(a))throw new ct(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return $_(r,new dt(a))}if(i instanceof Nn)return $_(r,i._key);throw new ct(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Yc(i)}.`)}function Lv(r,t){if(!Array.isArray(r)||r.length===0)throw new ct(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function yT(r,t){const i=function(l,c){for(const h of l)for(const m of h.getFlattenedFilters())if(c.indexOf(m.op)>=0)return m.op;return null}(r.filters,function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(i!==null)throw i===t.op?new ct(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ct(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class jD{convertValue(t,i="none"){switch(Dr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return fe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Cr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw _t()}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return ws(t,(l,c)=>{a[l]=this.convertValue(c,i)}),a}convertVectorValue(t){var i,a,l;const c=(l=(a=(i=t.fields)===null||i===void 0?void 0:i[yc].arrayValue)===null||a===void 0?void 0:a.values)===null||l===void 0?void 0:l.map(h=>fe(h.doubleValue));return new Mm(c)}convertGeoPoint(t){return new Nm(fe(t.latitude),fe(t.longitude))}convertArray(t,i){return(t.values||[]).map(a=>this.convertValue(a,i))}convertServerTimestamp(t,i){switch(i){case"previous":const a=Bc(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(fl(t));default:return null}}convertTimestamp(t){const i=wr(t);return new Re(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=Wt.fromString(t);jt(P0(a));const l=new hl(a.get(1),a.get(3)),c=new dt(a.popFirst(5));return l.isEqual(i)||ki(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HD(r,t,i){let a;return a=r?r.toFirestore(t):t,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class FD extends pT{constructor(t,i,a,l,c,h){super(t,i,a,l,h),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new lc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(Lm("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}}class lc extends FD{data(t={}){return super.data(t)}}class GD{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Wu(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach(i=>t.push(i)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach(a=>{t.call(i,new lc(this._firestore,this._userDataWriter,a.key,a,new Wu(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ct(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(l,c){if(l._snapshot.oldDocs.isEmpty()){let h=0;return l._snapshot.docChanges.map(m=>{const y=new lc(l._firestore,l._userDataWriter,m.doc.key,m.doc,new Wu(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);return m.doc,{type:"added",doc:y,oldIndex:-1,newIndex:h++}})}{let h=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(m=>c||m.type!==3).map(m=>{const y=new lc(l._firestore,l._userDataWriter,m.doc.key,m.doc,new Wu(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);let p=-1,E=-1;return m.type!==0&&(p=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),E=h.indexOf(m.doc.key)),{type:QD(m.type),doc:y,oldIndex:p,newIndex:E}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function QD(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t()}}class KD extends jD{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ma(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Nn(this.firestore,null,i)}}function Pv(r){r=wc(r,ka);const t=wc(r.firestore,Om),i=lT(t),a=new KD(t);return BD(r._query),bD(i,r._query).then(l=>new GD(t,a,r,l))}function YD(r,t){const i=wc(r.firestore,Om),a=CD(r),l=HD(r.converter,t);return XD(i,[MD(fT(r.firestore),"addDoc",a._key,l,r.converter!==null,{}).toMutation(a._key,Pi.exists(!1))]).then(()=>a)}function XD(r,t){return function(a,l){const c=new Tr;return a.asyncQueue.enqueueAndForget(async()=>cD(await AD(a),l,c)),c.promise}(lT(r),t)}(function(t,i=!0){(function(l){La=l})(ZR),br(new zi("firestore",(a,{instanceIdentifier:l,options:c})=>{const h=a.getProvider("app").getImmediate(),m=new Om(new Vw(a.getProvider("auth-internal")),new xw(h,a.getProvider("app-check-internal")),function(p,E){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ct(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hl(p.options.projectId,E)}(h,l),h);return c=Object.assign({useFetchStreams:i},c),m._setSettings(c),m},"PUBLIC").setMultipleInstances(!0)),oi(z_,B_,t),oi(z_,B_,"esm2017")})();const $D={apiKey:"AIzaSyDt3jalGC3bPfmee4mcaIV8jWlh1yWQw04",authDomain:"movieratings-c1445.firebaseapp.com",projectId:"movieratings-c1445",storageBucket:"movieratings-c1445.appspot.com",messagingSenderId:"193250184547",appId:"1:193250184547:web:a440429e8918152e219756",measurementId:"G-DJB83QFVQ4"},_T=pE($D);Rw(_T);const vd=DD(_T),ZD="3ae7b5b217c5389d349a90262ba52dec",JD="https://api.themoviedb.org/3";function WD(){var Z;const[r,t]=gs.useState([]),[i,a]=gs.useState(""),[l,c]=gs.useState(null),[h,m]=gs.useState(null),[y,p]=gs.useState(null),E=async B=>{if(B.preventDefault(),!!i.trim())try{const st=(await he.get(`${JD}/search/movie`,{params:{api_key:ZD,query:i}})).data.results;if(st.length>0){const at=st[0];c(at),m(null),j(at.id)}else c(null),p(null),alert("No movie found!")}catch(it){console.error("Search failed",it)}},b=async(B,it)=>{try{await YD(_d(vd,"ratings"),{title:B.title,movieId:B.id,rating:it,timestamp:new Date}),j(B.id),fetchRatedMovies()}catch(st){console.error("Error adding rating: ",st)}},x=async()=>{try{const B=xv(_d(vd,"ratings")),it=await Pv(B),st={};it.forEach(ot=>{const At=ot.data(),{movieId:O,title:S,rating:w}=At;st[O]||(st[O]={title:S,movieId:O,total:0,count:0}),st[O].total+=w,st[O].count+=1});const vt=Object.values(st).map(ot=>({...ot,average:ot.total/ot.count})).filter(ot=>ot.count>=2).sort((ot,At)=>At.average-ot.average).slice(0,10);t(vt)}catch(B){console.error("Error fetching top rated movies:",B)}};gs.useEffect(()=>{x()},[]);const j=async B=>{try{const it=xv(_d(vd,"ratings"),qD("movieId","==",B)),st=await Pv(it);let at=0,vt=0;st.forEach(ot=>{at+=ot.data().rating,vt++}),vt>0?p((at/vt).toFixed(1)):p(null)}catch(it){console.error("Error fetching average rating: ",it)}},F=B=>{m(B),l&&b(l,B)};return ye.jsxs("div",{className:"app",children:[ye.jsx("h1",{children:"🎬 Movies"}),ye.jsxs("form",{onSubmit:E,children:[ye.jsx("input",{type:"text",value:i,onChange:B=>a(B.target.value),placeholder:"Search for a movie..."}),ye.jsx("button",{type:"submit",children:"Search"})]}),l&&ye.jsxs("div",{className:"movie-card",children:[ye.jsxs("h2",{children:[l.title," (",(Z=l.release_date)==null?void 0:Z.slice(0,4),")"]}),l.poster_path&&ye.jsx("img",{src:`https://image.tmdb.org/t/p/w500${l.poster_path}`,alt:l.title}),ye.jsx("p",{children:l.overview}),y&&ye.jsxs("p",{children:["⭐ Average Rating: ",y,"/10"]}),ye.jsx("p",{children:"Rate this movie:"}),ye.jsx("div",{className:"rating-buttons",children:[...Array(10)].map((B,it)=>ye.jsx("button",{onClick:()=>F(it+1),className:h===it+1?"selected-rating":"unselected-rating",children:it+1},it))})]}),r.length>0&&ye.jsxs("div",{className:"rated-movies",children:[ye.jsx("h3",{children:"🏆 Top 10 Rated Movies"}),ye.jsx("ul",{children:r.map((B,it)=>ye.jsxs("li",{children:[ye.jsxs("strong",{children:[it+1,". ",B.title]})," — ",B.average.toFixed(1),"/10 (",B.count," rating",B.count>1?"s":"",")"]},B.movieId))})]})]})}JA.createRoot(document.getElementById("root")).render(ye.jsx(gs.StrictMode,{children:ye.jsx(WD,{})}));
