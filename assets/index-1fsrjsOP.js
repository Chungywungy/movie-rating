(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();var Hc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function iR(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var gm={exports:{}},xl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lv;function rR(){if(Lv)return xl;Lv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:u}}return xl.Fragment=e,xl.jsx=t,xl.jsxs=t,xl}var zv;function sR(){return zv||(zv=1,gm.exports=rR()),gm.exports}var ye=sR(),ym={exports:{}},Ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bv;function aR(){if(Bv)return Ce;Bv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),A=Symbol.iterator;function R(M){return M===null||typeof M!="object"?null:(M=A&&M[A]||M["@@iterator"],typeof M=="function"?M:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,q={};function k(M,ne,le){this.props=M,this.context=ne,this.refs=q,this.updater=le||V}k.prototype.isReactComponent={},k.prototype.setState=function(M,ne){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,ne,"setState")},k.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function G(){}G.prototype=k.prototype;function re(M,ne,le){this.props=M,this.context=ne,this.refs=q,this.updater=le||V}var Y=re.prototype=new G;Y.constructor=re,D(Y,k.prototype),Y.isPureReactComponent=!0;var ue=Array.isArray,te={H:null,A:null,T:null,S:null,V:null},ce=Object.prototype.hasOwnProperty;function I(M,ne,le,se,ge,Oe){return le=Oe.ref,{$$typeof:i,type:M,key:ne,ref:le!==void 0?le:null,props:Oe}}function b(M,ne){return I(M.type,ne,void 0,void 0,void 0,M.props)}function w(M){return typeof M=="object"&&M!==null&&M.$$typeof===i}function N(M){var ne={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(le){return ne[le]})}var x=/\/+/g;function U(M,ne){return typeof M=="object"&&M!==null&&M.key!=null?N(""+M.key):ne.toString(36)}function C(){}function Qe(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(C,C):(M.status="pending",M.then(function(ne){M.status==="pending"&&(M.status="fulfilled",M.value=ne)},function(ne){M.status==="pending"&&(M.status="rejected",M.reason=ne)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function nt(M,ne,le,se,ge){var Oe=typeof M;(Oe==="undefined"||Oe==="boolean")&&(M=null);var Ee=!1;if(M===null)Ee=!0;else switch(Oe){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(M.$$typeof){case i:case e:Ee=!0;break;case v:return Ee=M._init,nt(Ee(M._payload),ne,le,se,ge)}}if(Ee)return ge=ge(M),Ee=se===""?"."+U(M,0):se,ue(ge)?(le="",Ee!=null&&(le=Ee.replace(x,"$&/")+"/"),nt(ge,ne,le,"",function(Kt){return Kt})):ge!=null&&(w(ge)&&(ge=b(ge,le+(ge.key==null||M&&M.key===ge.key?"":(""+ge.key).replace(x,"$&/")+"/")+Ee)),ne.push(ge)),1;Ee=0;var Me=se===""?".":se+":";if(ue(M))for(var Le=0;Le<M.length;Le++)se=M[Le],Oe=Me+U(se,Le),Ee+=nt(se,ne,le,Oe,ge);else if(Le=R(M),typeof Le=="function")for(M=Le.call(M),Le=0;!(se=M.next()).done;)se=se.value,Oe=Me+U(se,Le++),Ee+=nt(se,ne,le,Oe,ge);else if(Oe==="object"){if(typeof M.then=="function")return nt(Qe(M),ne,le,se,ge);throw ne=String(M),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function Q(M,ne,le){if(M==null)return M;var se=[],ge=0;return nt(M,se,"","",function(Oe){return ne.call(le,Oe,ge++)}),se}function oe(M){if(M._status===-1){var ne=M._result;ne=ne(),ne.then(function(le){(M._status===0||M._status===-1)&&(M._status=1,M._result=le)},function(le){(M._status===0||M._status===-1)&&(M._status=2,M._result=le)}),M._status===-1&&(M._status=0,M._result=ne)}if(M._status===1)return M._result.default;throw M._result}var me=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function He(){}return Ce.Children={map:Q,forEach:function(M,ne,le){Q(M,function(){ne.apply(this,arguments)},le)},count:function(M){var ne=0;return Q(M,function(){ne++}),ne},toArray:function(M){return Q(M,function(ne){return ne})||[]},only:function(M){if(!w(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Ce.Component=k,Ce.Fragment=t,Ce.Profiler=o,Ce.PureComponent=re,Ce.StrictMode=s,Ce.Suspense=p,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=te,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(M){return te.H.useMemoCache(M)}},Ce.cache=function(M){return function(){return M.apply(null,arguments)}},Ce.cloneElement=function(M,ne,le){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var se=D({},M.props),ge=M.key,Oe=void 0;if(ne!=null)for(Ee in ne.ref!==void 0&&(Oe=void 0),ne.key!==void 0&&(ge=""+ne.key),ne)!ce.call(ne,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&ne.ref===void 0||(se[Ee]=ne[Ee]);var Ee=arguments.length-2;if(Ee===1)se.children=le;else if(1<Ee){for(var Me=Array(Ee),Le=0;Le<Ee;Le++)Me[Le]=arguments[Le+2];se.children=Me}return I(M.type,ge,void 0,void 0,Oe,se)},Ce.createContext=function(M){return M={$$typeof:h,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},Ce.createElement=function(M,ne,le){var se,ge={},Oe=null;if(ne!=null)for(se in ne.key!==void 0&&(Oe=""+ne.key),ne)ce.call(ne,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(ge[se]=ne[se]);var Ee=arguments.length-2;if(Ee===1)ge.children=le;else if(1<Ee){for(var Me=Array(Ee),Le=0;Le<Ee;Le++)Me[Le]=arguments[Le+2];ge.children=Me}if(M&&M.defaultProps)for(se in Ee=M.defaultProps,Ee)ge[se]===void 0&&(ge[se]=Ee[se]);return I(M,Oe,void 0,void 0,null,ge)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(M){return{$$typeof:m,render:M}},Ce.isValidElement=w,Ce.lazy=function(M){return{$$typeof:v,_payload:{_status:-1,_result:M},_init:oe}},Ce.memo=function(M,ne){return{$$typeof:g,type:M,compare:ne===void 0?null:ne}},Ce.startTransition=function(M){var ne=te.T,le={};te.T=le;try{var se=M(),ge=te.S;ge!==null&&ge(le,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(He,me)}catch(Oe){me(Oe)}finally{te.T=ne}},Ce.unstable_useCacheRefresh=function(){return te.H.useCacheRefresh()},Ce.use=function(M){return te.H.use(M)},Ce.useActionState=function(M,ne,le){return te.H.useActionState(M,ne,le)},Ce.useCallback=function(M,ne){return te.H.useCallback(M,ne)},Ce.useContext=function(M){return te.H.useContext(M)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(M,ne){return te.H.useDeferredValue(M,ne)},Ce.useEffect=function(M,ne,le){var se=te.H;if(typeof le=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return se.useEffect(M,ne)},Ce.useId=function(){return te.H.useId()},Ce.useImperativeHandle=function(M,ne,le){return te.H.useImperativeHandle(M,ne,le)},Ce.useInsertionEffect=function(M,ne){return te.H.useInsertionEffect(M,ne)},Ce.useLayoutEffect=function(M,ne){return te.H.useLayoutEffect(M,ne)},Ce.useMemo=function(M,ne){return te.H.useMemo(M,ne)},Ce.useOptimistic=function(M,ne){return te.H.useOptimistic(M,ne)},Ce.useReducer=function(M,ne,le){return te.H.useReducer(M,ne,le)},Ce.useRef=function(M){return te.H.useRef(M)},Ce.useState=function(M){return te.H.useState(M)},Ce.useSyncExternalStore=function(M,ne,le){return te.H.useSyncExternalStore(M,ne,le)},Ce.useTransition=function(){return te.H.useTransition()},Ce.version="19.1.0",Ce}var qv;function bp(){return qv||(qv=1,ym.exports=aR()),ym.exports}var W=bp(),_m={exports:{}},Vl={},vm={exports:{}},Em={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jv;function oR(){return jv||(jv=1,function(i){function e(Q,oe){var me=Q.length;Q.push(oe);e:for(;0<me;){var He=me-1>>>1,M=Q[He];if(0<o(M,oe))Q[He]=oe,Q[me]=M,me=He;else break e}}function t(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var oe=Q[0],me=Q.pop();if(me!==oe){Q[0]=me;e:for(var He=0,M=Q.length,ne=M>>>1;He<ne;){var le=2*(He+1)-1,se=Q[le],ge=le+1,Oe=Q[ge];if(0>o(se,me))ge<M&&0>o(Oe,se)?(Q[He]=Oe,Q[ge]=me,He=ge):(Q[He]=se,Q[le]=me,He=le);else if(ge<M&&0>o(Oe,me))Q[He]=Oe,Q[ge]=me,He=ge;else break e}}return oe}function o(Q,oe){var me=Q.sortIndex-oe.sortIndex;return me!==0?me:Q.id-oe.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var p=[],g=[],v=1,A=null,R=3,V=!1,D=!1,q=!1,k=!1,G=typeof setTimeout=="function"?setTimeout:null,re=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function ue(Q){for(var oe=t(g);oe!==null;){if(oe.callback===null)s(g);else if(oe.startTime<=Q)s(g),oe.sortIndex=oe.expirationTime,e(p,oe);else break;oe=t(g)}}function te(Q){if(q=!1,ue(Q),!D)if(t(p)!==null)D=!0,ce||(ce=!0,U());else{var oe=t(g);oe!==null&&nt(te,oe.startTime-Q)}}var ce=!1,I=-1,b=5,w=-1;function N(){return k?!0:!(i.unstable_now()-w<b)}function x(){if(k=!1,ce){var Q=i.unstable_now();w=Q;var oe=!0;try{e:{D=!1,q&&(q=!1,re(I),I=-1),V=!0;var me=R;try{t:{for(ue(Q),A=t(p);A!==null&&!(A.expirationTime>Q&&N());){var He=A.callback;if(typeof He=="function"){A.callback=null,R=A.priorityLevel;var M=He(A.expirationTime<=Q);if(Q=i.unstable_now(),typeof M=="function"){A.callback=M,ue(Q),oe=!0;break t}A===t(p)&&s(p),ue(Q)}else s(p);A=t(p)}if(A!==null)oe=!0;else{var ne=t(g);ne!==null&&nt(te,ne.startTime-Q),oe=!1}}break e}finally{A=null,R=me,V=!1}oe=void 0}}finally{oe?U():ce=!1}}}var U;if(typeof Y=="function")U=function(){Y(x)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Qe=C.port2;C.port1.onmessage=x,U=function(){Qe.postMessage(null)}}else U=function(){G(x,0)};function nt(Q,oe){I=G(function(){Q(i.unstable_now())},oe)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Q){Q.callback=null},i.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<Q?Math.floor(1e3/Q):5},i.unstable_getCurrentPriorityLevel=function(){return R},i.unstable_next=function(Q){switch(R){case 1:case 2:case 3:var oe=3;break;default:oe=R}var me=R;R=oe;try{return Q()}finally{R=me}},i.unstable_requestPaint=function(){k=!0},i.unstable_runWithPriority=function(Q,oe){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var me=R;R=Q;try{return oe()}finally{R=me}},i.unstable_scheduleCallback=function(Q,oe,me){var He=i.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?He+me:He):me=He,Q){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=me+M,Q={id:v++,callback:oe,priorityLevel:Q,startTime:me,expirationTime:M,sortIndex:-1},me>He?(Q.sortIndex=me,e(g,Q),t(p)===null&&Q===t(g)&&(q?(re(I),I=-1):q=!0,nt(te,me-He))):(Q.sortIndex=M,e(p,Q),D||V||(D=!0,ce||(ce=!0,U()))),Q},i.unstable_shouldYield=N,i.unstable_wrapCallback=function(Q){var oe=R;return function(){var me=R;R=oe;try{return Q.apply(this,arguments)}finally{R=me}}}}(Em)),Em}var Hv;function lR(){return Hv||(Hv=1,vm.exports=oR()),vm.exports}var Tm={exports:{}},Yt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fv;function uR(){if(Fv)return Yt;Fv=1;var i=bp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,v){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:p,containerInfo:g,implementation:v}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Yt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Yt.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,v)},Yt.flushSync=function(p){var g=h.T,v=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=v,s.d.f()}},Yt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Yt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Yt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,A=m(v,g.crossOrigin),R=typeof g.integrity=="string"?g.integrity:void 0,V=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:A,integrity:R,fetchPriority:V}):v==="script"&&s.d.X(p,{crossOrigin:A,integrity:R,fetchPriority:V,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Yt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Yt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,A=m(v,g.crossOrigin);s.d.L(p,v,{crossOrigin:A,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Yt.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Yt.requestFormReset=function(p){s.d.r(p)},Yt.unstable_batchedUpdates=function(p,g){return p(g)},Yt.useFormState=function(p,g,v){return h.H.useFormState(p,g,v)},Yt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Yt.version="19.1.0",Yt}var Gv;function cR(){if(Gv)return Tm.exports;Gv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Tm.exports=uR(),Tm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kv;function hR(){if(Kv)return Vl;Kv=1;var i=lR(),e=bp(),t=cR();function s(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var r=n,a=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(a=r.return),n=r.return;while(n)}return r.tag===3?a:null}function h(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function m(n){if(u(n)!==n)throw Error(s(188))}function p(n){var r=n.alternate;if(!r){if(r=u(n),r===null)throw Error(s(188));return r!==n?null:n}for(var a=n,l=r;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return m(f),n;if(d===l)return m(f),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var E=!1,T=f.child;T;){if(T===a){E=!0,a=f,l=d;break}if(T===l){E=!0,l=f,a=d;break}T=T.sibling}if(!E){for(T=d.child;T;){if(T===a){E=!0,a=d,l=f;break}if(T===l){E=!0,l=d,a=f;break}T=T.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:r}function g(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=g(n),r!==null)return r;n=n.sibling}return null}var v=Object.assign,A=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),V=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),G=Symbol.for("react.provider"),re=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),ue=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function U(n){return n===null||typeof n!="object"?null:(n=x&&n[x]||n["@@iterator"],typeof n=="function"?n:null)}var C=Symbol.for("react.client.reference");function Qe(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===C?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case D:return"Fragment";case k:return"Profiler";case q:return"StrictMode";case te:return"Suspense";case ce:return"SuspenseList";case w:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case V:return"Portal";case Y:return(n.displayName||"Context")+".Provider";case re:return(n._context.displayName||"Context")+".Consumer";case ue:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case I:return r=n.displayName||null,r!==null?r:Qe(n.type)||"Memo";case b:r=n._payload,n=n._init;try{return Qe(n(r))}catch{}}return null}var nt=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},He=[],M=-1;function ne(n){return{current:n}}function le(n){0>M||(n.current=He[M],He[M]=null,M--)}function se(n,r){M++,He[M]=n.current,n.current=r}var ge=ne(null),Oe=ne(null),Ee=ne(null),Me=ne(null);function Le(n,r){switch(se(Ee,r),se(Oe,n),se(ge,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?fv(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=fv(r),n=dv(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}le(ge),se(ge,n)}function Kt(){le(ge),le(Oe),le(Ee)}function Bn(n){n.memoizedState!==null&&se(Me,n);var r=ge.current,a=dv(r,n.type);r!==a&&(se(Oe,n),se(ge,a))}function Ci(n){Oe.current===n&&(le(ge),le(Oe)),Me.current===n&&(le(Me),Cl._currentValue=me)}var is=Object.prototype.hasOwnProperty,rs=i.unstable_scheduleCallback,ss=i.unstable_cancelCallback,wo=i.unstable_shouldYield,vu=i.unstable_requestPaint,bn=i.unstable_now,gf=i.unstable_getCurrentPriorityLevel,Ro=i.unstable_ImmediatePriority,ra=i.unstable_UserBlockingPriority,as=i.unstable_NormalPriority,yf=i.unstable_LowPriority,sa=i.unstable_IdlePriority,Io=i.log,Eu=i.unstable_setDisableYieldValue,ht=null,Ye=null;function dn(n){if(typeof Io=="function"&&Eu(n),Ye&&typeof Ye.setStrictMode=="function")try{Ye.setStrictMode(ht,n)}catch{}}var $t=Math.clz32?Math.clz32:os,Tu=Math.log,_f=Math.LN2;function os(n){return n>>>=0,n===0?32:31-(Tu(n)/_f|0)|0}var ls=256,us=4194304;function qn(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function aa(n,r,a){var l=n.pendingLanes;if(l===0)return 0;var f=0,d=n.suspendedLanes,E=n.pingedLanes;n=n.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?f=qn(l):(E&=T,E!==0?f=qn(E):a||(a=T&~n,a!==0&&(f=qn(a))))):(T=l&~d,T!==0?f=qn(T):E!==0?f=qn(E):a||(a=l&~n,a!==0&&(f=qn(a)))),f===0?0:r!==0&&r!==f&&(r&d)===0&&(d=f&-f,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:f}function cs(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function Co(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Oo(){var n=ls;return ls<<=1,(ls&4194048)===0&&(ls=256),n}function Do(){var n=us;return us<<=1,(us&62914560)===0&&(us=4194304),n}function Oi(n){for(var r=[],a=0;31>a;a++)r.push(n);return r}function Di(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function No(n,r,a,l,f,d){var E=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var T=n.entanglements,O=n.expirationTimes,j=n.hiddenUpdates;for(a=E&~a;0<a;){var X=31-$t(a),Z=1<<X;T[X]=0,O[X]=-1;var H=j[X];if(H!==null)for(j[X]=null,X=0;X<H.length;X++){var F=H[X];F!==null&&(F.lane&=-536870913)}a&=~Z}l!==0&&ei(n,l,0),d!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=d&~(E&~r))}function ei(n,r,a){n.pendingLanes|=r,n.suspendedLanes&=~r;var l=31-$t(r);n.entangledLanes|=r,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194090}function Mo(n,r){var a=n.entangledLanes|=r;for(n=n.entanglements;a;){var l=31-$t(a),f=1<<l;f&r|n[l]&r&&(n[l]|=r),a&=~f}}function ur(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function oa(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function cr(){var n=oe.p;return n!==0?n:(n=window.event,n===void 0?32:Mv(n.type))}function Au(n,r){var a=oe.p;try{return oe.p=n,r()}finally{oe.p=a}}var at=Math.random().toString(36).slice(2),wt="__reactFiber$"+at,vt="__reactProps$"+at,wn="__reactContainer$"+at,xo="__reactEvents$"+at,vf="__reactListeners$"+at,hr="__reactHandles$"+at,Su="__reactResources$"+at,hs="__reactMarker$"+at;function fr(n){delete n[wt],delete n[vt],delete n[xo],delete n[vf],delete n[hr]}function Ni(n){var r=n[wt];if(r)return r;for(var a=n.parentNode;a;){if(r=a[wn]||a[wt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(n=yv(n);n!==null;){if(a=n[wt])return a;n=yv(n)}return r}n=a,a=n.parentNode}return null}function ti(n){if(n=n[wt]||n[wn]){var r=n.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return n}return null}function ni(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(s(33))}function tn(n){var r=n[Su];return r||(r=n[Su]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function pt(n){n[hs]=!0}var Vo=new Set,la={};function jn(n,r){Mi(n,r),Mi(n+"Capture",r)}function Mi(n,r){for(la[n]=r,n=0;n<r.length;n++)Vo.add(r[n])}var bu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wu={},fs={};function Ru(n){return is.call(fs,n)?!0:is.call(wu,n)?!1:bu.test(n)?fs[n]=!0:(wu[n]=!0,!1)}function dr(n,r,a){if(Ru(r))if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+a)}}function ii(n,r,a){if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+a)}}function Lt(n,r,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(r,a,""+l)}}var ds,Iu;function xi(n){if(ds===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);ds=r&&r[1]||"",Iu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ds+n+Iu}var ua=!1;function ca(n,r){if(!n||ua)return"";ua=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(F){var H=F}Reflect.construct(n,[],Z)}else{try{Z.call()}catch(F){H=F}n.call(Z.prototype)}}else{try{throw Error()}catch(F){H=F}(Z=n())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(F){if(F&&H&&typeof F.stack=="string")return[F.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),E=d[0],T=d[1];if(E&&T){var O=E.split(`
`),j=T.split(`
`);for(f=l=0;l<O.length&&!O[l].includes("DetermineComponentFrameRoot");)l++;for(;f<j.length&&!j[f].includes("DetermineComponentFrameRoot");)f++;if(l===O.length||f===j.length)for(l=O.length-1,f=j.length-1;1<=l&&0<=f&&O[l]!==j[f];)f--;for(;1<=l&&0<=f;l--,f--)if(O[l]!==j[f]){if(l!==1||f!==1)do if(l--,f--,0>f||O[l]!==j[f]){var X=`
`+O[l].replace(" at new "," at ");return n.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",n.displayName)),X}while(1<=l&&0<=f);break}}}finally{ua=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?xi(a):""}function Po(n){switch(n.tag){case 26:case 27:case 5:return xi(n.type);case 16:return xi("Lazy");case 13:return xi("Suspense");case 19:return xi("SuspenseList");case 0:case 15:return ca(n.type,!1);case 11:return ca(n.type.render,!1);case 1:return ca(n.type,!0);case 31:return xi("Activity");default:return""}}function ha(n){try{var r="";do r+=Po(n),n=n.return;while(n);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function nn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function ko(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Ef(n){var r=ko(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),l=""+n[r];if(!n.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,d=a.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return f.call(this)},set:function(E){l=""+E,d.call(this,E)}}),Object.defineProperty(n,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function fa(n){n._valueTracker||(n._valueTracker=Ef(n))}function Uo(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return n&&(l=ko(n)?n.checked?"true":"false":n.value),n=l,n!==a?(r.setValue(n),!0):!1}function ms(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Tf=/[\n"\\]/g;function Et(n){return n.replace(Tf,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function mn(n,r,a,l,f,d,E,T){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),r!=null?E==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+nn(r)):n.value!==""+nn(r)&&(n.value=""+nn(r)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),r!=null?mr(n,E,nn(r)):a!=null?mr(n,E,nn(a)):l!=null&&n.removeAttribute("value"),f==null&&d!=null&&(n.defaultChecked=!!d),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.name=""+nn(T):n.removeAttribute("name")}function ps(n,r,a,l,f,d,E,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(n.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;a=a!=null?""+nn(a):"",r=r!=null?""+nn(r):a,T||r===n.value||(n.value=r),n.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=T?n.checked:!!l,n.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E)}function mr(n,r,a){r==="number"&&ms(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Vi(n,r,a,l){if(n=n.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=r.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&l&&(n[a].defaultSelected=!0)}else{for(a=""+nn(a),r=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}r!==null||n[f].disabled||(r=n[f])}r!==null&&(r.selected=!0)}}function Je(n,r,a){if(r!=null&&(r=""+nn(r),r!==n.value&&(n.value=r),a==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=a!=null?""+nn(a):""}function gs(n,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(nt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=nn(r),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function Rn(n,r){if(r){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=r;return}}n.textContent=r}var ys=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Cu(n,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":l?n.setProperty(r,a):typeof a!="number"||a===0||ys.has(r)?r==="float"?n.cssFloat=a:n[r]=(""+a).trim():n[r]=a+"px"}function Lo(n,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&Cu(n,f,l)}else for(var d in r)r.hasOwnProperty(d)&&Cu(n,d,r[d])}function zo(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Af=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Sf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function da(n){return Sf.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Pi=null;function In(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var ki=null,Ui=null;function Bo(n){var r=ti(n);if(r&&(n=r.stateNode)){var a=n[vt]||null;e:switch(n=r.stateNode,r.type){case"input":if(mn(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Et(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==n&&l.form===n.form){var f=l[vt]||null;if(!f)throw Error(s(90));mn(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===n.form&&Uo(l)}break e;case"textarea":Je(n,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Vi(n,!!a.multiple,r,!1)}}}var ri=!1;function Ou(n,r,a){if(ri)return n(r,a);ri=!0;try{var l=n(r);return l}finally{if(ri=!1,(ki!==null||Ui!==null)&&(Ac(),ki&&(r=ki,n=Ui,Ui=ki=null,Bo(r),n)))for(r=0;r<n.length;r++)Bo(n[r])}}function _s(n,r){var a=n.stateNode;if(a===null)return null;var l=a[vt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cn=!1;if(Hn)try{var vs={};Object.defineProperty(vs,"passive",{get:function(){Cn=!0}}),window.addEventListener("test",vs,vs),window.removeEventListener("test",vs,vs)}catch{Cn=!1}var si=null,pr=null,Li=null;function qo(){if(Li)return Li;var n,r=pr,a=r.length,l,f="value"in si?si.value:si.textContent,d=f.length;for(n=0;n<a&&r[n]===f[n];n++);var E=a-n;for(l=1;l<=E&&r[a-l]===f[d-l];l++);return Li=f.slice(n,1<l?1-l:void 0)}function ai(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function oi(){return!0}function jo(){return!1}function Mt(n){function r(a,l,f,d,E){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=E,this.currentTarget=null;for(var T in n)n.hasOwnProperty(T)&&(a=n[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?oi:jo,this.isPropagationStopped=jo,this}return v(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=oi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=oi)},persist:function(){},isPersistent:oi}),r}var Ke={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ma=Mt(Ke),Es=v({},Ke,{view:0,detail:0}),Du=Mt(Es),pa,ga,li,Ts=v({},Es,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bs,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==li&&(li&&n.type==="mousemove"?(pa=n.screenX-li.screenX,ga=n.screenY-li.screenY):ga=pa=0,li=n),pa)},movementY:function(n){return"movementY"in n?n.movementY:ga}}),On=Mt(Ts),Nu=v({},Ts,{dataTransfer:0}),bf=Mt(Nu),As=v({},Es,{relatedTarget:0}),ya=Mt(As),Ho=v({},Ke,{animationName:0,elapsedTime:0,pseudoElement:0}),_a=Mt(Ho),Mu=v({},Ke,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),va=Mt(Mu),wf=v({},Ke,{data:0}),Fo=Mt(wf),Ss={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Go(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=Vu[n])?!!r[n]:!1}function bs(){return Go}var Pu=v({},Es,{key:function(n){if(n.key){var r=Ss[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=ai(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?xu[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bs,charCode:function(n){return n.type==="keypress"?ai(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ai(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Ea=Mt(Pu),ku=v({},Ts,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ko=Mt(ku),zi=v({},Es,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bs}),Uu=Mt(zi),Lu=v({},Ke,{propertyName:0,elapsedTime:0,pseudoElement:0}),zu=Mt(Lu),Bu=v({},Ts,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Ta=Mt(Bu),rn=v({},Ke,{newState:0,oldState:0}),qu=Mt(rn),ju=[9,13,27,32],ui=Hn&&"CompositionEvent"in window,c=null;Hn&&"documentMode"in document&&(c=document.documentMode);var y=Hn&&"TextEvent"in window&&!c,_=Hn&&(!ui||c&&8<c&&11>=c),S=" ",z=!1;function K(n,r){switch(n){case"keyup":return ju.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ae(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var ze=!1;function Rt(n,r){switch(n){case"compositionend":return ae(r);case"keypress":return r.which!==32?null:(z=!0,S);case"textInput":return n=r.data,n===S&&z?null:n;default:return null}}function Be(n,r){if(ze)return n==="compositionend"||!ui&&K(n,r)?(n=qo(),Li=pr=si=null,ze=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _&&r.locale!=="ko"?null:r.data;default:return null}}var xt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function It(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!xt[n.type]:r==="textarea"}function Bi(n,r,a,l){ki?Ui?Ui.push(l):Ui=[l]:ki=l,r=Cc(r,"onChange"),0<r.length&&(a=new ma("onChange","change",null,a,l),n.push({event:a,listeners:r}))}var zt=null,ci=null;function $o(n){ov(n,0)}function Hu(n){var r=ni(n);if(Uo(r))return n}function Cg(n,r){if(n==="change")return r}var Og=!1;if(Hn){var Rf;if(Hn){var If="oninput"in document;if(!If){var Dg=document.createElement("div");Dg.setAttribute("oninput","return;"),If=typeof Dg.oninput=="function"}Rf=If}else Rf=!1;Og=Rf&&(!document.documentMode||9<document.documentMode)}function Ng(){zt&&(zt.detachEvent("onpropertychange",Mg),ci=zt=null)}function Mg(n){if(n.propertyName==="value"&&Hu(ci)){var r=[];Bi(r,ci,n,In(n)),Ou($o,r)}}function xb(n,r,a){n==="focusin"?(Ng(),zt=r,ci=a,zt.attachEvent("onpropertychange",Mg)):n==="focusout"&&Ng()}function Vb(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Hu(ci)}function Pb(n,r){if(n==="click")return Hu(r)}function kb(n,r){if(n==="input"||n==="change")return Hu(r)}function Ub(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var pn=typeof Object.is=="function"?Object.is:Ub;function Qo(n,r){if(pn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var a=Object.keys(n),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!is.call(r,f)||!pn(n[f],r[f]))return!1}return!0}function xg(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Vg(n,r){var a=xg(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=r&&l>=r)return{node:a,offset:r-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=xg(a)}}function Pg(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?Pg(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function kg(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=ms(n.document);r instanceof n.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)n=r.contentWindow;else break;r=ms(n.document)}return r}function Cf(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var Lb=Hn&&"documentMode"in document&&11>=document.documentMode,Aa=null,Of=null,Yo=null,Df=!1;function Ug(n,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Df||Aa==null||Aa!==ms(l)||(l=Aa,"selectionStart"in l&&Cf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Yo&&Qo(Yo,l)||(Yo=l,l=Cc(Of,"onSelect"),0<l.length&&(r=new ma("onSelect","select",null,r,a),n.push({event:r,listeners:l}),r.target=Aa)))}function ws(n,r){var a={};return a[n.toLowerCase()]=r.toLowerCase(),a["Webkit"+n]="webkit"+r,a["Moz"+n]="moz"+r,a}var Sa={animationend:ws("Animation","AnimationEnd"),animationiteration:ws("Animation","AnimationIteration"),animationstart:ws("Animation","AnimationStart"),transitionrun:ws("Transition","TransitionRun"),transitionstart:ws("Transition","TransitionStart"),transitioncancel:ws("Transition","TransitionCancel"),transitionend:ws("Transition","TransitionEnd")},Nf={},Lg={};Hn&&(Lg=document.createElement("div").style,"AnimationEvent"in window||(delete Sa.animationend.animation,delete Sa.animationiteration.animation,delete Sa.animationstart.animation),"TransitionEvent"in window||delete Sa.transitionend.transition);function Rs(n){if(Nf[n])return Nf[n];if(!Sa[n])return n;var r=Sa[n],a;for(a in r)if(r.hasOwnProperty(a)&&a in Lg)return Nf[n]=r[a];return n}var zg=Rs("animationend"),Bg=Rs("animationiteration"),qg=Rs("animationstart"),zb=Rs("transitionrun"),Bb=Rs("transitionstart"),qb=Rs("transitioncancel"),jg=Rs("transitionend"),Hg=new Map,Mf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Mf.push("scrollEnd");function Fn(n,r){Hg.set(n,r),jn(r,[n])}var Fg=new WeakMap;function Dn(n,r){if(typeof n=="object"&&n!==null){var a=Fg.get(n);return a!==void 0?a:(r={value:n,source:r,stack:ha(r)},Fg.set(n,r),r)}return{value:n,source:r,stack:ha(r)}}var Nn=[],ba=0,xf=0;function Fu(){for(var n=ba,r=xf=ba=0;r<n;){var a=Nn[r];Nn[r++]=null;var l=Nn[r];Nn[r++]=null;var f=Nn[r];Nn[r++]=null;var d=Nn[r];if(Nn[r++]=null,l!==null&&f!==null){var E=l.pending;E===null?f.next=f:(f.next=E.next,E.next=f),l.pending=f}d!==0&&Gg(a,f,d)}}function Gu(n,r,a,l){Nn[ba++]=n,Nn[ba++]=r,Nn[ba++]=a,Nn[ba++]=l,xf|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function Vf(n,r,a,l){return Gu(n,r,a,l),Ku(n)}function wa(n,r){return Gu(n,null,null,r),Ku(n)}function Gg(n,r,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=n.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(n=d.stateNode,n===null||n._visibility&1||(f=!0)),n=d,d=d.return;return n.tag===3?(d=n.stateNode,f&&r!==null&&(f=31-$t(a),n=d.hiddenUpdates,l=n[f],l===null?n[f]=[r]:l.push(r),r.lane=a|536870912),d):null}function Ku(n){if(50<El)throw El=0,Bd=null,Error(s(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var Ra={};function jb(n,r,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(n,r,a,l){return new jb(n,r,a,l)}function Pf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function qi(n,r){var a=n.alternate;return a===null?(a=gn(n.tag,r,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=r,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,r=n.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function Kg(n,r){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,r=a.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function $u(n,r,a,l,f,d){var E=0;if(l=n,typeof n=="function")Pf(n)&&(E=1);else if(typeof n=="string")E=Fw(n,a,ge.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case w:return n=gn(31,a,r,f),n.elementType=w,n.lanes=d,n;case D:return Is(a.children,f,d,r);case q:E=8,f|=24;break;case k:return n=gn(12,a,r,f|2),n.elementType=k,n.lanes=d,n;case te:return n=gn(13,a,r,f),n.elementType=te,n.lanes=d,n;case ce:return n=gn(19,a,r,f),n.elementType=ce,n.lanes=d,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case G:case Y:E=10;break e;case re:E=9;break e;case ue:E=11;break e;case I:E=14;break e;case b:E=16,l=null;break e}E=29,a=Error(s(130,n===null?"null":typeof n,"")),l=null}return r=gn(E,a,r,f),r.elementType=n,r.type=l,r.lanes=d,r}function Is(n,r,a,l){return n=gn(7,n,l,r),n.lanes=a,n}function kf(n,r,a){return n=gn(6,n,null,r),n.lanes=a,n}function Uf(n,r,a){return r=gn(4,n.children!==null?n.children:[],n.key,r),r.lanes=a,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var Ia=[],Ca=0,Qu=null,Yu=0,Mn=[],xn=0,Cs=null,ji=1,Hi="";function Os(n,r){Ia[Ca++]=Yu,Ia[Ca++]=Qu,Qu=n,Yu=r}function $g(n,r,a){Mn[xn++]=ji,Mn[xn++]=Hi,Mn[xn++]=Cs,Cs=n;var l=ji;n=Hi;var f=32-$t(l)-1;l&=~(1<<f),a+=1;var d=32-$t(r)+f;if(30<d){var E=f-f%5;d=(l&(1<<E)-1).toString(32),l>>=E,f-=E,ji=1<<32-$t(r)+f|a<<f|l,Hi=d+n}else ji=1<<d|a<<f|l,Hi=n}function Lf(n){n.return!==null&&(Os(n,1),$g(n,1,0))}function zf(n){for(;n===Qu;)Qu=Ia[--Ca],Ia[Ca]=null,Yu=Ia[--Ca],Ia[Ca]=null;for(;n===Cs;)Cs=Mn[--xn],Mn[xn]=null,Hi=Mn[--xn],Mn[xn]=null,ji=Mn[--xn],Mn[xn]=null}var sn=null,ft=null,Ge=!1,Ds=null,hi=!1,Bf=Error(s(519));function Ns(n){var r=Error(s(418,""));throw Jo(Dn(r,n)),Bf}function Qg(n){var r=n.stateNode,a=n.type,l=n.memoizedProps;switch(r[wt]=n,r[vt]=l,a){case"dialog":Pe("cancel",r),Pe("close",r);break;case"iframe":case"object":case"embed":Pe("load",r);break;case"video":case"audio":for(a=0;a<Al.length;a++)Pe(Al[a],r);break;case"source":Pe("error",r);break;case"img":case"image":case"link":Pe("error",r),Pe("load",r);break;case"details":Pe("toggle",r);break;case"input":Pe("invalid",r),ps(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),fa(r);break;case"select":Pe("invalid",r);break;case"textarea":Pe("invalid",r),gs(r,l.value,l.defaultValue,l.children),fa(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||hv(r.textContent,a)?(l.popover!=null&&(Pe("beforetoggle",r),Pe("toggle",r)),l.onScroll!=null&&Pe("scroll",r),l.onScrollEnd!=null&&Pe("scrollend",r),l.onClick!=null&&(r.onclick=Oc),r=!0):r=!1,r||Ns(n)}function Yg(n){for(sn=n.return;sn;)switch(sn.tag){case 5:case 13:hi=!1;return;case 27:case 3:hi=!0;return;default:sn=sn.return}}function Xo(n){if(n!==sn)return!1;if(!Ge)return Yg(n),Ge=!0,!1;var r=n.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||nm(n.type,n.memoizedProps)),a=!a),a&&ft&&Ns(n),Yg(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(r===0){ft=Kn(n.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;n=n.nextSibling}ft=null}}else r===27?(r=ft,Nr(n.type)?(n=am,am=null,ft=n):ft=r):ft=sn?Kn(n.stateNode.nextSibling):null;return!0}function Wo(){ft=sn=null,Ge=!1}function Xg(){var n=Ds;return n!==null&&(ln===null?ln=n:ln.push.apply(ln,n),Ds=null),n}function Jo(n){Ds===null?Ds=[n]:Ds.push(n)}var qf=ne(null),Ms=null,Fi=null;function gr(n,r,a){se(qf,r._currentValue),r._currentValue=a}function Gi(n){n._currentValue=qf.current,le(qf)}function jf(n,r,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),n===a)break;n=n.return}}function Hf(n,r,a,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var d=f.dependencies;if(d!==null){var E=f.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=f;for(var O=0;O<r.length;O++)if(T.context===r[O]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),jf(d.return,a,n),l||(E=null);break e}d=T.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(s(341));E.lanes|=a,d=E.alternate,d!==null&&(d.lanes|=a),jf(E,a,n),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===n){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function Zo(n,r,a,l){n=null;for(var f=r,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var T=f.type;pn(f.pendingProps.value,E.value)||(n!==null?n.push(T):n=[T])}}else if(f===Me.current){if(E=f.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(Cl):n=[Cl])}f=f.return}n!==null&&Hf(r,n,a,l),r.flags|=262144}function Xu(n){for(n=n.firstContext;n!==null;){if(!pn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function xs(n){Ms=n,Fi=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Qt(n){return Wg(Ms,n)}function Wu(n,r){return Ms===null&&xs(n),Wg(n,r)}function Wg(n,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Fi===null){if(n===null)throw Error(s(308));Fi=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else Fi=Fi.next=r;return a}var Hb=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){r.aborted=!0,n.forEach(function(a){return a()})}},Fb=i.unstable_scheduleCallback,Gb=i.unstable_NormalPriority,Ct={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ff(){return{controller:new Hb,data:new Map,refCount:0}}function el(n){n.refCount--,n.refCount===0&&Fb(Gb,function(){n.controller.abort()})}var tl=null,Gf=0,Oa=0,Da=null;function Kb(n,r){if(tl===null){var a=tl=[];Gf=0,Oa=$d(),Da={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Gf++,r.then(Jg,Jg),r}function Jg(){if(--Gf===0&&tl!==null){Da!==null&&(Da.status="fulfilled");var n=tl;tl=null,Oa=0,Da=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function $b(n,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Zg=Q.S;Q.S=function(n,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&Kb(n,r),Zg!==null&&Zg(n,r)};var Vs=ne(null);function Kf(){var n=Vs.current;return n!==null?n:rt.pooledCache}function Ju(n,r){r===null?se(Vs,Vs.current):se(Vs,r.pool)}function ey(){var n=Kf();return n===null?null:{parent:Ct._currentValue,pool:n}}var nl=Error(s(460)),ty=Error(s(474)),Zu=Error(s(542)),$f={then:function(){}};function ny(n){return n=n.status,n==="fulfilled"||n==="rejected"}function ec(){}function iy(n,r,a){switch(a=n[a],a===void 0?n.push(r):a!==r&&(r.then(ec,ec),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,sy(n),n;default:if(typeof r.status=="string")r.then(ec,ec);else{if(n=rt,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=r,n.status="pending",n.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,sy(n),n}throw il=r,nl}}var il=null;function ry(){if(il===null)throw Error(s(459));var n=il;return il=null,n}function sy(n){if(n===nl||n===Zu)throw Error(s(483))}var yr=!1;function Qf(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yf(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function _r(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function vr(n,r,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(Xe&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=Ku(n),Gg(n,null,a),r}return Gu(n,l,r,a),Ku(n)}function rl(n,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,Mo(n,a)}}function Xf(n,r){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=E:d=d.next=E,a=a.next}while(a!==null);d===null?f=d=r:d=d.next=r}else f=d=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=r:n.next=r,a.lastBaseUpdate=r}var Wf=!1;function sl(){if(Wf){var n=Da;if(n!==null)throw n}}function al(n,r,a,l){Wf=!1;var f=n.updateQueue;yr=!1;var d=f.firstBaseUpdate,E=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var O=T,j=O.next;O.next=null,E===null?d=j:E.next=j,E=O;var X=n.alternate;X!==null&&(X=X.updateQueue,T=X.lastBaseUpdate,T!==E&&(T===null?X.firstBaseUpdate=j:T.next=j,X.lastBaseUpdate=O))}if(d!==null){var Z=f.baseState;E=0,X=j=O=null,T=d;do{var H=T.lane&-536870913,F=H!==T.lane;if(F?(qe&H)===H:(l&H)===H){H!==0&&H===Oa&&(Wf=!0),X!==null&&(X=X.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Ae=n,ve=T;H=r;var tt=a;switch(ve.tag){case 1:if(Ae=ve.payload,typeof Ae=="function"){Z=Ae.call(tt,Z,H);break e}Z=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=ve.payload,H=typeof Ae=="function"?Ae.call(tt,Z,H):Ae,H==null)break e;Z=v({},Z,H);break e;case 2:yr=!0}}H=T.callback,H!==null&&(n.flags|=64,F&&(n.flags|=8192),F=f.callbacks,F===null?f.callbacks=[H]:F.push(H))}else F={lane:H,tag:T.tag,payload:T.payload,callback:T.callback,next:null},X===null?(j=X=F,O=Z):X=X.next=F,E|=H;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;F=T,T=F.next,F.next=null,f.lastBaseUpdate=F,f.shared.pending=null}}while(!0);X===null&&(O=Z),f.baseState=O,f.firstBaseUpdate=j,f.lastBaseUpdate=X,d===null&&(f.shared.lanes=0),Ir|=E,n.lanes=E,n.memoizedState=Z}}function ay(n,r){if(typeof n!="function")throw Error(s(191,n));n.call(r)}function oy(n,r){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)ay(a[n],r)}var Na=ne(null),tc=ne(0);function ly(n,r){n=Ji,se(tc,n),se(Na,r),Ji=n|r.baseLanes}function Jf(){se(tc,Ji),se(Na,Na.current)}function Zf(){Ji=tc.current,le(Na),le(tc)}var Er=0,De=null,Ze=null,Tt=null,nc=!1,Ma=!1,Ps=!1,ic=0,ol=0,xa=null,Qb=0;function gt(){throw Error(s(321))}function ed(n,r){if(r===null)return!1;for(var a=0;a<r.length&&a<n.length;a++)if(!pn(n[a],r[a]))return!1;return!0}function td(n,r,a,l,f,d){return Er=d,De=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Q.H=n===null||n.memoizedState===null?Gy:Ky,Ps=!1,d=a(l,f),Ps=!1,Ma&&(d=cy(r,a,l,f)),uy(n),d}function uy(n){Q.H=uc;var r=Ze!==null&&Ze.next!==null;if(Er=0,Tt=Ze=De=null,nc=!1,ol=0,xa=null,r)throw Error(s(300));n===null||Vt||(n=n.dependencies,n!==null&&Xu(n)&&(Vt=!0))}function cy(n,r,a,l){De=n;var f=0;do{if(Ma&&(xa=null),ol=0,Ma=!1,25<=f)throw Error(s(301));if(f+=1,Tt=Ze=null,n.updateQueue!=null){var d=n.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Q.H=tw,d=r(a,l)}while(Ma);return d}function Yb(){var n=Q.H,r=n.useState()[0];return r=typeof r.then=="function"?ll(r):r,n=n.useState()[0],(Ze!==null?Ze.memoizedState:null)!==n&&(De.flags|=1024),r}function nd(){var n=ic!==0;return ic=0,n}function id(n,r,a){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~a}function rd(n){if(nc){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}nc=!1}Er=0,Tt=Ze=De=null,Ma=!1,ol=ic=0,xa=null}function an(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?De.memoizedState=Tt=n:Tt=Tt.next=n,Tt}function At(){if(Ze===null){var n=De.alternate;n=n!==null?n.memoizedState:null}else n=Ze.next;var r=Tt===null?De.memoizedState:Tt.next;if(r!==null)Tt=r,Ze=n;else{if(n===null)throw De.alternate===null?Error(s(467)):Error(s(310));Ze=n,n={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},Tt===null?De.memoizedState=Tt=n:Tt=Tt.next=n}return Tt}function sd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ll(n){var r=ol;return ol+=1,xa===null&&(xa=[]),n=iy(xa,n,r),r=De,(Tt===null?r.memoizedState:Tt.next)===null&&(r=r.alternate,Q.H=r===null||r.memoizedState===null?Gy:Ky),n}function rc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return ll(n);if(n.$$typeof===Y)return Qt(n)}throw Error(s(438,String(n)))}function ad(n){var r=null,a=De.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=De.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=sd(),De.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(n),l=0;l<n;l++)a[l]=N;return r.index++,a}function Ki(n,r){return typeof r=="function"?r(n):r}function sc(n){var r=At();return od(r,Ze,n)}function od(n,r,a){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=n.baseQueue,d=l.pending;if(d!==null){if(f!==null){var E=f.next;f.next=d.next,d.next=E}r.baseQueue=f=d,l.pending=null}if(d=n.baseState,f===null)n.memoizedState=d;else{r=f.next;var T=E=null,O=null,j=r,X=!1;do{var Z=j.lane&-536870913;if(Z!==j.lane?(qe&Z)===Z:(Er&Z)===Z){var H=j.revertLane;if(H===0)O!==null&&(O=O.next={lane:0,revertLane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),Z===Oa&&(X=!0);else if((Er&H)===H){j=j.next,H===Oa&&(X=!0);continue}else Z={lane:0,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},O===null?(T=O=Z,E=d):O=O.next=Z,De.lanes|=H,Ir|=H;Z=j.action,Ps&&a(d,Z),d=j.hasEagerState?j.eagerState:a(d,Z)}else H={lane:Z,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},O===null?(T=O=H,E=d):O=O.next=H,De.lanes|=Z,Ir|=Z;j=j.next}while(j!==null&&j!==r);if(O===null?E=d:O.next=T,!pn(d,n.memoizedState)&&(Vt=!0,X&&(a=Da,a!==null)))throw a;n.memoizedState=d,n.baseState=E,n.baseQueue=O,l.lastRenderedState=d}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function ld(n){var r=At(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var l=a.dispatch,f=a.pending,d=r.memoizedState;if(f!==null){a.pending=null;var E=f=f.next;do d=n(d,E.action),E=E.next;while(E!==f);pn(d,r.memoizedState)||(Vt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function hy(n,r,a){var l=De,f=At(),d=Ge;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var E=!pn((Ze||f).memoizedState,a);E&&(f.memoizedState=a,Vt=!0),f=f.queue;var T=my.bind(null,l,f,n);if(ul(2048,8,T,[n]),f.getSnapshot!==r||E||Tt!==null&&Tt.memoizedState.tag&1){if(l.flags|=2048,Va(9,ac(),dy.bind(null,l,f,a,r),null),rt===null)throw Error(s(349));d||(Er&124)!==0||fy(l,r,a)}return a}function fy(n,r,a){n.flags|=16384,n={getSnapshot:r,value:a},r=De.updateQueue,r===null?(r=sd(),De.updateQueue=r,r.stores=[n]):(a=r.stores,a===null?r.stores=[n]:a.push(n))}function dy(n,r,a,l){r.value=a,r.getSnapshot=l,py(r)&&gy(n)}function my(n,r,a){return a(function(){py(r)&&gy(n)})}function py(n){var r=n.getSnapshot;n=n.value;try{var a=r();return!pn(n,a)}catch{return!0}}function gy(n){var r=wa(n,2);r!==null&&Tn(r,n,2)}function ud(n){var r=an();if(typeof n=="function"){var a=n;if(n=a(),Ps){dn(!0);try{a()}finally{dn(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:n},r}function yy(n,r,a,l){return n.baseState=a,od(n,Ze,typeof l=="function"?l:Ki)}function Xb(n,r,a,l,f){if(lc(n))throw Error(s(485));if(n=r.action,n!==null){var d={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){d.listeners.push(E)}};Q.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,_y(r,d)):(d.next=a.next,r.pending=a.next=d)}}function _y(n,r){var a=r.action,l=r.payload,f=n.state;if(r.isTransition){var d=Q.T,E={};Q.T=E;try{var T=a(f,l),O=Q.S;O!==null&&O(E,T),vy(n,r,T)}catch(j){cd(n,r,j)}finally{Q.T=d}}else try{d=a(f,l),vy(n,r,d)}catch(j){cd(n,r,j)}}function vy(n,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Ey(n,r,l)},function(l){return cd(n,r,l)}):Ey(n,r,a)}function Ey(n,r,a){r.status="fulfilled",r.value=a,Ty(r),n.state=a,r=n.pending,r!==null&&(a=r.next,a===r?n.pending=null:(a=a.next,r.next=a,_y(n,a)))}function cd(n,r,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,Ty(r),r=r.next;while(r!==l)}n.action=null}function Ty(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function Ay(n,r){return r}function Sy(n,r){if(Ge){var a=rt.formState;if(a!==null){e:{var l=De;if(Ge){if(ft){t:{for(var f=ft,d=hi;f.nodeType!==8;){if(!d){f=null;break t}if(f=Kn(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){ft=Kn(f.nextSibling),l=f.data==="F!";break e}}Ns(l)}l=!1}l&&(r=a[0])}}return a=an(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ay,lastRenderedState:r},a.queue=l,a=jy.bind(null,De,l),l.dispatch=a,l=ud(!1),d=pd.bind(null,De,!1,l.queue),l=an(),f={state:r,dispatch:null,action:n,pending:null},l.queue=f,a=Xb.bind(null,De,f,d,a),f.dispatch=a,l.memoizedState=n,[r,a,!1]}function by(n){var r=At();return wy(r,Ze,n)}function wy(n,r,a){if(r=od(n,r,Ay)[0],n=sc(Ki)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=ll(r)}catch(E){throw E===nl?Zu:E}else l=r;r=At();var f=r.queue,d=f.dispatch;return a!==r.memoizedState&&(De.flags|=2048,Va(9,ac(),Wb.bind(null,f,a),null)),[l,d,n]}function Wb(n,r){n.action=r}function Ry(n){var r=At(),a=Ze;if(a!==null)return wy(r,a,n);At(),r=r.memoizedState,a=At();var l=a.queue.dispatch;return a.memoizedState=n,[r,l,!1]}function Va(n,r,a,l){return n={tag:n,create:a,deps:l,inst:r,next:null},r=De.updateQueue,r===null&&(r=sd(),De.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,r.lastEffect=n),n}function ac(){return{destroy:void 0,resource:void 0}}function Iy(){return At().memoizedState}function oc(n,r,a,l){var f=an();l=l===void 0?null:l,De.flags|=n,f.memoizedState=Va(1|r,ac(),a,l)}function ul(n,r,a,l){var f=At();l=l===void 0?null:l;var d=f.memoizedState.inst;Ze!==null&&l!==null&&ed(l,Ze.memoizedState.deps)?f.memoizedState=Va(r,d,a,l):(De.flags|=n,f.memoizedState=Va(1|r,d,a,l))}function Cy(n,r){oc(8390656,8,n,r)}function Oy(n,r){ul(2048,8,n,r)}function Dy(n,r){return ul(4,2,n,r)}function Ny(n,r){return ul(4,4,n,r)}function My(n,r){if(typeof r=="function"){n=n();var a=r(n);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function xy(n,r,a){a=a!=null?a.concat([n]):null,ul(4,4,My.bind(null,r,n),a)}function hd(){}function Vy(n,r){var a=At();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&ed(r,l[1])?l[0]:(a.memoizedState=[n,r],n)}function Py(n,r){var a=At();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&ed(r,l[1]))return l[0];if(l=n(),Ps){dn(!0);try{n()}finally{dn(!1)}}return a.memoizedState=[l,r],l}function fd(n,r,a){return a===void 0||(Er&1073741824)!==0?n.memoizedState=r:(n.memoizedState=a,n=L_(),De.lanes|=n,Ir|=n,a)}function ky(n,r,a,l){return pn(a,r)?a:Na.current!==null?(n=fd(n,a,l),pn(n,r)||(Vt=!0),n):(Er&42)===0?(Vt=!0,n.memoizedState=a):(n=L_(),De.lanes|=n,Ir|=n,r)}function Uy(n,r,a,l,f){var d=oe.p;oe.p=d!==0&&8>d?d:8;var E=Q.T,T={};Q.T=T,pd(n,!1,r,a);try{var O=f(),j=Q.S;if(j!==null&&j(T,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var X=$b(O,l);cl(n,r,X,En(n))}else cl(n,r,l,En(n))}catch(Z){cl(n,r,{then:function(){},status:"rejected",reason:Z},En())}finally{oe.p=d,Q.T=E}}function Jb(){}function dd(n,r,a,l){if(n.tag!==5)throw Error(s(476));var f=Ly(n).queue;Uy(n,f,r,me,a===null?Jb:function(){return zy(n),a(l)})}function Ly(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:me},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:a},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function zy(n){var r=Ly(n).next.queue;cl(n,r,{},En())}function md(){return Qt(Cl)}function By(){return At().memoizedState}function qy(){return At().memoizedState}function Zb(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var a=En();n=_r(a);var l=vr(r,n,a);l!==null&&(Tn(l,r,a),rl(l,r,a)),r={cache:Ff()},n.payload=r;return}r=r.return}}function ew(n,r,a){var l=En();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},lc(n)?Hy(r,a):(a=Vf(n,r,a,l),a!==null&&(Tn(a,n,l),Fy(a,r,l)))}function jy(n,r,a){var l=En();cl(n,r,a,l)}function cl(n,r,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(lc(n))Hy(r,f);else{var d=n.alternate;if(n.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var E=r.lastRenderedState,T=d(E,a);if(f.hasEagerState=!0,f.eagerState=T,pn(T,E))return Gu(n,r,f,0),rt===null&&Fu(),!1}catch{}finally{}if(a=Vf(n,r,f,l),a!==null)return Tn(a,n,l),Fy(a,r,l),!0}return!1}function pd(n,r,a,l){if(l={lane:2,revertLane:$d(),action:l,hasEagerState:!1,eagerState:null,next:null},lc(n)){if(r)throw Error(s(479))}else r=Vf(n,a,l,2),r!==null&&Tn(r,n,2)}function lc(n){var r=n.alternate;return n===De||r!==null&&r===De}function Hy(n,r){Ma=nc=!0;var a=n.pending;a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r}function Fy(n,r,a){if((a&4194048)!==0){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,Mo(n,a)}}var uc={readContext:Qt,use:rc,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useLayoutEffect:gt,useInsertionEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useSyncExternalStore:gt,useId:gt,useHostTransitionStatus:gt,useFormState:gt,useActionState:gt,useOptimistic:gt,useMemoCache:gt,useCacheRefresh:gt},Gy={readContext:Qt,use:rc,useCallback:function(n,r){return an().memoizedState=[n,r===void 0?null:r],n},useContext:Qt,useEffect:Cy,useImperativeHandle:function(n,r,a){a=a!=null?a.concat([n]):null,oc(4194308,4,My.bind(null,r,n),a)},useLayoutEffect:function(n,r){return oc(4194308,4,n,r)},useInsertionEffect:function(n,r){oc(4,2,n,r)},useMemo:function(n,r){var a=an();r=r===void 0?null:r;var l=n();if(Ps){dn(!0);try{n()}finally{dn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(n,r,a){var l=an();if(a!==void 0){var f=a(r);if(Ps){dn(!0);try{a(r)}finally{dn(!1)}}}else f=r;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=ew.bind(null,De,n),[l.memoizedState,n]},useRef:function(n){var r=an();return n={current:n},r.memoizedState=n},useState:function(n){n=ud(n);var r=n.queue,a=jy.bind(null,De,r);return r.dispatch=a,[n.memoizedState,a]},useDebugValue:hd,useDeferredValue:function(n,r){var a=an();return fd(a,n,r)},useTransition:function(){var n=ud(!1);return n=Uy.bind(null,De,n.queue,!0,!1),an().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,a){var l=De,f=an();if(Ge){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),rt===null)throw Error(s(349));(qe&124)!==0||fy(l,r,a)}f.memoizedState=a;var d={value:a,getSnapshot:r};return f.queue=d,Cy(my.bind(null,l,d,n),[n]),l.flags|=2048,Va(9,ac(),dy.bind(null,l,d,a,r),null),a},useId:function(){var n=an(),r=rt.identifierPrefix;if(Ge){var a=Hi,l=ji;a=(l&~(1<<32-$t(l)-1)).toString(32)+a,r=""+r+"R"+a,a=ic++,0<a&&(r+="H"+a.toString(32)),r+=""}else a=Qb++,r=""+r+"r"+a.toString(32)+"";return n.memoizedState=r},useHostTransitionStatus:md,useFormState:Sy,useActionState:Sy,useOptimistic:function(n){var r=an();r.memoizedState=r.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=pd.bind(null,De,!0,a),a.dispatch=r,[n,r]},useMemoCache:ad,useCacheRefresh:function(){return an().memoizedState=Zb.bind(null,De)}},Ky={readContext:Qt,use:rc,useCallback:Vy,useContext:Qt,useEffect:Oy,useImperativeHandle:xy,useInsertionEffect:Dy,useLayoutEffect:Ny,useMemo:Py,useReducer:sc,useRef:Iy,useState:function(){return sc(Ki)},useDebugValue:hd,useDeferredValue:function(n,r){var a=At();return ky(a,Ze.memoizedState,n,r)},useTransition:function(){var n=sc(Ki)[0],r=At().memoizedState;return[typeof n=="boolean"?n:ll(n),r]},useSyncExternalStore:hy,useId:By,useHostTransitionStatus:md,useFormState:by,useActionState:by,useOptimistic:function(n,r){var a=At();return yy(a,Ze,n,r)},useMemoCache:ad,useCacheRefresh:qy},tw={readContext:Qt,use:rc,useCallback:Vy,useContext:Qt,useEffect:Oy,useImperativeHandle:xy,useInsertionEffect:Dy,useLayoutEffect:Ny,useMemo:Py,useReducer:ld,useRef:Iy,useState:function(){return ld(Ki)},useDebugValue:hd,useDeferredValue:function(n,r){var a=At();return Ze===null?fd(a,n,r):ky(a,Ze.memoizedState,n,r)},useTransition:function(){var n=ld(Ki)[0],r=At().memoizedState;return[typeof n=="boolean"?n:ll(n),r]},useSyncExternalStore:hy,useId:By,useHostTransitionStatus:md,useFormState:Ry,useActionState:Ry,useOptimistic:function(n,r){var a=At();return Ze!==null?yy(a,Ze,n,r):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:ad,useCacheRefresh:qy},Pa=null,hl=0;function cc(n){var r=hl;return hl+=1,Pa===null&&(Pa=[]),iy(Pa,n,r)}function fl(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function hc(n,r){throw r.$$typeof===A?Error(s(525)):(n=Object.prototype.toString.call(r),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function $y(n){var r=n._init;return r(n._payload)}function Qy(n){function r(L,P){if(n){var B=L.deletions;B===null?(L.deletions=[P],L.flags|=16):B.push(P)}}function a(L,P){if(!n)return null;for(;P!==null;)r(L,P),P=P.sibling;return null}function l(L){for(var P=new Map;L!==null;)L.key!==null?P.set(L.key,L):P.set(L.index,L),L=L.sibling;return P}function f(L,P){return L=qi(L,P),L.index=0,L.sibling=null,L}function d(L,P,B){return L.index=B,n?(B=L.alternate,B!==null?(B=B.index,B<P?(L.flags|=67108866,P):B):(L.flags|=67108866,P)):(L.flags|=1048576,P)}function E(L){return n&&L.alternate===null&&(L.flags|=67108866),L}function T(L,P,B,J){return P===null||P.tag!==6?(P=kf(B,L.mode,J),P.return=L,P):(P=f(P,B),P.return=L,P)}function O(L,P,B,J){var fe=B.type;return fe===D?X(L,P,B.props.children,J,B.key):P!==null&&(P.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===b&&$y(fe)===P.type)?(P=f(P,B.props),fl(P,B),P.return=L,P):(P=$u(B.type,B.key,B.props,null,L.mode,J),fl(P,B),P.return=L,P)}function j(L,P,B,J){return P===null||P.tag!==4||P.stateNode.containerInfo!==B.containerInfo||P.stateNode.implementation!==B.implementation?(P=Uf(B,L.mode,J),P.return=L,P):(P=f(P,B.children||[]),P.return=L,P)}function X(L,P,B,J,fe){return P===null||P.tag!==7?(P=Is(B,L.mode,J,fe),P.return=L,P):(P=f(P,B),P.return=L,P)}function Z(L,P,B){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=kf(""+P,L.mode,B),P.return=L,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case R:return B=$u(P.type,P.key,P.props,null,L.mode,B),fl(B,P),B.return=L,B;case V:return P=Uf(P,L.mode,B),P.return=L,P;case b:var J=P._init;return P=J(P._payload),Z(L,P,B)}if(nt(P)||U(P))return P=Is(P,L.mode,B,null),P.return=L,P;if(typeof P.then=="function")return Z(L,cc(P),B);if(P.$$typeof===Y)return Z(L,Wu(L,P),B);hc(L,P)}return null}function H(L,P,B,J){var fe=P!==null?P.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return fe!==null?null:T(L,P,""+B,J);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case R:return B.key===fe?O(L,P,B,J):null;case V:return B.key===fe?j(L,P,B,J):null;case b:return fe=B._init,B=fe(B._payload),H(L,P,B,J)}if(nt(B)||U(B))return fe!==null?null:X(L,P,B,J,null);if(typeof B.then=="function")return H(L,P,cc(B),J);if(B.$$typeof===Y)return H(L,P,Wu(L,B),J);hc(L,B)}return null}function F(L,P,B,J,fe){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return L=L.get(B)||null,T(P,L,""+J,fe);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case R:return L=L.get(J.key===null?B:J.key)||null,O(P,L,J,fe);case V:return L=L.get(J.key===null?B:J.key)||null,j(P,L,J,fe);case b:var xe=J._init;return J=xe(J._payload),F(L,P,B,J,fe)}if(nt(J)||U(J))return L=L.get(B)||null,X(P,L,J,fe,null);if(typeof J.then=="function")return F(L,P,B,cc(J),fe);if(J.$$typeof===Y)return F(L,P,B,Wu(P,J),fe);hc(P,J)}return null}function Ae(L,P,B,J){for(var fe=null,xe=null,pe=P,Te=P=0,kt=null;pe!==null&&Te<B.length;Te++){pe.index>Te?(kt=pe,pe=null):kt=pe.sibling;var Fe=H(L,pe,B[Te],J);if(Fe===null){pe===null&&(pe=kt);break}n&&pe&&Fe.alternate===null&&r(L,pe),P=d(Fe,P,Te),xe===null?fe=Fe:xe.sibling=Fe,xe=Fe,pe=kt}if(Te===B.length)return a(L,pe),Ge&&Os(L,Te),fe;if(pe===null){for(;Te<B.length;Te++)pe=Z(L,B[Te],J),pe!==null&&(P=d(pe,P,Te),xe===null?fe=pe:xe.sibling=pe,xe=pe);return Ge&&Os(L,Te),fe}for(pe=l(pe);Te<B.length;Te++)kt=F(pe,L,Te,B[Te],J),kt!==null&&(n&&kt.alternate!==null&&pe.delete(kt.key===null?Te:kt.key),P=d(kt,P,Te),xe===null?fe=kt:xe.sibling=kt,xe=kt);return n&&pe.forEach(function(kr){return r(L,kr)}),Ge&&Os(L,Te),fe}function ve(L,P,B,J){if(B==null)throw Error(s(151));for(var fe=null,xe=null,pe=P,Te=P=0,kt=null,Fe=B.next();pe!==null&&!Fe.done;Te++,Fe=B.next()){pe.index>Te?(kt=pe,pe=null):kt=pe.sibling;var kr=H(L,pe,Fe.value,J);if(kr===null){pe===null&&(pe=kt);break}n&&pe&&kr.alternate===null&&r(L,pe),P=d(kr,P,Te),xe===null?fe=kr:xe.sibling=kr,xe=kr,pe=kt}if(Fe.done)return a(L,pe),Ge&&Os(L,Te),fe;if(pe===null){for(;!Fe.done;Te++,Fe=B.next())Fe=Z(L,Fe.value,J),Fe!==null&&(P=d(Fe,P,Te),xe===null?fe=Fe:xe.sibling=Fe,xe=Fe);return Ge&&Os(L,Te),fe}for(pe=l(pe);!Fe.done;Te++,Fe=B.next())Fe=F(pe,L,Te,Fe.value,J),Fe!==null&&(n&&Fe.alternate!==null&&pe.delete(Fe.key===null?Te:Fe.key),P=d(Fe,P,Te),xe===null?fe=Fe:xe.sibling=Fe,xe=Fe);return n&&pe.forEach(function(nR){return r(L,nR)}),Ge&&Os(L,Te),fe}function tt(L,P,B,J){if(typeof B=="object"&&B!==null&&B.type===D&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case R:e:{for(var fe=B.key;P!==null;){if(P.key===fe){if(fe=B.type,fe===D){if(P.tag===7){a(L,P.sibling),J=f(P,B.props.children),J.return=L,L=J;break e}}else if(P.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===b&&$y(fe)===P.type){a(L,P.sibling),J=f(P,B.props),fl(J,B),J.return=L,L=J;break e}a(L,P);break}else r(L,P);P=P.sibling}B.type===D?(J=Is(B.props.children,L.mode,J,B.key),J.return=L,L=J):(J=$u(B.type,B.key,B.props,null,L.mode,J),fl(J,B),J.return=L,L=J)}return E(L);case V:e:{for(fe=B.key;P!==null;){if(P.key===fe)if(P.tag===4&&P.stateNode.containerInfo===B.containerInfo&&P.stateNode.implementation===B.implementation){a(L,P.sibling),J=f(P,B.children||[]),J.return=L,L=J;break e}else{a(L,P);break}else r(L,P);P=P.sibling}J=Uf(B,L.mode,J),J.return=L,L=J}return E(L);case b:return fe=B._init,B=fe(B._payload),tt(L,P,B,J)}if(nt(B))return Ae(L,P,B,J);if(U(B)){if(fe=U(B),typeof fe!="function")throw Error(s(150));return B=fe.call(B),ve(L,P,B,J)}if(typeof B.then=="function")return tt(L,P,cc(B),J);if(B.$$typeof===Y)return tt(L,P,Wu(L,B),J);hc(L,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,P!==null&&P.tag===6?(a(L,P.sibling),J=f(P,B),J.return=L,L=J):(a(L,P),J=kf(B,L.mode,J),J.return=L,L=J),E(L)):a(L,P)}return function(L,P,B,J){try{hl=0;var fe=tt(L,P,B,J);return Pa=null,fe}catch(pe){if(pe===nl||pe===Zu)throw pe;var xe=gn(29,pe,null,L.mode);return xe.lanes=J,xe.return=L,xe}finally{}}}var ka=Qy(!0),Yy=Qy(!1),Vn=ne(null),fi=null;function Tr(n){var r=n.alternate;se(Ot,Ot.current&1),se(Vn,n),fi===null&&(r===null||Na.current!==null||r.memoizedState!==null)&&(fi=n)}function Xy(n){if(n.tag===22){if(se(Ot,Ot.current),se(Vn,n),fi===null){var r=n.alternate;r!==null&&r.memoizedState!==null&&(fi=n)}}else Ar()}function Ar(){se(Ot,Ot.current),se(Vn,Vn.current)}function $i(n){le(Vn),fi===n&&(fi=null),le(Ot)}var Ot=ne(0);function fc(n){for(var r=n;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||sm(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function gd(n,r,a,l){r=n.memoizedState,a=a(l,r),a=a==null?r:v({},r,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var yd={enqueueSetState:function(n,r,a){n=n._reactInternals;var l=En(),f=_r(l);f.payload=r,a!=null&&(f.callback=a),r=vr(n,f,l),r!==null&&(Tn(r,n,l),rl(r,n,l))},enqueueReplaceState:function(n,r,a){n=n._reactInternals;var l=En(),f=_r(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=vr(n,f,l),r!==null&&(Tn(r,n,l),rl(r,n,l))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var a=En(),l=_r(a);l.tag=2,r!=null&&(l.callback=r),r=vr(n,l,a),r!==null&&(Tn(r,n,a),rl(r,n,a))}};function Wy(n,r,a,l,f,d,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,d,E):r.prototype&&r.prototype.isPureReactComponent?!Qo(a,l)||!Qo(f,d):!0}function Jy(n,r,a,l){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==n&&yd.enqueueReplaceState(r,r.state,null)}function ks(n,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(n=n.defaultProps){a===r&&(a=v({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}var dc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Zy(n){dc(n)}function e_(n){console.error(n)}function t_(n){dc(n)}function mc(n,r){try{var a=n.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function n_(n,r,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function _d(n,r,a){return a=_r(a),a.tag=3,a.payload={element:null},a.callback=function(){mc(n,r)},a}function i_(n){return n=_r(n),n.tag=3,n}function r_(n,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;n.payload=function(){return f(d)},n.callback=function(){n_(r,a,l)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){n_(r,a,l),typeof f!="function"&&(Cr===null?Cr=new Set([this]):Cr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function nw(n,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&Zo(r,a,f,!0),a=Vn.current,a!==null){switch(a.tag){case 13:return fi===null?jd():a.alternate===null&&dt===0&&(dt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===$f?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Fd(n,l,f)),!1;case 22:return a.flags|=65536,l===$f?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Fd(n,l,f)),!1}throw Error(s(435,a.tag))}return Fd(n,l,f),jd(),!1}if(Ge)return r=Vn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==Bf&&(n=Error(s(422),{cause:l}),Jo(Dn(n,a)))):(l!==Bf&&(r=Error(s(423),{cause:l}),Jo(Dn(r,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=Dn(l,a),f=_d(n.stateNode,l,f),Xf(n,f),dt!==4&&(dt=2)),!1;var d=Error(s(520),{cause:l});if(d=Dn(d,a),vl===null?vl=[d]:vl.push(d),dt!==4&&(dt=2),r===null)return!0;l=Dn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=_d(a.stateNode,l,n),Xf(a,n),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Cr===null||!Cr.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=i_(f),r_(f,n,a,l),Xf(a,f),!1}a=a.return}while(a!==null);return!1}var s_=Error(s(461)),Vt=!1;function Bt(n,r,a,l){r.child=n===null?Yy(r,null,a,l):ka(r,n.child,a,l)}function a_(n,r,a,l,f){a=a.render;var d=r.ref;if("ref"in l){var E={};for(var T in l)T!=="ref"&&(E[T]=l[T])}else E=l;return xs(r),l=td(n,r,a,E,d,f),T=nd(),n!==null&&!Vt?(id(n,r,f),Qi(n,r,f)):(Ge&&T&&Lf(r),r.flags|=1,Bt(n,r,l,f),r.child)}function o_(n,r,a,l,f){if(n===null){var d=a.type;return typeof d=="function"&&!Pf(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,l_(n,r,d,l,f)):(n=$u(a.type,null,l,r,r.mode,f),n.ref=r.ref,n.return=r,r.child=n)}if(d=n.child,!Rd(n,f)){var E=d.memoizedProps;if(a=a.compare,a=a!==null?a:Qo,a(E,l)&&n.ref===r.ref)return Qi(n,r,f)}return r.flags|=1,n=qi(d,l),n.ref=r.ref,n.return=r,r.child=n}function l_(n,r,a,l,f){if(n!==null){var d=n.memoizedProps;if(Qo(d,l)&&n.ref===r.ref)if(Vt=!1,r.pendingProps=l=d,Rd(n,f))(n.flags&131072)!==0&&(Vt=!0);else return r.lanes=n.lanes,Qi(n,r,f)}return vd(n,r,a,l,f)}function u_(n,r,a){var l=r.pendingProps,f=l.children,d=n!==null?n.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,n!==null){for(f=r.child=n.child,d=0;f!==null;)d=d|f.lanes|f.childLanes,f=f.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return c_(n,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&Ju(r,d!==null?d.cachePool:null),d!==null?ly(r,d):Jf(),Xy(r);else return r.lanes=r.childLanes=536870912,c_(n,r,d!==null?d.baseLanes|a:a,a)}else d!==null?(Ju(r,d.cachePool),ly(r,d),Ar(),r.memoizedState=null):(n!==null&&Ju(r,null),Jf(),Ar());return Bt(n,r,f,a),r.child}function c_(n,r,a,l){var f=Kf();return f=f===null?null:{parent:Ct._currentValue,pool:f},r.memoizedState={baseLanes:a,cachePool:f},n!==null&&Ju(r,null),Jf(),Xy(r),n!==null&&Zo(n,r,l,!0),null}function pc(n,r){var a=r.ref;if(a===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(r.flags|=4194816)}}function vd(n,r,a,l,f){return xs(r),a=td(n,r,a,l,void 0,f),l=nd(),n!==null&&!Vt?(id(n,r,f),Qi(n,r,f)):(Ge&&l&&Lf(r),r.flags|=1,Bt(n,r,a,f),r.child)}function h_(n,r,a,l,f,d){return xs(r),r.updateQueue=null,a=cy(r,l,a,f),uy(n),l=nd(),n!==null&&!Vt?(id(n,r,d),Qi(n,r,d)):(Ge&&l&&Lf(r),r.flags|=1,Bt(n,r,a,d),r.child)}function f_(n,r,a,l,f){if(xs(r),r.stateNode===null){var d=Ra,E=a.contextType;typeof E=="object"&&E!==null&&(d=Qt(E)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=yd,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},Qf(r),E=a.contextType,d.context=typeof E=="object"&&E!==null?Qt(E):Ra,d.state=r.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(gd(r,a,E,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(E=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),E!==d.state&&yd.enqueueReplaceState(d,d.state,null),al(r,l,d,f),sl(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(n===null){d=r.stateNode;var T=r.memoizedProps,O=ks(a,T);d.props=O;var j=d.context,X=a.contextType;E=Ra,typeof X=="object"&&X!==null&&(E=Qt(X));var Z=a.getDerivedStateFromProps;X=typeof Z=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=r.pendingProps!==T,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||j!==E)&&Jy(r,d,l,E),yr=!1;var H=r.memoizedState;d.state=H,al(r,l,d,f),sl(),j=r.memoizedState,T||H!==j||yr?(typeof Z=="function"&&(gd(r,a,Z,l),j=r.memoizedState),(O=yr||Wy(r,a,O,l,H,j,E))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=j),d.props=l,d.state=j,d.context=E,l=O):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,Yf(n,r),E=r.memoizedProps,X=ks(a,E),d.props=X,Z=r.pendingProps,H=d.context,j=a.contextType,O=Ra,typeof j=="object"&&j!==null&&(O=Qt(j)),T=a.getDerivedStateFromProps,(j=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E!==Z||H!==O)&&Jy(r,d,l,O),yr=!1,H=r.memoizedState,d.state=H,al(r,l,d,f),sl();var F=r.memoizedState;E!==Z||H!==F||yr||n!==null&&n.dependencies!==null&&Xu(n.dependencies)?(typeof T=="function"&&(gd(r,a,T,l),F=r.memoizedState),(X=yr||Wy(r,a,X,l,H,F,O)||n!==null&&n.dependencies!==null&&Xu(n.dependencies))?(j||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,F,O),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,F,O)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||E===n.memoizedProps&&H===n.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&H===n.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=F),d.props=l,d.state=F,d.context=O,l=X):(typeof d.componentDidUpdate!="function"||E===n.memoizedProps&&H===n.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&H===n.memoizedState||(r.flags|=1024),l=!1)}return d=l,pc(n,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,n!==null&&l?(r.child=ka(r,n.child,null,f),r.child=ka(r,null,a,f)):Bt(n,r,a,f),r.memoizedState=d.state,n=r.child):n=Qi(n,r,f),n}function d_(n,r,a,l){return Wo(),r.flags|=256,Bt(n,r,a,l),r.child}var Ed={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Td(n){return{baseLanes:n,cachePool:ey()}}function Ad(n,r,a){return n=n!==null?n.childLanes&~a:0,r&&(n|=Pn),n}function m_(n,r,a){var l=r.pendingProps,f=!1,d=(r.flags&128)!==0,E;if((E=d)||(E=n!==null&&n.memoizedState===null?!1:(Ot.current&2)!==0),E&&(f=!0,r.flags&=-129),E=(r.flags&32)!==0,r.flags&=-33,n===null){if(Ge){if(f?Tr(r):Ar(),Ge){var T=ft,O;if(O=T){e:{for(O=T,T=hi;O.nodeType!==8;){if(!T){T=null;break e}if(O=Kn(O.nextSibling),O===null){T=null;break e}}T=O}T!==null?(r.memoizedState={dehydrated:T,treeContext:Cs!==null?{id:ji,overflow:Hi}:null,retryLane:536870912,hydrationErrors:null},O=gn(18,null,null,0),O.stateNode=T,O.return=r,r.child=O,sn=r,ft=null,O=!0):O=!1}O||Ns(r)}if(T=r.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return sm(T)?r.lanes=32:r.lanes=536870912,null;$i(r)}return T=l.children,l=l.fallback,f?(Ar(),f=r.mode,T=gc({mode:"hidden",children:T},f),l=Is(l,f,a,null),T.return=r,l.return=r,T.sibling=l,r.child=T,f=r.child,f.memoizedState=Td(a),f.childLanes=Ad(n,E,a),r.memoizedState=Ed,l):(Tr(r),Sd(r,T))}if(O=n.memoizedState,O!==null&&(T=O.dehydrated,T!==null)){if(d)r.flags&256?(Tr(r),r.flags&=-257,r=bd(n,r,a)):r.memoizedState!==null?(Ar(),r.child=n.child,r.flags|=128,r=null):(Ar(),f=l.fallback,T=r.mode,l=gc({mode:"visible",children:l.children},T),f=Is(f,T,a,null),f.flags|=2,l.return=r,f.return=r,l.sibling=f,r.child=l,ka(r,n.child,null,a),l=r.child,l.memoizedState=Td(a),l.childLanes=Ad(n,E,a),r.memoizedState=Ed,r=f);else if(Tr(r),sm(T)){if(E=T.nextSibling&&T.nextSibling.dataset,E)var j=E.dgst;E=j,l=Error(s(419)),l.stack="",l.digest=E,Jo({value:l,source:null,stack:null}),r=bd(n,r,a)}else if(Vt||Zo(n,r,a,!1),E=(a&n.childLanes)!==0,Vt||E){if(E=rt,E!==null&&(l=a&-a,l=(l&42)!==0?1:ur(l),l=(l&(E.suspendedLanes|a))!==0?0:l,l!==0&&l!==O.retryLane))throw O.retryLane=l,wa(n,l),Tn(E,n,l),s_;T.data==="$?"||jd(),r=bd(n,r,a)}else T.data==="$?"?(r.flags|=192,r.child=n.child,r=null):(n=O.treeContext,ft=Kn(T.nextSibling),sn=r,Ge=!0,Ds=null,hi=!1,n!==null&&(Mn[xn++]=ji,Mn[xn++]=Hi,Mn[xn++]=Cs,ji=n.id,Hi=n.overflow,Cs=r),r=Sd(r,l.children),r.flags|=4096);return r}return f?(Ar(),f=l.fallback,T=r.mode,O=n.child,j=O.sibling,l=qi(O,{mode:"hidden",children:l.children}),l.subtreeFlags=O.subtreeFlags&65011712,j!==null?f=qi(j,f):(f=Is(f,T,a,null),f.flags|=2),f.return=r,l.return=r,l.sibling=f,r.child=l,l=f,f=r.child,T=n.child.memoizedState,T===null?T=Td(a):(O=T.cachePool,O!==null?(j=Ct._currentValue,O=O.parent!==j?{parent:j,pool:j}:O):O=ey(),T={baseLanes:T.baseLanes|a,cachePool:O}),f.memoizedState=T,f.childLanes=Ad(n,E,a),r.memoizedState=Ed,l):(Tr(r),a=n.child,n=a.sibling,a=qi(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,n!==null&&(E=r.deletions,E===null?(r.deletions=[n],r.flags|=16):E.push(n)),r.child=a,r.memoizedState=null,a)}function Sd(n,r){return r=gc({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function gc(n,r){return n=gn(22,n,null,r),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function bd(n,r,a){return ka(r,n.child,null,a),n=Sd(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function p_(n,r,a){n.lanes|=r;var l=n.alternate;l!==null&&(l.lanes|=r),jf(n.return,r,a)}function wd(n,r,a,l,f){var d=n.memoizedState;d===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=f)}function g_(n,r,a){var l=r.pendingProps,f=l.revealOrder,d=l.tail;if(Bt(n,r,l.children,a),l=Ot.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&p_(n,a,r);else if(n.tag===19)p_(n,a,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(se(Ot,l),f){case"forwards":for(a=r.child,f=null;a!==null;)n=a.alternate,n!==null&&fc(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),wd(r,!1,f,a,d);break;case"backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(n=f.alternate,n!==null&&fc(n)===null){r.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}wd(r,!0,a,null,d);break;case"together":wd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Qi(n,r,a){if(n!==null&&(r.dependencies=n.dependencies),Ir|=r.lanes,(a&r.childLanes)===0)if(n!==null){if(Zo(n,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(s(153));if(r.child!==null){for(n=r.child,a=qi(n,n.pendingProps),r.child=a,a.return=r;n.sibling!==null;)n=n.sibling,a=a.sibling=qi(n,n.pendingProps),a.return=r;a.sibling=null}return r.child}function Rd(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&Xu(n)))}function iw(n,r,a){switch(r.tag){case 3:Le(r,r.stateNode.containerInfo),gr(r,Ct,n.memoizedState.cache),Wo();break;case 27:case 5:Bn(r);break;case 4:Le(r,r.stateNode.containerInfo);break;case 10:gr(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Tr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?m_(n,r,a):(Tr(r),n=Qi(n,r,a),n!==null?n.sibling:null);Tr(r);break;case 19:var f=(n.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(Zo(n,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return g_(n,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),se(Ot,Ot.current),l)break;return null;case 22:case 23:return r.lanes=0,u_(n,r,a);case 24:gr(r,Ct,n.memoizedState.cache)}return Qi(n,r,a)}function y_(n,r,a){if(n!==null)if(n.memoizedProps!==r.pendingProps)Vt=!0;else{if(!Rd(n,a)&&(r.flags&128)===0)return Vt=!1,iw(n,r,a);Vt=(n.flags&131072)!==0}else Vt=!1,Ge&&(r.flags&1048576)!==0&&$g(r,Yu,r.index);switch(r.lanes=0,r.tag){case 16:e:{n=r.pendingProps;var l=r.elementType,f=l._init;if(l=f(l._payload),r.type=l,typeof l=="function")Pf(l)?(n=ks(l,n),r.tag=1,r=f_(null,r,l,n,a)):(r.tag=0,r=vd(null,r,l,n,a));else{if(l!=null){if(f=l.$$typeof,f===ue){r.tag=11,r=a_(null,r,l,n,a);break e}else if(f===I){r.tag=14,r=o_(null,r,l,n,a);break e}}throw r=Qe(l)||l,Error(s(306,r,""))}}return r;case 0:return vd(n,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=ks(l,r.pendingProps),f_(n,r,l,f,a);case 3:e:{if(Le(r,r.stateNode.containerInfo),n===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;f=d.element,Yf(n,r),al(r,l,null,a);var E=r.memoizedState;if(l=E.cache,gr(r,Ct,l),l!==d.cache&&Hf(r,[Ct],a,!0),sl(),l=E.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:E.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=d_(n,r,l,a);break e}else if(l!==f){f=Dn(Error(s(424)),r),Jo(f),r=d_(n,r,l,a);break e}else{switch(n=r.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(ft=Kn(n.firstChild),sn=r,Ge=!0,Ds=null,hi=!0,a=Yy(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Wo(),l===f){r=Qi(n,r,a);break e}Bt(n,r,l,a)}r=r.child}return r;case 26:return pc(n,r),n===null?(a=Tv(r.type,null,r.pendingProps,null))?r.memoizedState=a:Ge||(a=r.type,n=r.pendingProps,l=Dc(Ee.current).createElement(a),l[wt]=r,l[vt]=n,jt(l,a,n),pt(l),r.stateNode=l):r.memoizedState=Tv(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return Bn(r),n===null&&Ge&&(l=r.stateNode=_v(r.type,r.pendingProps,Ee.current),sn=r,hi=!0,f=ft,Nr(r.type)?(am=f,ft=Kn(l.firstChild)):ft=f),Bt(n,r,r.pendingProps.children,a),pc(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&Ge&&((f=l=ft)&&(l=Nw(l,r.type,r.pendingProps,hi),l!==null?(r.stateNode=l,sn=r,ft=Kn(l.firstChild),hi=!1,f=!0):f=!1),f||Ns(r)),Bn(r),f=r.type,d=r.pendingProps,E=n!==null?n.memoizedProps:null,l=d.children,nm(f,d)?l=null:E!==null&&nm(f,E)&&(r.flags|=32),r.memoizedState!==null&&(f=td(n,r,Yb,null,null,a),Cl._currentValue=f),pc(n,r),Bt(n,r,l,a),r.child;case 6:return n===null&&Ge&&((n=a=ft)&&(a=Mw(a,r.pendingProps,hi),a!==null?(r.stateNode=a,sn=r,ft=null,n=!0):n=!1),n||Ns(r)),null;case 13:return m_(n,r,a);case 4:return Le(r,r.stateNode.containerInfo),l=r.pendingProps,n===null?r.child=ka(r,null,l,a):Bt(n,r,l,a),r.child;case 11:return a_(n,r,r.type,r.pendingProps,a);case 7:return Bt(n,r,r.pendingProps,a),r.child;case 8:return Bt(n,r,r.pendingProps.children,a),r.child;case 12:return Bt(n,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,gr(r,r.type,l.value),Bt(n,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,xs(r),f=Qt(f),l=l(f),r.flags|=1,Bt(n,r,l,a),r.child;case 14:return o_(n,r,r.type,r.pendingProps,a);case 15:return l_(n,r,r.type,r.pendingProps,a);case 19:return g_(n,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},n===null?(a=gc(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=qi(n.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return u_(n,r,a);case 24:return xs(r),l=Qt(Ct),n===null?(f=Kf(),f===null&&(f=rt,d=Ff(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),r.memoizedState={parent:l,cache:f},Qf(r),gr(r,Ct,f)):((n.lanes&a)!==0&&(Yf(n,r),al(r,null,null,a),sl()),f=n.memoizedState,d=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),gr(r,Ct,l)):(l=d.cache,gr(r,Ct,l),l!==f.cache&&Hf(r,[Ct],a,!0))),Bt(n,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Yi(n){n.flags|=4}function __(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Rv(r)){if(r=Vn.current,r!==null&&((qe&4194048)===qe?fi!==null:(qe&62914560)!==qe&&(qe&536870912)===0||r!==fi))throw il=$f,ty;n.flags|=8192}}function yc(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?Do():536870912,n.lanes|=r,Ba|=r)}function dl(n,r){if(!Ge)switch(n.tailMode){case"hidden":r=n.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function lt(n){var r=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(r)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=a,r}function rw(n,r,a){var l=r.pendingProps;switch(zf(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(r),null;case 1:return lt(r),null;case 3:return a=r.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Gi(Ct),Kt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(Xo(r)?Yi(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Xg())),lt(r),null;case 26:return a=r.memoizedState,n===null?(Yi(r),a!==null?(lt(r),__(r,a)):(lt(r),r.flags&=-16777217)):a?a!==n.memoizedState?(Yi(r),lt(r),__(r,a)):(lt(r),r.flags&=-16777217):(n.memoizedProps!==l&&Yi(r),lt(r),r.flags&=-16777217),null;case 27:Ci(r),a=Ee.current;var f=r.type;if(n!==null&&r.stateNode!=null)n.memoizedProps!==l&&Yi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return lt(r),null}n=ge.current,Xo(r)?Qg(r):(n=_v(f,l,a),r.stateNode=n,Yi(r))}return lt(r),null;case 5:if(Ci(r),a=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==l&&Yi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return lt(r),null}if(n=ge.current,Xo(r))Qg(r);else{switch(f=Dc(Ee.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}n[wt]=r,n[vt]=l;e:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break e;for(;f.sibling===null;){if(f.return===null||f.return===r)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=n;e:switch(jt(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Yi(r)}}return lt(r),r.flags&=-16777217,null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==l&&Yi(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(n=Ee.current,Xo(r)){if(n=r.stateNode,a=r.memoizedProps,l=null,f=sn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[wt]=r,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||hv(n.nodeValue,a)),n||Ns(r)}else n=Dc(n).createTextNode(l),n[wt]=r,r.stateNode=n}return lt(r),null;case 13:if(l=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=Xo(r),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[wt]=r}else Wo(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;lt(r),f=!1}else f=Xg(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?($i(r),r):($i(r),null)}if($i(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)}return a!==n&&a&&(r.child.flags|=8192),yc(r,r.updateQueue),lt(r),null;case 4:return Kt(),n===null&&Wd(r.stateNode.containerInfo),lt(r),null;case 10:return Gi(r.type),lt(r),null;case 19:if(le(Ot),f=r.memoizedState,f===null)return lt(r),null;if(l=(r.flags&128)!==0,d=f.rendering,d===null)if(l)dl(f,!1);else{if(dt!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(d=fc(n),d!==null){for(r.flags|=128,dl(f,!1),n=d.updateQueue,r.updateQueue=n,yc(r,n),r.subtreeFlags=0,n=a,a=r.child;a!==null;)Kg(a,n),a=a.sibling;return se(Ot,Ot.current&1|2),r.child}n=n.sibling}f.tail!==null&&bn()>Ec&&(r.flags|=128,l=!0,dl(f,!1),r.lanes=4194304)}else{if(!l)if(n=fc(d),n!==null){if(r.flags|=128,l=!0,n=n.updateQueue,r.updateQueue=n,yc(r,n),dl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!d.alternate&&!Ge)return lt(r),null}else 2*bn()-f.renderingStartTime>Ec&&a!==536870912&&(r.flags|=128,l=!0,dl(f,!1),r.lanes=4194304);f.isBackwards?(d.sibling=r.child,r.child=d):(n=f.last,n!==null?n.sibling=d:r.child=d,f.last=d)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=bn(),r.sibling=null,n=Ot.current,se(Ot,l?n&1|2:n&1),r):(lt(r),null);case 22:case 23:return $i(r),Zf(),l=r.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(lt(r),r.subtreeFlags&6&&(r.flags|=8192)):lt(r),a=r.updateQueue,a!==null&&yc(r,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),n!==null&&le(Vs),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Gi(Ct),lt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function sw(n,r){switch(zf(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return Gi(Ct),Kt(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return Ci(r),null;case 13:if($i(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Wo()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return le(Ot),null;case 4:return Kt(),null;case 10:return Gi(r.type),null;case 22:case 23:return $i(r),Zf(),n!==null&&le(Vs),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return Gi(Ct),null;case 25:return null;default:return null}}function v_(n,r){switch(zf(r),r.tag){case 3:Gi(Ct),Kt();break;case 26:case 27:case 5:Ci(r);break;case 4:Kt();break;case 13:$i(r);break;case 19:le(Ot);break;case 10:Gi(r.type);break;case 22:case 23:$i(r),Zf(),n!==null&&le(Vs);break;case 24:Gi(Ct)}}function ml(n,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&n)===n){l=void 0;var d=a.create,E=a.inst;l=d(),E.destroy=l}a=a.next}while(a!==f)}}catch(T){it(r,r.return,T)}}function Sr(n,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&n)===n){var E=l.inst,T=E.destroy;if(T!==void 0){E.destroy=void 0,f=r;var O=a,j=T;try{j()}catch(X){it(f,O,X)}}}l=l.next}while(l!==d)}}catch(X){it(r,r.return,X)}}function E_(n){var r=n.updateQueue;if(r!==null){var a=n.stateNode;try{oy(r,a)}catch(l){it(n,n.return,l)}}}function T_(n,r,a){a.props=ks(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){it(n,r,l)}}function pl(n,r){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(f){it(n,r,f)}}function di(n,r){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){it(n,r,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){it(n,r,f)}else a.current=null}function A_(n){var r=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){it(n,n.return,f)}}function Id(n,r,a){try{var l=n.stateNode;Rw(l,n.type,a,r),l[vt]=r}catch(f){it(n,n.return,f)}}function S_(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Nr(n.type)||n.tag===4}function Cd(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||S_(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Nr(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Od(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(n),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Oc));else if(l!==4&&(l===27&&Nr(n.type)&&(a=n.stateNode,r=null),n=n.child,n!==null))for(Od(n,r,a),n=n.sibling;n!==null;)Od(n,r,a),n=n.sibling}function _c(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?a.insertBefore(n,r):a.appendChild(n);else if(l!==4&&(l===27&&Nr(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(_c(n,r,a),n=n.sibling;n!==null;)_c(n,r,a),n=n.sibling}function b_(n){var r=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);jt(r,l,a),r[wt]=n,r[vt]=a}catch(d){it(n,n.return,d)}}var Xi=!1,yt=!1,Dd=!1,w_=typeof WeakSet=="function"?WeakSet:Set,Pt=null;function aw(n,r){if(n=n.containerInfo,em=kc,n=kg(n),Cf(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var E=0,T=-1,O=-1,j=0,X=0,Z=n,H=null;t:for(;;){for(var F;Z!==a||f!==0&&Z.nodeType!==3||(T=E+f),Z!==d||l!==0&&Z.nodeType!==3||(O=E+l),Z.nodeType===3&&(E+=Z.nodeValue.length),(F=Z.firstChild)!==null;)H=Z,Z=F;for(;;){if(Z===n)break t;if(H===a&&++j===f&&(T=E),H===d&&++X===l&&(O=E),(F=Z.nextSibling)!==null)break;Z=H,H=Z.parentNode}Z=F}a=T===-1||O===-1?null:{start:T,end:O}}else a=null}a=a||{start:0,end:0}}else a=null;for(tm={focusedElem:n,selectionRange:a},kc=!1,Pt=r;Pt!==null;)if(r=Pt,n=r.child,(r.subtreeFlags&1024)!==0&&n!==null)n.return=r,Pt=n;else for(;Pt!==null;){switch(r=Pt,d=r.alternate,n=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&d!==null){n=void 0,a=r,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Ae=ks(a.type,f,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(Ae,d),l.__reactInternalSnapshotBeforeUpdate=n}catch(ve){it(a,a.return,ve)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,a=n.nodeType,a===9)rm(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":rm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=r.sibling,n!==null){n.return=r.return,Pt=n;break}Pt=r.return}}function R_(n,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:br(n,a),l&4&&ml(5,a);break;case 1:if(br(n,a),l&4)if(n=a.stateNode,r===null)try{n.componentDidMount()}catch(E){it(a,a.return,E)}else{var f=ks(a.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(f,r,n.__reactInternalSnapshotBeforeUpdate)}catch(E){it(a,a.return,E)}}l&64&&E_(a),l&512&&pl(a,a.return);break;case 3:if(br(n,a),l&64&&(n=a.updateQueue,n!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{oy(n,r)}catch(E){it(a,a.return,E)}}break;case 27:r===null&&l&4&&b_(a);case 26:case 5:br(n,a),r===null&&l&4&&A_(a),l&512&&pl(a,a.return);break;case 12:br(n,a);break;case 13:br(n,a),l&4&&O_(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=pw.bind(null,a),xw(n,a))));break;case 22:if(l=a.memoizedState!==null||Xi,!l){r=r!==null&&r.memoizedState!==null||yt,f=Xi;var d=yt;Xi=l,(yt=r)&&!d?wr(n,a,(a.subtreeFlags&8772)!==0):br(n,a),Xi=f,yt=d}break;case 30:break;default:br(n,a)}}function I_(n){var r=n.alternate;r!==null&&(n.alternate=null,I_(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&fr(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var ot=null,on=!1;function Wi(n,r,a){for(a=a.child;a!==null;)C_(n,r,a),a=a.sibling}function C_(n,r,a){if(Ye&&typeof Ye.onCommitFiberUnmount=="function")try{Ye.onCommitFiberUnmount(ht,a)}catch{}switch(a.tag){case 26:yt||di(a,r),Wi(n,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:yt||di(a,r);var l=ot,f=on;Nr(a.type)&&(ot=a.stateNode,on=!1),Wi(n,r,a),bl(a.stateNode),ot=l,on=f;break;case 5:yt||di(a,r);case 6:if(l=ot,f=on,ot=null,Wi(n,r,a),ot=l,on=f,ot!==null)if(on)try{(ot.nodeType===9?ot.body:ot.nodeName==="HTML"?ot.ownerDocument.body:ot).removeChild(a.stateNode)}catch(d){it(a,r,d)}else try{ot.removeChild(a.stateNode)}catch(d){it(a,r,d)}break;case 18:ot!==null&&(on?(n=ot,gv(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),Ml(n)):gv(ot,a.stateNode));break;case 4:l=ot,f=on,ot=a.stateNode.containerInfo,on=!0,Wi(n,r,a),ot=l,on=f;break;case 0:case 11:case 14:case 15:yt||Sr(2,a,r),yt||Sr(4,a,r),Wi(n,r,a);break;case 1:yt||(di(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&T_(a,r,l)),Wi(n,r,a);break;case 21:Wi(n,r,a);break;case 22:yt=(l=yt)||a.memoizedState!==null,Wi(n,r,a),yt=l;break;default:Wi(n,r,a)}}function O_(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Ml(n)}catch(a){it(r,r.return,a)}}function ow(n){switch(n.tag){case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new w_),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new w_),r;default:throw Error(s(435,n.tag))}}function Nd(n,r){var a=ow(n);r.forEach(function(l){var f=gw.bind(null,n,l);a.has(l)||(a.add(l),l.then(f,f))})}function yn(n,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=n,E=r,T=E;e:for(;T!==null;){switch(T.tag){case 27:if(Nr(T.type)){ot=T.stateNode,on=!1;break e}break;case 5:ot=T.stateNode,on=!1;break e;case 3:case 4:ot=T.stateNode.containerInfo,on=!0;break e}T=T.return}if(ot===null)throw Error(s(160));C_(d,E,f),ot=null,on=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)D_(r,n),r=r.sibling}var Gn=null;function D_(n,r){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:yn(r,n),_n(n),l&4&&(Sr(3,n,n.return),ml(3,n),Sr(5,n,n.return));break;case 1:yn(r,n),_n(n),l&512&&(yt||a===null||di(a,a.return)),l&64&&Xi&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Gn;if(yn(r,n),_n(n),l&512&&(yt||a===null||di(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[hs]||d[wt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),jt(d,l,a),d[wt]=n,pt(d),l=d;break e;case"link":var E=bv("link","href",f).get(l+(a.href||""));if(E){for(var T=0;T<E.length;T++)if(d=E[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(T,1);break t}}d=f.createElement(l),jt(d,l,a),f.head.appendChild(d);break;case"meta":if(E=bv("meta","content",f).get(l+(a.content||""))){for(T=0;T<E.length;T++)if(d=E[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(T,1);break t}}d=f.createElement(l),jt(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[wt]=n,pt(d),l=d}n.stateNode=l}else wv(f,n.type,n.stateNode);else n.stateNode=Sv(f,l,n.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?wv(f,n.type,n.stateNode):Sv(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&Id(n,n.memoizedProps,a.memoizedProps)}break;case 27:yn(r,n),_n(n),l&512&&(yt||a===null||di(a,a.return)),a!==null&&l&4&&Id(n,n.memoizedProps,a.memoizedProps);break;case 5:if(yn(r,n),_n(n),l&512&&(yt||a===null||di(a,a.return)),n.flags&32){f=n.stateNode;try{Rn(f,"")}catch(F){it(n,n.return,F)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,Id(n,f,a!==null?a.memoizedProps:f)),l&1024&&(Dd=!0);break;case 6:if(yn(r,n),_n(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(F){it(n,n.return,F)}}break;case 3:if(xc=null,f=Gn,Gn=Nc(r.containerInfo),yn(r,n),Gn=f,_n(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ml(r.containerInfo)}catch(F){it(n,n.return,F)}Dd&&(Dd=!1,N_(n));break;case 4:l=Gn,Gn=Nc(n.stateNode.containerInfo),yn(r,n),_n(n),Gn=l;break;case 12:yn(r,n),_n(n);break;case 13:yn(r,n),_n(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ud=bn()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Nd(n,l)));break;case 22:f=n.memoizedState!==null;var O=a!==null&&a.memoizedState!==null,j=Xi,X=yt;if(Xi=j||f,yt=X||O,yn(r,n),yt=X,Xi=j,_n(n),l&8192)e:for(r=n.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||O||Xi||yt||Us(n)),a=null,r=n;;){if(r.tag===5||r.tag===26){if(a===null){O=a=r;try{if(d=O.stateNode,f)E=d.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{T=O.stateNode;var Z=O.memoizedProps.style,H=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;T.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(F){it(O,O.return,F)}}}else if(r.tag===6){if(a===null){O=r;try{O.stateNode.nodeValue=f?"":O.memoizedProps}catch(F){it(O,O.return,F)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Nd(n,a))));break;case 19:yn(r,n),_n(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Nd(n,l)));break;case 30:break;case 21:break;default:yn(r,n),_n(n)}}function _n(n){var r=n.flags;if(r&2){try{for(var a,l=n.return;l!==null;){if(S_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=Cd(n);_c(n,d,f);break;case 5:var E=a.stateNode;a.flags&32&&(Rn(E,""),a.flags&=-33);var T=Cd(n);_c(n,T,E);break;case 3:case 4:var O=a.stateNode.containerInfo,j=Cd(n);Od(n,j,O);break;default:throw Error(s(161))}}catch(X){it(n,n.return,X)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function N_(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;N_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function br(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)R_(n,r.alternate,r),r=r.sibling}function Us(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:Sr(4,r,r.return),Us(r);break;case 1:di(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&T_(r,r.return,a),Us(r);break;case 27:bl(r.stateNode);case 26:case 5:di(r,r.return),Us(r);break;case 22:r.memoizedState===null&&Us(r);break;case 30:Us(r);break;default:Us(r)}n=n.sibling}}function wr(n,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=n,d=r,E=d.flags;switch(d.tag){case 0:case 11:case 15:wr(f,d,a),ml(4,d);break;case 1:if(wr(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(j){it(l,l.return,j)}if(l=d,f=l.updateQueue,f!==null){var T=l.stateNode;try{var O=f.shared.hiddenCallbacks;if(O!==null)for(f.shared.hiddenCallbacks=null,f=0;f<O.length;f++)ay(O[f],T)}catch(j){it(l,l.return,j)}}a&&E&64&&E_(d),pl(d,d.return);break;case 27:b_(d);case 26:case 5:wr(f,d,a),a&&l===null&&E&4&&A_(d),pl(d,d.return);break;case 12:wr(f,d,a);break;case 13:wr(f,d,a),a&&E&4&&O_(f,d);break;case 22:d.memoizedState===null&&wr(f,d,a),pl(d,d.return);break;case 30:break;default:wr(f,d,a)}r=r.sibling}}function Md(n,r){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&el(a))}function xd(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&el(n))}function mi(n,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)M_(n,r,a,l),r=r.sibling}function M_(n,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:mi(n,r,a,l),f&2048&&ml(9,r);break;case 1:mi(n,r,a,l);break;case 3:mi(n,r,a,l),f&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&el(n)));break;case 12:if(f&2048){mi(n,r,a,l),n=r.stateNode;try{var d=r.memoizedProps,E=d.id,T=d.onPostCommit;typeof T=="function"&&T(E,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(O){it(r,r.return,O)}}else mi(n,r,a,l);break;case 13:mi(n,r,a,l);break;case 23:break;case 22:d=r.stateNode,E=r.alternate,r.memoizedState!==null?d._visibility&2?mi(n,r,a,l):gl(n,r):d._visibility&2?mi(n,r,a,l):(d._visibility|=2,Ua(n,r,a,l,(r.subtreeFlags&10256)!==0)),f&2048&&Md(E,r);break;case 24:mi(n,r,a,l),f&2048&&xd(r.alternate,r);break;default:mi(n,r,a,l)}}function Ua(n,r,a,l,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=n,E=r,T=a,O=l,j=E.flags;switch(E.tag){case 0:case 11:case 15:Ua(d,E,T,O,f),ml(8,E);break;case 23:break;case 22:var X=E.stateNode;E.memoizedState!==null?X._visibility&2?Ua(d,E,T,O,f):gl(d,E):(X._visibility|=2,Ua(d,E,T,O,f)),f&&j&2048&&Md(E.alternate,E);break;case 24:Ua(d,E,T,O,f),f&&j&2048&&xd(E.alternate,E);break;default:Ua(d,E,T,O,f)}r=r.sibling}}function gl(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=n,l=r,f=l.flags;switch(l.tag){case 22:gl(a,l),f&2048&&Md(l.alternate,l);break;case 24:gl(a,l),f&2048&&xd(l.alternate,l);break;default:gl(a,l)}r=r.sibling}}var yl=8192;function La(n){if(n.subtreeFlags&yl)for(n=n.child;n!==null;)x_(n),n=n.sibling}function x_(n){switch(n.tag){case 26:La(n),n.flags&yl&&n.memoizedState!==null&&Kw(Gn,n.memoizedState,n.memoizedProps);break;case 5:La(n);break;case 3:case 4:var r=Gn;Gn=Nc(n.stateNode.containerInfo),La(n),Gn=r;break;case 22:n.memoizedState===null&&(r=n.alternate,r!==null&&r.memoizedState!==null?(r=yl,yl=16777216,La(n),yl=r):La(n));break;default:La(n)}}function V_(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function _l(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Pt=l,k_(l,n)}V_(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)P_(n),n=n.sibling}function P_(n){switch(n.tag){case 0:case 11:case 15:_l(n),n.flags&2048&&Sr(9,n,n.return);break;case 3:_l(n);break;case 12:_l(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,vc(n)):_l(n);break;default:_l(n)}}function vc(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Pt=l,k_(l,n)}V_(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:Sr(8,r,r.return),vc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,vc(r));break;default:vc(r)}n=n.sibling}}function k_(n,r){for(;Pt!==null;){var a=Pt;switch(a.tag){case 0:case 11:case 15:Sr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:el(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Pt=l;else e:for(a=n;Pt!==null;){l=Pt;var f=l.sibling,d=l.return;if(I_(l),l===a){Pt=null;break e}if(f!==null){f.return=d,Pt=f;break e}Pt=d}}}var lw={getCacheForType:function(n){var r=Qt(Ct),a=r.data.get(n);return a===void 0&&(a=n(),r.data.set(n,a)),a}},uw=typeof WeakMap=="function"?WeakMap:Map,Xe=0,rt=null,Ve=null,qe=0,We=0,vn=null,Rr=!1,za=!1,Vd=!1,Ji=0,dt=0,Ir=0,Ls=0,Pd=0,Pn=0,Ba=0,vl=null,ln=null,kd=!1,Ud=0,Ec=1/0,Tc=null,Cr=null,qt=0,Or=null,qa=null,ja=0,Ld=0,zd=null,U_=null,El=0,Bd=null;function En(){if((Xe&2)!==0&&qe!==0)return qe&-qe;if(Q.T!==null){var n=Oa;return n!==0?n:$d()}return cr()}function L_(){Pn===0&&(Pn=(qe&536870912)===0||Ge?Oo():536870912);var n=Vn.current;return n!==null&&(n.flags|=32),Pn}function Tn(n,r,a){(n===rt&&(We===2||We===9)||n.cancelPendingCommit!==null)&&(Ha(n,0),Dr(n,qe,Pn,!1)),Di(n,a),((Xe&2)===0||n!==rt)&&(n===rt&&((Xe&2)===0&&(Ls|=a),dt===4&&Dr(n,qe,Pn,!1)),pi(n))}function z_(n,r,a){if((Xe&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&n.expiredLanes)===0||cs(n,r),f=l?fw(n,r):Hd(n,r,!0),d=l;do{if(f===0){za&&!l&&Dr(n,r,0,!1);break}else{if(a=n.current.alternate,d&&!cw(a)){f=Hd(n,r,!1),d=!1;continue}if(f===2){if(d=r,n.errorRecoveryDisabledLanes&d)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){r=E;e:{var T=n;f=vl;var O=T.current.memoizedState.isDehydrated;if(O&&(Ha(T,E).flags|=256),E=Hd(T,E,!1),E!==2){if(Vd&&!O){T.errorRecoveryDisabledLanes|=d,Ls|=d,f=4;break e}d=ln,ln=f,d!==null&&(ln===null?ln=d:ln.push.apply(ln,d))}f=E}if(d=!1,f!==2)continue}}if(f===1){Ha(n,0),Dr(n,r,0,!0);break}e:{switch(l=n,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Dr(l,r,Pn,!Rr);break e;case 2:ln=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=Ud+300-bn(),10<f)){if(Dr(l,r,Pn,!Rr),aa(l,0,!0)!==0)break e;l.timeoutHandle=mv(B_.bind(null,l,a,ln,Tc,kd,r,Pn,Ls,Ba,Rr,d,2,-0,0),f);break e}B_(l,a,ln,Tc,kd,r,Pn,Ls,Ba,Rr,d,0,-0,0)}}break}while(!0);pi(n)}function B_(n,r,a,l,f,d,E,T,O,j,X,Z,H,F){if(n.timeoutHandle=-1,Z=r.subtreeFlags,(Z&8192||(Z&16785408)===16785408)&&(Il={stylesheets:null,count:0,unsuspend:Gw},x_(r),Z=$w(),Z!==null)){n.cancelPendingCommit=Z($_.bind(null,n,r,d,a,l,f,E,T,O,X,1,H,F)),Dr(n,d,E,!j);return}$_(n,r,d,a,l,f,E,T,O)}function cw(n){for(var r=n;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!pn(d(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Dr(n,r,a,l){r&=~Pd,r&=~Ls,n.suspendedLanes|=r,n.pingedLanes&=~r,l&&(n.warmLanes|=r),l=n.expirationTimes;for(var f=r;0<f;){var d=31-$t(f),E=1<<d;l[d]=-1,f&=~E}a!==0&&ei(n,a,r)}function Ac(){return(Xe&6)===0?(Tl(0),!1):!0}function qd(){if(Ve!==null){if(We===0)var n=Ve.return;else n=Ve,Fi=Ms=null,rd(n),Pa=null,hl=0,n=Ve;for(;n!==null;)v_(n.alternate,n),n=n.return;Ve=null}}function Ha(n,r){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,Cw(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),qd(),rt=n,Ve=a=qi(n.current,null),qe=r,We=0,vn=null,Rr=!1,za=cs(n,r),Vd=!1,Ba=Pn=Pd=Ls=Ir=dt=0,ln=vl=null,kd=!1,(r&8)!==0&&(r|=r&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=r;0<l;){var f=31-$t(l),d=1<<f;r|=n[f],l&=~d}return Ji=r,Fu(),a}function q_(n,r){De=null,Q.H=uc,r===nl||r===Zu?(r=ry(),We=3):r===ty?(r=ry(),We=4):We=r===s_?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,vn=r,Ve===null&&(dt=1,mc(n,Dn(r,n.current)))}function j_(){var n=Q.H;return Q.H=uc,n===null?uc:n}function H_(){var n=Q.A;return Q.A=lw,n}function jd(){dt=4,Rr||(qe&4194048)!==qe&&Vn.current!==null||(za=!0),(Ir&134217727)===0&&(Ls&134217727)===0||rt===null||Dr(rt,qe,Pn,!1)}function Hd(n,r,a){var l=Xe;Xe|=2;var f=j_(),d=H_();(rt!==n||qe!==r)&&(Tc=null,Ha(n,r)),r=!1;var E=dt;e:do try{if(We!==0&&Ve!==null){var T=Ve,O=vn;switch(We){case 8:qd(),E=6;break e;case 3:case 2:case 9:case 6:Vn.current===null&&(r=!0);var j=We;if(We=0,vn=null,Fa(n,T,O,j),a&&za){E=0;break e}break;default:j=We,We=0,vn=null,Fa(n,T,O,j)}}hw(),E=dt;break}catch(X){q_(n,X)}while(!0);return r&&n.shellSuspendCounter++,Fi=Ms=null,Xe=l,Q.H=f,Q.A=d,Ve===null&&(rt=null,qe=0,Fu()),E}function hw(){for(;Ve!==null;)F_(Ve)}function fw(n,r){var a=Xe;Xe|=2;var l=j_(),f=H_();rt!==n||qe!==r?(Tc=null,Ec=bn()+500,Ha(n,r)):za=cs(n,r);e:do try{if(We!==0&&Ve!==null){r=Ve;var d=vn;t:switch(We){case 1:We=0,vn=null,Fa(n,r,d,1);break;case 2:case 9:if(ny(d)){We=0,vn=null,G_(r);break}r=function(){We!==2&&We!==9||rt!==n||(We=7),pi(n)},d.then(r,r);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:ny(d)?(We=0,vn=null,G_(r)):(We=0,vn=null,Fa(n,r,d,7));break;case 5:var E=null;switch(Ve.tag){case 26:E=Ve.memoizedState;case 5:case 27:var T=Ve;if(!E||Rv(E)){We=0,vn=null;var O=T.sibling;if(O!==null)Ve=O;else{var j=T.return;j!==null?(Ve=j,Sc(j)):Ve=null}break t}}We=0,vn=null,Fa(n,r,d,5);break;case 6:We=0,vn=null,Fa(n,r,d,6);break;case 8:qd(),dt=6;break e;default:throw Error(s(462))}}dw();break}catch(X){q_(n,X)}while(!0);return Fi=Ms=null,Q.H=l,Q.A=f,Xe=a,Ve!==null?0:(rt=null,qe=0,Fu(),dt)}function dw(){for(;Ve!==null&&!wo();)F_(Ve)}function F_(n){var r=y_(n.alternate,n,Ji);n.memoizedProps=n.pendingProps,r===null?Sc(n):Ve=r}function G_(n){var r=n,a=r.alternate;switch(r.tag){case 15:case 0:r=h_(a,r,r.pendingProps,r.type,void 0,qe);break;case 11:r=h_(a,r,r.pendingProps,r.type.render,r.ref,qe);break;case 5:rd(r);default:v_(a,r),r=Ve=Kg(r,Ji),r=y_(a,r,Ji)}n.memoizedProps=n.pendingProps,r===null?Sc(n):Ve=r}function Fa(n,r,a,l){Fi=Ms=null,rd(r),Pa=null,hl=0;var f=r.return;try{if(nw(n,f,r,a,qe)){dt=1,mc(n,Dn(a,n.current)),Ve=null;return}}catch(d){if(f!==null)throw Ve=f,d;dt=1,mc(n,Dn(a,n.current)),Ve=null;return}r.flags&32768?(Ge||l===1?n=!0:za||(qe&536870912)!==0?n=!1:(Rr=n=!0,(l===2||l===9||l===3||l===6)&&(l=Vn.current,l!==null&&l.tag===13&&(l.flags|=16384))),K_(r,n)):Sc(r)}function Sc(n){var r=n;do{if((r.flags&32768)!==0){K_(r,Rr);return}n=r.return;var a=rw(r.alternate,r,Ji);if(a!==null){Ve=a;return}if(r=r.sibling,r!==null){Ve=r;return}Ve=r=n}while(r!==null);dt===0&&(dt=5)}function K_(n,r){do{var a=sw(n.alternate,n);if(a!==null){a.flags&=32767,Ve=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(n=n.sibling,n!==null)){Ve=n;return}Ve=n=a}while(n!==null);dt=6,Ve=null}function $_(n,r,a,l,f,d,E,T,O){n.cancelPendingCommit=null;do bc();while(qt!==0);if((Xe&6)!==0)throw Error(s(327));if(r!==null){if(r===n.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=xf,No(n,a,d,E,T,O),n===rt&&(Ve=rt=null,qe=0),qa=r,Or=n,ja=a,Ld=d,zd=f,U_=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,yw(as,function(){return J_(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,f=oe.p,oe.p=2,E=Xe,Xe|=4;try{aw(n,r,a)}finally{Xe=E,oe.p=f,Q.T=l}}qt=1,Q_(),Y_(),X_()}}function Q_(){if(qt===1){qt=0;var n=Or,r=qa,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var l=oe.p;oe.p=2;var f=Xe;Xe|=4;try{D_(r,n);var d=tm,E=kg(n.containerInfo),T=d.focusedElem,O=d.selectionRange;if(E!==T&&T&&T.ownerDocument&&Pg(T.ownerDocument.documentElement,T)){if(O!==null&&Cf(T)){var j=O.start,X=O.end;if(X===void 0&&(X=j),"selectionStart"in T)T.selectionStart=j,T.selectionEnd=Math.min(X,T.value.length);else{var Z=T.ownerDocument||document,H=Z&&Z.defaultView||window;if(H.getSelection){var F=H.getSelection(),Ae=T.textContent.length,ve=Math.min(O.start,Ae),tt=O.end===void 0?ve:Math.min(O.end,Ae);!F.extend&&ve>tt&&(E=tt,tt=ve,ve=E);var L=Vg(T,ve),P=Vg(T,tt);if(L&&P&&(F.rangeCount!==1||F.anchorNode!==L.node||F.anchorOffset!==L.offset||F.focusNode!==P.node||F.focusOffset!==P.offset)){var B=Z.createRange();B.setStart(L.node,L.offset),F.removeAllRanges(),ve>tt?(F.addRange(B),F.extend(P.node,P.offset)):(B.setEnd(P.node,P.offset),F.addRange(B))}}}}for(Z=[],F=T;F=F.parentNode;)F.nodeType===1&&Z.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Z.length;T++){var J=Z[T];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}kc=!!em,tm=em=null}finally{Xe=f,oe.p=l,Q.T=a}}n.current=r,qt=2}}function Y_(){if(qt===2){qt=0;var n=Or,r=qa,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var l=oe.p;oe.p=2;var f=Xe;Xe|=4;try{R_(n,r.alternate,r)}finally{Xe=f,oe.p=l,Q.T=a}}qt=3}}function X_(){if(qt===4||qt===3){qt=0,vu();var n=Or,r=qa,a=ja,l=U_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?qt=5:(qt=0,qa=Or=null,W_(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(Cr=null),oa(a),r=r.stateNode,Ye&&typeof Ye.onCommitFiberRoot=="function")try{Ye.onCommitFiberRoot(ht,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=Q.T,f=oe.p,oe.p=2,Q.T=null;try{for(var d=n.onRecoverableError,E=0;E<l.length;E++){var T=l[E];d(T.value,{componentStack:T.stack})}}finally{Q.T=r,oe.p=f}}(ja&3)!==0&&bc(),pi(n),f=n.pendingLanes,(a&4194090)!==0&&(f&42)!==0?n===Bd?El++:(El=0,Bd=n):El=0,Tl(0)}}function W_(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,el(r)))}function bc(n){return Q_(),Y_(),X_(),J_()}function J_(){if(qt!==5)return!1;var n=Or,r=Ld;Ld=0;var a=oa(ja),l=Q.T,f=oe.p;try{oe.p=32>a?32:a,Q.T=null,a=zd,zd=null;var d=Or,E=ja;if(qt=0,qa=Or=null,ja=0,(Xe&6)!==0)throw Error(s(331));var T=Xe;if(Xe|=4,P_(d.current),M_(d,d.current,E,a),Xe=T,Tl(0,!1),Ye&&typeof Ye.onPostCommitFiberRoot=="function")try{Ye.onPostCommitFiberRoot(ht,d)}catch{}return!0}finally{oe.p=f,Q.T=l,W_(n,r)}}function Z_(n,r,a){r=Dn(a,r),r=_d(n.stateNode,r,2),n=vr(n,r,2),n!==null&&(Di(n,2),pi(n))}function it(n,r,a){if(n.tag===3)Z_(n,n,a);else for(;r!==null;){if(r.tag===3){Z_(r,n,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Cr===null||!Cr.has(l))){n=Dn(a,n),a=i_(2),l=vr(r,a,2),l!==null&&(r_(a,l,r,n),Di(l,2),pi(l));break}}r=r.return}}function Fd(n,r,a){var l=n.pingCache;if(l===null){l=n.pingCache=new uw;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(Vd=!0,f.add(a),n=mw.bind(null,n,r,a),r.then(n,n))}function mw(n,r,a){var l=n.pingCache;l!==null&&l.delete(r),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,rt===n&&(qe&a)===a&&(dt===4||dt===3&&(qe&62914560)===qe&&300>bn()-Ud?(Xe&2)===0&&Ha(n,0):Pd|=a,Ba===qe&&(Ba=0)),pi(n)}function ev(n,r){r===0&&(r=Do()),n=wa(n,r),n!==null&&(Di(n,r),pi(n))}function pw(n){var r=n.memoizedState,a=0;r!==null&&(a=r.retryLane),ev(n,a)}function gw(n,r){var a=0;switch(n.tag){case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),ev(n,a)}function yw(n,r){return rs(n,r)}var wc=null,Ga=null,Gd=!1,Rc=!1,Kd=!1,zs=0;function pi(n){n!==Ga&&n.next===null&&(Ga===null?wc=Ga=n:Ga=Ga.next=n),Rc=!0,Gd||(Gd=!0,vw())}function Tl(n,r){if(!Kd&&Rc){Kd=!0;do for(var a=!1,l=wc;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var E=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-$t(42|n)+1)-1,d&=f&~(E&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,rv(l,d))}else d=qe,d=aa(l,l===rt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||cs(l,d)||(a=!0,rv(l,d));l=l.next}while(a);Kd=!1}}function _w(){tv()}function tv(){Rc=Gd=!1;var n=0;zs!==0&&(Iw()&&(n=zs),zs=0);for(var r=bn(),a=null,l=wc;l!==null;){var f=l.next,d=nv(l,r);d===0?(l.next=null,a===null?wc=f:a.next=f,f===null&&(Ga=a)):(a=l,(n!==0||(d&3)!==0)&&(Rc=!0)),l=f}Tl(n)}function nv(n,r){for(var a=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,d=n.pendingLanes&-62914561;0<d;){var E=31-$t(d),T=1<<E,O=f[E];O===-1?((T&a)===0||(T&l)!==0)&&(f[E]=Co(T,r)):O<=r&&(n.expiredLanes|=T),d&=~T}if(r=rt,a=qe,a=aa(n,n===r?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===r&&(We===2||We===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&ss(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||cs(n,a)){if(r=a&-a,r===n.callbackPriority)return r;switch(l!==null&&ss(l),oa(a)){case 2:case 8:a=ra;break;case 32:a=as;break;case 268435456:a=sa;break;default:a=as}return l=iv.bind(null,n),a=rs(a,l),n.callbackPriority=r,n.callbackNode=a,r}return l!==null&&l!==null&&ss(l),n.callbackPriority=2,n.callbackNode=null,2}function iv(n,r){if(qt!==0&&qt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(bc()&&n.callbackNode!==a)return null;var l=qe;return l=aa(n,n===rt?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(z_(n,l,r),nv(n,bn()),n.callbackNode!=null&&n.callbackNode===a?iv.bind(null,n):null)}function rv(n,r){if(bc())return null;z_(n,r,!0)}function vw(){Ow(function(){(Xe&6)!==0?rs(Ro,_w):tv()})}function $d(){return zs===0&&(zs=Oo()),zs}function sv(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:da(""+n)}function av(n,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,n.id&&a.setAttribute("form",n.id),r.parentNode.insertBefore(a,r),n=new FormData(n),a.parentNode.removeChild(a),n}function Ew(n,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var d=sv((f[vt]||null).action),E=l.submitter;E&&(r=(r=E[vt]||null)?sv(r.formAction):E.getAttribute("formAction"),r!==null&&(d=r,E=null));var T=new ma("action","action",null,l,f);n.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(zs!==0){var O=E?av(f,E):new FormData(f);dd(a,{pending:!0,data:O,method:f.method,action:d},null,O)}}else typeof d=="function"&&(T.preventDefault(),O=E?av(f,E):new FormData(f),dd(a,{pending:!0,data:O,method:f.method,action:d},d,O))},currentTarget:f}]})}}for(var Qd=0;Qd<Mf.length;Qd++){var Yd=Mf[Qd],Tw=Yd.toLowerCase(),Aw=Yd[0].toUpperCase()+Yd.slice(1);Fn(Tw,"on"+Aw)}Fn(zg,"onAnimationEnd"),Fn(Bg,"onAnimationIteration"),Fn(qg,"onAnimationStart"),Fn("dblclick","onDoubleClick"),Fn("focusin","onFocus"),Fn("focusout","onBlur"),Fn(zb,"onTransitionRun"),Fn(Bb,"onTransitionStart"),Fn(qb,"onTransitionCancel"),Fn(jg,"onTransitionEnd"),Mi("onMouseEnter",["mouseout","mouseover"]),Mi("onMouseLeave",["mouseout","mouseover"]),Mi("onPointerEnter",["pointerout","pointerover"]),Mi("onPointerLeave",["pointerout","pointerover"]),jn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),jn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),jn("onBeforeInput",["compositionend","keypress","textInput","paste"]),jn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),jn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),jn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Al));function ov(n,r){r=(r&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],f=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var E=l.length-1;0<=E;E--){var T=l[E],O=T.instance,j=T.currentTarget;if(T=T.listener,O!==d&&f.isPropagationStopped())break e;d=T,f.currentTarget=j;try{d(f)}catch(X){dc(X)}f.currentTarget=null,d=O}else for(E=0;E<l.length;E++){if(T=l[E],O=T.instance,j=T.currentTarget,T=T.listener,O!==d&&f.isPropagationStopped())break e;d=T,f.currentTarget=j;try{d(f)}catch(X){dc(X)}f.currentTarget=null,d=O}}}}function Pe(n,r){var a=r[xo];a===void 0&&(a=r[xo]=new Set);var l=n+"__bubble";a.has(l)||(lv(r,n,2,!1),a.add(l))}function Xd(n,r,a){var l=0;r&&(l|=4),lv(a,n,l,r)}var Ic="_reactListening"+Math.random().toString(36).slice(2);function Wd(n){if(!n[Ic]){n[Ic]=!0,Vo.forEach(function(a){a!=="selectionchange"&&(Sw.has(a)||Xd(a,!1,n),Xd(a,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[Ic]||(r[Ic]=!0,Xd("selectionchange",!1,r))}}function lv(n,r,a,l){switch(Mv(r)){case 2:var f=Xw;break;case 8:f=Ww;break;default:f=hm}a=f.bind(null,r,a,n),f=void 0,!Cn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(r,a,{capture:!0,passive:f}):n.addEventListener(r,a,!0):f!==void 0?n.addEventListener(r,a,{passive:f}):n.addEventListener(r,a,!1)}function Jd(n,r,a,l,f){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var T=l.stateNode.containerInfo;if(T===f)break;if(E===4)for(E=l.return;E!==null;){var O=E.tag;if((O===3||O===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;T!==null;){if(E=Ni(T),E===null)return;if(O=E.tag,O===5||O===6||O===26||O===27){l=d=E;continue e}T=T.parentNode}}l=l.return}Ou(function(){var j=d,X=In(a),Z=[];e:{var H=Hg.get(n);if(H!==void 0){var F=ma,Ae=n;switch(n){case"keypress":if(ai(a)===0)break e;case"keydown":case"keyup":F=Ea;break;case"focusin":Ae="focus",F=ya;break;case"focusout":Ae="blur",F=ya;break;case"beforeblur":case"afterblur":F=ya;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=On;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=bf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=Uu;break;case zg:case Bg:case qg:F=_a;break;case jg:F=zu;break;case"scroll":case"scrollend":F=Du;break;case"wheel":F=Ta;break;case"copy":case"cut":case"paste":F=va;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Ko;break;case"toggle":case"beforetoggle":F=qu}var ve=(r&4)!==0,tt=!ve&&(n==="scroll"||n==="scrollend"),L=ve?H!==null?H+"Capture":null:H;ve=[];for(var P=j,B;P!==null;){var J=P;if(B=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||B===null||L===null||(J=_s(P,L),J!=null&&ve.push(Sl(P,J,B))),tt)break;P=P.return}0<ve.length&&(H=new F(H,Ae,null,a,X),Z.push({event:H,listeners:ve}))}}if((r&7)===0){e:{if(H=n==="mouseover"||n==="pointerover",F=n==="mouseout"||n==="pointerout",H&&a!==Pi&&(Ae=a.relatedTarget||a.fromElement)&&(Ni(Ae)||Ae[wn]))break e;if((F||H)&&(H=X.window===X?X:(H=X.ownerDocument)?H.defaultView||H.parentWindow:window,F?(Ae=a.relatedTarget||a.toElement,F=j,Ae=Ae?Ni(Ae):null,Ae!==null&&(tt=u(Ae),ve=Ae.tag,Ae!==tt||ve!==5&&ve!==27&&ve!==6)&&(Ae=null)):(F=null,Ae=j),F!==Ae)){if(ve=On,J="onMouseLeave",L="onMouseEnter",P="mouse",(n==="pointerout"||n==="pointerover")&&(ve=Ko,J="onPointerLeave",L="onPointerEnter",P="pointer"),tt=F==null?H:ni(F),B=Ae==null?H:ni(Ae),H=new ve(J,P+"leave",F,a,X),H.target=tt,H.relatedTarget=B,J=null,Ni(X)===j&&(ve=new ve(L,P+"enter",Ae,a,X),ve.target=B,ve.relatedTarget=tt,J=ve),tt=J,F&&Ae)t:{for(ve=F,L=Ae,P=0,B=ve;B;B=Ka(B))P++;for(B=0,J=L;J;J=Ka(J))B++;for(;0<P-B;)ve=Ka(ve),P--;for(;0<B-P;)L=Ka(L),B--;for(;P--;){if(ve===L||L!==null&&ve===L.alternate)break t;ve=Ka(ve),L=Ka(L)}ve=null}else ve=null;F!==null&&uv(Z,H,F,ve,!1),Ae!==null&&tt!==null&&uv(Z,tt,Ae,ve,!0)}}e:{if(H=j?ni(j):window,F=H.nodeName&&H.nodeName.toLowerCase(),F==="select"||F==="input"&&H.type==="file")var fe=Cg;else if(It(H))if(Og)fe=kb;else{fe=Vb;var xe=xb}else F=H.nodeName,!F||F.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?j&&zo(j.elementType)&&(fe=Cg):fe=Pb;if(fe&&(fe=fe(n,j))){Bi(Z,fe,a,X);break e}xe&&xe(n,H,j),n==="focusout"&&j&&H.type==="number"&&j.memoizedProps.value!=null&&mr(H,"number",H.value)}switch(xe=j?ni(j):window,n){case"focusin":(It(xe)||xe.contentEditable==="true")&&(Aa=xe,Of=j,Yo=null);break;case"focusout":Yo=Of=Aa=null;break;case"mousedown":Df=!0;break;case"contextmenu":case"mouseup":case"dragend":Df=!1,Ug(Z,a,X);break;case"selectionchange":if(Lb)break;case"keydown":case"keyup":Ug(Z,a,X)}var pe;if(ui)e:{switch(n){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else ze?K(n,a)&&(Te="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Te="onCompositionStart");Te&&(_&&a.locale!=="ko"&&(ze||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&ze&&(pe=qo()):(si=X,pr="value"in si?si.value:si.textContent,ze=!0)),xe=Cc(j,Te),0<xe.length&&(Te=new Fo(Te,n,null,a,X),Z.push({event:Te,listeners:xe}),pe?Te.data=pe:(pe=ae(a),pe!==null&&(Te.data=pe)))),(pe=y?Rt(n,a):Be(n,a))&&(Te=Cc(j,"onBeforeInput"),0<Te.length&&(xe=new Fo("onBeforeInput","beforeinput",null,a,X),Z.push({event:xe,listeners:Te}),xe.data=pe)),Ew(Z,n,j,a,X)}ov(Z,r)})}function Sl(n,r,a){return{instance:n,listener:r,currentTarget:a}}function Cc(n,r){for(var a=r+"Capture",l=[];n!==null;){var f=n,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=_s(n,a),f!=null&&l.unshift(Sl(n,f,d)),f=_s(n,r),f!=null&&l.push(Sl(n,f,d))),n.tag===3)return l;n=n.return}return[]}function Ka(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function uv(n,r,a,l,f){for(var d=r._reactName,E=[];a!==null&&a!==l;){var T=a,O=T.alternate,j=T.stateNode;if(T=T.tag,O!==null&&O===l)break;T!==5&&T!==26&&T!==27||j===null||(O=j,f?(j=_s(a,d),j!=null&&E.unshift(Sl(a,j,O))):f||(j=_s(a,d),j!=null&&E.push(Sl(a,j,O)))),a=a.return}E.length!==0&&n.push({event:r,listeners:E})}var bw=/\r\n?/g,ww=/\u0000|\uFFFD/g;function cv(n){return(typeof n=="string"?n:""+n).replace(bw,`
`).replace(ww,"")}function hv(n,r){return r=cv(r),cv(n)===r}function Oc(){}function et(n,r,a,l,f,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Rn(n,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Rn(n,""+l);break;case"className":ii(n,"class",l);break;case"tabIndex":ii(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ii(n,a,l);break;case"style":Lo(n,l,d);break;case"data":if(r!=="object"){ii(n,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=da(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&et(n,r,"name",f.name,f,null),et(n,r,"formEncType",f.formEncType,f,null),et(n,r,"formMethod",f.formMethod,f,null),et(n,r,"formTarget",f.formTarget,f,null)):(et(n,r,"encType",f.encType,f,null),et(n,r,"method",f.method,f,null),et(n,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=da(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=Oc);break;case"onScroll":l!=null&&Pe("scroll",n);break;case"onScrollEnd":l!=null&&Pe("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=da(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":Pe("beforetoggle",n),Pe("toggle",n),dr(n,"popover",l);break;case"xlinkActuate":Lt(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Lt(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Lt(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Lt(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Lt(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Lt(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Lt(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Lt(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Lt(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":dr(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Af.get(a)||a,dr(n,a,l))}}function Zd(n,r,a,l,f,d){switch(a){case"style":Lo(n,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof l=="string"?Rn(n,l):(typeof l=="number"||typeof l=="bigint")&&Rn(n,""+l);break;case"onScroll":l!=null&&Pe("scroll",n);break;case"onScrollEnd":l!=null&&Pe("scrollend",n);break;case"onClick":l!=null&&(n.onclick=Oc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!la.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),d=n[vt]||null,d=d!=null?d[a]:null,typeof d=="function"&&n.removeEventListener(r,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(r,l,f);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):dr(n,a,l)}}}function jt(n,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",n),Pe("load",n);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var E=a[d];if(E!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:et(n,r,d,E,a,null)}}f&&et(n,r,"srcSet",a.srcSet,a,null),l&&et(n,r,"src",a.src,a,null);return;case"input":Pe("invalid",n);var T=d=E=f=null,O=null,j=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":f=X;break;case"type":E=X;break;case"checked":O=X;break;case"defaultChecked":j=X;break;case"value":d=X;break;case"defaultValue":T=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:et(n,r,l,X,a,null)}}ps(n,d,T,O,j,E,f,!1),fa(n);return;case"select":Pe("invalid",n),l=E=d=null;for(f in a)if(a.hasOwnProperty(f)&&(T=a[f],T!=null))switch(f){case"value":d=T;break;case"defaultValue":E=T;break;case"multiple":l=T;default:et(n,r,f,T,a,null)}r=d,a=E,n.multiple=!!l,r!=null?Vi(n,!!l,r,!1):a!=null&&Vi(n,!!l,a,!0);return;case"textarea":Pe("invalid",n),d=f=l=null;for(E in a)if(a.hasOwnProperty(E)&&(T=a[E],T!=null))switch(E){case"value":l=T;break;case"defaultValue":f=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:et(n,r,E,T,a,null)}gs(n,l,f,d),fa(n);return;case"option":for(O in a)if(a.hasOwnProperty(O)&&(l=a[O],l!=null))switch(O){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:et(n,r,O,l,a,null)}return;case"dialog":Pe("beforetoggle",n),Pe("toggle",n),Pe("cancel",n),Pe("close",n);break;case"iframe":case"object":Pe("load",n);break;case"video":case"audio":for(l=0;l<Al.length;l++)Pe(Al[l],n);break;case"image":Pe("error",n),Pe("load",n);break;case"details":Pe("toggle",n);break;case"embed":case"source":case"link":Pe("error",n),Pe("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(l=a[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:et(n,r,j,l,a,null)}return;default:if(zo(r)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&Zd(n,r,X,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&et(n,r,T,l,a,null))}function Rw(n,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,E=null,T=null,O=null,j=null,X=null;for(F in a){var Z=a[F];if(a.hasOwnProperty(F)&&Z!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":O=Z;default:l.hasOwnProperty(F)||et(n,r,F,null,l,Z)}}for(var H in l){var F=l[H];if(Z=a[H],l.hasOwnProperty(H)&&(F!=null||Z!=null))switch(H){case"type":d=F;break;case"name":f=F;break;case"checked":j=F;break;case"defaultChecked":X=F;break;case"value":E=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,r));break;default:F!==Z&&et(n,r,H,F,l,Z)}}mn(n,E,T,O,j,X,d,f);return;case"select":F=E=T=H=null;for(d in a)if(O=a[d],a.hasOwnProperty(d)&&O!=null)switch(d){case"value":break;case"multiple":F=O;default:l.hasOwnProperty(d)||et(n,r,d,null,l,O)}for(f in l)if(d=l[f],O=a[f],l.hasOwnProperty(f)&&(d!=null||O!=null))switch(f){case"value":H=d;break;case"defaultValue":T=d;break;case"multiple":E=d;default:d!==O&&et(n,r,f,d,l,O)}r=T,a=E,l=F,H!=null?Vi(n,!!a,H,!1):!!l!=!!a&&(r!=null?Vi(n,!!a,r,!0):Vi(n,!!a,a?[]:"",!1));return;case"textarea":F=H=null;for(T in a)if(f=a[T],a.hasOwnProperty(T)&&f!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:et(n,r,T,null,l,f)}for(E in l)if(f=l[E],d=a[E],l.hasOwnProperty(E)&&(f!=null||d!=null))switch(E){case"value":H=f;break;case"defaultValue":F=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&et(n,r,E,f,l,d)}Je(n,H,F);return;case"option":for(var Ae in a)if(H=a[Ae],a.hasOwnProperty(Ae)&&H!=null&&!l.hasOwnProperty(Ae))switch(Ae){case"selected":n.selected=!1;break;default:et(n,r,Ae,null,l,H)}for(O in l)if(H=l[O],F=a[O],l.hasOwnProperty(O)&&H!==F&&(H!=null||F!=null))switch(O){case"selected":n.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:et(n,r,O,H,l,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in a)H=a[ve],a.hasOwnProperty(ve)&&H!=null&&!l.hasOwnProperty(ve)&&et(n,r,ve,null,l,H);for(j in l)if(H=l[j],F=a[j],l.hasOwnProperty(j)&&H!==F&&(H!=null||F!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,r));break;default:et(n,r,j,H,l,F)}return;default:if(zo(r)){for(var tt in a)H=a[tt],a.hasOwnProperty(tt)&&H!==void 0&&!l.hasOwnProperty(tt)&&Zd(n,r,tt,void 0,l,H);for(X in l)H=l[X],F=a[X],!l.hasOwnProperty(X)||H===F||H===void 0&&F===void 0||Zd(n,r,X,H,l,F);return}}for(var L in a)H=a[L],a.hasOwnProperty(L)&&H!=null&&!l.hasOwnProperty(L)&&et(n,r,L,null,l,H);for(Z in l)H=l[Z],F=a[Z],!l.hasOwnProperty(Z)||H===F||H==null&&F==null||et(n,r,Z,H,l,F)}var em=null,tm=null;function Dc(n){return n.nodeType===9?n:n.ownerDocument}function fv(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function dv(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function nm(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var im=null;function Iw(){var n=window.event;return n&&n.type==="popstate"?n===im?!1:(im=n,!0):(im=null,!1)}var mv=typeof setTimeout=="function"?setTimeout:void 0,Cw=typeof clearTimeout=="function"?clearTimeout:void 0,pv=typeof Promise=="function"?Promise:void 0,Ow=typeof queueMicrotask=="function"?queueMicrotask:typeof pv<"u"?function(n){return pv.resolve(null).then(n).catch(Dw)}:mv;function Dw(n){setTimeout(function(){throw n})}function Nr(n){return n==="head"}function gv(n,r){var a=r,l=0,f=0;do{var d=a.nextSibling;if(n.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var E=n.ownerDocument;if(a&1&&bl(E.documentElement),a&2&&bl(E.body),a&4)for(a=E.head,bl(a),E=a.firstChild;E;){var T=E.nextSibling,O=E.nodeName;E[hs]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&E.rel.toLowerCase()==="stylesheet"||a.removeChild(E),E=T}}if(f===0){n.removeChild(d),Ml(r);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Ml(r)}function rm(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":rm(a),fr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function Nw(n,r,a,l){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[hs])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(d=n.getAttribute("rel"),d==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(d!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(d=n.getAttribute("src"),(d!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===d)return n}else return n;if(n=Kn(n.nextSibling),n===null)break}return null}function Mw(n,r,a){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Kn(n.nextSibling),n===null))return null;return n}function sm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function xw(n,r){var a=n.ownerDocument;if(n.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function Kn(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return n}var am=null;function yv(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return n;r--}else a==="/$"&&r++}n=n.previousSibling}return null}function _v(n,r,a){switch(r=Dc(a),n){case"html":if(n=r.documentElement,!n)throw Error(s(452));return n;case"head":if(n=r.head,!n)throw Error(s(453));return n;case"body":if(n=r.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function bl(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);fr(n)}var kn=new Map,vv=new Set;function Nc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Zi=oe.d;oe.d={f:Vw,r:Pw,D:kw,C:Uw,L:Lw,m:zw,X:qw,S:Bw,M:jw};function Vw(){var n=Zi.f(),r=Ac();return n||r}function Pw(n){var r=ti(n);r!==null&&r.tag===5&&r.type==="form"?zy(r):Zi.r(n)}var $a=typeof document>"u"?null:document;function Ev(n,r,a){var l=$a;if(l&&typeof r=="string"&&r){var f=Et(r);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),vv.has(f)||(vv.add(f),n={rel:n,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),jt(r,"link",n),pt(r),l.head.appendChild(r)))}}function kw(n){Zi.D(n),Ev("dns-prefetch",n,null)}function Uw(n,r){Zi.C(n,r),Ev("preconnect",n,r)}function Lw(n,r,a){Zi.L(n,r,a);var l=$a;if(l&&n&&r){var f='link[rel="preload"][as="'+Et(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+Et(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+Et(a.imageSizes)+'"]')):f+='[href="'+Et(n)+'"]';var d=f;switch(r){case"style":d=Qa(n);break;case"script":d=Ya(n)}kn.has(d)||(n=v({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:n,as:r},a),kn.set(d,n),l.querySelector(f)!==null||r==="style"&&l.querySelector(wl(d))||r==="script"&&l.querySelector(Rl(d))||(r=l.createElement("link"),jt(r,"link",n),pt(r),l.head.appendChild(r)))}}function zw(n,r){Zi.m(n,r);var a=$a;if(a&&n){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+Et(l)+'"][href="'+Et(n)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ya(n)}if(!kn.has(d)&&(n=v({rel:"modulepreload",href:n},r),kn.set(d,n),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Rl(d)))return}l=a.createElement("link"),jt(l,"link",n),pt(l),a.head.appendChild(l)}}}function Bw(n,r,a){Zi.S(n,r,a);var l=$a;if(l&&n){var f=tn(l).hoistableStyles,d=Qa(n);r=r||"default";var E=f.get(d);if(!E){var T={loading:0,preload:null};if(E=l.querySelector(wl(d)))T.loading=5;else{n=v({rel:"stylesheet",href:n,"data-precedence":r},a),(a=kn.get(d))&&om(n,a);var O=E=l.createElement("link");pt(O),jt(O,"link",n),O._p=new Promise(function(j,X){O.onload=j,O.onerror=X}),O.addEventListener("load",function(){T.loading|=1}),O.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Mc(E,r,l)}E={type:"stylesheet",instance:E,count:1,state:T},f.set(d,E)}}}function qw(n,r){Zi.X(n,r);var a=$a;if(a&&n){var l=tn(a).hoistableScripts,f=Ya(n),d=l.get(f);d||(d=a.querySelector(Rl(f)),d||(n=v({src:n,async:!0},r),(r=kn.get(f))&&lm(n,r),d=a.createElement("script"),pt(d),jt(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function jw(n,r){Zi.M(n,r);var a=$a;if(a&&n){var l=tn(a).hoistableScripts,f=Ya(n),d=l.get(f);d||(d=a.querySelector(Rl(f)),d||(n=v({src:n,async:!0,type:"module"},r),(r=kn.get(f))&&lm(n,r),d=a.createElement("script"),pt(d),jt(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function Tv(n,r,a,l){var f=(f=Ee.current)?Nc(f):null;if(!f)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Qa(a.href),a=tn(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=Qa(a.href);var d=tn(f).hoistableStyles,E=d.get(n);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(n,E),(d=f.querySelector(wl(n)))&&!d._p&&(E.instance=d,E.state.loading=5),kn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},kn.set(n,a),d||Hw(f,n,a,E.state))),r&&l===null)throw Error(s(528,""));return E}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Ya(a),a=tn(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function Qa(n){return'href="'+Et(n)+'"'}function wl(n){return'link[rel="stylesheet"]['+n+"]"}function Av(n){return v({},n,{"data-precedence":n.precedence,precedence:null})}function Hw(n,r,a,l){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=n.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),jt(r,"link",a),pt(r),n.head.appendChild(r))}function Ya(n){return'[src="'+Et(n)+'"]'}function Rl(n){return"script[async]"+n}function Sv(n,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=n.querySelector('style[data-href~="'+Et(a.href)+'"]');if(l)return r.instance=l,pt(l),l;var f=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),pt(l),jt(l,"style",f),Mc(l,a.precedence,n),r.instance=l;case"stylesheet":f=Qa(a.href);var d=n.querySelector(wl(f));if(d)return r.state.loading|=4,r.instance=d,pt(d),d;l=Av(a),(f=kn.get(f))&&om(l,f),d=(n.ownerDocument||n).createElement("link"),pt(d);var E=d;return E._p=new Promise(function(T,O){E.onload=T,E.onerror=O}),jt(d,"link",l),r.state.loading|=4,Mc(d,a.precedence,n),r.instance=d;case"script":return d=Ya(a.src),(f=n.querySelector(Rl(d)))?(r.instance=f,pt(f),f):(l=a,(f=kn.get(d))&&(l=v({},a),lm(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),pt(f),jt(f,"link",l),n.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Mc(l,a.precedence,n));return r.instance}function Mc(n,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,E=0;E<l.length;E++){var T=l[E];if(T.dataset.precedence===r)d=T;else if(d!==f)break}d?d.parentNode.insertBefore(n,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(n,r.firstChild))}function om(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function lm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var xc=null;function bv(n,r,a){if(xc===null){var l=new Map,f=xc=new Map;f.set(a,l)}else f=xc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var d=a[f];if(!(d[hs]||d[wt]||n==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var E=d.getAttribute(r)||"";E=n+E;var T=l.get(E);T?T.push(d):l.set(E,[d])}}return l}function wv(n,r,a){n=n.ownerDocument||n,n.head.insertBefore(a,r==="title"?n.querySelector("head > title"):null)}function Fw(n,r,a){if(a===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Rv(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Il=null;function Gw(){}function Kw(n,r,a){if(Il===null)throw Error(s(475));var l=Il;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=Qa(a.href),d=n.querySelector(wl(f));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=Vc.bind(l),n.then(l,l)),r.state.loading|=4,r.instance=d,pt(d);return}d=n.ownerDocument||n,a=Av(a),(f=kn.get(f))&&om(a,f),d=d.createElement("link"),pt(d);var E=d;E._p=new Promise(function(T,O){E.onload=T,E.onerror=O}),jt(d,"link",a),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=Vc.bind(l),n.addEventListener("load",r),n.addEventListener("error",r))}}function $w(){if(Il===null)throw Error(s(475));var n=Il;return n.stylesheets&&n.count===0&&um(n,n.stylesheets),0<n.count?function(r){var a=setTimeout(function(){if(n.stylesheets&&um(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(a)}}:null}function Vc(){if(this.count--,this.count===0){if(this.stylesheets)um(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Pc=null;function um(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Pc=new Map,r.forEach(Qw,n),Pc=null,Vc.call(n))}function Qw(n,r){if(!(r.state.loading&4)){var a=Pc.get(n);if(a)var l=a.get(null);else{a=new Map,Pc.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var E=f[d];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),l=E)}l&&a.set(null,l)}f=r.instance,E=f.getAttribute("data-precedence"),d=a.get(E)||l,d===l&&a.set(null,f),a.set(E,f),this.count++,l=Vc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),r.state.loading|=4}}var Cl={$$typeof:Y,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function Yw(n,r,a,l,f,d,E,T){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Oi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oi(0),this.hiddenUpdates=Oi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Iv(n,r,a,l,f,d,E,T,O,j,X,Z){return n=new Yw(n,r,a,E,T,O,j,Z),r=1,d===!0&&(r|=24),d=gn(3,null,null,r),n.current=d,d.stateNode=n,r=Ff(),r.refCount++,n.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},Qf(d),n}function Cv(n){return n?(n=Ra,n):Ra}function Ov(n,r,a,l,f,d){f=Cv(f),l.context===null?l.context=f:l.pendingContext=f,l=_r(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=vr(n,l,r),a!==null&&(Tn(a,n,r),rl(a,n,r))}function Dv(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<r?a:r}}function cm(n,r){Dv(n,r),(n=n.alternate)&&Dv(n,r)}function Nv(n){if(n.tag===13){var r=wa(n,67108864);r!==null&&Tn(r,n,67108864),cm(n,67108864)}}var kc=!0;function Xw(n,r,a,l){var f=Q.T;Q.T=null;var d=oe.p;try{oe.p=2,hm(n,r,a,l)}finally{oe.p=d,Q.T=f}}function Ww(n,r,a,l){var f=Q.T;Q.T=null;var d=oe.p;try{oe.p=8,hm(n,r,a,l)}finally{oe.p=d,Q.T=f}}function hm(n,r,a,l){if(kc){var f=fm(l);if(f===null)Jd(n,r,l,Uc,a),xv(n,l);else if(Zw(f,n,r,a,l))l.stopPropagation();else if(xv(n,l),r&4&&-1<Jw.indexOf(n)){for(;f!==null;){var d=ti(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var E=qn(d.pendingLanes);if(E!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;E;){var O=1<<31-$t(E);T.entanglements[1]|=O,E&=~O}pi(d),(Xe&6)===0&&(Ec=bn()+500,Tl(0))}}break;case 13:T=wa(d,2),T!==null&&Tn(T,d,2),Ac(),cm(d,2)}if(d=fm(l),d===null&&Jd(n,r,l,Uc,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else Jd(n,r,l,null,a)}}function fm(n){return n=In(n),dm(n)}var Uc=null;function dm(n){if(Uc=null,n=Ni(n),n!==null){var r=u(n);if(r===null)n=null;else{var a=r.tag;if(a===13){if(n=h(r),n!==null)return n;n=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return Uc=n,null}function Mv(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(gf()){case Ro:return 2;case ra:return 8;case as:case yf:return 32;case sa:return 268435456;default:return 32}default:return 32}}var mm=!1,Mr=null,xr=null,Vr=null,Ol=new Map,Dl=new Map,Pr=[],Jw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function xv(n,r){switch(n){case"focusin":case"focusout":Mr=null;break;case"dragenter":case"dragleave":xr=null;break;case"mouseover":case"mouseout":Vr=null;break;case"pointerover":case"pointerout":Ol.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dl.delete(r.pointerId)}}function Nl(n,r,a,l,f,d){return n===null||n.nativeEvent!==d?(n={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},r!==null&&(r=ti(r),r!==null&&Nv(r)),n):(n.eventSystemFlags|=l,r=n.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),n)}function Zw(n,r,a,l,f){switch(r){case"focusin":return Mr=Nl(Mr,n,r,a,l,f),!0;case"dragenter":return xr=Nl(xr,n,r,a,l,f),!0;case"mouseover":return Vr=Nl(Vr,n,r,a,l,f),!0;case"pointerover":var d=f.pointerId;return Ol.set(d,Nl(Ol.get(d)||null,n,r,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Dl.set(d,Nl(Dl.get(d)||null,n,r,a,l,f)),!0}return!1}function Vv(n){var r=Ni(n.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=h(a),r!==null){n.blockedOn=r,Au(n.priority,function(){if(a.tag===13){var l=En();l=ur(l);var f=wa(a,l);f!==null&&Tn(f,a,l),cm(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Lc(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var a=fm(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);Pi=l,a.target.dispatchEvent(l),Pi=null}else return r=ti(a),r!==null&&Nv(r),n.blockedOn=a,!1;r.shift()}return!0}function Pv(n,r,a){Lc(n)&&a.delete(r)}function eR(){mm=!1,Mr!==null&&Lc(Mr)&&(Mr=null),xr!==null&&Lc(xr)&&(xr=null),Vr!==null&&Lc(Vr)&&(Vr=null),Ol.forEach(Pv),Dl.forEach(Pv)}function zc(n,r){n.blockedOn===r&&(n.blockedOn=null,mm||(mm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,eR)))}var Bc=null;function kv(n){Bc!==n&&(Bc=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Bc===n&&(Bc=null);for(var r=0;r<n.length;r+=3){var a=n[r],l=n[r+1],f=n[r+2];if(typeof l!="function"){if(dm(l||a)===null)continue;break}var d=ti(a);d!==null&&(n.splice(r,3),r-=3,dd(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Ml(n){function r(O){return zc(O,n)}Mr!==null&&zc(Mr,n),xr!==null&&zc(xr,n),Vr!==null&&zc(Vr,n),Ol.forEach(r),Dl.forEach(r);for(var a=0;a<Pr.length;a++){var l=Pr[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<Pr.length&&(a=Pr[0],a.blockedOn===null);)Vv(a),a.blockedOn===null&&Pr.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],E=f[vt]||null;if(typeof d=="function")E||kv(a);else if(E){var T=null;if(d&&d.hasAttribute("formAction")){if(f=d,E=d[vt]||null)T=E.formAction;else if(dm(f)!==null)continue}else T=E.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),kv(a)}}}function pm(n){this._internalRoot=n}qc.prototype.render=pm.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=En();Ov(a,l,n,r,null,null)},qc.prototype.unmount=pm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;Ov(n.current,2,null,n,null,null),Ac(),r[wn]=null}};function qc(n){this._internalRoot=n}qc.prototype.unstable_scheduleHydration=function(n){if(n){var r=cr();n={blockedOn:null,target:n,priority:r};for(var a=0;a<Pr.length&&r!==0&&r<Pr[a].priority;a++);Pr.splice(a,0,n),a===0&&Vv(n)}};var Uv=e.version;if(Uv!=="19.1.0")throw Error(s(527,Uv,"19.1.0"));oe.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=p(r),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var tR={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jc.isDisabled&&jc.supportsFiber)try{ht=jc.inject(tR),Ye=jc}catch{}}return Vl.createRoot=function(n,r){if(!o(n))throw Error(s(299));var a=!1,l="",f=Zy,d=e_,E=t_,T=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(T=r.unstable_transitionCallbacks)),r=Iv(n,1,!1,null,null,a,l,f,d,E,T,null),n[wn]=r.current,Wd(n),new pm(r)},Vl.hydrateRoot=function(n,r,a){if(!o(n))throw Error(s(299));var l=!1,f="",d=Zy,E=e_,T=t_,O=null,j=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(O=a.unstable_transitionCallbacks),a.formState!==void 0&&(j=a.formState)),r=Iv(n,1,!0,r,a??null,l,f,d,E,T,O,j),r.context=Cv(null),a=r.current,l=En(),l=ur(l),f=_r(l),f.callback=null,vr(a,f,l),a=l,r.current.lanes=a,Di(r,a),pi(r),n[wn]=r.current,Wd(n),new qc(r)},Vl.version="19.1.0",Vl}var $v;function fR(){if($v)return _m.exports;$v=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),_m.exports=hR(),_m.exports}var dR=fR(),Pl={},Qv;function mR(){if(Qv)return Pl;Qv=1,Object.defineProperty(Pl,"__esModule",{value:!0}),Pl.parse=h,Pl.serialize=g;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const R=function(){};return R.prototype=Object.create(null),R})();function h(R,V){const D=new u,q=R.length;if(q<2)return D;const k=(V==null?void 0:V.decode)||v;let G=0;do{const re=R.indexOf("=",G);if(re===-1)break;const Y=R.indexOf(";",G),ue=Y===-1?q:Y;if(re>ue){G=R.lastIndexOf(";",re-1)+1;continue}const te=m(R,G,re),ce=p(R,re,te),I=R.slice(te,ce);if(D[I]===void 0){let b=m(R,re+1,ue),w=p(R,ue,b);const N=k(R.slice(b,w));D[I]=N}G=ue+1}while(G<q);return D}function m(R,V,D){do{const q=R.charCodeAt(V);if(q!==32&&q!==9)return V}while(++V<D);return D}function p(R,V,D){for(;V>D;){const q=R.charCodeAt(--V);if(q!==32&&q!==9)return V+1}return D}function g(R,V,D){const q=(D==null?void 0:D.encode)||encodeURIComponent;if(!i.test(R))throw new TypeError(`argument name is invalid: ${R}`);const k=q(V);if(!e.test(k))throw new TypeError(`argument val is invalid: ${V}`);let G=R+"="+k;if(!D)return G;if(D.maxAge!==void 0){if(!Number.isInteger(D.maxAge))throw new TypeError(`option maxAge is invalid: ${D.maxAge}`);G+="; Max-Age="+D.maxAge}if(D.domain){if(!t.test(D.domain))throw new TypeError(`option domain is invalid: ${D.domain}`);G+="; Domain="+D.domain}if(D.path){if(!s.test(D.path))throw new TypeError(`option path is invalid: ${D.path}`);G+="; Path="+D.path}if(D.expires){if(!A(D.expires)||!Number.isFinite(D.expires.valueOf()))throw new TypeError(`option expires is invalid: ${D.expires}`);G+="; Expires="+D.expires.toUTCString()}if(D.httpOnly&&(G+="; HttpOnly"),D.secure&&(G+="; Secure"),D.partitioned&&(G+="; Partitioned"),D.priority)switch(typeof D.priority=="string"?D.priority.toLowerCase():void 0){case"low":G+="; Priority=Low";break;case"medium":G+="; Priority=Medium";break;case"high":G+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${D.priority}`)}if(D.sameSite)switch(typeof D.sameSite=="string"?D.sameSite.toLowerCase():D.sameSite){case!0:case"strict":G+="; SameSite=Strict";break;case"lax":G+="; SameSite=Lax";break;case"none":G+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${D.sameSite}`)}return G}function v(R){if(R.indexOf("%")===-1)return R;try{return decodeURIComponent(R)}catch{return R}}function A(R){return o.call(R)==="[object Date]"}return Pl}mR();var Yv="popstate";function pR(i={}){function e(s,o){let{pathname:u,search:h,hash:m}=s.location;return Hm("",{pathname:u,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:Ql(o)}return yR(e,t,null,i)}function ut(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Si(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function gR(){return Math.random().toString(36).substring(2,10)}function Xv(i,e){return{usr:i.state,key:i.key,idx:e}}function Hm(i,e,t=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?mo(e):e,state:t,key:e&&e.key||s||gR()}}function Ql({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function mo(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function yR(i,e,t,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",p=null,g=v();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function v(){return(h.state||{idx:null}).idx}function A(){m="POP";let k=v(),G=k==null?null:k-g;g=k,p&&p({action:m,location:q.location,delta:G})}function R(k,G){m="PUSH";let re=Hm(q.location,k,G);g=v()+1;let Y=Xv(re,g),ue=q.createHref(re);try{h.pushState(Y,"",ue)}catch(te){if(te instanceof DOMException&&te.name==="DataCloneError")throw te;o.location.assign(ue)}u&&p&&p({action:m,location:q.location,delta:1})}function V(k,G){m="REPLACE";let re=Hm(q.location,k,G);g=v();let Y=Xv(re,g),ue=q.createHref(re);h.replaceState(Y,"",ue),u&&p&&p({action:m,location:q.location,delta:0})}function D(k){return _R(k)}let q={get action(){return m},get location(){return i(o,h)},listen(k){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Yv,A),p=k,()=>{o.removeEventListener(Yv,A),p=null}},createHref(k){return e(o,k)},createURL:D,encodeLocation(k){let G=D(k);return{pathname:G.pathname,search:G.search,hash:G.hash}},push:R,replace:V,go(k){return h.go(k)}};return q}function _R(i,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),ut(t,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:Ql(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function e0(i,e,t="/"){return vR(i,e,t,!1)}function vR(i,e,t,s){let o=typeof e=="string"?mo(e):e,u=ir(o.pathname||"/",t);if(u==null)return null;let h=t0(i);ER(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=NR(u);m=OR(h[p],g,s)}return m}function t0(i,e=[],t=[],s=""){let o=(u,h,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};p.relativePath.startsWith("/")&&(ut(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=nr([s,p.relativePath]),v=t.concat(p);u.children&&u.children.length>0&&(ut(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),t0(u.children,e,v,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:IR(g,u.index),routesMeta:v})};return i.forEach((u,h)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,h);else for(let p of n0(u.path))o(u,h,p)}),e}function n0(i){let e=i.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=n0(s.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function ER(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:CR(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var TR=/^:[\w-]+$/,AR=3,SR=2,bR=1,wR=10,RR=-2,Wv=i=>i==="*";function IR(i,e){let t=i.split("/"),s=t.length;return t.some(Wv)&&(s+=RR),e&&(s+=SR),t.filter(o=>!Wv(o)).reduce((o,u)=>o+(TR.test(u)?AR:u===""?bR:wR),s)}function CR(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function OR(i,e,t=!1){let{routesMeta:s}=i,o={},u="/",h=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,v=u==="/"?e:e.slice(u.length)||"/",A=dh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),R=p.route;if(!A&&g&&t&&!s[s.length-1].route.index&&(A=dh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!A)return null;Object.assign(o,A.params),h.push({params:o,pathname:nr([u,A.pathname]),pathnameBase:PR(nr([u,A.pathnameBase])),route:R}),A.pathnameBase!=="/"&&(u=nr([u,A.pathnameBase]))}return h}function dh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,s]=DR(i.path,i.caseSensitive,i.end),o=e.match(t);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:v,isOptional:A},R)=>{if(v==="*"){let D=m[R]||"";h=u.slice(0,u.length-D.length).replace(/(.)\/+$/,"$1")}const V=m[R];return A&&!V?g[v]=void 0:g[v]=(V||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:i}}function DR(i,e=!1,t=!0){Si(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function NR(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Si(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function ir(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=i.charAt(t);return s&&s!=="/"?null:i.slice(t)||"/"}function MR(i,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof i=="string"?mo(i):i;return{pathname:t?t.startsWith("/")?t:xR(t,e):e,search:kR(s),hash:UR(o)}}function xR(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Am(i,e,t,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function VR(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function i0(i){let e=VR(i);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function r0(i,e,t,s=!1){let o;typeof i=="string"?o=mo(i):(o={...i},ut(!o.pathname||!o.pathname.includes("?"),Am("?","pathname","search",o)),ut(!o.pathname||!o.pathname.includes("#"),Am("#","pathname","hash",o)),ut(!o.search||!o.search.includes("#"),Am("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=t;else{let A=e.length-1;if(!s&&h.startsWith("..")){let R=h.split("/");for(;R[0]==="..";)R.shift(),A-=1;o.pathname=R.join("/")}m=A>=0?e[A]:"/"}let p=MR(o,m),g=h&&h!=="/"&&h.endsWith("/"),v=(u||h===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}var nr=i=>i.join("/").replace(/\/\/+/g,"/"),PR=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),kR=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,UR=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function LR(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var s0=["POST","PUT","PATCH","DELETE"];new Set(s0);var zR=["GET",...s0];new Set(zR);var po=W.createContext(null);po.displayName="DataRouter";var Lh=W.createContext(null);Lh.displayName="DataRouterState";var a0=W.createContext({isTransitioning:!1});a0.displayName="ViewTransition";var BR=W.createContext(new Map);BR.displayName="Fetchers";var qR=W.createContext(null);qR.displayName="Await";var Ri=W.createContext(null);Ri.displayName="Navigation";var su=W.createContext(null);su.displayName="Location";var Ii=W.createContext({outlet:null,matches:[],isDataRoute:!1});Ii.displayName="Route";var wp=W.createContext(null);wp.displayName="RouteError";function jR(i,{relative:e}={}){ut(au(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=W.useContext(Ri),{hash:o,pathname:u,search:h}=ou(i,{relative:e}),m=u;return t!=="/"&&(m=u==="/"?t:nr([t,u])),s.createHref({pathname:m,search:h,hash:o})}function au(){return W.useContext(su)!=null}function Ws(){return ut(au(),"useLocation() may be used only in the context of a <Router> component."),W.useContext(su).location}var o0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function l0(i){W.useContext(Ri).static||W.useLayoutEffect(i)}function Rp(){let{isDataRoute:i}=W.useContext(Ii);return i?iI():HR()}function HR(){ut(au(),"useNavigate() may be used only in the context of a <Router> component.");let i=W.useContext(po),{basename:e,navigator:t}=W.useContext(Ri),{matches:s}=W.useContext(Ii),{pathname:o}=Ws(),u=JSON.stringify(i0(s)),h=W.useRef(!1);return l0(()=>{h.current=!0}),W.useCallback((p,g={})=>{if(Si(h.current,o0),!h.current)return;if(typeof p=="number"){t.go(p);return}let v=r0(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:nr([e,v.pathname])),(g.replace?t.replace:t.push)(v,g.state,g)},[e,t,u,o,i])}var FR=W.createContext(null);function GR(i){let e=W.useContext(Ii).outlet;return e&&W.createElement(FR.Provider,{value:i},e)}function ou(i,{relative:e}={}){let{matches:t}=W.useContext(Ii),{pathname:s}=Ws(),o=JSON.stringify(i0(t));return W.useMemo(()=>r0(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function KR(i,e){return u0(i,e)}function u0(i,e,t,s){var re;ut(au(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=W.useContext(Ri),{matches:h}=W.useContext(Ii),m=h[h.length-1],p=m?m.params:{},g=m?m.pathname:"/",v=m?m.pathnameBase:"/",A=m&&m.route;{let Y=A&&A.path||"";c0(g,!A||Y.endsWith("*")||Y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${Y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Y}"> to <Route path="${Y==="/"?"*":`${Y}/*`}">.`)}let R=Ws(),V;if(e){let Y=typeof e=="string"?mo(e):e;ut(v==="/"||((re=Y.pathname)==null?void 0:re.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${Y.pathname}" was given in the \`location\` prop.`),V=Y}else V=R;let D=V.pathname||"/",q=D;if(v!=="/"){let Y=v.replace(/^\//,"").split("/");q="/"+D.replace(/^\//,"").split("/").slice(Y.length).join("/")}let k=!u&&t&&t.matches&&t.matches.length>0?t.matches:e0(i,{pathname:q});Si(A||k!=null,`No routes matched location "${V.pathname}${V.search}${V.hash}" `),Si(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${V.pathname}${V.search}${V.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let G=WR(k&&k.map(Y=>Object.assign({},Y,{params:Object.assign({},p,Y.params),pathname:nr([v,o.encodeLocation?o.encodeLocation(Y.pathname).pathname:Y.pathname]),pathnameBase:Y.pathnameBase==="/"?v:nr([v,o.encodeLocation?o.encodeLocation(Y.pathnameBase).pathname:Y.pathnameBase])})),h,t,s);return e&&G?W.createElement(su.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...V},navigationType:"POP"}},G):G}function $R(){let i=nI(),e=LR(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=W.createElement(W.Fragment,null,W.createElement("p",null," Hey developer "),W.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",W.createElement("code",{style:u},"ErrorBoundary")," or"," ",W.createElement("code",{style:u},"errorElement")," prop on your route.")),W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},e),t?W.createElement("pre",{style:o},t):null,h)}var QR=W.createElement($R,null),YR=class extends W.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?W.createElement(Ii.Provider,{value:this.props.routeContext},W.createElement(wp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function XR({routeContext:i,match:e,children:t}){let s=W.useContext(po);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),W.createElement(Ii.Provider,{value:i},t)}function WR(i,e=[],t=null,s=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let o=i,u=t==null?void 0:t.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);ut(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let h=!1,m=-1;if(t)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:v,errors:A}=t,R=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!A||A[g.route.id]===void 0);if(g.route.lazy||R){h=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,v)=>{let A,R=!1,V=null,D=null;t&&(A=u&&g.route.id?u[g.route.id]:void 0,V=g.route.errorElement||QR,h&&(m<0&&v===0?(c0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,D=null):m===v&&(R=!0,D=g.route.hydrateFallbackElement||null)));let q=e.concat(o.slice(0,v+1)),k=()=>{let G;return A?G=V:R?G=D:g.route.Component?G=W.createElement(g.route.Component,null):g.route.element?G=g.route.element:G=p,W.createElement(XR,{match:g,routeContext:{outlet:p,matches:q,isDataRoute:t!=null},children:G})};return t&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?W.createElement(YR,{location:t.location,revalidation:t.revalidation,component:V,error:A,children:k(),routeContext:{outlet:null,matches:q,isDataRoute:!0}}):k()},null)}function Ip(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function JR(i){let e=W.useContext(po);return ut(e,Ip(i)),e}function ZR(i){let e=W.useContext(Lh);return ut(e,Ip(i)),e}function eI(i){let e=W.useContext(Ii);return ut(e,Ip(i)),e}function Cp(i){let e=eI(i),t=e.matches[e.matches.length-1];return ut(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function tI(){return Cp("useRouteId")}function nI(){var s;let i=W.useContext(wp),e=ZR("useRouteError"),t=Cp("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[t]}function iI(){let{router:i}=JR("useNavigate"),e=Cp("useNavigate"),t=W.useRef(!1);return l0(()=>{t.current=!0}),W.useCallback(async(o,u={})=>{Si(t.current,o0),t.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var Jv={};function c0(i,e,t){!e&&!Jv[i]&&(Jv[i]=!0,Si(!1,t))}W.memo(rI);function rI({routes:i,future:e,state:t}){return u0(i,void 0,t,e)}function sI(i){return GR(i.context)}function Fm(i){ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function aI({basename:i="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:u=!1}){ut(!au(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),m=W.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof t=="string"&&(t=mo(t));let{pathname:p="/",search:g="",hash:v="",state:A=null,key:R="default"}=t,V=W.useMemo(()=>{let D=ir(p,h);return D==null?null:{location:{pathname:D,search:g,hash:v,state:A,key:R},navigationType:s}},[h,p,g,v,A,R,s]);return Si(V!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),V==null?null:W.createElement(Ri.Provider,{value:m},W.createElement(su.Provider,{children:e,value:V}))}function oI({children:i,location:e}){return KR(Gm(i),e)}function Gm(i,e=[]){let t=[];return W.Children.forEach(i,(s,o)=>{if(!W.isValidElement(s))return;let u=[...e,o];if(s.type===W.Fragment){t.push.apply(t,Gm(s.props.children,u));return}ut(s.type===Fm,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ut(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Gm(s.props.children,u)),t.push(h)}),t}var Jc="get",Zc="application/x-www-form-urlencoded";function zh(i){return i!=null&&typeof i.tagName=="string"}function lI(i){return zh(i)&&i.tagName.toLowerCase()==="button"}function uI(i){return zh(i)&&i.tagName.toLowerCase()==="form"}function cI(i){return zh(i)&&i.tagName.toLowerCase()==="input"}function hI(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function fI(i,e){return i.button===0&&(!e||e==="_self")&&!hI(i)}var Fc=null;function dI(){if(Fc===null)try{new FormData(document.createElement("form"),0),Fc=!1}catch{Fc=!0}return Fc}var mI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Sm(i){return i!=null&&!mI.has(i)?(Si(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Zc}"`),null):i}function pI(i,e){let t,s,o,u,h;if(uI(i)){let m=i.getAttribute("action");s=m?ir(m,e):null,t=i.getAttribute("method")||Jc,o=Sm(i.getAttribute("enctype"))||Zc,u=new FormData(i)}else if(lI(i)||cI(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?ir(p,e):null,t=i.getAttribute("formmethod")||m.getAttribute("method")||Jc,o=Sm(i.getAttribute("formenctype"))||Sm(m.getAttribute("enctype"))||Zc,u=new FormData(m,i),!dI()){let{name:g,type:v,value:A}=i;if(v==="image"){let R=g?`${g}.`:"";u.append(`${R}x`,"0"),u.append(`${R}y`,"0")}else g&&u.append(g,A)}}else{if(zh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Jc,s=null,o=Zc,h=i}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:u,body:h}}function Op(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function gI(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function yI(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function _I(i,e,t){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await gI(u,t);return h.links?h.links():[]}return[]}));return AI(s.flat(1).filter(yI).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Zv(i,e,t,s,o,u){let h=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,m=(p,g)=>{var v;return t[g].pathname!==p.pathname||((v=t[g].route.path)==null?void 0:v.endsWith("*"))&&t[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>h(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{var A;let v=s.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let R=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((A=t[0])==null?void 0:A.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof R=="boolean")return R}return!0}):[]}function vI(i,e,{includeHydrateFallback:t}={}){return EI(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function EI(i){return[...new Set(i)]}function TI(i){let e={},t=Object.keys(i).sort();for(let s of t)e[s]=i[s];return e}function AI(i,e){let t=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(TI(o));return t.has(u)||(t.add(u),s.push({key:u,link:o})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var SI=new Set([100,101,204,205]);function bI(i,e){let t=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return t.pathname==="/"?t.pathname="_root.data":e&&ir(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function h0(){let i=W.useContext(po);return Op(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function wI(){let i=W.useContext(Lh);return Op(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Dp=W.createContext(void 0);Dp.displayName="FrameworkContext";function f0(){let i=W.useContext(Dp);return Op(i,"You must render this element inside a <HydratedRouter> element"),i}function RI(i,e){let t=W.useContext(Dp),[s,o]=W.useState(!1),[u,h]=W.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:v,onTouchStart:A}=e,R=W.useRef(null);W.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let q=G=>{G.forEach(re=>{h(re.isIntersecting)})},k=new IntersectionObserver(q,{threshold:.5});return R.current&&k.observe(R.current),()=>{k.disconnect()}}},[i]),W.useEffect(()=>{if(s){let q=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(q)}}},[s]);let V=()=>{o(!0)},D=()=>{o(!1),h(!1)};return t?i!=="intent"?[u,R,{}]:[u,R,{onFocus:kl(m,V),onBlur:kl(p,D),onMouseEnter:kl(g,V),onMouseLeave:kl(v,D),onTouchStart:kl(A,V)}]:[!1,R,{}]}function kl(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function II({page:i,...e}){let{router:t}=h0(),s=W.useMemo(()=>e0(t.routes,i,t.basename),[t.routes,i,t.basename]);return s?W.createElement(OI,{page:i,matches:s,...e}):null}function CI(i){let{manifest:e,routeModules:t}=f0(),[s,o]=W.useState([]);return W.useEffect(()=>{let u=!1;return _I(i,e,t).then(h=>{u||o(h)}),()=>{u=!0}},[i,e,t]),s}function OI({page:i,matches:e,...t}){let s=Ws(),{manifest:o,routeModules:u}=f0(),{basename:h}=h0(),{loaderData:m,matches:p}=wI(),g=W.useMemo(()=>Zv(i,e,p,o,s,"data"),[i,e,p,o,s]),v=W.useMemo(()=>Zv(i,e,p,o,s,"assets"),[i,e,p,o,s]),A=W.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let D=new Set,q=!1;if(e.forEach(G=>{var Y;let re=o.routes[G.route.id];!re||!re.hasLoader||(!g.some(ue=>ue.route.id===G.route.id)&&G.route.id in m&&((Y=u[G.route.id])!=null&&Y.shouldRevalidate)||re.hasClientLoader?q=!0:D.add(G.route.id))}),D.size===0)return[];let k=bI(i,h);return q&&D.size>0&&k.searchParams.set("_routes",e.filter(G=>D.has(G.route.id)).map(G=>G.route.id).join(",")),[k.pathname+k.search]},[h,m,s,o,g,e,i,u]),R=W.useMemo(()=>vI(v,o),[v,o]),V=CI(v);return W.createElement(W.Fragment,null,A.map(D=>W.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...t})),R.map(D=>W.createElement("link",{key:D,rel:"modulepreload",href:D,...t})),V.map(({key:D,link:q})=>W.createElement("link",{key:D,...q})))}function DI(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var d0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{d0&&(window.__reactRouterVersion="7.6.0")}catch{}function NI({basename:i,children:e,window:t}){let s=W.useRef();s.current==null&&(s.current=pR({window:t,v5Compat:!0}));let o=s.current,[u,h]=W.useState({action:o.action,location:o.location}),m=W.useCallback(p=>{W.startTransition(()=>h(p))},[h]);return W.useLayoutEffect(()=>o.listen(m),[o,m]),W.createElement(aI,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var m0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,p0=W.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:m,target:p,to:g,preventScrollReset:v,viewTransition:A,...R},V){let{basename:D}=W.useContext(Ri),q=typeof g=="string"&&m0.test(g),k,G=!1;if(typeof g=="string"&&q&&(k=g,d0))try{let w=new URL(window.location.href),N=g.startsWith("//")?new URL(w.protocol+g):new URL(g),x=ir(N.pathname,D);N.origin===w.origin&&x!=null?g=x+N.search+N.hash:G=!0}catch{Si(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let re=jR(g,{relative:o}),[Y,ue,te]=RI(s,R),ce=PI(g,{replace:h,state:m,target:p,preventScrollReset:v,relative:o,viewTransition:A});function I(w){e&&e(w),w.defaultPrevented||ce(w)}let b=W.createElement("a",{...R,...te,href:k||re,onClick:G||u?e:I,ref:DI(V,ue),target:p,"data-discover":!q&&t==="render"?"true":void 0});return Y&&!q?W.createElement(W.Fragment,null,b,W.createElement(II,{page:re})):b});p0.displayName="Link";var MI=W.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:p,...g},v){let A=ou(h,{relative:g.relative}),R=Ws(),V=W.useContext(Lh),{navigator:D,basename:q}=W.useContext(Ri),k=V!=null&&BI(A)&&m===!0,G=D.encodeLocation?D.encodeLocation(A).pathname:A.pathname,re=R.pathname,Y=V&&V.navigation&&V.navigation.location?V.navigation.location.pathname:null;t||(re=re.toLowerCase(),Y=Y?Y.toLowerCase():null,G=G.toLowerCase()),Y&&q&&(Y=ir(Y,q)||Y);const ue=G!=="/"&&G.endsWith("/")?G.length-1:G.length;let te=re===G||!o&&re.startsWith(G)&&re.charAt(ue)==="/",ce=Y!=null&&(Y===G||!o&&Y.startsWith(G)&&Y.charAt(G.length)==="/"),I={isActive:te,isPending:ce,isTransitioning:k},b=te?e:void 0,w;typeof s=="function"?w=s(I):w=[s,te?"active":null,ce?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let N=typeof u=="function"?u(I):u;return W.createElement(p0,{...g,"aria-current":b,className:w,ref:v,style:N,to:h,viewTransition:m},typeof p=="function"?p(I):p)});MI.displayName="NavLink";var xI=W.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:u,method:h=Jc,action:m,onSubmit:p,relative:g,preventScrollReset:v,viewTransition:A,...R},V)=>{let D=LI(),q=zI(m,{relative:g}),k=h.toLowerCase()==="get"?"get":"post",G=typeof m=="string"&&m0.test(m),re=Y=>{if(p&&p(Y),Y.defaultPrevented)return;Y.preventDefault();let ue=Y.nativeEvent.submitter,te=(ue==null?void 0:ue.getAttribute("formmethod"))||h;D(ue||Y.currentTarget,{fetcherKey:e,method:te,navigate:t,replace:o,state:u,relative:g,preventScrollReset:v,viewTransition:A})};return W.createElement("form",{ref:V,method:k,action:q,onSubmit:s?p:re,...R,"data-discover":!G&&i==="render"?"true":void 0})});xI.displayName="Form";function VI(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function g0(i){let e=W.useContext(po);return ut(e,VI(i)),e}function PI(i,{target:e,replace:t,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let m=Rp(),p=Ws(),g=ou(i,{relative:u});return W.useCallback(v=>{if(fI(v,e)){v.preventDefault();let A=t!==void 0?t:Ql(p)===Ql(g);m(i,{replace:A,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[p,m,g,t,s,e,i,o,u,h])}var kI=0,UI=()=>`__${String(++kI)}__`;function LI(){let{router:i}=g0("useSubmit"),{basename:e}=W.useContext(Ri),t=tI();return W.useCallback(async(s,o={})=>{let{action:u,method:h,encType:m,formData:p,body:g}=pI(s,e);if(o.navigate===!1){let v=o.fetcherKey||UI();await i.fetch(v,t,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,t])}function zI(i,{relative:e}={}){let{basename:t}=W.useContext(Ri),s=W.useContext(Ii);ut(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...ou(i||".",{relative:e})},h=Ws();if(i==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(v=>v==="")){m.delete("index"),p.filter(A=>A).forEach(A=>m.append("index",A));let v=m.toString();u.search=v?`?${v}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:nr([t,u.pathname])),Ql(u)}function BI(i,e={}){let t=W.useContext(a0);ut(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=g0("useViewTransitionState"),o=ou(i,{relative:e.relative});if(!t.isTransitioning)return!1;let u=ir(t.currentLocation.pathname,s)||t.currentLocation.pathname,h=ir(t.nextLocation.pathname,s)||t.nextLocation.pathname;return dh(o.pathname,h)!=null||dh(o.pathname,u)!=null}[...SI];var bm,eE;function qI(){if(eE)return bm;eE=1;var i="Expected a function",e=NaN,t="[object Symbol]",s=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,h=/^0o[0-7]+$/i,m=parseInt,p=typeof Hc=="object"&&Hc&&Hc.Object===Object&&Hc,g=typeof self=="object"&&self&&self.Object===Object&&self,v=p||g||Function("return this")(),A=Object.prototype,R=A.toString,V=Math.max,D=Math.min,q=function(){return v.Date.now()};function k(te,ce,I){var b,w,N,x,U,C,Qe=0,nt=!1,Q=!1,oe=!0;if(typeof te!="function")throw new TypeError(i);ce=ue(ce)||0,G(I)&&(nt=!!I.leading,Q="maxWait"in I,N=Q?V(ue(I.maxWait)||0,ce):N,oe="trailing"in I?!!I.trailing:oe);function me(Me){var Le=b,Kt=w;return b=w=void 0,Qe=Me,x=te.apply(Kt,Le),x}function He(Me){return Qe=Me,U=setTimeout(le,ce),nt?me(Me):x}function M(Me){var Le=Me-C,Kt=Me-Qe,Bn=ce-Le;return Q?D(Bn,N-Kt):Bn}function ne(Me){var Le=Me-C,Kt=Me-Qe;return C===void 0||Le>=ce||Le<0||Q&&Kt>=N}function le(){var Me=q();if(ne(Me))return se(Me);U=setTimeout(le,M(Me))}function se(Me){return U=void 0,oe&&b?me(Me):(b=w=void 0,x)}function ge(){U!==void 0&&clearTimeout(U),Qe=0,b=C=w=U=void 0}function Oe(){return U===void 0?x:se(q())}function Ee(){var Me=q(),Le=ne(Me);if(b=arguments,w=this,C=Me,Le){if(U===void 0)return He(C);if(Q)return U=setTimeout(le,ce),me(C)}return U===void 0&&(U=setTimeout(le,ce)),x}return Ee.cancel=ge,Ee.flush=Oe,Ee}function G(te){var ce=typeof te;return!!te&&(ce=="object"||ce=="function")}function re(te){return!!te&&typeof te=="object"}function Y(te){return typeof te=="symbol"||re(te)&&R.call(te)==t}function ue(te){if(typeof te=="number")return te;if(Y(te))return e;if(G(te)){var ce=typeof te.valueOf=="function"?te.valueOf():te;te=G(ce)?ce+"":ce}if(typeof te!="string")return te===0?te:+te;te=te.replace(s,"");var I=u.test(te);return I||h.test(te)?m(te.slice(2),I?2:8):o.test(te)?e:+te}return bm=k,bm}var jI=qI();const HI=iR(jI);function y0(i,e){return function(){return i.apply(e,arguments)}}const{toString:FI}=Object.prototype,{getPrototypeOf:Np}=Object,Bh=(i=>e=>{const t=FI.call(e);return i[t]||(i[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Jn=i=>(i=i.toLowerCase(),e=>Bh(e)===i),qh=i=>e=>typeof e===i,{isArray:go}=Array,Yl=qh("undefined");function GI(i){return i!==null&&!Yl(i)&&i.constructor!==null&&!Yl(i.constructor)&&An(i.constructor.isBuffer)&&i.constructor.isBuffer(i)}const _0=Jn("ArrayBuffer");function KI(i){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(i):e=i&&i.buffer&&_0(i.buffer),e}const $I=qh("string"),An=qh("function"),v0=qh("number"),jh=i=>i!==null&&typeof i=="object",QI=i=>i===!0||i===!1,eh=i=>{if(Bh(i)!=="object")return!1;const e=Np(i);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},YI=Jn("Date"),XI=Jn("File"),WI=Jn("Blob"),JI=Jn("FileList"),ZI=i=>jh(i)&&An(i.pipe),e1=i=>{let e;return i&&(typeof FormData=="function"&&i instanceof FormData||An(i.append)&&((e=Bh(i))==="formdata"||e==="object"&&An(i.toString)&&i.toString()==="[object FormData]"))},t1=Jn("URLSearchParams"),[n1,i1,r1,s1]=["ReadableStream","Request","Response","Headers"].map(Jn),a1=i=>i.trim?i.trim():i.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function lu(i,e,{allOwnKeys:t=!1}={}){if(i===null||typeof i>"u")return;let s,o;if(typeof i!="object"&&(i=[i]),go(i))for(s=0,o=i.length;s<o;s++)e.call(null,i[s],s,i);else{const u=t?Object.getOwnPropertyNames(i):Object.keys(i),h=u.length;let m;for(s=0;s<h;s++)m=u[s],e.call(null,i[m],m,i)}}function E0(i,e){e=e.toLowerCase();const t=Object.keys(i);let s=t.length,o;for(;s-- >0;)if(o=t[s],e===o.toLowerCase())return o;return null}const qs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,T0=i=>!Yl(i)&&i!==qs;function Km(){const{caseless:i}=T0(this)&&this||{},e={},t=(s,o)=>{const u=i&&E0(e,o)||o;eh(e[u])&&eh(s)?e[u]=Km(e[u],s):eh(s)?e[u]=Km({},s):go(s)?e[u]=s.slice():e[u]=s};for(let s=0,o=arguments.length;s<o;s++)arguments[s]&&lu(arguments[s],t);return e}const o1=(i,e,t,{allOwnKeys:s}={})=>(lu(e,(o,u)=>{t&&An(o)?i[u]=y0(o,t):i[u]=o},{allOwnKeys:s}),i),l1=i=>(i.charCodeAt(0)===65279&&(i=i.slice(1)),i),u1=(i,e,t,s)=>{i.prototype=Object.create(e.prototype,s),i.prototype.constructor=i,Object.defineProperty(i,"super",{value:e.prototype}),t&&Object.assign(i.prototype,t)},c1=(i,e,t,s)=>{let o,u,h;const m={};if(e=e||{},i==null)return e;do{for(o=Object.getOwnPropertyNames(i),u=o.length;u-- >0;)h=o[u],(!s||s(h,i,e))&&!m[h]&&(e[h]=i[h],m[h]=!0);i=t!==!1&&Np(i)}while(i&&(!t||t(i,e))&&i!==Object.prototype);return e},h1=(i,e,t)=>{i=String(i),(t===void 0||t>i.length)&&(t=i.length),t-=e.length;const s=i.indexOf(e,t);return s!==-1&&s===t},f1=i=>{if(!i)return null;if(go(i))return i;let e=i.length;if(!v0(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=i[e];return t},d1=(i=>e=>i&&e instanceof i)(typeof Uint8Array<"u"&&Np(Uint8Array)),m1=(i,e)=>{const s=(i&&i[Symbol.iterator]).call(i);let o;for(;(o=s.next())&&!o.done;){const u=o.value;e.call(i,u[0],u[1])}},p1=(i,e)=>{let t;const s=[];for(;(t=i.exec(e))!==null;)s.push(t);return s},g1=Jn("HTMLFormElement"),y1=i=>i.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,s,o){return s.toUpperCase()+o}),tE=(({hasOwnProperty:i})=>(e,t)=>i.call(e,t))(Object.prototype),_1=Jn("RegExp"),A0=(i,e)=>{const t=Object.getOwnPropertyDescriptors(i),s={};lu(t,(o,u)=>{let h;(h=e(o,u,i))!==!1&&(s[u]=h||o)}),Object.defineProperties(i,s)},v1=i=>{A0(i,(e,t)=>{if(An(i)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const s=i[t];if(An(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},E1=(i,e)=>{const t={},s=o=>{o.forEach(u=>{t[u]=!0})};return go(i)?s(i):s(String(i).split(e)),t},T1=()=>{},A1=(i,e)=>i!=null&&Number.isFinite(i=+i)?i:e;function S1(i){return!!(i&&An(i.append)&&i[Symbol.toStringTag]==="FormData"&&i[Symbol.iterator])}const b1=i=>{const e=new Array(10),t=(s,o)=>{if(jh(s)){if(e.indexOf(s)>=0)return;if(!("toJSON"in s)){e[o]=s;const u=go(s)?[]:{};return lu(s,(h,m)=>{const p=t(h,o+1);!Yl(p)&&(u[m]=p)}),e[o]=void 0,u}}return s};return t(i,0)},w1=Jn("AsyncFunction"),R1=i=>i&&(jh(i)||An(i))&&An(i.then)&&An(i.catch),S0=((i,e)=>i?setImmediate:e?((t,s)=>(qs.addEventListener("message",({source:o,data:u})=>{o===qs&&u===t&&s.length&&s.shift()()},!1),o=>{s.push(o),qs.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",An(qs.postMessage)),I1=typeof queueMicrotask<"u"?queueMicrotask.bind(qs):typeof process<"u"&&process.nextTick||S0,$={isArray:go,isArrayBuffer:_0,isBuffer:GI,isFormData:e1,isArrayBufferView:KI,isString:$I,isNumber:v0,isBoolean:QI,isObject:jh,isPlainObject:eh,isReadableStream:n1,isRequest:i1,isResponse:r1,isHeaders:s1,isUndefined:Yl,isDate:YI,isFile:XI,isBlob:WI,isRegExp:_1,isFunction:An,isStream:ZI,isURLSearchParams:t1,isTypedArray:d1,isFileList:JI,forEach:lu,merge:Km,extend:o1,trim:a1,stripBOM:l1,inherits:u1,toFlatObject:c1,kindOf:Bh,kindOfTest:Jn,endsWith:h1,toArray:f1,forEachEntry:m1,matchAll:p1,isHTMLForm:g1,hasOwnProperty:tE,hasOwnProp:tE,reduceDescriptors:A0,freezeMethods:v1,toObjectSet:E1,toCamelCase:y1,noop:T1,toFiniteNumber:A1,findKey:E0,global:qs,isContextDefined:T0,isSpecCompliantForm:S1,toJSONObject:b1,isAsyncFn:w1,isThenable:R1,setImmediate:S0,asap:I1};function Ie(i,e,t,s,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=i,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),s&&(this.request=s),o&&(this.response=o,this.status=o.status?o.status:null)}$.inherits(Ie,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:$.toJSONObject(this.config),code:this.code,status:this.status}}});const b0=Ie.prototype,w0={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(i=>{w0[i]={value:i}});Object.defineProperties(Ie,w0);Object.defineProperty(b0,"isAxiosError",{value:!0});Ie.from=(i,e,t,s,o,u)=>{const h=Object.create(b0);return $.toFlatObject(i,h,function(p){return p!==Error.prototype},m=>m!=="isAxiosError"),Ie.call(h,i.message,e,t,s,o),h.cause=i,h.name=i.name,u&&Object.assign(h,u),h};const C1=null;function $m(i){return $.isPlainObject(i)||$.isArray(i)}function R0(i){return $.endsWith(i,"[]")?i.slice(0,-2):i}function nE(i,e,t){return i?i.concat(e).map(function(o,u){return o=R0(o),!t&&u?"["+o+"]":o}).join(t?".":""):e}function O1(i){return $.isArray(i)&&!i.some($m)}const D1=$.toFlatObject($,{},null,function(e){return/^is[A-Z]/.test(e)});function Hh(i,e,t){if(!$.isObject(i))throw new TypeError("target must be an object");e=e||new FormData,t=$.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(q,k){return!$.isUndefined(k[q])});const s=t.metaTokens,o=t.visitor||v,u=t.dots,h=t.indexes,p=(t.Blob||typeof Blob<"u"&&Blob)&&$.isSpecCompliantForm(e);if(!$.isFunction(o))throw new TypeError("visitor must be a function");function g(D){if(D===null)return"";if($.isDate(D))return D.toISOString();if(!p&&$.isBlob(D))throw new Ie("Blob is not supported. Use a Buffer instead.");return $.isArrayBuffer(D)||$.isTypedArray(D)?p&&typeof Blob=="function"?new Blob([D]):Buffer.from(D):D}function v(D,q,k){let G=D;if(D&&!k&&typeof D=="object"){if($.endsWith(q,"{}"))q=s?q:q.slice(0,-2),D=JSON.stringify(D);else if($.isArray(D)&&O1(D)||($.isFileList(D)||$.endsWith(q,"[]"))&&(G=$.toArray(D)))return q=R0(q),G.forEach(function(Y,ue){!($.isUndefined(Y)||Y===null)&&e.append(h===!0?nE([q],ue,u):h===null?q:q+"[]",g(Y))}),!1}return $m(D)?!0:(e.append(nE(k,q,u),g(D)),!1)}const A=[],R=Object.assign(D1,{defaultVisitor:v,convertValue:g,isVisitable:$m});function V(D,q){if(!$.isUndefined(D)){if(A.indexOf(D)!==-1)throw Error("Circular reference detected in "+q.join("."));A.push(D),$.forEach(D,function(G,re){(!($.isUndefined(G)||G===null)&&o.call(e,G,$.isString(re)?re.trim():re,q,R))===!0&&V(G,q?q.concat(re):[re])}),A.pop()}}if(!$.isObject(i))throw new TypeError("data must be an object");return V(i),e}function iE(i){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(i).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function Mp(i,e){this._pairs=[],i&&Hh(i,this,e)}const I0=Mp.prototype;I0.append=function(e,t){this._pairs.push([e,t])};I0.toString=function(e){const t=e?function(s){return e.call(this,s,iE)}:iE;return this._pairs.map(function(o){return t(o[0])+"="+t(o[1])},"").join("&")};function N1(i){return encodeURIComponent(i).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function C0(i,e,t){if(!e)return i;const s=t&&t.encode||N1;$.isFunction(t)&&(t={serialize:t});const o=t&&t.serialize;let u;if(o?u=o(e,t):u=$.isURLSearchParams(e)?e.toString():new Mp(e,t).toString(s),u){const h=i.indexOf("#");h!==-1&&(i=i.slice(0,h)),i+=(i.indexOf("?")===-1?"?":"&")+u}return i}class rE{constructor(){this.handlers=[]}use(e,t,s){return this.handlers.push({fulfilled:e,rejected:t,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){$.forEach(this.handlers,function(s){s!==null&&e(s)})}}const O0={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},M1=typeof URLSearchParams<"u"?URLSearchParams:Mp,x1=typeof FormData<"u"?FormData:null,V1=typeof Blob<"u"?Blob:null,P1={isBrowser:!0,classes:{URLSearchParams:M1,FormData:x1,Blob:V1},protocols:["http","https","file","blob","url","data"]},xp=typeof window<"u"&&typeof document<"u",Qm=typeof navigator=="object"&&navigator||void 0,k1=xp&&(!Qm||["ReactNative","NativeScript","NS"].indexOf(Qm.product)<0),U1=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",L1=xp&&window.location.href||"http://localhost",z1=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:xp,hasStandardBrowserEnv:k1,hasStandardBrowserWebWorkerEnv:U1,navigator:Qm,origin:L1},Symbol.toStringTag,{value:"Module"})),Zt={...z1,...P1};function B1(i,e){return Hh(i,new Zt.classes.URLSearchParams,Object.assign({visitor:function(t,s,o,u){return Zt.isNode&&$.isBuffer(t)?(this.append(s,t.toString("base64")),!1):u.defaultVisitor.apply(this,arguments)}},e))}function q1(i){return $.matchAll(/\w+|\[(\w*)]/g,i).map(e=>e[0]==="[]"?"":e[1]||e[0])}function j1(i){const e={},t=Object.keys(i);let s;const o=t.length;let u;for(s=0;s<o;s++)u=t[s],e[u]=i[u];return e}function D0(i){function e(t,s,o,u){let h=t[u++];if(h==="__proto__")return!0;const m=Number.isFinite(+h),p=u>=t.length;return h=!h&&$.isArray(o)?o.length:h,p?($.hasOwnProp(o,h)?o[h]=[o[h],s]:o[h]=s,!m):((!o[h]||!$.isObject(o[h]))&&(o[h]=[]),e(t,s,o[h],u)&&$.isArray(o[h])&&(o[h]=j1(o[h])),!m)}if($.isFormData(i)&&$.isFunction(i.entries)){const t={};return $.forEachEntry(i,(s,o)=>{e(q1(s),o,t,0)}),t}return null}function H1(i,e,t){if($.isString(i))try{return(e||JSON.parse)(i),$.trim(i)}catch(s){if(s.name!=="SyntaxError")throw s}return(t||JSON.stringify)(i)}const uu={transitional:O0,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const s=t.getContentType()||"",o=s.indexOf("application/json")>-1,u=$.isObject(e);if(u&&$.isHTMLForm(e)&&(e=new FormData(e)),$.isFormData(e))return o?JSON.stringify(D0(e)):e;if($.isArrayBuffer(e)||$.isBuffer(e)||$.isStream(e)||$.isFile(e)||$.isBlob(e)||$.isReadableStream(e))return e;if($.isArrayBufferView(e))return e.buffer;if($.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let m;if(u){if(s.indexOf("application/x-www-form-urlencoded")>-1)return B1(e,this.formSerializer).toString();if((m=$.isFileList(e))||s.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return Hh(m?{"files[]":e}:e,p&&new p,this.formSerializer)}}return u||o?(t.setContentType("application/json",!1),H1(e)):e}],transformResponse:[function(e){const t=this.transitional||uu.transitional,s=t&&t.forcedJSONParsing,o=this.responseType==="json";if($.isResponse(e)||$.isReadableStream(e))return e;if(e&&$.isString(e)&&(s&&!this.responseType||o)){const h=!(t&&t.silentJSONParsing)&&o;try{return JSON.parse(e)}catch(m){if(h)throw m.name==="SyntaxError"?Ie.from(m,Ie.ERR_BAD_RESPONSE,this,null,this.response):m}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Zt.classes.FormData,Blob:Zt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};$.forEach(["delete","get","head","post","put","patch"],i=>{uu.headers[i]={}});const F1=$.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),G1=i=>{const e={};let t,s,o;return i&&i.split(`
`).forEach(function(h){o=h.indexOf(":"),t=h.substring(0,o).trim().toLowerCase(),s=h.substring(o+1).trim(),!(!t||e[t]&&F1[t])&&(t==="set-cookie"?e[t]?e[t].push(s):e[t]=[s]:e[t]=e[t]?e[t]+", "+s:s)}),e},sE=Symbol("internals");function Ul(i){return i&&String(i).trim().toLowerCase()}function th(i){return i===!1||i==null?i:$.isArray(i)?i.map(th):String(i)}function K1(i){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=t.exec(i);)e[s[1]]=s[2];return e}const $1=i=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(i.trim());function wm(i,e,t,s,o){if($.isFunction(s))return s.call(this,e,t);if(o&&(e=t),!!$.isString(e)){if($.isString(s))return e.indexOf(s)!==-1;if($.isRegExp(s))return s.test(e)}}function Q1(i){return i.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,s)=>t.toUpperCase()+s)}function Y1(i,e){const t=$.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(i,s+t,{value:function(o,u,h){return this[s].call(this,e,o,u,h)},configurable:!0})})}let cn=class{constructor(e){e&&this.set(e)}set(e,t,s){const o=this;function u(m,p,g){const v=Ul(p);if(!v)throw new Error("header name must be a non-empty string");const A=$.findKey(o,v);(!A||o[A]===void 0||g===!0||g===void 0&&o[A]!==!1)&&(o[A||p]=th(m))}const h=(m,p)=>$.forEach(m,(g,v)=>u(g,v,p));if($.isPlainObject(e)||e instanceof this.constructor)h(e,t);else if($.isString(e)&&(e=e.trim())&&!$1(e))h(G1(e),t);else if($.isHeaders(e))for(const[m,p]of e.entries())u(p,m,s);else e!=null&&u(t,e,s);return this}get(e,t){if(e=Ul(e),e){const s=$.findKey(this,e);if(s){const o=this[s];if(!t)return o;if(t===!0)return K1(o);if($.isFunction(t))return t.call(this,o,s);if($.isRegExp(t))return t.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Ul(e),e){const s=$.findKey(this,e);return!!(s&&this[s]!==void 0&&(!t||wm(this,this[s],s,t)))}return!1}delete(e,t){const s=this;let o=!1;function u(h){if(h=Ul(h),h){const m=$.findKey(s,h);m&&(!t||wm(s,s[m],m,t))&&(delete s[m],o=!0)}}return $.isArray(e)?e.forEach(u):u(e),o}clear(e){const t=Object.keys(this);let s=t.length,o=!1;for(;s--;){const u=t[s];(!e||wm(this,this[u],u,e,!0))&&(delete this[u],o=!0)}return o}normalize(e){const t=this,s={};return $.forEach(this,(o,u)=>{const h=$.findKey(s,u);if(h){t[h]=th(o),delete t[u];return}const m=e?Q1(u):String(u).trim();m!==u&&delete t[u],t[m]=th(o),s[m]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return $.forEach(this,(s,o)=>{s!=null&&s!==!1&&(t[o]=e&&$.isArray(s)?s.join(", "):s)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const s=new this(e);return t.forEach(o=>s.set(o)),s}static accessor(e){const s=(this[sE]=this[sE]={accessors:{}}).accessors,o=this.prototype;function u(h){const m=Ul(h);s[m]||(Y1(o,h),s[m]=!0)}return $.isArray(e)?e.forEach(u):u(e),this}};cn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);$.reduceDescriptors(cn.prototype,({value:i},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>i,set(s){this[t]=s}}});$.freezeMethods(cn);function Rm(i,e){const t=this||uu,s=e||t,o=cn.from(s.headers);let u=s.data;return $.forEach(i,function(m){u=m.call(t,u,o.normalize(),e?e.status:void 0)}),o.normalize(),u}function N0(i){return!!(i&&i.__CANCEL__)}function yo(i,e,t){Ie.call(this,i??"canceled",Ie.ERR_CANCELED,e,t),this.name="CanceledError"}$.inherits(yo,Ie,{__CANCEL__:!0});function M0(i,e,t){const s=t.config.validateStatus;!t.status||!s||s(t.status)?i(t):e(new Ie("Request failed with status code "+t.status,[Ie.ERR_BAD_REQUEST,Ie.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function X1(i){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(i);return e&&e[1]||""}function W1(i,e){i=i||10;const t=new Array(i),s=new Array(i);let o=0,u=0,h;return e=e!==void 0?e:1e3,function(p){const g=Date.now(),v=s[u];h||(h=g),t[o]=p,s[o]=g;let A=u,R=0;for(;A!==o;)R+=t[A++],A=A%i;if(o=(o+1)%i,o===u&&(u=(u+1)%i),g-h<e)return;const V=v&&g-v;return V?Math.round(R*1e3/V):void 0}}function J1(i,e){let t=0,s=1e3/e,o,u;const h=(g,v=Date.now())=>{t=v,o=null,u&&(clearTimeout(u),u=null),i.apply(null,g)};return[(...g)=>{const v=Date.now(),A=v-t;A>=s?h(g,v):(o=g,u||(u=setTimeout(()=>{u=null,h(o)},s-A)))},()=>o&&h(o)]}const mh=(i,e,t=3)=>{let s=0;const o=W1(50,250);return J1(u=>{const h=u.loaded,m=u.lengthComputable?u.total:void 0,p=h-s,g=o(p),v=h<=m;s=h;const A={loaded:h,total:m,progress:m?h/m:void 0,bytes:p,rate:g||void 0,estimated:g&&m&&v?(m-h)/g:void 0,event:u,lengthComputable:m!=null,[e?"download":"upload"]:!0};i(A)},t)},aE=(i,e)=>{const t=i!=null;return[s=>e[0]({lengthComputable:t,total:i,loaded:s}),e[1]]},oE=i=>(...e)=>$.asap(()=>i(...e)),Z1=Zt.hasStandardBrowserEnv?((i,e)=>t=>(t=new URL(t,Zt.origin),i.protocol===t.protocol&&i.host===t.host&&(e||i.port===t.port)))(new URL(Zt.origin),Zt.navigator&&/(msie|trident)/i.test(Zt.navigator.userAgent)):()=>!0,eC=Zt.hasStandardBrowserEnv?{write(i,e,t,s,o,u){const h=[i+"="+encodeURIComponent(e)];$.isNumber(t)&&h.push("expires="+new Date(t).toGMTString()),$.isString(s)&&h.push("path="+s),$.isString(o)&&h.push("domain="+o),u===!0&&h.push("secure"),document.cookie=h.join("; ")},read(i){const e=document.cookie.match(new RegExp("(^|;\\s*)("+i+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(i){this.write(i,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function tC(i){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(i)}function nC(i,e){return e?i.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):i}function x0(i,e,t){let s=!tC(e);return i&&(s||t==!1)?nC(i,e):e}const lE=i=>i instanceof cn?{...i}:i;function Gs(i,e){e=e||{};const t={};function s(g,v,A,R){return $.isPlainObject(g)&&$.isPlainObject(v)?$.merge.call({caseless:R},g,v):$.isPlainObject(v)?$.merge({},v):$.isArray(v)?v.slice():v}function o(g,v,A,R){if($.isUndefined(v)){if(!$.isUndefined(g))return s(void 0,g,A,R)}else return s(g,v,A,R)}function u(g,v){if(!$.isUndefined(v))return s(void 0,v)}function h(g,v){if($.isUndefined(v)){if(!$.isUndefined(g))return s(void 0,g)}else return s(void 0,v)}function m(g,v,A){if(A in e)return s(g,v);if(A in i)return s(void 0,g)}const p={url:u,method:u,data:u,baseURL:h,transformRequest:h,transformResponse:h,paramsSerializer:h,timeout:h,timeoutMessage:h,withCredentials:h,withXSRFToken:h,adapter:h,responseType:h,xsrfCookieName:h,xsrfHeaderName:h,onUploadProgress:h,onDownloadProgress:h,decompress:h,maxContentLength:h,maxBodyLength:h,beforeRedirect:h,transport:h,httpAgent:h,httpsAgent:h,cancelToken:h,socketPath:h,responseEncoding:h,validateStatus:m,headers:(g,v,A)=>o(lE(g),lE(v),A,!0)};return $.forEach(Object.keys(Object.assign({},i,e)),function(v){const A=p[v]||o,R=A(i[v],e[v],v);$.isUndefined(R)&&A!==m||(t[v]=R)}),t}const V0=i=>{const e=Gs({},i);let{data:t,withXSRFToken:s,xsrfHeaderName:o,xsrfCookieName:u,headers:h,auth:m}=e;e.headers=h=cn.from(h),e.url=C0(x0(e.baseURL,e.url,e.allowAbsoluteUrls),i.params,i.paramsSerializer),m&&h.set("Authorization","Basic "+btoa((m.username||"")+":"+(m.password?unescape(encodeURIComponent(m.password)):"")));let p;if($.isFormData(t)){if(Zt.hasStandardBrowserEnv||Zt.hasStandardBrowserWebWorkerEnv)h.setContentType(void 0);else if((p=h.getContentType())!==!1){const[g,...v]=p?p.split(";").map(A=>A.trim()).filter(Boolean):[];h.setContentType([g||"multipart/form-data",...v].join("; "))}}if(Zt.hasStandardBrowserEnv&&(s&&$.isFunction(s)&&(s=s(e)),s||s!==!1&&Z1(e.url))){const g=o&&u&&eC.read(u);g&&h.set(o,g)}return e},iC=typeof XMLHttpRequest<"u",rC=iC&&function(i){return new Promise(function(t,s){const o=V0(i);let u=o.data;const h=cn.from(o.headers).normalize();let{responseType:m,onUploadProgress:p,onDownloadProgress:g}=o,v,A,R,V,D;function q(){V&&V(),D&&D(),o.cancelToken&&o.cancelToken.unsubscribe(v),o.signal&&o.signal.removeEventListener("abort",v)}let k=new XMLHttpRequest;k.open(o.method.toUpperCase(),o.url,!0),k.timeout=o.timeout;function G(){if(!k)return;const Y=cn.from("getAllResponseHeaders"in k&&k.getAllResponseHeaders()),te={data:!m||m==="text"||m==="json"?k.responseText:k.response,status:k.status,statusText:k.statusText,headers:Y,config:i,request:k};M0(function(I){t(I),q()},function(I){s(I),q()},te),k=null}"onloadend"in k?k.onloadend=G:k.onreadystatechange=function(){!k||k.readyState!==4||k.status===0&&!(k.responseURL&&k.responseURL.indexOf("file:")===0)||setTimeout(G)},k.onabort=function(){k&&(s(new Ie("Request aborted",Ie.ECONNABORTED,i,k)),k=null)},k.onerror=function(){s(new Ie("Network Error",Ie.ERR_NETWORK,i,k)),k=null},k.ontimeout=function(){let ue=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const te=o.transitional||O0;o.timeoutErrorMessage&&(ue=o.timeoutErrorMessage),s(new Ie(ue,te.clarifyTimeoutError?Ie.ETIMEDOUT:Ie.ECONNABORTED,i,k)),k=null},u===void 0&&h.setContentType(null),"setRequestHeader"in k&&$.forEach(h.toJSON(),function(ue,te){k.setRequestHeader(te,ue)}),$.isUndefined(o.withCredentials)||(k.withCredentials=!!o.withCredentials),m&&m!=="json"&&(k.responseType=o.responseType),g&&([R,D]=mh(g,!0),k.addEventListener("progress",R)),p&&k.upload&&([A,V]=mh(p),k.upload.addEventListener("progress",A),k.upload.addEventListener("loadend",V)),(o.cancelToken||o.signal)&&(v=Y=>{k&&(s(!Y||Y.type?new yo(null,i,k):Y),k.abort(),k=null)},o.cancelToken&&o.cancelToken.subscribe(v),o.signal&&(o.signal.aborted?v():o.signal.addEventListener("abort",v)));const re=X1(o.url);if(re&&Zt.protocols.indexOf(re)===-1){s(new Ie("Unsupported protocol "+re+":",Ie.ERR_BAD_REQUEST,i));return}k.send(u||null)})},sC=(i,e)=>{const{length:t}=i=i?i.filter(Boolean):[];if(e||t){let s=new AbortController,o;const u=function(g){if(!o){o=!0,m();const v=g instanceof Error?g:this.reason;s.abort(v instanceof Ie?v:new yo(v instanceof Error?v.message:v))}};let h=e&&setTimeout(()=>{h=null,u(new Ie(`timeout ${e} of ms exceeded`,Ie.ETIMEDOUT))},e);const m=()=>{i&&(h&&clearTimeout(h),h=null,i.forEach(g=>{g.unsubscribe?g.unsubscribe(u):g.removeEventListener("abort",u)}),i=null)};i.forEach(g=>g.addEventListener("abort",u));const{signal:p}=s;return p.unsubscribe=()=>$.asap(m),p}},aC=function*(i,e){let t=i.byteLength;if(t<e){yield i;return}let s=0,o;for(;s<t;)o=s+e,yield i.slice(s,o),s=o},oC=async function*(i,e){for await(const t of lC(i))yield*aC(t,e)},lC=async function*(i){if(i[Symbol.asyncIterator]){yield*i;return}const e=i.getReader();try{for(;;){const{done:t,value:s}=await e.read();if(t)break;yield s}}finally{await e.cancel()}},uE=(i,e,t,s)=>{const o=oC(i,e);let u=0,h,m=p=>{h||(h=!0,s&&s(p))};return new ReadableStream({async pull(p){try{const{done:g,value:v}=await o.next();if(g){m(),p.close();return}let A=v.byteLength;if(t){let R=u+=A;t(R)}p.enqueue(new Uint8Array(v))}catch(g){throw m(g),g}},cancel(p){return m(p),o.return()}},{highWaterMark:2})},Fh=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",P0=Fh&&typeof ReadableStream=="function",uC=Fh&&(typeof TextEncoder=="function"?(i=>e=>i.encode(e))(new TextEncoder):async i=>new Uint8Array(await new Response(i).arrayBuffer())),k0=(i,...e)=>{try{return!!i(...e)}catch{return!1}},cC=P0&&k0(()=>{let i=!1;const e=new Request(Zt.origin,{body:new ReadableStream,method:"POST",get duplex(){return i=!0,"half"}}).headers.has("Content-Type");return i&&!e}),cE=64*1024,Ym=P0&&k0(()=>$.isReadableStream(new Response("").body)),ph={stream:Ym&&(i=>i.body)};Fh&&(i=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!ph[e]&&(ph[e]=$.isFunction(i[e])?t=>t[e]():(t,s)=>{throw new Ie(`Response type '${e}' is not supported`,Ie.ERR_NOT_SUPPORT,s)})})})(new Response);const hC=async i=>{if(i==null)return 0;if($.isBlob(i))return i.size;if($.isSpecCompliantForm(i))return(await new Request(Zt.origin,{method:"POST",body:i}).arrayBuffer()).byteLength;if($.isArrayBufferView(i)||$.isArrayBuffer(i))return i.byteLength;if($.isURLSearchParams(i)&&(i=i+""),$.isString(i))return(await uC(i)).byteLength},fC=async(i,e)=>{const t=$.toFiniteNumber(i.getContentLength());return t??hC(e)},dC=Fh&&(async i=>{let{url:e,method:t,data:s,signal:o,cancelToken:u,timeout:h,onDownloadProgress:m,onUploadProgress:p,responseType:g,headers:v,withCredentials:A="same-origin",fetchOptions:R}=V0(i);g=g?(g+"").toLowerCase():"text";let V=sC([o,u&&u.toAbortSignal()],h),D;const q=V&&V.unsubscribe&&(()=>{V.unsubscribe()});let k;try{if(p&&cC&&t!=="get"&&t!=="head"&&(k=await fC(v,s))!==0){let te=new Request(e,{method:"POST",body:s,duplex:"half"}),ce;if($.isFormData(s)&&(ce=te.headers.get("content-type"))&&v.setContentType(ce),te.body){const[I,b]=aE(k,mh(oE(p)));s=uE(te.body,cE,I,b)}}$.isString(A)||(A=A?"include":"omit");const G="credentials"in Request.prototype;D=new Request(e,{...R,signal:V,method:t.toUpperCase(),headers:v.normalize().toJSON(),body:s,duplex:"half",credentials:G?A:void 0});let re=await fetch(D);const Y=Ym&&(g==="stream"||g==="response");if(Ym&&(m||Y&&q)){const te={};["status","statusText","headers"].forEach(w=>{te[w]=re[w]});const ce=$.toFiniteNumber(re.headers.get("content-length")),[I,b]=m&&aE(ce,mh(oE(m),!0))||[];re=new Response(uE(re.body,cE,I,()=>{b&&b(),q&&q()}),te)}g=g||"text";let ue=await ph[$.findKey(ph,g)||"text"](re,i);return!Y&&q&&q(),await new Promise((te,ce)=>{M0(te,ce,{data:ue,headers:cn.from(re.headers),status:re.status,statusText:re.statusText,config:i,request:D})})}catch(G){throw q&&q(),G&&G.name==="TypeError"&&/fetch/i.test(G.message)?Object.assign(new Ie("Network Error",Ie.ERR_NETWORK,i,D),{cause:G.cause||G}):Ie.from(G,G&&G.code,i,D)}}),Xm={http:C1,xhr:rC,fetch:dC};$.forEach(Xm,(i,e)=>{if(i){try{Object.defineProperty(i,"name",{value:e})}catch{}Object.defineProperty(i,"adapterName",{value:e})}});const hE=i=>`- ${i}`,mC=i=>$.isFunction(i)||i===null||i===!1,U0={getAdapter:i=>{i=$.isArray(i)?i:[i];const{length:e}=i;let t,s;const o={};for(let u=0;u<e;u++){t=i[u];let h;if(s=t,!mC(t)&&(s=Xm[(h=String(t)).toLowerCase()],s===void 0))throw new Ie(`Unknown adapter '${h}'`);if(s)break;o[h||"#"+u]=s}if(!s){const u=Object.entries(o).map(([m,p])=>`adapter ${m} `+(p===!1?"is not supported by the environment":"is not available in the build"));let h=e?u.length>1?`since :
`+u.map(hE).join(`
`):" "+hE(u[0]):"as no adapter specified";throw new Ie("There is no suitable adapter to dispatch the request "+h,"ERR_NOT_SUPPORT")}return s},adapters:Xm};function Im(i){if(i.cancelToken&&i.cancelToken.throwIfRequested(),i.signal&&i.signal.aborted)throw new yo(null,i)}function fE(i){return Im(i),i.headers=cn.from(i.headers),i.data=Rm.call(i,i.transformRequest),["post","put","patch"].indexOf(i.method)!==-1&&i.headers.setContentType("application/x-www-form-urlencoded",!1),U0.getAdapter(i.adapter||uu.adapter)(i).then(function(s){return Im(i),s.data=Rm.call(i,i.transformResponse,s),s.headers=cn.from(s.headers),s},function(s){return N0(s)||(Im(i),s&&s.response&&(s.response.data=Rm.call(i,i.transformResponse,s.response),s.response.headers=cn.from(s.response.headers))),Promise.reject(s)})}const L0="1.8.4",Gh={};["object","boolean","number","function","string","symbol"].forEach((i,e)=>{Gh[i]=function(s){return typeof s===i||"a"+(e<1?"n ":" ")+i}});const dE={};Gh.transitional=function(e,t,s){function o(u,h){return"[Axios v"+L0+"] Transitional option '"+u+"'"+h+(s?". "+s:"")}return(u,h,m)=>{if(e===!1)throw new Ie(o(h," has been removed"+(t?" in "+t:"")),Ie.ERR_DEPRECATED);return t&&!dE[h]&&(dE[h]=!0,console.warn(o(h," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(u,h,m):!0}};Gh.spelling=function(e){return(t,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function pC(i,e,t){if(typeof i!="object")throw new Ie("options must be an object",Ie.ERR_BAD_OPTION_VALUE);const s=Object.keys(i);let o=s.length;for(;o-- >0;){const u=s[o],h=e[u];if(h){const m=i[u],p=m===void 0||h(m,u,i);if(p!==!0)throw new Ie("option "+u+" must be "+p,Ie.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Ie("Unknown option "+u,Ie.ERR_BAD_OPTION)}}const nh={assertOptions:pC,validators:Gh},gi=nh.validators;let Fs=class{constructor(e){this.defaults=e,this.interceptors={request:new rE,response:new rE}}async request(e,t){try{return await this._request(e,t)}catch(s){if(s instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const u=o.stack?o.stack.replace(/^.+\n/,""):"";try{s.stack?u&&!String(s.stack).endsWith(u.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+u):s.stack=u}catch{}}throw s}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Gs(this.defaults,t);const{transitional:s,paramsSerializer:o,headers:u}=t;s!==void 0&&nh.assertOptions(s,{silentJSONParsing:gi.transitional(gi.boolean),forcedJSONParsing:gi.transitional(gi.boolean),clarifyTimeoutError:gi.transitional(gi.boolean)},!1),o!=null&&($.isFunction(o)?t.paramsSerializer={serialize:o}:nh.assertOptions(o,{encode:gi.function,serialize:gi.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),nh.assertOptions(t,{baseUrl:gi.spelling("baseURL"),withXsrfToken:gi.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let h=u&&$.merge(u.common,u[t.method]);u&&$.forEach(["delete","get","head","post","put","patch","common"],D=>{delete u[D]}),t.headers=cn.concat(h,u);const m=[];let p=!0;this.interceptors.request.forEach(function(q){typeof q.runWhen=="function"&&q.runWhen(t)===!1||(p=p&&q.synchronous,m.unshift(q.fulfilled,q.rejected))});const g=[];this.interceptors.response.forEach(function(q){g.push(q.fulfilled,q.rejected)});let v,A=0,R;if(!p){const D=[fE.bind(this),void 0];for(D.unshift.apply(D,m),D.push.apply(D,g),R=D.length,v=Promise.resolve(t);A<R;)v=v.then(D[A++],D[A++]);return v}R=m.length;let V=t;for(A=0;A<R;){const D=m[A++],q=m[A++];try{V=D(V)}catch(k){q.call(this,k);break}}try{v=fE.call(this,V)}catch(D){return Promise.reject(D)}for(A=0,R=g.length;A<R;)v=v.then(g[A++],g[A++]);return v}getUri(e){e=Gs(this.defaults,e);const t=x0(e.baseURL,e.url,e.allowAbsoluteUrls);return C0(t,e.params,e.paramsSerializer)}};$.forEach(["delete","get","head","options"],function(e){Fs.prototype[e]=function(t,s){return this.request(Gs(s||{},{method:e,url:t,data:(s||{}).data}))}});$.forEach(["post","put","patch"],function(e){function t(s){return function(u,h,m){return this.request(Gs(m||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:u,data:h}))}}Fs.prototype[e]=t(),Fs.prototype[e+"Form"]=t(!0)});let gC=class z0{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(u){t=u});const s=this;this.promise.then(o=>{if(!s._listeners)return;let u=s._listeners.length;for(;u-- >0;)s._listeners[u](o);s._listeners=null}),this.promise.then=o=>{let u;const h=new Promise(m=>{s.subscribe(m),u=m}).then(o);return h.cancel=function(){s.unsubscribe(u)},h},e(function(u,h,m){s.reason||(s.reason=new yo(u,h,m),t(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=s=>{e.abort(s)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new z0(function(o){e=o}),cancel:e}}};function yC(i){return function(t){return i.apply(null,t)}}function _C(i){return $.isObject(i)&&i.isAxiosError===!0}const Wm={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Wm).forEach(([i,e])=>{Wm[e]=i});function B0(i){const e=new Fs(i),t=y0(Fs.prototype.request,e);return $.extend(t,Fs.prototype,e,{allOwnKeys:!0}),$.extend(t,e,null,{allOwnKeys:!0}),t.create=function(o){return B0(Gs(i,o))},t}const mt=B0(uu);mt.Axios=Fs;mt.CanceledError=yo;mt.CancelToken=gC;mt.isCancel=N0;mt.VERSION=L0;mt.toFormData=Hh;mt.AxiosError=Ie;mt.Cancel=mt.CanceledError;mt.all=function(e){return Promise.all(e)};mt.spread=yC;mt.isAxiosError=_C;mt.mergeConfig=Gs;mt.AxiosHeaders=cn;mt.formToJSON=i=>D0($.isHTMLForm(i)?new FormData(i):i);mt.getAdapter=U0.getAdapter;mt.HttpStatusCode=Wm;mt.default=mt;const{Axios:QP,AxiosError:YP,CanceledError:XP,isCancel:WP,CancelToken:JP,VERSION:ZP,all:ek,Cancel:tk,isAxiosError:nk,spread:ik,toFormData:rk,AxiosHeaders:sk,HttpStatusCode:ak,formToJSON:ok,getAdapter:lk,mergeConfig:uk}=mt,vC=()=>{};var mE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0=function(i){const e=[];let t=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},EC=function(i){const e=[];let t=0,s=0;for(;t<i.length;){const o=i[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[t++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[t++],h=i[t++],m=i[t++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[t++],h=i[t++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},j0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,m=h?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,v=u>>2,A=(u&3)<<4|m>>4;let R=(m&15)<<2|g>>6,V=g&63;p||(V=64,h||(R=64)),s.push(t[v],t[A],t[R],t[V])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(q0(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):EC(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=t[i.charAt(o++)],m=o<i.length?t[i.charAt(o)]:0;++o;const g=o<i.length?t[i.charAt(o)]:64;++o;const A=o<i.length?t[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||A==null)throw new TC;const R=u<<2|m>>4;if(s.push(R),g!==64){const V=m<<4&240|g>>2;if(s.push(V),A!==64){const D=g<<6&192|A;s.push(D)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class TC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const AC=function(i){const e=q0(i);return j0.encodeByteArray(e,!0)},gh=function(i){return AC(i).replace(/\./g,"")},H0=function(i){try{return j0.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC=()=>SC().__FIREBASE_DEFAULTS__,wC=()=>{if(typeof process>"u"||typeof mE>"u")return;const i=mE.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},RC=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&H0(i[1]);return e&&JSON.parse(e)},Kh=()=>{try{return vC()||bC()||wC()||RC()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},F0=i=>{var e,t;return(t=(e=Kh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[i]},IC=i=>{const e=F0(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},G0=()=>{var i;return(i=Kh())===null||i===void 0?void 0:i.config},K0=i=>{var e;return(e=Kh())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OC(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[gh(JSON.stringify(t)),gh(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function DC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function NC(){var i;const e=(i=Kh())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function MC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $0(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function xC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function VC(){const i=en();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function PC(){return!NC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Q0(){try{return typeof indexedDB=="object"}catch{return!1}}function Y0(){return new Promise((i,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(t){e(t)}})}function kC(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC="FirebaseError";class Zn extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=UC,Object.setPrototypeOf(this,Zn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Js.prototype.create)}}class Js{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?LC(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new Zn(o,m,s)}}function LC(i,e){return i.replace(zC,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const zC=/\{\$([^}]+)}/g;function BC(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Yr(i,e){if(i===e)return!0;const t=Object.keys(i),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const u=i[o],h=e[o];if(pE(u)&&pE(h)){if(!Yr(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function pE(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cu(i){const e=[];for(const[t,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function qC(i,e){const t=new jC(i,e);return t.subscribe.bind(t)}class jC{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");HC(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=Cm),o.error===void 0&&(o.error=Cm),o.complete===void 0&&(o.complete=Cm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function HC(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function Cm(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC=1e3,GC=2,KC=4*60*60*1e3,$C=.5;function gE(i,e=FC,t=GC){const s=e*Math.pow(t,i),o=Math.round($C*s*(Math.random()-.5)*2);return Math.min(KC,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(i){return i&&i._delegate?i._delegate:i}class Xn{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new CC;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(XC(e))try{this.getOrInitializeService({instanceIdentifier:Bs})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Bs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Bs){return this.instances.has(e)}getOptions(e=Bs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&e(h,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:YC(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Bs){return this.component?this.component.multipleInstances?e:Bs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function YC(i){return i===Bs?void 0:i}function XC(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new QC(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(ke||(ke={}));const JC={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},ZC=ke.INFO,eO={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},tO=(i,e,...t)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=eO[e];if(o)console[o](`[${s}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class $h{constructor(e){this.name=e,this._logLevel=ZC,this._logHandler=tO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?JC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const nO=(i,e)=>e.some(t=>i instanceof t);let yE,_E;function iO(){return yE||(yE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function rO(){return _E||(_E=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const X0=new WeakMap,Jm=new WeakMap,W0=new WeakMap,Om=new WeakMap,Vp=new WeakMap;function sO(i){const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{t(Hr(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&X0.set(t,i)}).catch(()=>{}),Vp.set(e,i),e}function aO(i){if(Jm.has(i))return;const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{t(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});Jm.set(i,e)}let Zm={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return Jm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||W0.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Hr(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function oO(i){Zm=i(Zm)}function lO(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=i.call(Dm(this),e,...t);return W0.set(s,e.sort?e.sort():[e]),Hr(s)}:rO().includes(i)?function(...e){return i.apply(Dm(this),e),Hr(X0.get(this))}:function(...e){return Hr(i.apply(Dm(this),e))}}function uO(i){return typeof i=="function"?lO(i):(i instanceof IDBTransaction&&aO(i),nO(i,iO())?new Proxy(i,Zm):i)}function Hr(i){if(i instanceof IDBRequest)return sO(i);if(Om.has(i))return Om.get(i);const e=uO(i);return e!==i&&(Om.set(i,e),Vp.set(e,i)),e}const Dm=i=>Vp.get(i);function J0(i,e,{blocked:t,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(i,e),m=Hr(h);return s&&h.addEventListener("upgradeneeded",p=>{s(Hr(h.result),p.oldVersion,p.newVersion,Hr(h.transaction),p)}),t&&h.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const cO=["get","getKey","getAll","getAllKeys","count"],hO=["put","add","delete","clear"],Nm=new Map;function vE(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Nm.get(e))return Nm.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=hO.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||cO.includes(t)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[t](...m),o&&p.done]))[0]};return Nm.set(e,u),u}oO(i=>({...i,get:(e,t,s)=>vE(e,t)||i.get(e,t,s),has:(e,t)=>!!vE(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(dO(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function dO(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ep="@firebase/app",EE="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rr=new $h("@firebase/app"),mO="@firebase/app-compat",pO="@firebase/analytics-compat",gO="@firebase/analytics",yO="@firebase/app-check-compat",_O="@firebase/app-check",vO="@firebase/auth",EO="@firebase/auth-compat",TO="@firebase/database",AO="@firebase/data-connect",SO="@firebase/database-compat",bO="@firebase/functions",wO="@firebase/functions-compat",RO="@firebase/installations",IO="@firebase/installations-compat",CO="@firebase/messaging",OO="@firebase/messaging-compat",DO="@firebase/performance",NO="@firebase/performance-compat",MO="@firebase/remote-config",xO="@firebase/remote-config-compat",VO="@firebase/storage",PO="@firebase/storage-compat",kO="@firebase/firestore",UO="@firebase/vertexai",LO="@firebase/firestore-compat",zO="firebase",BO="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tp="[DEFAULT]",qO={[ep]:"fire-core",[mO]:"fire-core-compat",[gO]:"fire-analytics",[pO]:"fire-analytics-compat",[_O]:"fire-app-check",[yO]:"fire-app-check-compat",[vO]:"fire-auth",[EO]:"fire-auth-compat",[TO]:"fire-rtdb",[AO]:"fire-data-connect",[SO]:"fire-rtdb-compat",[bO]:"fire-fn",[wO]:"fire-fn-compat",[RO]:"fire-iid",[IO]:"fire-iid-compat",[CO]:"fire-fcm",[OO]:"fire-fcm-compat",[DO]:"fire-perf",[NO]:"fire-perf-compat",[MO]:"fire-rc",[xO]:"fire-rc-compat",[VO]:"fire-gcs",[PO]:"fire-gcs-compat",[kO]:"fire-fst",[LO]:"fire-fst-compat",[UO]:"fire-vertex","fire-js":"fire-js",[zO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yh=new Map,jO=new Map,np=new Map;function TE(i,e){try{i.container.addComponent(e)}catch(t){rr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function bi(i){const e=i.name;if(np.has(e))return rr.debug(`There were multiple attempts to register component ${e}.`),!1;np.set(e,i);for(const t of yh.values())TE(t,i);for(const t of jO.values())TE(t,i);return!0}function Zs(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function $n(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fr=new Js("app","Firebase",HO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Xn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _o=BO;function Z0(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:tp,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw Fr.create("bad-app-name",{appName:String(o)});if(t||(t=G0()),!t)throw Fr.create("no-options");const u=yh.get(o);if(u){if(Yr(t,u.options)&&Yr(s,u.config))return u;throw Fr.create("duplicate-app",{appName:o})}const h=new WC(o);for(const p of np.values())h.addComponent(p);const m=new FO(t,s,h);return yh.set(o,m),m}function Pp(i=tp){const e=yh.get(i);if(!e&&i===tp&&G0())return Z0();if(!e)throw Fr.create("no-app",{appName:i});return e}function Ln(i,e,t){var s;let o=(s=qO[i])!==null&&s!==void 0?s:i;t&&(o+=`-${t}`);const u=o.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&m.push("and"),h&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),rr.warn(m.join(" "));return}bi(new Xn(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GO="firebase-heartbeat-database",KO=1,Xl="firebase-heartbeat-store";let Mm=null;function eA(){return Mm||(Mm=J0(GO,KO,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Xl)}catch(t){console.warn(t)}}}}).catch(i=>{throw Fr.create("idb-open",{originalErrorMessage:i.message})})),Mm}async function $O(i){try{const t=(await eA()).transaction(Xl),s=await t.objectStore(Xl).get(tA(i));return await t.done,s}catch(e){if(e instanceof Zn)rr.warn(e.message);else{const t=Fr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});rr.warn(t.message)}}}async function AE(i,e){try{const s=(await eA()).transaction(Xl,"readwrite");await s.objectStore(Xl).put(e,tA(i)),await s.done}catch(t){if(t instanceof Zn)rr.warn(t.message);else{const s=Fr.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});rr.warn(s.message)}}}function tA(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QO=1024,YO=30;class XO{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new JO(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=SE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>YO){const h=ZO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){rr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=SE(),{heartbeatsToSend:s,unsentEntries:o}=WO(this._heartbeatsCache.heartbeats),u=gh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return rr.warn(t),""}}}function SE(){return new Date().toISOString().substring(0,10)}function WO(i,e=QO){const t=[];let s=i.slice();for(const o of i){const u=t.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),bE(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),bE(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class JO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Q0()?Y0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await $O(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return AE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return AE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function bE(i){return gh(JSON.stringify({version:2,heartbeats:i})).length}function ZO(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let s=1;s<i.length;s++)i[s].date<t&&(t=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eD(i){bi(new Xn("platform-logger",e=>new fO(e),"PRIVATE")),bi(new Xn("heartbeat",e=>new XO(e),"PRIVATE")),Ln(ep,EE,i),Ln(ep,EE,"esm2017"),Ln("fire-js","")}eD("");var tD="firebase",nD="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ln(tD,nD,"app");const nA="@firebase/installations",kp="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iA=1e4,rA=`w:${kp}`,sA="FIS_v2",iD="https://firebaseinstallations.googleapis.com/v1",rD=60*60*1e3,sD="installations",aD="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ks=new Js(sD,aD,oD);function aA(i){return i instanceof Zn&&i.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oA({projectId:i}){return`${iD}/projects/${i}/installations`}function lA(i){return{token:i.token,requestStatus:2,expiresIn:uD(i.expiresIn),creationTime:Date.now()}}async function uA(i,e){const s=(await e.json()).error;return Ks.create("request-failed",{requestName:i,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function cA({apiKey:i}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i})}function lD(i,{refreshToken:e}){const t=cA(i);return t.append("Authorization",cD(e)),t}async function hA(i){const e=await i();return e.status>=500&&e.status<600?i():e}function uD(i){return Number(i.replace("s","000"))}function cD(i){return`${sA} ${i}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hD({appConfig:i,heartbeatServiceProvider:e},{fid:t}){const s=oA(i),o=cA(i),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const h={fid:t,authVersion:sA,appId:i.appId,sdkVersion:rA},m={method:"POST",headers:o,body:JSON.stringify(h)},p=await hA(()=>fetch(s,m));if(p.ok){const g=await p.json();return{fid:g.fid||t,registrationStatus:2,refreshToken:g.refreshToken,authToken:lA(g.authToken)}}else throw await uA("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fA(i){return new Promise(e=>{setTimeout(e,i)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fD(i){return btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD=/^[cdef][\w-]{21}$/,ip="";function mD(){try{const i=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(i),i[0]=112+i[0]%16;const t=pD(i);return dD.test(t)?t:ip}catch{return ip}}function pD(i){return fD(i).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qh(i){return`${i.appName}!${i.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dA=new Map;function mA(i,e){const t=Qh(i);pA(t,e),gD(t,e)}function pA(i,e){const t=dA.get(i);if(t)for(const s of t)s(e)}function gD(i,e){const t=yD();t&&t.postMessage({key:i,fid:e}),_D()}let js=null;function yD(){return!js&&"BroadcastChannel"in self&&(js=new BroadcastChannel("[Firebase] FID Change"),js.onmessage=i=>{pA(i.data.key,i.data.fid)}),js}function _D(){dA.size===0&&js&&(js.close(),js=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD="firebase-installations-database",ED=1,$s="firebase-installations-store";let xm=null;function Up(){return xm||(xm=J0(vD,ED,{upgrade:(i,e)=>{switch(e){case 0:i.createObjectStore($s)}}})),xm}async function _h(i,e){const t=Qh(i),o=(await Up()).transaction($s,"readwrite"),u=o.objectStore($s),h=await u.get(t);return await u.put(e,t),await o.done,(!h||h.fid!==e.fid)&&mA(i,e.fid),e}async function gA(i){const e=Qh(i),s=(await Up()).transaction($s,"readwrite");await s.objectStore($s).delete(e),await s.done}async function Yh(i,e){const t=Qh(i),o=(await Up()).transaction($s,"readwrite"),u=o.objectStore($s),h=await u.get(t),m=e(h);return m===void 0?await u.delete(t):await u.put(m,t),await o.done,m&&(!h||h.fid!==m.fid)&&mA(i,m.fid),m}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lp(i){let e;const t=await Yh(i.appConfig,s=>{const o=TD(s),u=AD(i,o);return e=u.registrationPromise,u.installationEntry});return t.fid===ip?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function TD(i){const e=i||{fid:mD(),registrationStatus:0};return yA(e)}function AD(i,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Ks.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=SD(i,t);return{installationEntry:t,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:bD(i)}:{installationEntry:e}}async function SD(i,e){try{const t=await hD(i,e);return _h(i.appConfig,t)}catch(t){throw aA(t)&&t.customData.serverCode===409?await gA(i.appConfig):await _h(i.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function bD(i){let e=await wE(i.appConfig);for(;e.registrationStatus===1;)await fA(100),e=await wE(i.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:s}=await Lp(i);return s||t}return e}function wE(i){return Yh(i,e=>{if(!e)throw Ks.create("installation-not-found");return yA(e)})}function yA(i){return wD(i)?{fid:i.fid,registrationStatus:0}:i}function wD(i){return i.registrationStatus===1&&i.registrationTime+iA<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RD({appConfig:i,heartbeatServiceProvider:e},t){const s=ID(i,t),o=lD(i,t),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const h={installation:{sdkVersion:rA,appId:i.appId}},m={method:"POST",headers:o,body:JSON.stringify(h)},p=await hA(()=>fetch(s,m));if(p.ok){const g=await p.json();return lA(g)}else throw await uA("Generate Auth Token",p)}function ID(i,{fid:e}){return`${oA(i)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zp(i,e=!1){let t;const s=await Yh(i.appConfig,u=>{if(!_A(u))throw Ks.create("not-registered");const h=u.authToken;if(!e&&DD(h))return u;if(h.requestStatus===1)return t=CD(i,e),u;{if(!navigator.onLine)throw Ks.create("app-offline");const m=MD(u);return t=OD(i,m),m}});return t?await t:s.authToken}async function CD(i,e){let t=await RE(i.appConfig);for(;t.authToken.requestStatus===1;)await fA(100),t=await RE(i.appConfig);const s=t.authToken;return s.requestStatus===0?zp(i,e):s}function RE(i){return Yh(i,e=>{if(!_A(e))throw Ks.create("not-registered");const t=e.authToken;return xD(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function OD(i,e){try{const t=await RD(i,e),s=Object.assign(Object.assign({},e),{authToken:t});return await _h(i.appConfig,s),t}catch(t){if(aA(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await gA(i.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await _h(i.appConfig,s)}throw t}}function _A(i){return i!==void 0&&i.registrationStatus===2}function DD(i){return i.requestStatus===2&&!ND(i)}function ND(i){const e=Date.now();return e<i.creationTime||i.creationTime+i.expiresIn<e+rD}function MD(i){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},i),{authToken:e})}function xD(i){return i.requestStatus===1&&i.requestTime+iA<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VD(i){const e=i,{installationEntry:t,registrationPromise:s}=await Lp(e);return s?s.catch(console.error):zp(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PD(i,e=!1){const t=i;return await kD(t),(await zp(t,e)).token}async function kD(i){const{registrationPromise:e}=await Lp(i);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UD(i){if(!i||!i.options)throw Vm("App Configuration");if(!i.name)throw Vm("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!i.options[t])throw Vm(t);return{appName:i.name,projectId:i.options.projectId,apiKey:i.options.apiKey,appId:i.options.appId}}function Vm(i){return Ks.create("missing-app-config-values",{valueName:i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA="installations",LD="installations-internal",zD=i=>{const e=i.getProvider("app").getImmediate(),t=UD(e),s=Zs(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},BD=i=>{const e=i.getProvider("app").getImmediate(),t=Zs(e,vA).getImmediate();return{getId:()=>VD(t),getToken:o=>PD(t,o)}};function qD(){bi(new Xn(vA,zD,"PUBLIC")),bi(new Xn(LD,BD,"PRIVATE"))}qD();Ln(nA,kp);Ln(nA,kp,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vh="analytics",jD="firebase_id",HD="origin",FD=60*1e3,GD="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Bp="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hn=new $h("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Sn=new Js("analytics","Analytics",KD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $D(i){if(!i.startsWith(Bp)){const e=Sn.create("invalid-gtag-resource",{gtagURL:i});return hn.warn(e.message),""}return i}function EA(i){return Promise.all(i.map(e=>e.catch(t=>t)))}function QD(i,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(i,e)),t}function YD(i,e){const t=QD("firebase-js-sdk-policy",{createScriptURL:$D}),s=document.createElement("script"),o=`${Bp}?l=${i}&id=${e}`;s.src=t?t==null?void 0:t.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function XD(i){let e=[];return Array.isArray(window[i])?e=window[i]:window[i]=e,e}async function WD(i,e,t,s,o,u){const h=s[o];try{if(h)await e[h];else{const p=(await EA(t)).find(g=>g.measurementId===o);p&&await e[p.appId]}}catch(m){hn.error(m)}i("config",o,u)}async function JD(i,e,t,s,o){try{let u=[];if(o&&o.send_to){let h=o.send_to;Array.isArray(h)||(h=[h]);const m=await EA(t);for(const p of h){const g=m.find(A=>A.measurementId===p),v=g&&e[g.appId];if(v)u.push(v);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),i("event",s,o||{})}catch(u){hn.error(u)}}function ZD(i,e,t,s){async function o(u,...h){try{if(u==="event"){const[m,p]=h;await JD(i,e,t,m,p)}else if(u==="config"){const[m,p]=h;await WD(i,e,t,s,m,p)}else if(u==="consent"){const[m,p]=h;i("consent",m,p)}else if(u==="get"){const[m,p,g]=h;i("get",m,p,g)}else if(u==="set"){const[m]=h;i("set",m)}else i(u,...h)}catch(m){hn.error(m)}}return o}function eN(i,e,t,s,o){let u=function(...h){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=ZD(u,i,e,t),{gtagCore:u,wrappedGtag:window[o]}}function tN(i){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Bp)&&t.src.includes(i))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN=30,iN=1e3;class rN{constructor(e={},t=iN){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const TA=new rN;function sN(i){return new Headers({Accept:"application/json","x-goog-api-key":i})}async function aN(i){var e;const{appId:t,apiKey:s}=i,o={method:"GET",headers:sN(s)},u=GD.replace("{app-id}",t),h=await fetch(u,o);if(h.status!==200&&h.status!==304){let m="";try{const p=await h.json();!((e=p.error)===null||e===void 0)&&e.message&&(m=p.error.message)}catch{}throw Sn.create("config-fetch-failed",{httpStatus:h.status,responseMessage:m})}return h.json()}async function oN(i,e=TA,t){const{appId:s,apiKey:o,measurementId:u}=i.options;if(!s)throw Sn.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:s};throw Sn.create("no-api-key")}const h=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new cN;return setTimeout(async()=>{m.abort()},FD),AA({appId:s,apiKey:o,measurementId:u},h,m,e)}async function AA(i,{throttleEndTimeMillis:e,backoffCount:t},s,o=TA){var u;const{appId:h,measurementId:m}=i;try{await lN(s,e)}catch(p){if(m)return hn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:h,measurementId:m};throw p}try{const p=await aN(i);return o.deleteThrottleMetadata(h),p}catch(p){const g=p;if(!uN(g)){if(o.deleteThrottleMetadata(h),m)return hn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${g==null?void 0:g.message}]`),{appId:h,measurementId:m};throw p}const v=Number((u=g==null?void 0:g.customData)===null||u===void 0?void 0:u.httpStatus)===503?gE(t,o.intervalMillis,nN):gE(t,o.intervalMillis),A={throttleEndTimeMillis:Date.now()+v,backoffCount:t+1};return o.setThrottleMetadata(h,A),hn.debug(`Calling attemptFetch again in ${v} millis`),AA(i,A,s,o)}}function lN(i,e){return new Promise((t,s)=>{const o=Math.max(e-Date.now(),0),u=setTimeout(t,o);i.addEventListener(()=>{clearTimeout(u),s(Sn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function uN(i){if(!(i instanceof Zn)||!i.customData)return!1;const e=Number(i.customData.httpStatus);return e===429||e===500||e===503||e===504}class cN{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function hN(i,e,t,s,o){if(o&&o.global){i("event",t,s);return}else{const u=await e,h=Object.assign(Object.assign({},s),{send_to:u});i("event",t,h)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fN(){if(Q0())try{await Y0()}catch(i){return hn.warn(Sn.create("indexeddb-unavailable",{errorInfo:i==null?void 0:i.toString()}).message),!1}else return hn.warn(Sn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function dN(i,e,t,s,o,u,h){var m;const p=oN(i);p.then(V=>{t[V.measurementId]=V.appId,i.options.measurementId&&V.measurementId!==i.options.measurementId&&hn.warn(`The measurement ID in the local Firebase config (${i.options.measurementId}) does not match the measurement ID fetched from the server (${V.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(V=>hn.error(V)),e.push(p);const g=fN().then(V=>{if(V)return s.getId()}),[v,A]=await Promise.all([p,g]);tN(u)||YD(u,v.measurementId),o("js",new Date);const R=(m=h==null?void 0:h.config)!==null&&m!==void 0?m:{};return R[HD]="firebase",R.update=!0,A!=null&&(R[jD]=A),o("config",v.measurementId,R),v.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(e){this.app=e}_delete(){return delete jl[this.app.options.appId],Promise.resolve()}}let jl={},IE=[];const CE={};let Pm="dataLayer",pN="gtag",OE,SA,DE=!1;function gN(){const i=[];if($0()&&i.push("This is a browser extension environment."),kC()||i.push("Cookies are not available."),i.length>0){const e=i.map((s,o)=>`(${o+1}) ${s}`).join(" "),t=Sn.create("invalid-analytics-context",{errorInfo:e});hn.warn(t.message)}}function yN(i,e,t){gN();const s=i.options.appId;if(!s)throw Sn.create("no-app-id");if(!i.options.apiKey)if(i.options.measurementId)hn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${i.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Sn.create("no-api-key");if(jl[s]!=null)throw Sn.create("already-exists",{id:s});if(!DE){XD(Pm);const{wrappedGtag:u,gtagCore:h}=eN(jl,IE,CE,Pm,pN);SA=u,OE=h,DE=!0}return jl[s]=dN(i,IE,CE,e,OE,Pm,t),new mN(i)}function _N(i=Pp()){i=fn(i);const e=Zs(i,vh);return e.isInitialized()?e.getImmediate():vN(i)}function vN(i,e={}){const t=Zs(i,vh);if(t.isInitialized()){const o=t.getImmediate();if(Yr(e,t.getOptions()))return o;throw Sn.create("already-initialized")}return t.initialize({options:e})}function EN(i,e,t,s){i=fn(i),hN(SA,jl[i.app.options.appId],e,t,s).catch(o=>hn.error(o))}const NE="@firebase/analytics",ME="0.10.12";function TN(){bi(new Xn(vh,(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return yN(s,o,t)},"PUBLIC")),bi(new Xn("analytics-internal",i,"PRIVATE")),Ln(NE,ME),Ln(NE,ME,"esm2017");function i(e){try{const t=e.getProvider(vh).getImmediate();return{logEvent:(s,o,u)=>EN(t,s,o,u)}}catch(t){throw Sn.create("interop-component-reg-failed",{reason:t})}}}TN();var xE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Gr,bA;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,b){function w(){}w.prototype=b.prototype,I.D=b.prototype,I.prototype=new w,I.prototype.constructor=I,I.C=function(N,x,U){for(var C=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)C[Qe-2]=arguments[Qe];return b.prototype[x].apply(N,C)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,b,w){w||(w=0);var N=Array(16);if(typeof b=="string")for(var x=0;16>x;++x)N[x]=b.charCodeAt(w++)|b.charCodeAt(w++)<<8|b.charCodeAt(w++)<<16|b.charCodeAt(w++)<<24;else for(x=0;16>x;++x)N[x]=b[w++]|b[w++]<<8|b[w++]<<16|b[w++]<<24;b=I.g[0],w=I.g[1],x=I.g[2];var U=I.g[3],C=b+(U^w&(x^U))+N[0]+3614090360&4294967295;b=w+(C<<7&4294967295|C>>>25),C=U+(x^b&(w^x))+N[1]+3905402710&4294967295,U=b+(C<<12&4294967295|C>>>20),C=x+(w^U&(b^w))+N[2]+606105819&4294967295,x=U+(C<<17&4294967295|C>>>15),C=w+(b^x&(U^b))+N[3]+3250441966&4294967295,w=x+(C<<22&4294967295|C>>>10),C=b+(U^w&(x^U))+N[4]+4118548399&4294967295,b=w+(C<<7&4294967295|C>>>25),C=U+(x^b&(w^x))+N[5]+1200080426&4294967295,U=b+(C<<12&4294967295|C>>>20),C=x+(w^U&(b^w))+N[6]+2821735955&4294967295,x=U+(C<<17&4294967295|C>>>15),C=w+(b^x&(U^b))+N[7]+4249261313&4294967295,w=x+(C<<22&4294967295|C>>>10),C=b+(U^w&(x^U))+N[8]+1770035416&4294967295,b=w+(C<<7&4294967295|C>>>25),C=U+(x^b&(w^x))+N[9]+2336552879&4294967295,U=b+(C<<12&4294967295|C>>>20),C=x+(w^U&(b^w))+N[10]+4294925233&4294967295,x=U+(C<<17&4294967295|C>>>15),C=w+(b^x&(U^b))+N[11]+2304563134&4294967295,w=x+(C<<22&4294967295|C>>>10),C=b+(U^w&(x^U))+N[12]+1804603682&4294967295,b=w+(C<<7&4294967295|C>>>25),C=U+(x^b&(w^x))+N[13]+4254626195&4294967295,U=b+(C<<12&4294967295|C>>>20),C=x+(w^U&(b^w))+N[14]+2792965006&4294967295,x=U+(C<<17&4294967295|C>>>15),C=w+(b^x&(U^b))+N[15]+1236535329&4294967295,w=x+(C<<22&4294967295|C>>>10),C=b+(x^U&(w^x))+N[1]+4129170786&4294967295,b=w+(C<<5&4294967295|C>>>27),C=U+(w^x&(b^w))+N[6]+3225465664&4294967295,U=b+(C<<9&4294967295|C>>>23),C=x+(b^w&(U^b))+N[11]+643717713&4294967295,x=U+(C<<14&4294967295|C>>>18),C=w+(U^b&(x^U))+N[0]+3921069994&4294967295,w=x+(C<<20&4294967295|C>>>12),C=b+(x^U&(w^x))+N[5]+3593408605&4294967295,b=w+(C<<5&4294967295|C>>>27),C=U+(w^x&(b^w))+N[10]+38016083&4294967295,U=b+(C<<9&4294967295|C>>>23),C=x+(b^w&(U^b))+N[15]+3634488961&4294967295,x=U+(C<<14&4294967295|C>>>18),C=w+(U^b&(x^U))+N[4]+3889429448&4294967295,w=x+(C<<20&4294967295|C>>>12),C=b+(x^U&(w^x))+N[9]+568446438&4294967295,b=w+(C<<5&4294967295|C>>>27),C=U+(w^x&(b^w))+N[14]+3275163606&4294967295,U=b+(C<<9&4294967295|C>>>23),C=x+(b^w&(U^b))+N[3]+4107603335&4294967295,x=U+(C<<14&4294967295|C>>>18),C=w+(U^b&(x^U))+N[8]+1163531501&4294967295,w=x+(C<<20&4294967295|C>>>12),C=b+(x^U&(w^x))+N[13]+2850285829&4294967295,b=w+(C<<5&4294967295|C>>>27),C=U+(w^x&(b^w))+N[2]+4243563512&4294967295,U=b+(C<<9&4294967295|C>>>23),C=x+(b^w&(U^b))+N[7]+1735328473&4294967295,x=U+(C<<14&4294967295|C>>>18),C=w+(U^b&(x^U))+N[12]+2368359562&4294967295,w=x+(C<<20&4294967295|C>>>12),C=b+(w^x^U)+N[5]+4294588738&4294967295,b=w+(C<<4&4294967295|C>>>28),C=U+(b^w^x)+N[8]+2272392833&4294967295,U=b+(C<<11&4294967295|C>>>21),C=x+(U^b^w)+N[11]+1839030562&4294967295,x=U+(C<<16&4294967295|C>>>16),C=w+(x^U^b)+N[14]+4259657740&4294967295,w=x+(C<<23&4294967295|C>>>9),C=b+(w^x^U)+N[1]+2763975236&4294967295,b=w+(C<<4&4294967295|C>>>28),C=U+(b^w^x)+N[4]+1272893353&4294967295,U=b+(C<<11&4294967295|C>>>21),C=x+(U^b^w)+N[7]+4139469664&4294967295,x=U+(C<<16&4294967295|C>>>16),C=w+(x^U^b)+N[10]+3200236656&4294967295,w=x+(C<<23&4294967295|C>>>9),C=b+(w^x^U)+N[13]+681279174&4294967295,b=w+(C<<4&4294967295|C>>>28),C=U+(b^w^x)+N[0]+3936430074&4294967295,U=b+(C<<11&4294967295|C>>>21),C=x+(U^b^w)+N[3]+3572445317&4294967295,x=U+(C<<16&4294967295|C>>>16),C=w+(x^U^b)+N[6]+76029189&4294967295,w=x+(C<<23&4294967295|C>>>9),C=b+(w^x^U)+N[9]+3654602809&4294967295,b=w+(C<<4&4294967295|C>>>28),C=U+(b^w^x)+N[12]+3873151461&4294967295,U=b+(C<<11&4294967295|C>>>21),C=x+(U^b^w)+N[15]+530742520&4294967295,x=U+(C<<16&4294967295|C>>>16),C=w+(x^U^b)+N[2]+3299628645&4294967295,w=x+(C<<23&4294967295|C>>>9),C=b+(x^(w|~U))+N[0]+4096336452&4294967295,b=w+(C<<6&4294967295|C>>>26),C=U+(w^(b|~x))+N[7]+1126891415&4294967295,U=b+(C<<10&4294967295|C>>>22),C=x+(b^(U|~w))+N[14]+2878612391&4294967295,x=U+(C<<15&4294967295|C>>>17),C=w+(U^(x|~b))+N[5]+4237533241&4294967295,w=x+(C<<21&4294967295|C>>>11),C=b+(x^(w|~U))+N[12]+1700485571&4294967295,b=w+(C<<6&4294967295|C>>>26),C=U+(w^(b|~x))+N[3]+2399980690&4294967295,U=b+(C<<10&4294967295|C>>>22),C=x+(b^(U|~w))+N[10]+4293915773&4294967295,x=U+(C<<15&4294967295|C>>>17),C=w+(U^(x|~b))+N[1]+2240044497&4294967295,w=x+(C<<21&4294967295|C>>>11),C=b+(x^(w|~U))+N[8]+1873313359&4294967295,b=w+(C<<6&4294967295|C>>>26),C=U+(w^(b|~x))+N[15]+4264355552&4294967295,U=b+(C<<10&4294967295|C>>>22),C=x+(b^(U|~w))+N[6]+2734768916&4294967295,x=U+(C<<15&4294967295|C>>>17),C=w+(U^(x|~b))+N[13]+1309151649&4294967295,w=x+(C<<21&4294967295|C>>>11),C=b+(x^(w|~U))+N[4]+4149444226&4294967295,b=w+(C<<6&4294967295|C>>>26),C=U+(w^(b|~x))+N[11]+3174756917&4294967295,U=b+(C<<10&4294967295|C>>>22),C=x+(b^(U|~w))+N[2]+718787259&4294967295,x=U+(C<<15&4294967295|C>>>17),C=w+(U^(x|~b))+N[9]+3951481745&4294967295,I.g[0]=I.g[0]+b&4294967295,I.g[1]=I.g[1]+(x+(C<<21&4294967295|C>>>11))&4294967295,I.g[2]=I.g[2]+x&4294967295,I.g[3]=I.g[3]+U&4294967295}s.prototype.u=function(I,b){b===void 0&&(b=I.length);for(var w=b-this.blockSize,N=this.B,x=this.h,U=0;U<b;){if(x==0)for(;U<=w;)o(this,I,U),U+=this.blockSize;if(typeof I=="string"){for(;U<b;)if(N[x++]=I.charCodeAt(U++),x==this.blockSize){o(this,N),x=0;break}}else for(;U<b;)if(N[x++]=I[U++],x==this.blockSize){o(this,N),x=0;break}}this.h=x,this.o+=b},s.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var b=1;b<I.length-8;++b)I[b]=0;var w=8*this.o;for(b=I.length-8;b<I.length;++b)I[b]=w&255,w/=256;for(this.u(I),I=Array(16),b=w=0;4>b;++b)for(var N=0;32>N;N+=8)I[w++]=this.g[b]>>>N&255;return I};function u(I,b){var w=m;return Object.prototype.hasOwnProperty.call(w,I)?w[I]:w[I]=b(I)}function h(I,b){this.h=b;for(var w=[],N=!0,x=I.length-1;0<=x;x--){var U=I[x]|0;N&&U==b||(w[x]=U,N=!1)}this.g=w}var m={};function p(I){return-128<=I&&128>I?u(I,function(b){return new h([b|0],0>b?-1:0)}):new h([I|0],0>I?-1:0)}function g(I){if(isNaN(I)||!isFinite(I))return A;if(0>I)return k(g(-I));for(var b=[],w=1,N=0;I>=w;N++)b[N]=I/w|0,w*=4294967296;return new h(b,0)}function v(I,b){if(I.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(I.charAt(0)=="-")return k(v(I.substring(1),b));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=g(Math.pow(b,8)),N=A,x=0;x<I.length;x+=8){var U=Math.min(8,I.length-x),C=parseInt(I.substring(x,x+U),b);8>U?(U=g(Math.pow(b,U)),N=N.j(U).add(g(C))):(N=N.j(w),N=N.add(g(C)))}return N}var A=p(0),R=p(1),V=p(16777216);i=h.prototype,i.m=function(){if(q(this))return-k(this).m();for(var I=0,b=1,w=0;w<this.g.length;w++){var N=this.i(w);I+=(0<=N?N:4294967296+N)*b,b*=4294967296}return I},i.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(D(this))return"0";if(q(this))return"-"+k(this).toString(I);for(var b=g(Math.pow(I,6)),w=this,N="";;){var x=ue(w,b).g;w=G(w,x.j(b));var U=((0<w.g.length?w.g[0]:w.h)>>>0).toString(I);if(w=x,D(w))return U+N;for(;6>U.length;)U="0"+U;N=U+N}},i.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function D(I){if(I.h!=0)return!1;for(var b=0;b<I.g.length;b++)if(I.g[b]!=0)return!1;return!0}function q(I){return I.h==-1}i.l=function(I){return I=G(this,I),q(I)?-1:D(I)?0:1};function k(I){for(var b=I.g.length,w=[],N=0;N<b;N++)w[N]=~I.g[N];return new h(w,~I.h).add(R)}i.abs=function(){return q(this)?k(this):this},i.add=function(I){for(var b=Math.max(this.g.length,I.g.length),w=[],N=0,x=0;x<=b;x++){var U=N+(this.i(x)&65535)+(I.i(x)&65535),C=(U>>>16)+(this.i(x)>>>16)+(I.i(x)>>>16);N=C>>>16,U&=65535,C&=65535,w[x]=C<<16|U}return new h(w,w[w.length-1]&-2147483648?-1:0)};function G(I,b){return I.add(k(b))}i.j=function(I){if(D(this)||D(I))return A;if(q(this))return q(I)?k(this).j(k(I)):k(k(this).j(I));if(q(I))return k(this.j(k(I)));if(0>this.l(V)&&0>I.l(V))return g(this.m()*I.m());for(var b=this.g.length+I.g.length,w=[],N=0;N<2*b;N++)w[N]=0;for(N=0;N<this.g.length;N++)for(var x=0;x<I.g.length;x++){var U=this.i(N)>>>16,C=this.i(N)&65535,Qe=I.i(x)>>>16,nt=I.i(x)&65535;w[2*N+2*x]+=C*nt,re(w,2*N+2*x),w[2*N+2*x+1]+=U*nt,re(w,2*N+2*x+1),w[2*N+2*x+1]+=C*Qe,re(w,2*N+2*x+1),w[2*N+2*x+2]+=U*Qe,re(w,2*N+2*x+2)}for(N=0;N<b;N++)w[N]=w[2*N+1]<<16|w[2*N];for(N=b;N<2*b;N++)w[N]=0;return new h(w,0)};function re(I,b){for(;(I[b]&65535)!=I[b];)I[b+1]+=I[b]>>>16,I[b]&=65535,b++}function Y(I,b){this.g=I,this.h=b}function ue(I,b){if(D(b))throw Error("division by zero");if(D(I))return new Y(A,A);if(q(I))return b=ue(k(I),b),new Y(k(b.g),k(b.h));if(q(b))return b=ue(I,k(b)),new Y(k(b.g),b.h);if(30<I.g.length){if(q(I)||q(b))throw Error("slowDivide_ only works with positive integers.");for(var w=R,N=b;0>=N.l(I);)w=te(w),N=te(N);var x=ce(w,1),U=ce(N,1);for(N=ce(N,2),w=ce(w,2);!D(N);){var C=U.add(N);0>=C.l(I)&&(x=x.add(w),U=C),N=ce(N,1),w=ce(w,1)}return b=G(I,x.j(b)),new Y(x,b)}for(x=A;0<=I.l(b);){for(w=Math.max(1,Math.floor(I.m()/b.m())),N=Math.ceil(Math.log(w)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),U=g(w),C=U.j(b);q(C)||0<C.l(I);)w-=N,U=g(w),C=U.j(b);D(U)&&(U=R),x=x.add(U),I=G(I,C)}return new Y(x,I)}i.A=function(I){return ue(this,I).h},i.and=function(I){for(var b=Math.max(this.g.length,I.g.length),w=[],N=0;N<b;N++)w[N]=this.i(N)&I.i(N);return new h(w,this.h&I.h)},i.or=function(I){for(var b=Math.max(this.g.length,I.g.length),w=[],N=0;N<b;N++)w[N]=this.i(N)|I.i(N);return new h(w,this.h|I.h)},i.xor=function(I){for(var b=Math.max(this.g.length,I.g.length),w=[],N=0;N<b;N++)w[N]=this.i(N)^I.i(N);return new h(w,this.h^I.h)};function te(I){for(var b=I.g.length+1,w=[],N=0;N<b;N++)w[N]=I.i(N)<<1|I.i(N-1)>>>31;return new h(w,I.h)}function ce(I,b){var w=b>>5;b%=32;for(var N=I.g.length-w,x=[],U=0;U<N;U++)x[U]=0<b?I.i(U+w)>>>b|I.i(U+w+1)<<32-b:I.i(U+w);return new h(x,I.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,bA=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=v,Gr=h}).apply(typeof xE<"u"?xE:typeof self<"u"?self:typeof window<"u"?window:{});var Gc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wA,zl,RA,ih,rp,IA,CA,OA;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Gc=="object"&&Gc];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=t(this);function o(c,y){if(y)e:{var _=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var z=c[S];if(!(z in _))break e;_=_[z]}c=c[c.length-1],S=_[c],y=y(S),y!=S&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,S=!1,z={next:function(){if(!S&&_<c.length){var K=_++;return{value:y(K,c[K]),done:!1}}return S=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function v(c,y,_){return c.call.apply(c.bind,arguments)}function A(c,y,_){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,S),c.apply(y,z)}}return function(){return c.apply(y,arguments)}}function R(c,y,_){return R=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:A,R.apply(null,arguments)}function V(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function D(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(S,z,K){for(var ae=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)ae[ze-2]=arguments[ze];return y.prototype[z].apply(S,ae)}}function q(c){const y=c.length;if(0<y){const _=Array(y);for(let S=0;S<y;S++)_[S]=c[S];return _}return[]}function k(c,y){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(p(S)){const z=c.length||0,K=S.length||0;c.length=z+K;for(let ae=0;ae<K;ae++)c[z+ae]=S[ae]}else c.push(S)}}class G{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function re(c){return/^[\s\xa0]*$/.test(c)}function Y(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ue(c){return ue[" "](c),c}ue[" "]=function(){};var te=Y().indexOf("Gecko")!=-1&&!(Y().toLowerCase().indexOf("webkit")!=-1&&Y().indexOf("Edge")==-1)&&!(Y().indexOf("Trident")!=-1||Y().indexOf("MSIE")!=-1)&&Y().indexOf("Edge")==-1;function ce(c,y,_){for(const S in c)y.call(_,c[S],S,c)}function I(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function b(c){const y={};for(const _ in c)y[_]=c[_];return y}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(c,y){let _,S;for(let z=1;z<arguments.length;z++){S=arguments[z];for(_ in S)c[_]=S[_];for(let K=0;K<w.length;K++)_=w[K],Object.prototype.hasOwnProperty.call(S,_)&&(c[_]=S[_])}}function x(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function U(c){m.setTimeout(()=>{throw c},0)}function C(){var c=He;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Qe{constructor(){this.h=this.g=null}add(y,_){const S=nt.get();S.set(y,_),this.h?this.h.next=S:this.g=S,this.h=S}}var nt=new G(()=>new Q,c=>c.reset());class Q{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,me=!1,He=new Qe,M=()=>{const c=m.Promise.resolve(void 0);oe=()=>{c.then(ne)}};var ne=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(_){U(_)}var y=nt;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}me=!1};function le(){this.s=this.s,this.C=this.C}le.prototype.s=!1,le.prototype.ma=function(){this.s||(this.s=!0,this.N())},le.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var ge=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,y),m.removeEventListener("test",_,y)}catch{}return c}();function Oe(c,y){if(se.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(te){e:{try{ue(y.nodeName);var z=!0;break e}catch{}z=!1}z||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ee[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Oe.aa.h.call(this)}}D(Oe,se);var Ee={2:"touch",3:"pen",4:"mouse"};Oe.prototype.h=function(){Oe.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Me="closure_listenable_"+(1e6*Math.random()|0),Le=0;function Kt(c,y,_,S,z){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!S,this.ha=z,this.key=++Le,this.da=this.fa=!1}function Bn(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ci(c){this.src=c,this.g={},this.h=0}Ci.prototype.add=function(c,y,_,S,z){var K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);var ae=rs(c,y,S,z);return-1<ae?(y=c[ae],_||(y.fa=!1)):(y=new Kt(y,this.src,K,!!S,z),y.fa=_,c.push(y)),y};function is(c,y){var _=y.type;if(_ in c.g){var S=c.g[_],z=Array.prototype.indexOf.call(S,y,void 0),K;(K=0<=z)&&Array.prototype.splice.call(S,z,1),K&&(Bn(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function rs(c,y,_,S){for(var z=0;z<c.length;++z){var K=c[z];if(!K.da&&K.listener==y&&K.capture==!!_&&K.ha==S)return z}return-1}var ss="closure_lm_"+(1e6*Math.random()|0),wo={};function vu(c,y,_,S,z){if(Array.isArray(y)){for(var K=0;K<y.length;K++)vu(c,y[K],_,S,z);return null}return _=Eu(_),c&&c[Me]?c.K(y,_,g(S)?!!S.capture:!1,z):bn(c,y,_,!1,S,z)}function bn(c,y,_,S,z,K){if(!y)throw Error("Invalid event type");var ae=g(z)?!!z.capture:!!z,ze=sa(c);if(ze||(c[ss]=ze=new Ci(c)),_=ze.add(y,_,S,ae,K),_.proxy)return _;if(S=gf(),_.proxy=S,S.src=c,S.listener=_,c.addEventListener)ge||(z=ae),z===void 0&&(z=!1),c.addEventListener(y.toString(),S,z);else if(c.attachEvent)c.attachEvent(as(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function gf(){function c(_){return y.call(c.src,c.listener,_)}const y=yf;return c}function Ro(c,y,_,S,z){if(Array.isArray(y))for(var K=0;K<y.length;K++)Ro(c,y[K],_,S,z);else S=g(S)?!!S.capture:!!S,_=Eu(_),c&&c[Me]?(c=c.i,y=String(y).toString(),y in c.g&&(K=c.g[y],_=rs(K,_,S,z),-1<_&&(Bn(K[_]),Array.prototype.splice.call(K,_,1),K.length==0&&(delete c.g[y],c.h--)))):c&&(c=sa(c))&&(y=c.g[y.toString()],c=-1,y&&(c=rs(y,_,S,z)),(_=-1<c?y[c]:null)&&ra(_))}function ra(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Me])is(y.i,c);else{var _=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(_,S,c.capture):y.detachEvent?y.detachEvent(as(_),S):y.addListener&&y.removeListener&&y.removeListener(S),(_=sa(y))?(is(_,c),_.h==0&&(_.src=null,y[ss]=null)):Bn(c)}}}function as(c){return c in wo?wo[c]:wo[c]="on"+c}function yf(c,y){if(c.da)c=!0;else{y=new Oe(y,this);var _=c.listener,S=c.ha||c.src;c.fa&&ra(c),c=_.call(S,y)}return c}function sa(c){return c=c[ss],c instanceof Ci?c:null}var Io="__closure_events_fn_"+(1e9*Math.random()>>>0);function Eu(c){return typeof c=="function"?c:(c[Io]||(c[Io]=function(y){return c.handleEvent(y)}),c[Io])}function ht(){le.call(this),this.i=new Ci(this),this.M=this,this.F=null}D(ht,le),ht.prototype[Me]=!0,ht.prototype.removeEventListener=function(c,y,_,S){Ro(this,c,y,_,S)};function Ye(c,y){var _,S=c.F;if(S)for(_=[];S;S=S.F)_.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new se(y,c);else if(y instanceof se)y.target=y.target||c;else{var z=y;y=new se(S,c),N(y,z)}if(z=!0,_)for(var K=_.length-1;0<=K;K--){var ae=y.g=_[K];z=dn(ae,S,!0,y)&&z}if(ae=y.g=c,z=dn(ae,S,!0,y)&&z,z=dn(ae,S,!1,y)&&z,_)for(K=0;K<_.length;K++)ae=y.g=_[K],z=dn(ae,S,!1,y)&&z}ht.prototype.N=function(){if(ht.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],S=0;S<_.length;S++)Bn(_[S]);delete c.g[y],c.h--}}this.F=null},ht.prototype.K=function(c,y,_,S){return this.i.add(String(c),y,!1,_,S)},ht.prototype.L=function(c,y,_,S){return this.i.add(String(c),y,!0,_,S)};function dn(c,y,_,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var z=!0,K=0;K<y.length;++K){var ae=y[K];if(ae&&!ae.da&&ae.capture==_){var ze=ae.listener,Rt=ae.ha||ae.src;ae.fa&&is(c.i,ae),z=ze.call(Rt,S)!==!1&&z}}return z&&!S.defaultPrevented}function $t(c,y,_){if(typeof c=="function")_&&(c=R(c,_));else if(c&&typeof c.handleEvent=="function")c=R(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function Tu(c){c.g=$t(()=>{c.g=null,c.i&&(c.i=!1,Tu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class _f extends le{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Tu(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function os(c){le.call(this),this.h=c,this.g={}}D(os,le);var ls=[];function us(c){ce(c.g,function(y,_){this.g.hasOwnProperty(_)&&ra(y)},c),c.g={}}os.prototype.N=function(){os.aa.N.call(this),us(this)},os.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qn=m.JSON.stringify,aa=m.JSON.parse,cs=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Co(){}Co.prototype.h=null;function Oo(c){return c.h||(c.h=c.i())}function Do(){}var Oi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Di(){se.call(this,"d")}D(Di,se);function No(){se.call(this,"c")}D(No,se);var ei={},Mo=null;function ur(){return Mo=Mo||new ht}ei.La="serverreachability";function oa(c){se.call(this,ei.La,c)}D(oa,se);function cr(c){const y=ur();Ye(y,new oa(y))}ei.STAT_EVENT="statevent";function Au(c,y){se.call(this,ei.STAT_EVENT,c),this.stat=y}D(Au,se);function at(c){const y=ur();Ye(y,new Au(y,c))}ei.Ma="timingevent";function wt(c,y){se.call(this,ei.Ma,c),this.size=y}D(wt,se);function vt(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function wn(){this.g=!0}wn.prototype.xa=function(){this.g=!1};function xo(c,y,_,S,z,K){c.info(function(){if(c.g)if(K)for(var ae="",ze=K.split("&"),Rt=0;Rt<ze.length;Rt++){var Be=ze[Rt].split("=");if(1<Be.length){var xt=Be[0];Be=Be[1];var It=xt.split("_");ae=2<=It.length&&It[1]=="type"?ae+(xt+"="+Be+"&"):ae+(xt+"=redacted&")}}else ae=null;else ae=K;return"XMLHTTP REQ ("+S+") [attempt "+z+"]: "+y+`
`+_+`
`+ae})}function vf(c,y,_,S,z,K,ae){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+z+"]: "+y+`
`+_+`
`+K+" "+ae})}function hr(c,y,_,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+hs(c,_)+(S?" "+S:"")})}function Su(c,y){c.info(function(){return"TIMEOUT: "+y})}wn.prototype.info=function(){};function hs(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var S=_[c];if(!(2>S.length)){var z=S[1];if(Array.isArray(z)&&!(1>z.length)){var K=z[0];if(K!="noop"&&K!="stop"&&K!="close")for(var ae=1;ae<z.length;ae++)z[ae]=""}}}}return qn(_)}catch{return y}}var fr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ni={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ti;function ni(){}D(ni,Co),ni.prototype.g=function(){return new XMLHttpRequest},ni.prototype.i=function(){return{}},ti=new ni;function tn(c,y,_,S){this.j=c,this.i=y,this.l=_,this.R=S||1,this.U=new os(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pt}function pt(){this.i=null,this.g="",this.h=!1}var Vo={},la={};function jn(c,y,_){c.L=1,c.v=gs(mn(y)),c.m=_,c.P=!0,Mi(c,null)}function Mi(c,y){c.F=Date.now(),fs(c),c.A=mn(c.v);var _=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),Bo(_.i,"t",S),c.C=0,_=c.j.J,c.h=new pt,c.g=zu(c.j,_?y:null,!c.m),0<c.O&&(c.M=new _f(R(c.Y,c,c.g),c.O)),y=c.U,_=c.g,S=c.ca;var z="readystatechange";Array.isArray(z)||(z&&(ls[0]=z.toString()),z=ls);for(var K=0;K<z.length;K++){var ae=vu(_,z[K],S||y.handleEvent,!1,y.h||y);if(!ae)break;y.g[ae.key]=ae}y=c.H?b(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),cr(),xo(c.i,c.u,c.A,c.l,c.R,c.m)}tn.prototype.ca=function(c){c=c.target;const y=this.M;y&&On(c)==3?y.j():this.Y(c)},tn.prototype.Y=function(c){try{if(c==this.g)e:{const It=On(this.g);var y=this.g.Ba();const Bi=this.g.Z();if(!(3>It)&&(It!=3||this.g&&(this.h.h||this.g.oa()||Nu(this.g)))){this.J||It!=4||y==7||(y==8||0>=Bi?cr(3):cr(2)),dr(this);var _=this.g.Z();this.X=_;t:if(bu(this)){var S=Nu(this.g);c="";var z=S.length,K=On(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Lt(this),ii(this);var ae="";break t}this.h.i=new m.TextDecoder}for(y=0;y<z;y++)this.h.h=!0,c+=this.h.i.decode(S[y],{stream:!(K&&y==z-1)});S.length=0,this.h.g+=c,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=_==200,vf(this.i,this.u,this.A,this.l,this.R,It,_),this.o){if(this.T&&!this.K){t:{if(this.g){var ze,Rt=this.g;if((ze=Rt.g?Rt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!re(ze)){var Be=ze;break t}}Be=null}if(_=Be)hr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ds(this,_);else{this.o=!1,this.s=3,at(12),Lt(this),ii(this);break e}}if(this.P){_=!0;let zt;for(;!this.J&&this.C<ae.length;)if(zt=wu(this,ae),zt==la){It==4&&(this.s=4,at(14),_=!1),hr(this.i,this.l,null,"[Incomplete Response]");break}else if(zt==Vo){this.s=4,at(15),hr(this.i,this.l,ae,"[Invalid Chunk]"),_=!1;break}else hr(this.i,this.l,zt,null),ds(this,zt);if(bu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),It!=4||ae.length!=0||this.h.h||(this.s=1,at(16),_=!1),this.o=this.o&&_,!_)hr(this.i,this.l,ae,"[Invalid Chunked Response]"),Lt(this),ii(this);else if(0<ae.length&&!this.W){this.W=!0;var xt=this.j;xt.g==this&&xt.ba&&!xt.M&&(xt.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),bs(xt),xt.M=!0,at(11))}}else hr(this.i,this.l,ae,null),ds(this,ae);It==4&&Lt(this),this.o&&!this.J&&(It==4?ku(this.j,this):(this.o=!1,fs(this)))}else bf(this.g),_==400&&0<ae.indexOf("Unknown SID")?(this.s=3,at(12)):(this.s=0,at(13)),Lt(this),ii(this)}}}catch{}finally{}};function bu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function wu(c,y){var _=c.C,S=y.indexOf(`
`,_);return S==-1?la:(_=Number(y.substring(_,S)),isNaN(_)?Vo:(S+=1,S+_>y.length?la:(y=y.slice(S,S+_),c.C=S+_,y)))}tn.prototype.cancel=function(){this.J=!0,Lt(this)};function fs(c){c.S=Date.now()+c.I,Ru(c,c.I)}function Ru(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=vt(R(c.ba,c),y)}function dr(c){c.B&&(m.clearTimeout(c.B),c.B=null)}tn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Su(this.i,this.A),this.L!=2&&(cr(),at(17)),Lt(this),this.s=2,ii(this)):Ru(this,this.S-c)};function ii(c){c.j.G==0||c.J||ku(c.j,c)}function Lt(c){dr(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,us(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function ds(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||Po(_.h,c))){if(!c.K&&Po(_.h,c)&&_.G==3){try{var S=_.Da.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var z=S;if(z[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Ea(_),_a(_);else break e;Go(_),at(18)}}else _.za=z[1],0<_.za-_.T&&37500>z[2]&&_.F&&_.v==0&&!_.C&&(_.C=vt(R(_.Za,_),6e3));if(1>=ca(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else zi(_,11)}else if((c.K||_.g==c)&&Ea(_),!re(y))for(z=_.Da.g.parse(y),y=0;y<z.length;y++){let Be=z[y];if(_.T=Be[0],Be=Be[1],_.G==2)if(Be[0]=="c"){_.K=Be[1],_.ia=Be[2];const xt=Be[3];xt!=null&&(_.la=xt,_.j.info("VER="+_.la));const It=Be[4];It!=null&&(_.Aa=It,_.j.info("SVER="+_.Aa));const Bi=Be[5];Bi!=null&&typeof Bi=="number"&&0<Bi&&(S=1.5*Bi,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const zt=c.g;if(zt){const ci=zt.g?zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ci){var K=S.h;K.g||ci.indexOf("spdy")==-1&&ci.indexOf("quic")==-1&&ci.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(ha(K,K.h),K.h=null))}if(S.D){const $o=zt.g?zt.g.getResponseHeader("X-HTTP-Session-Id"):null;$o&&(S.ya=$o,Je(S.I,S.D,$o))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var ae=c;if(S.qa=Lu(S,S.J?S.ia:null,S.W),ae.K){nn(S.h,ae);var ze=ae,Rt=S.L;Rt&&(ze.I=Rt),ze.B&&(dr(ze),fs(ze)),S.g=ae}else Vu(S);0<_.i.length&&va(_)}else Be[0]!="stop"&&Be[0]!="close"||zi(_,7);else _.G==3&&(Be[0]=="stop"||Be[0]=="close"?Be[0]=="stop"?zi(_,7):Ho(_):Be[0]!="noop"&&_.l&&_.l.ta(Be),_.v=0)}}cr(4)}catch{}}var Iu=class{constructor(c,y){this.g=c,this.map=y}};function xi(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ua(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ca(c){return c.h?1:c.g?c.g.size:0}function Po(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function ha(c,y){c.g?c.g.add(y):c.h=y}function nn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}xi.prototype.cancel=function(){if(this.i=ko(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function ko(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return q(c.i)}function Ef(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,S=0;S<_;S++)y.push(c[S]);return y}y=[],_=0;for(S in c)y[_++]=c[S];return y}function fa(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const S in c)y[_++]=S;return y}}}function Uo(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=fa(c),S=Ef(c),z=S.length,K=0;K<z;K++)y.call(void 0,S[K],_&&_[K],c)}var ms=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Tf(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var S=c[_].indexOf("="),z=null;if(0<=S){var K=c[_].substring(0,S);z=c[_].substring(S+1)}else K=c[_];y(K,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function Et(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Et){this.h=c.h,ps(this,c.j),this.o=c.o,this.g=c.g,mr(this,c.s),this.l=c.l;var y=c.i,_=new Pi;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Vi(this,_),this.m=c.m}else c&&(y=String(c).match(ms))?(this.h=!1,ps(this,y[1]||"",!0),this.o=Rn(y[2]||""),this.g=Rn(y[3]||"",!0),mr(this,y[4]),this.l=Rn(y[5]||"",!0),Vi(this,y[6]||"",!0),this.m=Rn(y[7]||"")):(this.h=!1,this.i=new Pi(null,this.h))}Et.prototype.toString=function(){var c=[],y=this.j;y&&c.push(ys(y,Lo,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(ys(y,Lo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(ys(_,_.charAt(0)=="/"?Af:zo,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",ys(_,da)),c.join("")};function mn(c){return new Et(c)}function ps(c,y,_){c.j=_?Rn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function mr(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Vi(c,y,_){y instanceof Pi?(c.i=y,Ou(c.i,c.h)):(_||(y=ys(y,Sf)),c.i=new Pi(y,c.h))}function Je(c,y,_){c.i.set(y,_)}function gs(c){return Je(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Rn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ys(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,Cu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Cu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Lo=/[#\/\?@]/g,zo=/[#\?:]/g,Af=/[#\?]/g,Sf=/[#\?@]/g,da=/#/g;function Pi(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function In(c){c.g||(c.g=new Map,c.h=0,c.i&&Tf(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}i=Pi.prototype,i.add=function(c,y){In(this),this.i=null,c=ri(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function ki(c,y){In(c),y=ri(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Ui(c,y){return In(c),y=ri(c,y),c.g.has(y)}i.forEach=function(c,y){In(this),this.g.forEach(function(_,S){_.forEach(function(z){c.call(y,z,S,this)},this)},this)},i.na=function(){In(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let S=0;S<y.length;S++){const z=c[S];for(let K=0;K<z.length;K++)_.push(y[S])}return _},i.V=function(c){In(this);let y=[];if(typeof c=="string")Ui(this,c)&&(y=y.concat(this.g.get(ri(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},i.set=function(c,y){return In(this),this.i=null,c=ri(this,c),Ui(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Bo(c,y,_){ki(c,y),0<_.length&&(c.i=null,c.g.set(ri(c,y),q(_)),c.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var S=y[_];const K=encodeURIComponent(String(S)),ae=this.V(S);for(S=0;S<ae.length;S++){var z=K;ae[S]!==""&&(z+="="+encodeURIComponent(String(ae[S]))),c.push(z)}}return this.i=c.join("&")};function ri(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Ou(c,y){y&&!c.j&&(In(c),c.i=null,c.g.forEach(function(_,S){var z=S.toLowerCase();S!=z&&(ki(this,S),Bo(this,z,_))},c)),c.j=y}function _s(c,y){const _=new wn;if(m.Image){const S=new Image;S.onload=V(Cn,_,"TestLoadImage: loaded",!0,y,S),S.onerror=V(Cn,_,"TestLoadImage: error",!1,y,S),S.onabort=V(Cn,_,"TestLoadImage: abort",!1,y,S),S.ontimeout=V(Cn,_,"TestLoadImage: timeout",!1,y,S),m.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function Hn(c,y){const _=new wn,S=new AbortController,z=setTimeout(()=>{S.abort(),Cn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then(K=>{clearTimeout(z),K.ok?Cn(_,"TestPingServer: ok",!0,y):Cn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),Cn(_,"TestPingServer: error",!1,y)})}function Cn(c,y,_,S,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),S(_)}catch{}}function vs(){this.g=new cs}function si(c,y,_){const S=_||"";try{Uo(c,function(z,K){let ae=z;g(z)&&(ae=qn(z)),y.push(S+K+"="+encodeURIComponent(ae))})}catch(z){throw y.push(S+"type="+encodeURIComponent("_badmap")),z}}function pr(c){this.l=c.Ub||null,this.j=c.eb||!1}D(pr,Co),pr.prototype.g=function(){return new Li(this.l,this.j)},pr.prototype.i=function(c){return function(){return c}}({});function Li(c,y){ht.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(Li,ht),i=Li.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,oi(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ai(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,oi(this)),this.g&&(this.readyState=3,oi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;qo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function qo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?ai(this):oi(this),this.readyState==3&&qo(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,ai(this))},i.Qa=function(c){this.g&&(this.response=c,ai(this))},i.ga=function(){this.g&&ai(this)};function ai(c){c.readyState=4,c.l=null,c.j=null,c.v=null,oi(c)}i.setRequestHeader=function(c,y){this.u.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function oi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Li.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function jo(c){let y="";return ce(c,function(_,S){y+=S,y+=":",y+=_,y+=`\r
`}),y}function Mt(c,y,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=jo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Je(c,y,_))}function Ke(c){ht.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(Ke,ht);var ma=/^https?$/i,Es=["POST","PUT"];i=Ke.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,y,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ti.g(),this.v=this.o?Oo(this.o):Oo(ti),this.g.onreadystatechange=R(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(K){Du(this,K);return}if(c=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var z in S)_.set(z,S[z]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const K of S.keys())_.set(K,S.get(K));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(K=>K.toLowerCase()=="content-type"),z=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Es,y,void 0))||S||z||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,ae]of _)this.g.setRequestHeader(K,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ts(this),this.u=!0,this.g.send(c),this.u=!1}catch(K){Du(this,K)}};function Du(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,pa(c),li(c)}function pa(c){c.A||(c.A=!0,Ye(c,"complete"),Ye(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ye(this,"complete"),Ye(this,"abort"),li(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),li(this,!0)),Ke.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?ga(this):this.bb())},i.bb=function(){ga(this)};function ga(c){if(c.h&&typeof h<"u"&&(!c.v[1]||On(c)!=4||c.Z()!=2)){if(c.u&&On(c)==4)$t(c.Ea,0,c);else if(Ye(c,"readystatechange"),On(c)==4){c.h=!1;try{const ae=c.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var S;if(S=ae===0){var z=String(c.D).match(ms)[1]||null;!z&&m.self&&m.self.location&&(z=m.self.location.protocol.slice(0,-1)),S=!ma.test(z?z.toLowerCase():"")}_=S}if(_)Ye(c,"complete"),Ye(c,"success");else{c.m=6;try{var K=2<On(c)?c.g.statusText:""}catch{K=""}c.l=K+" ["+c.Z()+"]",pa(c)}}finally{li(c)}}}}function li(c,y){if(c.g){Ts(c);const _=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Ye(c,"ready");try{_.onreadystatechange=S}catch{}}}function Ts(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function On(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<On(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),aa(y)}};function Nu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function bf(c){const y={};c=(c.g&&2<=On(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(re(c[S]))continue;var _=x(c[S]);const z=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const K=y[z]||[];y[z]=K,K.push(_)}I(y,function(S){return S.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function As(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function ya(c){this.Aa=0,this.i=[],this.j=new wn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=As("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=As("baseRetryDelayMs",5e3,c),this.cb=As("retryDelaySeedMs",1e4,c),this.Wa=As("forwardChannelMaxRetries",2,c),this.wa=As("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new xi(c&&c.concurrentRequestLimit),this.Da=new vs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=ya.prototype,i.la=8,i.G=1,i.connect=function(c,y,_,S){at(0),this.W=c,this.H=y||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=Lu(this,null,this.W),va(this)};function Ho(c){if(Mu(c),c.G==3){var y=c.U++,_=mn(c.I);if(Je(_,"SID",c.K),Je(_,"RID",y),Je(_,"TYPE","terminate"),Ss(c,_),y=new tn(c,c.j,y),y.L=2,y.v=gs(mn(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=y.v,_=!0),_||(y.g=zu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),fs(y)}Uu(c)}function _a(c){c.g&&(bs(c),c.g.cancel(),c.g=null)}function Mu(c){_a(c),c.u&&(m.clearTimeout(c.u),c.u=null),Ea(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function va(c){if(!ua(c.h)&&!c.s){c.s=!0;var y=c.Ga;oe||M(),me||(oe(),me=!0),He.add(y,c),c.B=0}}function wf(c,y){return ca(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=vt(R(c.Ga,c,y),Ko(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const z=new tn(this,this.j,c);let K=this.o;if(this.S&&(K?(K=b(K),N(K,this.S)):K=this.S),this.m!==null||this.O||(z.H=K,K=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=xu(this,z,y),_=mn(this.I),Je(_,"RID",c),Je(_,"CVER",22),this.D&&Je(_,"X-HTTP-Session-Id",this.D),Ss(this,_),K&&(this.O?y="headers="+encodeURIComponent(String(jo(K)))+"&"+y:this.m&&Mt(_,this.m,K)),ha(this.h,z),this.Ua&&Je(_,"TYPE","init"),this.P?(Je(_,"$req",y),Je(_,"SID","null"),z.T=!0,jn(z,_,null)):jn(z,_,y),this.G=2}}else this.G==3&&(c?Fo(this,c):this.i.length==0||ua(this.h)||Fo(this))};function Fo(c,y){var _;y?_=y.l:_=c.U++;const S=mn(c.I);Je(S,"SID",c.K),Je(S,"RID",_),Je(S,"AID",c.T),Ss(c,S),c.m&&c.o&&Mt(S,c.m,c.o),_=new tn(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=xu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ha(c.h,_),jn(_,S,y)}function Ss(c,y){c.H&&ce(c.H,function(_,S){Je(y,S,_)}),c.l&&Uo({},function(_,S){Je(y,S,_)})}function xu(c,y,_){_=Math.min(c.i.length,_);var S=c.l?R(c.l.Na,c.l,c):null;e:{var z=c.i;let K=-1;for(;;){const ae=["count="+_];K==-1?0<_?(K=z[0].g,ae.push("ofs="+K)):K=0:ae.push("ofs="+K);let ze=!0;for(let Rt=0;Rt<_;Rt++){let Be=z[Rt].g;const xt=z[Rt].map;if(Be-=K,0>Be)K=Math.max(0,z[Rt].g-100),ze=!1;else try{si(xt,ae,"req"+Be+"_")}catch{S&&S(xt)}}if(ze){S=ae.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,S}function Vu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;oe||M(),me||(oe(),me=!0),He.add(y,c),c.v=0}}function Go(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=vt(R(c.Fa,c),Ko(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,Pu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=vt(R(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,at(10),_a(this),Pu(this))};function bs(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Pu(c){c.g=new tn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=mn(c.qa);Je(y,"RID","rpc"),Je(y,"SID",c.K),Je(y,"AID",c.T),Je(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Je(y,"TO",c.ja),Je(y,"TYPE","xmlhttp"),Ss(c,y),c.m&&c.o&&Mt(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=gs(mn(y)),_.m=null,_.P=!0,Mi(_,c)}i.Za=function(){this.C!=null&&(this.C=null,_a(this),Go(this),at(19))};function Ea(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function ku(c,y){var _=null;if(c.g==y){Ea(c),bs(c),c.g=null;var S=2}else if(Po(c.h,y))_=y.D,nn(c.h,y),S=1;else return;if(c.G!=0){if(y.o)if(S==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var z=c.B;S=ur(),Ye(S,new wt(S,_)),va(c)}else Vu(c);else if(z=y.s,z==3||z==0&&0<y.X||!(S==1&&wf(c,y)||S==2&&Go(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),z){case 1:zi(c,5);break;case 4:zi(c,10);break;case 3:zi(c,6);break;default:zi(c,2)}}}function Ko(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function zi(c,y){if(c.j.info("Error code "+y),y==2){var _=R(c.fb,c),S=c.Xa;const z=!S;S=new Et(S||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||ps(S,"https"),gs(S),z?_s(S.toString(),_):Hn(S.toString(),_)}else at(2);c.G=0,c.l&&c.l.sa(y),Uu(c),Mu(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),at(2)):(this.j.info("Failed to ping google.com"),at(1))};function Uu(c){if(c.G=0,c.ka=[],c.l){const y=ko(c.h);(y.length!=0||c.i.length!=0)&&(k(c.ka,y),k(c.ka,c.i),c.h.i.length=0,q(c.i),c.i.length=0),c.l.ra()}}function Lu(c,y,_){var S=_ instanceof Et?mn(_):new Et(_);if(S.g!="")y&&(S.g=y+"."+S.g),mr(S,S.s);else{var z=m.location;S=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;var K=new Et(null);S&&ps(K,S),y&&(K.g=y),z&&mr(K,z),_&&(K.l=_),S=K}return _=c.D,y=c.ya,_&&y&&Je(S,_,y),Je(S,"VER",c.la),Ss(c,S),S}function zu(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Ke(new pr({eb:_})):new Ke(c.pa),y.Ha(c.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Bu(){}i=Bu.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Ta(){}Ta.prototype.g=function(c,y){return new rn(c,y)};function rn(c,y){ht.call(this),this.g=new ya(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!re(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!re(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new ui(this)}D(rn,ht),rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){Ho(this.g)},rn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=qn(c),c=_);y.i.push(new Iu(y.Ya++,c)),y.G==3&&va(y)},rn.prototype.N=function(){this.g.l=null,delete this.j,Ho(this.g),delete this.g,rn.aa.N.call(this)};function qu(c){Di.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}D(qu,Di);function ju(){No.call(this),this.status=1}D(ju,No);function ui(c){this.g=c}D(ui,Bu),ui.prototype.ua=function(){Ye(this.g,"a")},ui.prototype.ta=function(c){Ye(this.g,new qu(c))},ui.prototype.sa=function(c){Ye(this.g,new ju)},ui.prototype.ra=function(){Ye(this.g,"b")},Ta.prototype.createWebChannel=Ta.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,OA=function(){return new Ta},CA=function(){return ur()},IA=ei,rp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},fr.NO_ERROR=0,fr.TIMEOUT=8,fr.HTTP_ERROR=6,ih=fr,Ni.COMPLETE="complete",RA=Ni,Do.EventType=Oi,Oi.OPEN="a",Oi.CLOSE="b",Oi.ERROR="c",Oi.MESSAGE="d",ht.prototype.listen=ht.prototype.K,zl=Do,Ke.prototype.listenOnce=Ke.prototype.L,Ke.prototype.getLastError=Ke.prototype.Ka,Ke.prototype.getLastErrorCode=Ke.prototype.Ba,Ke.prototype.getStatus=Ke.prototype.Z,Ke.prototype.getResponseJson=Ke.prototype.Oa,Ke.prototype.getResponseText=Ke.prototype.oa,Ke.prototype.send=Ke.prototype.ea,Ke.prototype.setWithCredentials=Ke.prototype.Ha,wA=Ke}).apply(typeof Gc<"u"?Gc:typeof self<"u"?self:typeof window<"u"?window:{});const VE="@firebase/firestore",PE="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vo="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs=new $h("@firebase/firestore");function Wa(){return Qs.logLevel}function he(i,...e){if(Qs.logLevel<=ke.DEBUG){const t=e.map(qp);Qs.debug(`Firestore (${vo}): ${i}`,...t)}}function sr(i,...e){if(Qs.logLevel<=ke.ERROR){const t=e.map(qp);Qs.error(`Firestore (${vo}): ${i}`,...t)}}function ao(i,...e){if(Qs.logLevel<=ke.WARN){const t=e.map(qp);Qs.warn(`Firestore (${vo}): ${i}`,...t)}}function qp(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(i="Unexpected state"){const e=`FIRESTORE (${vo}) INTERNAL ASSERTION FAILED: `+i;throw sr(e),new Error(e)}function $e(i,e){i||Se()}function Re(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends Zn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class AN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Wt.UNAUTHENTICATED))}shutdown(){}}class SN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class bN{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){$e(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let u=new Kr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Kr,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Kr)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?($e(typeof s.accessToken=="string"),new DA(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string"),new Wt(e)}}class wN{constructor(e,t,s){this.l=e,this.h=t,this.P=s,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class RN{constructor(e,t,s){this.l=e,this.h=t,this.P=s}getToken(){return Promise.resolve(new wN(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Wt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class kE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class IN{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,$n(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){$e(this.o===void 0);const s=u=>{u.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.R;return this.R=u.token,he("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new kE(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?($e(typeof t.token=="string"),this.R=t.token,new kE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CN(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=CN(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<t&&(s+=e.charAt(o[u]%62))}return s}}function Ne(i,e){return i<e?-1:i>e?1:0}function sp(i,e){let t=0;for(;t<i.length&&t<e.length;){const s=i.codePointAt(t),o=e.codePointAt(t);if(s!==o){if(s<128&&o<128)return Ne(s,o);{const u=NA(),h=ON(u.encode(UE(i,t)),u.encode(UE(e,t)));return h!==0?h:Ne(s,o)}}t+=s>65535?2:1}return Ne(i.length,e.length)}function UE(i,e){return i.codePointAt(e)>65535?i.substring(e,e+2):i.substring(e,e+1)}function ON(i,e){for(let t=0;t<i.length&&t<e.length;++t)if(i[t]!==e[t])return Ne(i[t],e[t]);return Ne(i.length,e.length)}function oo(i,e,t){return i.length===e.length&&i.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE=-62135596800,zE=1e6;class Dt{static now(){return Dt.fromMillis(Date.now())}static fromDate(e){return Dt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*zE);return new Dt(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new de(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new de(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<LE)throw new de(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/zE}_compareTo(e){return this.seconds===e.seconds?Ne(this.nanoseconds,e.nanoseconds):Ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-LE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new Dt(0,0))}static max(){return new we(new Dt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE="__name__";class yi{constructor(e,t,s){t===void 0?t=0:t>e.length&&Se(),s===void 0?s=e.length-t:s>e.length-t&&Se(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return yi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof yi?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const u=yi.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return Ne(e.length,t.length)}static compareSegments(e,t){const s=yi.isNumericId(e),o=yi.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?yi.extractNumericId(e).compare(yi.extractNumericId(t)):sp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Gr.fromString(e.substring(4,e.length-2))}}class st extends yi{construct(e,t,s){return new st(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new de(ie.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new st(t)}static emptyPath(){return new st([])}}const DN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ft extends yi{construct(e,t,s){return new Ft(e,t,s)}static isValidIdentifier(e){return DN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ft.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===BE}static keyField(){return new Ft([BE])}static fromServerFormat(e){const t=[];let s="",o=0;const u=()=>{if(s.length===0)throw new de(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new de(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new de(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new de(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ft(t)}static emptyPath(){return new Ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(st.fromString(e))}static fromName(e){return new _e(st.fromString(e).popFirst(5))}static empty(){return new _e(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return st.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new st(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wl=-1;function NN(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=we.fromTimestamp(s===1e9?new Dt(t+1,0):new Dt(t,s));return new Xr(o,_e.empty(),e)}function MN(i){return new Xr(i.readTime,i.key,Wl)}class Xr{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Xr(we.min(),_e.empty(),Wl)}static max(){return new Xr(we.max(),_e.empty(),Wl)}}function xN(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=_e.comparator(i.documentKey,e.documentKey),t!==0?t:Ne(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class PN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eo(i){if(i.code!==ie.FAILED_PRECONDITION||i.message!==VN)throw i;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ee((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ee?t:ee.resolve(t)}catch(t){return ee.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.reject(t)}static resolve(e){return new ee((t,s)=>{t(e)})}static reject(e){return new ee((t,s)=>{s(e)})}static waitFor(e){return new ee((t,s)=>{let o=0,u=0,h=!1;e.forEach(m=>{++o,m.next(()=>{++u,h&&u===o&&t()},p=>s(p))}),h=!0,u===o&&t()})}static or(e){let t=ee.resolve(!1);for(const s of e)t=t.next(o=>o?ee.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,u)=>{s.push(t.call(this,o,u))}),this.waitFor(s)}static mapArray(e,t){return new ee((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;t(e[g]).next(v=>{h[g]=v,++m,m===u&&s(h)},v=>o(v))}})}static doWhile(e,t){return new ee((s,o)=>{const u=()=>{e()===!0?t().next(()=>{u()},o):s()};u()})}}function kN(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function To(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.oe(s),this._e=s=>t.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Xh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jp=-1;function Wh(i){return i==null}function Eh(i){return i===0&&1/i==-1/0}function UN(i){return typeof i=="number"&&Number.isInteger(i)&&!Eh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xA="";function LN(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=qE(e)),e=zN(i.get(t),e);return qE(e)}function zN(i,e){let t=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":t+="";break;case xA:t+="";break;default:t+=u}}return t}function qE(i){return i+xA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jE(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function ea(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function VA(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,t){this.comparator=e,this.root=t||Ht.EMPTY}insert(e,t){return new ct(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ht.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ht.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Kc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Kc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Kc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Kc(this.root,e,this.comparator,!0)}}class Kc{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ht{constructor(e,t,s,o,u){this.key=e,this.value=t,this.color=s??Ht.RED,this.left=o??Ht.EMPTY,this.right=u??Ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,u){return new Ht(e??this.key,t??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,s),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ht.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Ht.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Se();const e=this.left.check();if(e!==this.right.check())throw Se();return e+(this.isRed()?0:1)}}Ht.EMPTY=null,Ht.RED=!0,Ht.BLACK=!1;Ht.EMPTY=new class{constructor(){this.size=0}get key(){throw Se()}get value(){throw Se()}get color(){throw Se()}get left(){throw Se()}get right(){throw Se()}copy(e,t,s,o,u){return this}insert(e,t,s){return new Ht(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new HE(this.data.getIterator())}getIteratorFrom(e){return new HE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Nt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Nt(this.comparator);return t.data=e,t}}class HE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.fields=e,e.sort(Ft.comparator)}static empty(){return new Qn([])}unionWith(e){let t=new Nt(Ft.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Qn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return oo(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new PA("Invalid base64 string: "+u):u}}(e);return new Gt(t)}static fromUint8Array(e){const t=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(e);return new Gt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gt.EMPTY_BYTE_STRING=new Gt("");const BN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wr(i){if($e(!!i),typeof i=="string"){let e=0;const t=BN.exec(i);if($e(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:_t(i.seconds),nanos:_t(i.nanos)}}function _t(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Jr(i){return typeof i=="string"?Gt.fromBase64String(i):Gt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kA="server_timestamp",UA="__type__",LA="__previous_value__",zA="__local_write_time__";function Hp(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[UA])===null||t===void 0?void 0:t.stringValue)===kA}function Jh(i){const e=i.mapValue.fields[LA];return Hp(e)?Jh(e):e}function Jl(i){const e=Wr(i.mapValue.fields[zA].timestampValue);return new Dt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e,t,s,o,u,h,m,p,g){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g}}const Th="(default)";class Zl{constructor(e,t){this.projectId=e,this.database=t||Th}static empty(){return new Zl("","")}get isDefaultDatabase(){return this.database===Th}isEqual(e){return e instanceof Zl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BA="__type__",jN="__max__",$c={mapValue:{}},qA="__vector__",Ah="value";function Zr(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Hp(i)?4:FN(i)?9007199254740991:HN(i)?10:11:Se()}function wi(i,e){if(i===e)return!0;const t=Zr(i);if(t!==Zr(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Jl(i).isEqual(Jl(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=Wr(o.timestampValue),m=Wr(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return Jr(o.bytesValue).isEqual(Jr(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return _t(o.geoPointValue.latitude)===_t(u.geoPointValue.latitude)&&_t(o.geoPointValue.longitude)===_t(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return _t(o.integerValue)===_t(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=_t(o.doubleValue),m=_t(u.doubleValue);return h===m?Eh(h)===Eh(m):isNaN(h)&&isNaN(m)}return!1}(i,e);case 9:return oo(i.arrayValue.values||[],e.arrayValue.values||[],wi);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(jE(h)!==jE(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!wi(h[p],m[p])))return!1;return!0}(i,e);default:return Se()}}function eu(i,e){return(i.values||[]).find(t=>wi(t,e))!==void 0}function lo(i,e){if(i===e)return 0;const t=Zr(i),s=Zr(e);if(t!==s)return Ne(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ne(i.booleanValue,e.booleanValue);case 2:return function(u,h){const m=_t(u.integerValue||u.doubleValue),p=_t(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(i,e);case 3:return FE(i.timestampValue,e.timestampValue);case 4:return FE(Jl(i),Jl(e));case 5:return sp(i.stringValue,e.stringValue);case 6:return function(u,h){const m=Jr(u),p=Jr(h);return m.compareTo(p)}(i.bytesValue,e.bytesValue);case 7:return function(u,h){const m=u.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const v=Ne(m[g],p[g]);if(v!==0)return v}return Ne(m.length,p.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,h){const m=Ne(_t(u.latitude),_t(h.latitude));return m!==0?m:Ne(_t(u.longitude),_t(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return GE(i.arrayValue,e.arrayValue);case 10:return function(u,h){var m,p,g,v;const A=u.fields||{},R=h.fields||{},V=(m=A[Ah])===null||m===void 0?void 0:m.arrayValue,D=(p=R[Ah])===null||p===void 0?void 0:p.arrayValue,q=Ne(((g=V==null?void 0:V.values)===null||g===void 0?void 0:g.length)||0,((v=D==null?void 0:D.values)===null||v===void 0?void 0:v.length)||0);return q!==0?q:GE(V,D)}(i.mapValue,e.mapValue);case 11:return function(u,h){if(u===$c.mapValue&&h===$c.mapValue)return 0;if(u===$c.mapValue)return 1;if(h===$c.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=h.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let A=0;A<p.length&&A<v.length;++A){const R=sp(p[A],v[A]);if(R!==0)return R;const V=lo(m[p[A]],g[v[A]]);if(V!==0)return V}return Ne(p.length,v.length)}(i.mapValue,e.mapValue);default:throw Se()}}function FE(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ne(i,e);const t=Wr(i),s=Wr(e),o=Ne(t.seconds,s.seconds);return o!==0?o:Ne(t.nanos,s.nanos)}function GE(i,e){const t=i.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const u=lo(t[o],s[o]);if(u)return u}return Ne(t.length,s.length)}function uo(i){return ap(i)}function ap(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(t){const s=Wr(t);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(t){return Jr(t).toBase64()}(i.bytesValue):"referenceValue"in i?function(t){return _e.fromName(t).toString()}(i.referenceValue):"geoPointValue"in i?function(t){return`geo(${t.latitude},${t.longitude})`}(i.geoPointValue):"arrayValue"in i?function(t){let s="[",o=!0;for(const u of t.values||[])o?o=!1:s+=",",s+=ap(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${ap(t.fields[h])}`;return o+"}"}(i.mapValue):Se()}function rh(i){switch(Zr(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Jh(i);return e?16+rh(e):16;case 5:return 2*i.stringValue.length;case 6:return Jr(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+rh(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return ea(s.fields,(u,h)=>{o+=u.length+rh(h)}),o}(i.mapValue);default:throw Se()}}function KE(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function op(i){return!!i&&"integerValue"in i}function Fp(i){return!!i&&"arrayValue"in i}function $E(i){return!!i&&"nullValue"in i}function QE(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function sh(i){return!!i&&"mapValue"in i}function HN(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[BA])===null||t===void 0?void 0:t.stringValue)===qA}function Hl(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return ea(i.mapValue.fields,(t,s)=>e.mapValue.fields[t]=Hl(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Hl(i.arrayValue.values[t]);return e}return Object.assign({},i)}function FN(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===jN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.value=e}static empty(){return new Un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!sh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hl(t)}setAll(e){let t=Ft.emptyPath(),s={},o=[];e.forEach((h,m)=>{if(!t.isImmediateParentOf(m)){const p=this.getFieldsMap(t);this.applyChanges(p,s,o),s={},o=[],t=m.popLast()}h?s[m.lastSegment()]=Hl(h):o.push(m.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,s,o)}delete(e){const t=this.field(e.popLast());sh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return wi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];sh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){ea(t,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new Un(Hl(this.value))}}function jA(i){const e=[];return ea(i.fields,(t,s)=>{const o=new Ft([t]);if(sh(s)){const u=jA(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)}),new Qn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e,t,s,o,u,h,m){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new Jt(e,0,we.min(),we.min(),we.min(),Un.empty(),0)}static newFoundDocument(e,t,s,o){return new Jt(e,1,t,we.min(),s,o,0)}static newNoDocument(e,t){return new Jt(e,2,t,we.min(),we.min(),Un.empty(),0)}static newUnknownDocument(e,t){return new Jt(e,3,t,we.min(),we.min(),Un.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,t){this.position=e,this.inclusive=t}}function YE(i,e,t){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],h=i.position[o];if(u.field.isKeyField()?s=_e.comparator(_e.fromName(h.referenceValue),t.key):s=lo(h,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function XE(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!wi(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,t="asc"){this.field=e,this.dir=t}}function GN(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{}class bt extends HA{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new $N(e,t,s):t==="array-contains"?new XN(e,s):t==="in"?new WN(e,s):t==="not-in"?new JN(e,s):t==="array-contains-any"?new ZN(e,s):new bt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new QN(e,s):new YN(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(lo(t,this.value)):t!==null&&Zr(this.value)===Zr(t)&&this.matchesComparison(lo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wn extends HA{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Wn(e,t)}matches(e){return FA(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function FA(i){return i.op==="and"}function GA(i){return KN(i)&&FA(i)}function KN(i){for(const e of i.filters)if(e instanceof Wn)return!1;return!0}function lp(i){if(i instanceof bt)return i.field.canonicalString()+i.op.toString()+uo(i.value);if(GA(i))return i.filters.map(e=>lp(e)).join(",");{const e=i.filters.map(t=>lp(t)).join(",");return`${i.op}(${e})`}}function KA(i,e){return i instanceof bt?function(s,o){return o instanceof bt&&s.op===o.op&&s.field.isEqual(o.field)&&wi(s.value,o.value)}(i,e):i instanceof Wn?function(s,o){return o instanceof Wn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,h,m)=>u&&KA(h,o.filters[m]),!0):!1}(i,e):void Se()}function $A(i){return i instanceof bt?function(t){return`${t.field.canonicalString()} ${t.op} ${uo(t.value)}`}(i):i instanceof Wn?function(t){return t.op.toString()+" {"+t.getFilters().map($A).join(" ,")+"}"}(i):"Filter"}class $N extends bt{constructor(e,t,s){super(e,t,s),this.key=_e.fromName(s.referenceValue)}matches(e){const t=_e.comparator(e.key,this.key);return this.matchesComparison(t)}}class QN extends bt{constructor(e,t){super(e,"in",t),this.keys=QA("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class YN extends bt{constructor(e,t){super(e,"not-in",t),this.keys=QA("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function QA(i,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>_e.fromName(s.referenceValue))}class XN extends bt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Fp(t)&&eu(t.arrayValue,this.value)}}class WN extends bt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&eu(this.value.arrayValue,t)}}class JN extends bt{constructor(e,t){super(e,"not-in",t)}matches(e){if(eu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!eu(this.value.arrayValue,t)}}class ZN extends bt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Fp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>eu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(e,t=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.le=null}}function WE(i,e=null,t=[],s=[],o=null,u=null,h=null){return new e2(i,e,t,s,o,u,h)}function Gp(i){const e=Re(i);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>lp(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Wh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>uo(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>uo(s)).join(",")),e.le=t}return e.le}function Kp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!GN(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!KA(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!XE(i.startAt,e.startAt)&&XE(i.endAt,e.endAt)}function up(i){return _e.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e,t=null,s=[],o=[],u=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function t2(i,e,t,s,o,u,h,m){return new hu(i,e,t,s,o,u,h,m)}function YA(i){return new hu(i)}function JE(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function XA(i){return i.collectionGroup!==null}function Fl(i){const e=Re(i);if(e.he===null){e.he=[];const t=new Set;for(const u of e.explicitOrderBy)e.he.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Nt(Ft.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{t.has(u.canonicalString())||u.isKeyField()||e.he.push(new bh(u,s))}),t.has(Ft.keyField().canonicalString())||e.he.push(new bh(Ft.keyField(),s))}return e.he}function _i(i){const e=Re(i);return e.Pe||(e.Pe=n2(e,Fl(i))),e.Pe}function n2(i,e){if(i.limitType==="F")return WE(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new bh(o.field,u)});const t=i.endAt?new Sh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Sh(i.startAt.position,i.startAt.inclusive):null;return WE(i.path,i.collectionGroup,e,i.filters,i.limit,t,s)}}function cp(i,e){const t=i.filters.concat([e]);return new hu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function hp(i,e,t){return new hu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function Zh(i,e){return Kp(_i(i),_i(e))&&i.limitType===e.limitType}function WA(i){return`${Gp(_i(i))}|lt:${i.limitType}`}function Ja(i){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>$A(o)).join(", ")}]`),Wh(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>uo(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>uo(o)).join(",")),`Target(${s})`}(_i(i))}; limitType=${i.limitType})`}function ef(i,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):_e.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,o){for(const u of Fl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(h,m,p){const g=YE(h,m,p);return h.inclusive?g<=0:g<0}(s.startAt,Fl(s),o)||s.endAt&&!function(h,m,p){const g=YE(h,m,p);return h.inclusive?g>=0:g>0}(s.endAt,Fl(s),o))}(i,e)}function i2(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function JA(i){return(e,t)=>{let s=!1;for(const o of Fl(i)){const u=r2(o,e,t);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function r2(i,e,t){const s=i.field.isKeyField()?_e.comparator(e.key,t.key):function(u,h,m){const p=h.data.field(u),g=m.data.field(u);return p!==null&&g!==null?lo(p,g):Se()}(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Se()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ea(this.inner,(t,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return VA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2=new ct(_e.comparator);function ar(){return s2}const ZA=new ct(_e.comparator);function Bl(...i){let e=ZA;for(const t of i)e=e.insert(t.key,t);return e}function eS(i){let e=ZA;return i.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function Hs(){return Gl()}function tS(){return Gl()}function Gl(){return new ta(i=>i.toString(),(i,e)=>i.isEqual(e))}const a2=new ct(_e.comparator),o2=new Nt(_e.comparator);function Ue(...i){let e=o2;for(const t of i)e=e.add(t);return e}const l2=new Nt(Ne);function u2(){return l2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $p(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Eh(e)?"-0":e}}function nS(i){return{integerValue:""+i}}function c2(i,e){return UN(e)?nS(e):$p(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(){this._=void 0}}function h2(i,e,t){return i instanceof wh?function(o,u){const h={fields:{[UA]:{stringValue:kA},[zA]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Hp(u)&&(u=Jh(u)),u&&(h.fields[LA]=u),{mapValue:h}}(t,e):i instanceof tu?rS(i,e):i instanceof nu?sS(i,e):function(o,u){const h=iS(o,u),m=ZE(h)+ZE(o.Ie);return op(h)&&op(o.Ie)?nS(m):$p(o.serializer,m)}(i,e)}function f2(i,e,t){return i instanceof tu?rS(i,e):i instanceof nu?sS(i,e):t}function iS(i,e){return i instanceof Rh?function(s){return op(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class wh extends tf{}class tu extends tf{constructor(e){super(),this.elements=e}}function rS(i,e){const t=aS(e);for(const s of i.elements)t.some(o=>wi(o,s))||t.push(s);return{arrayValue:{values:t}}}class nu extends tf{constructor(e){super(),this.elements=e}}function sS(i,e){let t=aS(e);for(const s of i.elements)t=t.filter(o=>!wi(o,s));return{arrayValue:{values:t}}}class Rh extends tf{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function ZE(i){return _t(i.integerValue||i.doubleValue)}function aS(i){return Fp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function d2(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof tu&&o instanceof tu||s instanceof nu&&o instanceof nu?oo(s.elements,o.elements,wi):s instanceof Rh&&o instanceof Rh?wi(s.Ie,o.Ie):s instanceof wh&&o instanceof wh}(i.transform,e.transform)}class m2{constructor(e,t){this.version=e,this.transformResults=t}}class vi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new vi}static exists(e){return new vi(void 0,e)}static updateTime(e){return new vi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ah(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class nf{}function oS(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Qp(i.key,vi.none()):new fu(i.key,i.data,vi.none());{const t=i.data,s=Un.empty();let o=new Nt(Ft.comparator);for(let u of e.fields)if(!o.has(u)){let h=t.field(u);h===null&&u.length>1&&(u=u.popLast(),h=t.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new na(i.key,s,new Qn(o.toArray()),vi.none())}}function p2(i,e,t){i instanceof fu?function(o,u,h){const m=o.value.clone(),p=tT(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(i,e,t):i instanceof na?function(o,u,h){if(!ah(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=tT(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(lS(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(i,e,t):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function Kl(i,e,t,s){return i instanceof fu?function(u,h,m,p){if(!ah(u.precondition,h))return m;const g=u.value.clone(),v=nT(u.fieldTransforms,p,h);return g.setAll(v),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(i,e,t,s):i instanceof na?function(u,h,m,p){if(!ah(u.precondition,h))return m;const g=nT(u.fieldTransforms,p,h),v=h.data;return v.setAll(lS(u)),v.setAll(g),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(A=>A.field))}(i,e,t,s):function(u,h,m){return ah(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(i,e,t)}function g2(i,e){let t=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=iS(s.transform,o||null);u!=null&&(t===null&&(t=Un.empty()),t.set(s.field,u))}return t||null}function eT(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&oo(s,o,(u,h)=>d2(u,h))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class fu extends nf{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class na extends nf{constructor(e,t,s,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function lS(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}}),e}function tT(i,e,t){const s=new Map;$e(i.length===t.length);for(let o=0;o<t.length;o++){const u=i[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,f2(h,m,t[o]))}return s}function nT(i,e,t){const s=new Map;for(const o of i){const u=o.transform,h=t.data.field(o.field);s.set(o.field,h2(u,h,e))}return s}class Qp extends nf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class y2 extends nf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&p2(u,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Kl(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Kl(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=tS();return this.mutations.forEach(o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=t.has(o.key)?null:m;const p=oS(h,m);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(we.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ue())}isEqual(e){return this.batchId===e.batchId&&oo(this.mutations,e.mutations,(t,s)=>eT(t,s))&&oo(this.baseMutations,e.baseMutations,(t,s)=>eT(t,s))}}class Yp{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){$e(e.mutations.length===s.length);let o=function(){return a2}();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new Yp(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var St,je;function T2(i){switch(i){case ie.OK:return Se();case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return Se()}}function uS(i){if(i===void 0)return sr("GRPC error has no .code"),ie.UNKNOWN;switch(i){case St.OK:return ie.OK;case St.CANCELLED:return ie.CANCELLED;case St.UNKNOWN:return ie.UNKNOWN;case St.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case St.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case St.INTERNAL:return ie.INTERNAL;case St.UNAVAILABLE:return ie.UNAVAILABLE;case St.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case St.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case St.NOT_FOUND:return ie.NOT_FOUND;case St.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case St.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case St.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case St.ABORTED:return ie.ABORTED;case St.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case St.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case St.DATA_LOSS:return ie.DATA_LOSS;default:return Se()}}(je=St||(St={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2=new Gr([4294967295,4294967295],0);function iT(i){const e=NA().encode(i),t=new bA;return t.update(e),new Uint8Array(t.digest())}function rT(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Gr([t,s],0),new Gr([o,u],0)]}class Xp{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new ql(`Invalid padding: ${t}`);if(s<0)throw new ql(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new ql(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new ql(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Gr.fromNumber(this.Ee)}Ae(e,t,s){let o=e.add(t.multiply(Gr.fromNumber(s)));return o.compare(A2)===1&&(o=new Gr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=iT(e),[s,o]=rT(t);for(let u=0;u<this.hashCount;u++){const h=this.Ae(s,o,u);if(!this.Re(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new Xp(u,o,t);return s.forEach(m=>h.insert(m)),h}insert(e){if(this.Ee===0)return;const t=iT(e),[s,o]=rT(t);for(let u=0;u<this.hashCount;u++){const h=this.Ae(s,o,u);this.Ve(h)}}Ve(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e,t,s,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,du.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new rf(we.min(),o,new ct(Ne),ar(),Ue())}}class du{constructor(e,t,s,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new du(s,t,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,t,s,o){this.me=e,this.removedTargetIds=t,this.key=s,this.fe=o}}class cS{constructor(e,t){this.targetId=e,this.ge=t}}class hS{constructor(e,t,s=Gt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class sT{constructor(){this.pe=0,this.ye=aT(),this.we=Gt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Ue(),t=Ue(),s=Ue();return this.ye.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Se()}}),new du(this.we,this.Se,e,t,s)}Me(){this.be=!1,this.ye=aT()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,$e(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class S2{constructor(e){this.ke=e,this.qe=new Map,this.Qe=ar(),this.$e=Qc(),this.Ue=Qc(),this.Ke=new ct(Ne)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const s=this.He(t);switch(e.state){case 0:this.Je(t)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(t);break;case 3:this.Je(t)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),s.Ce(e.resumeToken));break;default:Se()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((s,o)=>{this.Je(o)&&t(o)})}Ze(e){const t=e.targetId,s=e.ge.count,o=this.Xe(t);if(o){const u=o.target;if(up(u))if(s===0){const h=new _e(u.path);this.ze(t,h,Jt.newNoDocument(h,we.min()))}else $e(s===1);else{const h=this.et(t);if(h!==s){const m=this.tt(e),p=m?this.nt(m,e,h):1;if(p!==0){this.Ye(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,g)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=t;let h,m;try{h=Jr(s).toUint8Array()}catch(p){if(p instanceof PA)return ao("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Xp(h,o,u)}catch(p){return ao(p instanceof ql?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ee===0?null:m}nt(e,t,s){return t.ge.count===s-this.st(e,t.targetId)?0:2}st(e,t){const s=this.ke.getRemoteKeysForTarget(t);let o=0;return s.forEach(u=>{const h=this.ke.it(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.ze(t,u,null),o++)}),o}ot(e){const t=new Map;this.qe.forEach((u,h)=>{const m=this.Xe(h);if(m){if(u.current&&up(m.target)){const p=new _e(m.target.path);this._t(p).has(h)||this.ut(h,p)||this.ze(h,p,Jt.newNoDocument(p,e))}u.ve&&(t.set(h,u.Fe()),u.Me())}});let s=Ue();this.Ue.forEach((u,h)=>{let m=!0;h.forEachWhile(p=>{const g=this.Xe(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.Qe.forEach((u,h)=>h.setReadTime(e));const o=new rf(e,t,this.Ke,this.Qe,s);return this.Qe=ar(),this.$e=Qc(),this.Ue=Qc(),this.Ke=new ct(Ne),o}Ge(e,t){if(!this.Je(e))return;const s=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,s),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}ze(e,t,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,t)?o.xe(t,1):o.Oe(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),this.Ue=this.Ue.insert(t,this.ct(t).add(e)),s&&(this.Qe=this.Qe.insert(t,s))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new sT,this.qe.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new Nt(Ne),this.Ue=this.Ue.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Nt(Ne),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||he("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new sT),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function Qc(){return new ct(_e.comparator)}function aT(){return new ct(_e.comparator)}const b2={asc:"ASCENDING",desc:"DESCENDING"},w2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},R2={and:"AND",or:"OR"};class I2{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function fp(i,e){return i.useProto3Json||Wh(e)?e:{value:e}}function Ih(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fS(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function C2(i,e){return Ih(i,e.toTimestamp())}function Ei(i){return $e(!!i),we.fromTimestamp(function(t){const s=Wr(t);return new Dt(s.seconds,s.nanos)}(i))}function Wp(i,e){return dp(i,e).canonicalString()}function dp(i,e){const t=function(o){return new st(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?t:t.child(e)}function dS(i){const e=st.fromString(i);return $e(_S(e)),e}function mp(i,e){return Wp(i.databaseId,e.path)}function km(i,e){const t=dS(e);if(t.get(1)!==i.databaseId.projectId)throw new de(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new de(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new _e(pS(t))}function mS(i,e){return Wp(i.databaseId,e)}function O2(i){const e=dS(i);return e.length===4?st.emptyPath():pS(e)}function pp(i){return new st(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function pS(i){return $e(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function oT(i,e,t){return{name:mp(i,e),fields:t.value.mapValue.fields}}function D2(i,e){let t;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Se()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,v){return g.useProto3Json?($e(v===void 0||typeof v=="string"),Gt.fromBase64String(v||"")):($e(v===void 0||v instanceof Buffer||v instanceof Uint8Array),Gt.fromUint8Array(v||new Uint8Array))}(i,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(g){const v=g.code===void 0?ie.UNKNOWN:uS(g.code);return new de(v,g.message||"")}(h);t=new hS(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=km(i,s.document.name),u=Ei(s.document.updateTime),h=s.document.createTime?Ei(s.document.createTime):we.min(),m=new Un({mapValue:{fields:s.document.fields}}),p=Jt.newFoundDocument(o,u,h,m),g=s.targetIds||[],v=s.removedTargetIds||[];t=new oh(g,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=km(i,s.document),u=s.readTime?Ei(s.readTime):we.min(),h=Jt.newNoDocument(o,u),m=s.removedTargetIds||[];t=new oh([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=km(i,s.document),u=s.removedTargetIds||[];t=new oh([],u,o,null)}else{if(!("filter"in e))return Se();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new E2(o,u),m=s.targetId;t=new cS(m,h)}}return t}function N2(i,e){let t;if(e instanceof fu)t={update:oT(i,e.key,e.value)};else if(e instanceof Qp)t={delete:mp(i,e.key)};else if(e instanceof na)t={update:oT(i,e.key,e.data),updateMask:B2(e.fieldMask)};else{if(!(e instanceof y2))return Se();t={verify:mp(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(u,h){const m=h.transform;if(m instanceof wh)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof tu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof nu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Rh)return{fieldPath:h.field.canonicalString(),increment:m.Ie};throw Se()}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:C2(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Se()}(i,e.precondition)),t}function M2(i,e){return i&&i.length>0?($e(e!==void 0),i.map(t=>function(o,u){let h=o.updateTime?Ei(o.updateTime):Ei(u);return h.isEqual(we.min())&&(h=Ei(u)),new m2(h,o.transformResults||[])}(t,e))):[]}function x2(i,e){return{documents:[mS(i,e.path)]}}function V2(i,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=mS(i,o);const u=function(g){if(g.length!==0)return yS(Wn.create(g,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const h=function(g){if(g.length!==0)return g.map(v=>function(R){return{field:Za(R.field),direction:U2(R.dir)}}(v))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const m=fp(i,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ht:t,parent:o}}function P2(i){let e=O2(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){$e(s===1);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let u=[];t.where&&(u=function(A){const R=gS(A);return R instanceof Wn&&GA(R)?R.getFilters():[R]}(t.where));let h=[];t.orderBy&&(h=function(A){return A.map(R=>function(D){return new bh(eo(D.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction))}(R))}(t.orderBy));let m=null;t.limit&&(m=function(A){let R;return R=typeof A=="object"?A.value:A,Wh(R)?null:R}(t.limit));let p=null;t.startAt&&(p=function(A){const R=!!A.before,V=A.values||[];return new Sh(V,R)}(t.startAt));let g=null;return t.endAt&&(g=function(A){const R=!A.before,V=A.values||[];return new Sh(V,R)}(t.endAt)),t2(e,o,h,u,m,"F",p,g)}function k2(i,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function gS(i){return i.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=eo(t.unaryFilter.field);return bt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=eo(t.unaryFilter.field);return bt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=eo(t.unaryFilter.field);return bt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=eo(t.unaryFilter.field);return bt.create(h,"!=",{nullValue:"NULL_VALUE"});default:return Se()}}(i):i.fieldFilter!==void 0?function(t){return bt.create(eo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Se()}}(t.fieldFilter.op),t.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(t){return Wn.create(t.compositeFilter.filters.map(s=>gS(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Se()}}(t.compositeFilter.op))}(i):Se()}function U2(i){return b2[i]}function L2(i){return w2[i]}function z2(i){return R2[i]}function Za(i){return{fieldPath:i.canonicalString()}}function eo(i){return Ft.fromServerFormat(i.fieldPath)}function yS(i){return i instanceof bt?function(t){if(t.op==="=="){if(QE(t.value))return{unaryFilter:{field:Za(t.field),op:"IS_NAN"}};if($E(t.value))return{unaryFilter:{field:Za(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(QE(t.value))return{unaryFilter:{field:Za(t.field),op:"IS_NOT_NAN"}};if($E(t.value))return{unaryFilter:{field:Za(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Za(t.field),op:L2(t.op),value:t.value}}}(i):i instanceof Wn?function(t){const s=t.getFilters().map(o=>yS(o));return s.length===1?s[0]:{compositeFilter:{op:z2(t.op),filters:s}}}(i):Se()}function B2(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function _S(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e,t,s,o,u=we.min(),h=we.min(),m=Gt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new jr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new jr(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(e){this.Tt=e}}function j2(i){const e=P2({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?hp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(){this.Tn=new F2}addToCollectionParentIndex(e,t){return this.Tn.add(t),ee.resolve()}getCollectionParents(e,t){return ee.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return ee.resolve()}deleteFieldIndex(e,t){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,t){return ee.resolve()}getDocumentsMatchingTarget(e,t){return ee.resolve(null)}getIndexType(e,t){return ee.resolve(0)}getFieldIndexes(e,t){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,t){return ee.resolve(Xr.min())}getMinOffsetFromCollectionGroup(e,t){return ee.resolve(Xr.min())}updateCollectionGroup(e,t,s){return ee.resolve()}updateIndexEntries(e,t){return ee.resolve()}}class F2{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Nt(st.comparator),u=!o.has(s);return this.index[t]=o.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Nt(st.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},vS=41943040;class un{static withCacheSize(e){return new un(e,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un(vS,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new co(0)}static Kn(){return new co(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT="LruGarbageCollector",G2=1048576;function cT([i,e],[t,s]){const o=Ne(i,t);return o===0?Ne(e,s):o}class K2{constructor(e){this.Hn=e,this.buffer=new Nt(cT),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();cT(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class $2{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){he(uT,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){To(t)?he(uT,"Ignoring IndexedDB error during garbage collection: ",t):await Eo(t)}await this.er(3e5)})}}class Q2{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return ee.resolve(Xh.ae);const s=new K2(t);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.tr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(lT)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),lT):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let s,o,u,h,m,p,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,h=Date.now(),this.nthSequenceNumber(e,o))).next(A=>(s=A,m=Date.now(),this.removeTargets(e,s,t))).next(A=>(u=A,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(A=>(g=Date.now(),Wa()<=ke.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-v}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${A} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:A})))}}function Y2(i,e){return new Q2(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(){this.changes=new ta(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Jt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?ee.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&Kl(s.mutation,o,Qn.empty(),Dt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Ue()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Ue()){const o=Hs();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(u=>{let h=Bl();return u.forEach((m,p)=>{h=h.insert(m,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const s=Hs();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Ue()))}populateOverlays(e,t,s){const o=[];return s.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((h,m)=>{t.set(h,m)})})}computeViews(e,t,s,o){let u=ar();const h=Gl(),m=function(){return Gl()}();return t.forEach((p,g)=>{const v=s.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof na)?u=u.insert(g.key,g):v!==void 0?(h.set(g.key,v.mutation.getFieldMask()),Kl(v.mutation,g,v.mutation.getFieldMask(),Dt.now())):h.set(g.key,Qn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,v)=>h.set(g,v)),t.forEach((g,v)=>{var A;return m.set(g,new W2(v,(A=h.get(g))!==null&&A!==void 0?A:null))}),m))}recalculateAndSaveOverlays(e,t){const s=Gl();let o=new ct((h,m)=>h-m),u=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const m of h)m.keys().forEach(p=>{const g=t.get(p);if(g===null)return;let v=s.get(p)||Qn.empty();v=m.applyToLocalView(g,v),s.set(p,v);const A=(o.get(m.batchId)||Ue()).add(p);o=o.insert(m.batchId,A)})}).next(()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,v=p.value,A=tS();v.forEach(R=>{if(!u.has(R)){const V=oS(t.get(R),s.get(R));V!==null&&A.set(R,V),u=u.add(R)}}),h.push(this.documentOverlayCache.saveOverlays(e,g,A))}return ee.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(h){return _e.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):XA(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-u.size):ee.resolve(Hs());let m=Wl,p=u;return h.next(g=>ee.forEach(g,(v,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),u.get(v)?ee.resolve():this.remoteDocumentCache.getEntry(e,v).next(R=>{p=p.insert(v,R)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,Ue())).next(v=>({batchId:m,changes:eS(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new _e(t)).next(s=>{let o=Bl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const u=t.collectionGroup;let h=Bl();return this.indexManager.getCollectionParents(e,u).next(m=>ee.forEach(m,p=>{const g=function(A,R){return new hu(R,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(t,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(v=>{v.forEach((A,R)=>{h=h.insert(A,R)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,o))).next(h=>{u.forEach((p,g)=>{const v=g.getKey();h.get(v)===null&&(h=h.insert(v,Jt.newInvalidDocument(v)))});let m=Bl();return h.forEach((p,g)=>{const v=u.get(p);v!==void 0&&Kl(v.mutation,g,Qn.empty(),Dt.now()),ef(t,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return ee.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Ei(o.createTime)}}(t)),ee.resolve()}getNamedQuery(e,t){return ee.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(o){return{name:o.name,query:j2(o.bundledQuery),readTime:Ei(o.readTime)}}(t)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{constructor(){this.overlays=new ct(_e.comparator),this.Rr=new Map}getOverlay(e,t){return ee.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Hs();return ee.forEach(t,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,u)=>{this.Et(e,t,u)}),ee.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),ee.resolve()}getOverlaysForCollection(e,t,s){const o=Hs(),u=t.length+1,h=new _e(t.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let u=new ct((g,v)=>g-v);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let v=u.get(g.largestBatchId);v===null&&(v=Hs(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const m=Hs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,v)=>m.set(g,v)),!(m.size()>=o)););return ee.resolve(m)}Et(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new v2(t,s));let u=this.Rr.get(t);u===void 0&&(u=Ue(),this.Rr.set(t,u)),this.Rr.set(t,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(){this.sessionToken=Gt.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(){this.Vr=new Nt(Ut.mr),this.gr=new Nt(Ut.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const s=new Ut(e,t);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.wr(new Ut(e,t))}Sr(e,t){e.forEach(s=>this.removeReference(s,t))}br(e){const t=new _e(new st([])),s=new Ut(t,e),o=new Ut(t,e+1),u=[];return this.gr.forEachInRange([s,o],h=>{this.wr(h),u.push(h.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new _e(new st([])),s=new Ut(t,e),o=new Ut(t,e+1);let u=Ue();return this.gr.forEachInRange([s,o],h=>{u=u.add(h.key)}),u}containsKey(e){const t=new Ut(e,0),s=this.Vr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Ut{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return _e.comparator(e.key,t.key)||Ne(e.Cr,t.Cr)}static pr(e,t){return Ne(e.Cr,t.Cr)||_e.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Nt(Ut.mr)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new _2(u,t,s,o);this.mutationQueue.push(h);for(const m of o)this.Mr=this.Mr.add(new Ut(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ee.resolve(h)}lookupMutationBatch(e,t){return ee.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Nr(s),u=o<0?0:o;return ee.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?jp:this.Fr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Ut(t,0),o=new Ut(t,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,o],h=>{const m=this.Or(h.Cr);u.push(m)}),ee.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Nt(Ne);return t.forEach(o=>{const u=new Ut(o,0),h=new Ut(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,h],m=>{s=s.add(m.Cr)})}),ee.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let u=s;_e.isDocumentKey(u)||(u=u.child(""));const h=new Ut(new _e(u),0);let m=new Nt(Ne);return this.Mr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Cr)),!0)},h),ee.resolve(this.Br(m))}Br(e){const t=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){$e(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return ee.forEach(t.mutations,o=>{const u=new Ut(o.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,t){const s=new Ut(t,0),o=this.Mr.firstAfterOrEqual(s);return ee.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(e){this.kr=e,this.docs=function(){return new ct(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),u=o?o.size:0,h=this.kr(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return ee.resolve(s?s.document.mutableCopy():Jt.newInvalidDocument(t))}getEntries(e,t){let s=ar();return t.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Jt.newInvalidDocument(o))}),ee.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let u=ar();const h=t.path,m=new _e(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||xN(MN(v),s)<=0||(o.has(v.key)||ef(t,v))&&(u=u.insert(v.key,v.mutableCopy()))}return ee.resolve(u)}getAllFromCollectionGroup(e,t,s,o){Se()}qr(e,t){return ee.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new rM(this)}getSize(e){return ee.resolve(this.size)}}class rM extends X2{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),ee.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(e){this.persistence=e,this.Qr=new ta(t=>Gp(t),Kp),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Jp,this.targetCount=0,this.Kr=co.Un()}forEachTarget(e,t){return this.Qr.forEach((s,o)=>t(o)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.$r&&(this.$r=t),ee.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Kr=new co(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,ee.resolve()}updateTargetData(e,t){return this.zn(t),ee.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Ur.br(t.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,t,s){let o=0;const u=[];return this.Qr.forEach((h,m)=>{m.sequenceNumber<=t&&s.get(m.targetId)===null&&(this.Qr.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),ee.waitFor(u).next(()=>o)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,t){const s=this.Qr.get(t)||null;return ee.resolve(s)}addMatchingKeys(e,t,s){return this.Ur.yr(t,s),ee.resolve()}removeMatchingKeys(e,t,s){this.Ur.Sr(t,s);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),ee.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.Ur.br(t),ee.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Ur.vr(t);return ee.resolve(s)}containsKey(e,t){return ee.resolve(this.Ur.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new Xh(0),this.zr=!1,this.zr=!0,this.jr=new tM,this.referenceDelegate=e(this),this.Hr=new sM(this),this.indexManager=new H2,this.remoteDocumentCache=function(o){return new iM(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new q2(t),this.Yr=new Z2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new eM,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Wr[e.toKey()];return s||(s=new nM(t,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,s){he("MemoryPersistence","Starting transaction:",e);const o=new aM(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,t){return ee.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,t)))}}class aM extends PN{constructor(e){super(),this.currentSequenceNumber=e}}class Zp{constructor(e){this.persistence=e,this.ti=new Jp,this.ni=null}static ri(e){return new Zp(e)}get ii(){if(this.ni)return this.ni;throw Se()}addReference(e,t,s){return this.ti.addReference(s,t),this.ii.delete(s.toString()),ee.resolve()}removeReference(e,t,s){return this.ti.removeReference(s,t),this.ii.add(s.toString()),ee.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),ee.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.ii,s=>{const o=_e.fromPath(s);return this.si(e,o).next(u=>{u||t.removeEntry(o,we.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(s=>{s?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return ee.or([()=>ee.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Ch{constructor(e,t){this.persistence=e,this.oi=new ta(s=>LN(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=Y2(this,t)}static ri(e,t){return new Ch(e,t)}Zr(){}Xr(e){return ee.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}sr(e){let t=0;return this.rr(e,s=>{t++}).next(()=>t)}rr(e,t){return ee.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(u=>u?ee.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,h=>this.ar(e,h,t).next(m=>{m||(s++,u.removeEntry(h,we.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),ee.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.oi.set(s,e.currentSequenceNumber),ee.resolve()}removeReference(e,t,s){return this.oi.set(s,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),ee.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=rh(e.data.value)),t}ar(e,t,s){return ee.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.oi.get(t);return ee.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Hi=s,this.Ji=o}static Yi(e,t){let s=Ue(),o=Ue();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new eg(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return PC()?8:kN(en())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,s,o){const u={result:null};return this.rs(e,t).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ss(e,t,o,s).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new oM;return this._s(e,t,h).next(m=>{if(u.result=m,this.Xi)return this.us(e,t,h,m.size)})}).next(()=>u.result)}us(e,t,s,o){return s.documentReadCount<this.es?(Wa()<=ke.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",Ja(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ee.resolve()):(Wa()<=ke.DEBUG&&he("QueryEngine","Query:",Ja(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(Wa()<=ke.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",Ja(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_i(t))):ee.resolve())}rs(e,t){if(JE(t))return ee.resolve(null);let s=_i(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=hp(t,null,"F"),s=_i(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const h=Ue(...u);return this.ns.getDocuments(e,h).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.cs(t,m);return this.ls(t,g,h,p.readTime)?this.rs(e,hp(t,null,"F")):this.hs(e,g,t,p)}))})))}ss(e,t,s,o){return JE(t)||o.isEqual(we.min())?ee.resolve(null):this.ns.getDocuments(e,s).next(u=>{const h=this.cs(t,u);return this.ls(t,h,s,o)?ee.resolve(null):(Wa()<=ke.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ja(t)),this.hs(e,h,t,NN(o,Wl)).next(m=>m))})}cs(e,t){let s=new Nt(JA(e));return t.forEach((o,u)=>{ef(e,u)&&(s=s.add(u))}),s}ls(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,t,s){return Wa()<=ke.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",Ja(t)),this.ns.getDocumentsMatchingQuery(e,t,Xr.min(),s)}hs(e,t,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(u=>(t.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tg="LocalStore",uM=3e8;class cM{constructor(e,t,s,o){this.persistence=e,this.Ps=t,this.serializer=o,this.Ts=new ct(Ne),this.Is=new ta(u=>Gp(u),Kp),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new J2(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function hM(i,e,t,s){return new cM(i,e,t,s)}async function TS(i,e){const t=Re(i);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,t.As(e),t.mutationQueue.getAllMutationBatches(s))).next(u=>{const h=[],m=[];let p=Ue();for(const g of o){h.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of u){m.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return t.localDocuments.getDocuments(s,p).next(g=>({Rs:g,removedBatchIds:h,addedBatchIds:m}))})})}function fM(i,e){const t=Re(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=t.ds.newChangeBuffer({trackRemovals:!0});return function(m,p,g,v){const A=g.batch,R=A.keys();let V=ee.resolve();return R.forEach(D=>{V=V.next(()=>v.getEntry(p,D)).next(q=>{const k=g.docVersions.get(D);$e(k!==null),q.version.compareTo(k)<0&&(A.applyToRemoteDocument(q,g),q.isValidDocument()&&(q.setReadTime(g.commitVersion),v.addEntry(q)))})}),V.next(()=>m.mutationQueue.removeMutationBatch(p,A))}(t,s,e,u).next(()=>u.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Ue();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function AS(i){const e=Re(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function dM(i,e){const t=Re(i),s=e.snapshotVersion;let o=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=t.ds.newChangeBuffer({trackRemovals:!0});o=t.Ts;const m=[];e.targetChanges.forEach((v,A)=>{const R=o.get(A);if(!R)return;m.push(t.Hr.removeMatchingKeys(u,v.removedDocuments,A).next(()=>t.Hr.addMatchingKeys(u,v.addedDocuments,A)));let V=R.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(A)!==null?V=V.withResumeToken(Gt.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):v.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(v.resumeToken,s)),o=o.insert(A,V),function(q,k,G){return q.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=uM?!0:G.addedDocuments.size+G.modifiedDocuments.size+G.removedDocuments.size>0}(R,V,v)&&m.push(t.Hr.updateTargetData(u,V))});let p=ar(),g=Ue();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,v))}),m.push(mM(u,h,e.documentUpdates).next(v=>{p=v.Vs,g=v.fs})),!s.isEqual(we.min())){const v=t.Hr.getLastRemoteSnapshotVersion(u).next(A=>t.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(v)}return ee.waitFor(m).next(()=>h.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(t.Ts=o,u))}function mM(i,e,t){let s=Ue(),o=Ue();return t.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let h=ar();return t.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(we.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):he(tg,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{Vs:h,fs:o}})}function pM(i,e){const t=Re(i);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=jp),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function gM(i,e){const t=Re(i);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.Hr.getTargetData(s,e).next(u=>u?(o=u,ee.resolve(o)):t.Hr.allocateTargetId(s).next(h=>(o=new jr(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(s.targetId,s),t.Is.set(e,s.targetId)),s})}async function gp(i,e,t){const s=Re(i),o=s.Ts.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!To(h))throw h;he(tg,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function hT(i,e,t){const s=Re(i);let o=we.min(),u=Ue();return s.persistence.runTransaction("Execute query","readwrite",h=>function(p,g,v){const A=Re(p),R=A.Is.get(v);return R!==void 0?ee.resolve(A.Ts.get(R)):A.Hr.getTargetData(g,v)}(s,h,_i(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(h,m.targetId).next(p=>{u=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(h,e,t?o:we.min(),t?u:Ue())).next(m=>(yM(s,i2(e),m),{documents:m,gs:u})))}function yM(i,e,t){let s=i.Es.get(e)||we.min();t.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.Es.set(e,s)}class fT{constructor(){this.activeTargetIds=u2()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _M{constructor(){this.ho=new fT,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,s){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new fT,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT="ConnectivityMonitor";class mT{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){he(dT,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){he(dT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yc=null;function yp(){return Yc===null?Yc=function(){return 268435456+Math.round(2147483648*Math.random())}():Yc++,"0x"+Yc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Um="RestConnection",EM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class TM{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===Th?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(e,t,s,o,u){const h=yp(),m=this.bo(e,t.toUriEncodedString());he(Um,`Sending RPC '${e}' ${h}:`,m,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,u),this.vo(e,m,p,s).then(g=>(he(Um,`Received RPC '${e}' ${h}: `,g),g),g=>{throw ao(Um,`RPC '${e}' ${h} failed with error: `,g,"url: ",m,"request:",s),g})}Co(e,t,s,o,u,h){return this.So(e,t,s,o,u)}Do(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+vo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}bo(e,t){const s=EM[e];return`${this.po}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt="WebChannelConnection";class SM extends TM{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,s,o){const u=yp();return new Promise((h,m)=>{const p=new wA;p.setWithCredentials(!0),p.listenOnce(RA.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case ih.NO_ERROR:const v=p.getResponseJson();he(Xt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(v)),h(v);break;case ih.TIMEOUT:he(Xt,`RPC '${e}' ${u} timed out`),m(new de(ie.DEADLINE_EXCEEDED,"Request time out"));break;case ih.HTTP_ERROR:const A=p.getStatus();if(he(Xt,`RPC '${e}' ${u} failed with status:`,A,"response text:",p.getResponseText()),A>0){let R=p.getResponseJson();Array.isArray(R)&&(R=R[0]);const V=R==null?void 0:R.error;if(V&&V.status&&V.message){const D=function(k){const G=k.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(G)>=0?G:ie.UNKNOWN}(V.status);m(new de(D,V.message))}else m(new de(ie.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new de(ie.UNAVAILABLE,"Connection failed."));break;default:Se()}}finally{he(Xt,`RPC '${e}' ${u} completed.`)}});const g=JSON.stringify(o);he(Xt,`RPC '${e}' ${u} sending request:`,o),p.send(t,"POST",g,s,15)})}Wo(e,t,s){const o=yp(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=OA(),m=CA(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const v=u.join("");he(Xt,`Creating RPC '${e}' stream ${o}: ${v}`,p);const A=h.createWebChannel(v,p);let R=!1,V=!1;const D=new AM({Fo:k=>{V?he(Xt,`Not sending because RPC '${e}' stream ${o} is closed:`,k):(R||(he(Xt,`Opening RPC '${e}' stream ${o} transport.`),A.open(),R=!0),he(Xt,`RPC '${e}' stream ${o} sending:`,k),A.send(k))},Mo:()=>A.close()}),q=(k,G,re)=>{k.listen(G,Y=>{try{re(Y)}catch(ue){setTimeout(()=>{throw ue},0)}})};return q(A,zl.EventType.OPEN,()=>{V||(he(Xt,`RPC '${e}' stream ${o} transport opened.`),D.Qo())}),q(A,zl.EventType.CLOSE,()=>{V||(V=!0,he(Xt,`RPC '${e}' stream ${o} transport closed`),D.Uo())}),q(A,zl.EventType.ERROR,k=>{V||(V=!0,ao(Xt,`RPC '${e}' stream ${o} transport errored:`,k),D.Uo(new de(ie.UNAVAILABLE,"The operation could not be completed")))}),q(A,zl.EventType.MESSAGE,k=>{var G;if(!V){const re=k.data[0];$e(!!re);const Y=re,ue=(Y==null?void 0:Y.error)||((G=Y[0])===null||G===void 0?void 0:G.error);if(ue){he(Xt,`RPC '${e}' stream ${o} received error:`,ue);const te=ue.status;let ce=function(w){const N=St[w];if(N!==void 0)return uS(N)}(te),I=ue.message;ce===void 0&&(ce=ie.INTERNAL,I="Unknown error status: "+te+" with message "+ue.message),V=!0,D.Uo(new de(ce,I)),A.close()}else he(Xt,`RPC '${e}' stream ${o} received:`,re),D.Ko(re)}}),q(m,IA.STAT_EVENT,k=>{k.stat===rp.PROXY?he(Xt,`RPC '${e}' stream ${o} detected buffering proxy`):k.stat===rp.NOPROXY&&he(Xt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{D.$o()},0),D}}function Lm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sf(i){return new I2(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e,t,s=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=t,this.Go=s,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,t-s);o>0&&he("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT="PersistentStream";class bS{constructor(e,t,s,o,u,h,m,p){this.Ti=e,this.n_=s,this.r_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new SS(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===ie.RESOURCE_EXHAUSTED?(sr(t.toString()),sr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===t&&this.V_(s,o)},s=>{e(()=>{const o=new de(ie.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,t){const s=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return he(pT,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(he(pT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class bM extends bS{constructor(e,t,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=D2(this.serializer,e),s=function(u){if(!("targetChange"in u))return we.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?we.min():h.readTime?Ei(h.readTime):we.min()}(e);return this.listener.p_(t,s)}y_(e){const t={};t.database=pp(this.serializer),t.addTarget=function(u,h){let m;const p=h.target;if(m=up(p)?{documents:x2(u,p)}:{query:V2(u,p).ht},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=fS(u,h.resumeToken);const g=fp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(we.min())>0){m.readTime=Ih(u,h.snapshotVersion.toTimestamp());const g=fp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const s=k2(this.serializer,e);s&&(t.labels=s),this.I_(t)}w_(e){const t={};t.database=pp(this.serializer),t.removeTarget=e,this.I_(t)}}class wM extends bS{constructor(e,t,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return $e(!!e.streamToken),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){$e(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=M2(e.writeResults,e.commitTime),s=Ei(e.commitTime);return this.listener.v_(s,t)}C_(){const e={};e.database=pp(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>N2(this.serializer,s))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{}class IM extends RM{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new de(ie.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.So(e,dp(t,s),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new de(ie.UNKNOWN,u.toString())})}Co(e,t,s,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Co(e,dp(t,s),o,h,m,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new de(ie.UNKNOWN,h.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class CM{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(sr(t),this.N_=!1):he("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ys="RemoteStore";class OM{constructor(e,t,s,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(h=>{s.enqueueAndForget(async()=>{ia(this)&&(he(Ys,"Restarting streams for network reachability change."),await async function(p){const g=Re(p);g.W_.add(4),await mu(g),g.j_.set("Unknown"),g.W_.delete(4),await af(g)}(this))})}),this.j_=new CM(s,o)}}async function af(i){if(ia(i))for(const e of i.G_)await e(!0)}async function mu(i){for(const e of i.G_)await e(!1)}function wS(i,e){const t=Re(i);t.K_.has(e.targetId)||(t.K_.set(e.targetId,e),sg(t)?rg(t):Ao(t).c_()&&ig(t,e))}function ng(i,e){const t=Re(i),s=Ao(t);t.K_.delete(e),s.c_()&&RS(t,e),t.K_.size===0&&(s.c_()?s.P_():ia(t)&&t.j_.set("Unknown"))}function ig(i,e){if(i.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ao(i).y_(e)}function RS(i,e){i.H_.Ne(e),Ao(i).w_(e)}function rg(i){i.H_=new S2({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>i.K_.get(e)||null,it:()=>i.datastore.serializer.databaseId}),Ao(i).start(),i.j_.B_()}function sg(i){return ia(i)&&!Ao(i).u_()&&i.K_.size>0}function ia(i){return Re(i).W_.size===0}function IS(i){i.H_=void 0}async function DM(i){i.j_.set("Online")}async function NM(i){i.K_.forEach((e,t)=>{ig(i,e)})}async function MM(i,e){IS(i),sg(i)?(i.j_.q_(e),rg(i)):i.j_.set("Unknown")}async function xM(i,e,t){if(i.j_.set("Online"),e instanceof hS&&e.state===2&&e.cause)try{await async function(o,u){const h=u.cause;for(const m of u.targetIds)o.K_.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.K_.delete(m),o.H_.removeTarget(m))}(i,e)}catch(s){he(Ys,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Oh(i,s)}else if(e instanceof oh?i.H_.We(e):e instanceof cS?i.H_.Ze(e):i.H_.je(e),!t.isEqual(we.min()))try{const s=await AS(i.localStore);t.compareTo(s)>=0&&await function(u,h){const m=u.H_.ot(h);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=u.K_.get(g);v&&u.K_.set(g,v.withResumeToken(p.resumeToken,h))}}),m.targetMismatches.forEach((p,g)=>{const v=u.K_.get(p);if(!v)return;u.K_.set(p,v.withResumeToken(Gt.EMPTY_BYTE_STRING,v.snapshotVersion)),RS(u,p);const A=new jr(v.target,p,g,v.sequenceNumber);ig(u,A)}),u.remoteSyncer.applyRemoteEvent(m)}(i,t)}catch(s){he(Ys,"Failed to raise snapshot:",s),await Oh(i,s)}}async function Oh(i,e,t){if(!To(e))throw e;i.W_.add(1),await mu(i),i.j_.set("Offline"),t||(t=()=>AS(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{he(Ys,"Retrying IndexedDB access"),await t(),i.W_.delete(1),await af(i)})}function CS(i,e){return e().catch(t=>Oh(i,t,e))}async function of(i){const e=Re(i),t=es(e);let s=e.U_.length>0?e.U_[e.U_.length-1].batchId:jp;for(;VM(e);)try{const o=await pM(e.localStore,s);if(o===null){e.U_.length===0&&t.P_();break}s=o.batchId,PM(e,o)}catch(o){await Oh(e,o)}OS(e)&&DS(e)}function VM(i){return ia(i)&&i.U_.length<10}function PM(i,e){i.U_.push(e);const t=es(i);t.c_()&&t.S_&&t.b_(e.mutations)}function OS(i){return ia(i)&&!es(i).u_()&&i.U_.length>0}function DS(i){es(i).start()}async function kM(i){es(i).C_()}async function UM(i){const e=es(i);for(const t of i.U_)e.b_(t.mutations)}async function LM(i,e,t){const s=i.U_.shift(),o=Yp.from(s,e,t);await CS(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await of(i)}async function zM(i,e){e&&es(i).S_&&await async function(s,o){if(function(h){return T2(h)&&h!==ie.ABORTED}(o.code)){const u=s.U_.shift();es(s).h_(),await CS(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await of(s)}}(i,e),OS(i)&&DS(i)}async function gT(i,e){const t=Re(i);t.asyncQueue.verifyOperationInProgress(),he(Ys,"RemoteStore received new credentials");const s=ia(t);t.W_.add(3),await mu(t),s&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await af(t)}async function BM(i,e){const t=Re(i);e?(t.W_.delete(2),await af(t)):e||(t.W_.add(2),await mu(t),t.j_.set("Unknown"))}function Ao(i){return i.J_||(i.J_=function(t,s,o){const u=Re(t);return u.M_(),new bM(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{xo:DM.bind(null,i),No:NM.bind(null,i),Lo:MM.bind(null,i),p_:xM.bind(null,i)}),i.G_.push(async e=>{e?(i.J_.h_(),sg(i)?rg(i):i.j_.set("Unknown")):(await i.J_.stop(),IS(i))})),i.J_}function es(i){return i.Y_||(i.Y_=function(t,s,o){const u=Re(t);return u.M_(),new wM(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{xo:()=>Promise.resolve(),No:kM.bind(null,i),Lo:zM.bind(null,i),D_:UM.bind(null,i),v_:LM.bind(null,i)}),i.G_.push(async e=>{e?(i.Y_.h_(),await of(i)):(await i.Y_.stop(),i.U_.length>0&&(he(Ys,`Stopping write stream with ${i.U_.length} pending writes`),i.U_=[]))})),i.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e,t,s,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Kr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,u){const h=Date.now()+s,m=new ag(e,t,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function og(i,e){if(sr("AsyncQueue",`${e}: ${i}`),To(i))return new de(ie.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{static emptySet(e){return new no(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||_e.comparator(t.key,s.key):(t,s)=>_e.comparator(t.key,s.key),this.keyedMap=Bl(),this.sortedSet=new ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof no)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new no;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(){this.Z_=new ct(_e.comparator)}track(e){const t=e.doc.key,s=this.Z_.get(t);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(t):e.type===1&&s.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Se():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,s)=>{e.push(s)}),e}}class ho{constructor(e,t,s,o,u,h,m,p,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,o,u){const h=[];return t.forEach(m=>{h.push({type:0,doc:m})}),new ho(e,t,no.emptySet(t),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class jM{constructor(){this.queries=_T(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,s){const o=Re(t),u=o.queries;o.queries=_T(),u.forEach((h,m)=>{for(const p of m.ta)p.onError(s)})})(this,new de(ie.ABORTED,"Firestore shutting down"))}}function _T(){return new ta(i=>WA(i),Zh)}async function HM(i,e){const t=Re(i);let s=3;const o=e.query;let u=t.queries.get(o);u?!u.na()&&e.ra()&&(s=2):(u=new qM,s=e.ra()?0:1);try{switch(s){case 0:u.ea=await t.onListen(o,!0);break;case 1:u.ea=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const m=og(h,`Initialization of query '${Ja(e.query)}' failed`);return void e.onError(m)}t.queries.set(o,u),u.ta.push(e),e.sa(t.onlineState),u.ea&&e.oa(u.ea)&&lg(t)}async function FM(i,e){const t=Re(i),s=e.query;let o=3;const u=t.queries.get(s);if(u){const h=u.ta.indexOf(e);h>=0&&(u.ta.splice(h,1),u.ta.length===0?o=e.ra()?0:1:!u.na()&&e.ra()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function GM(i,e){const t=Re(i);let s=!1;for(const o of e){const u=o.query,h=t.queries.get(u);if(h){for(const m of h.ta)m.oa(o)&&(s=!0);h.ea=o}}s&&lg(t)}function KM(i,e,t){const s=Re(i),o=s.queries.get(e);if(o)for(const u of o.ta)u.onError(t);s.queries.delete(e)}function lg(i){i.ia.forEach(e=>{e.next()})}var _p,vT;(vT=_p||(_p={}))._a="default",vT.Cache="cache";class $M{constructor(e,t,s){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new ho(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const s=t!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=ho.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==_p.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e){this.key=e}}class MS{constructor(e){this.key=e}}class QM{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ue(),this.mutatedKeys=Ue(),this.ya=JA(e),this.wa=new no(this.ya)}get Sa(){return this.fa}ba(e,t){const s=t?t.Da:new yT,o=t?t.wa:this.wa;let u=t?t.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,A)=>{const R=o.get(v),V=ef(this.query,A)?A:null,D=!!R&&this.mutatedKeys.has(R.key),q=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let k=!1;R&&V?R.data.isEqual(V.data)?D!==q&&(s.track({type:3,doc:V}),k=!0):this.va(R,V)||(s.track({type:2,doc:V}),k=!0,(p&&this.ya(V,p)>0||g&&this.ya(V,g)<0)&&(m=!0)):!R&&V?(s.track({type:0,doc:V}),k=!0):R&&!V&&(s.track({type:1,doc:R}),k=!0,(p||g)&&(m=!0)),k&&(V?(h=h.add(V),u=q?u.add(v):u.delete(v)):(h=h.delete(v),u=u.delete(v)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const v=this.query.limitType==="F"?h.last():h.first();h=h.delete(v.key),u=u.delete(v.key),s.track({type:1,doc:v})}return{wa:h,Da:s,ls:m,mutatedKeys:u}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const h=e.Da.X_();h.sort((v,A)=>function(V,D){const q=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se()}};return q(V)-q(D)}(v.type,A.type)||this.ya(v.doc,A.doc)),this.Ca(s),o=o!=null&&o;const m=t&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,g=p!==this.ga;return this.ga=p,h.length!==0||g?{snapshot:new ho(this.query,e.wa,u,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new yT,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ue(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const t=[];return e.forEach(s=>{this.pa.has(s)||t.push(new MS(s))}),this.pa.forEach(s=>{e.has(s)||t.push(new NS(s))}),t}Oa(e){this.fa=e.gs,this.pa=Ue();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return ho.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const ug="SyncEngine";class YM{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class XM{constructor(e){this.key=e,this.Ba=!1}}class WM{constructor(e,t,s,o,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.La={},this.ka=new ta(m=>WA(m),Zh),this.qa=new Map,this.Qa=new Set,this.$a=new ct(_e.comparator),this.Ua=new Map,this.Ka=new Jp,this.Wa={},this.Ga=new Map,this.za=co.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function JM(i,e,t=!0){const s=LS(i);let o;const u=s.ka.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await xS(s,e,t,!0),o}async function ZM(i,e){const t=LS(i);await xS(t,e,!0,!1)}async function xS(i,e,t,s){const o=await gM(i.localStore,_i(e)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,t);let m;return s&&(m=await ex(i,e,u,h==="current",o.resumeToken)),i.isPrimaryClient&&t&&wS(i.remoteStore,o),m}async function ex(i,e,t,s,o){i.Ha=(A,R,V)=>async function(q,k,G,re){let Y=k.view.ba(G);Y.ls&&(Y=await hT(q.localStore,k.query,!1).then(({documents:I})=>k.view.ba(I,Y)));const ue=re&&re.targetChanges.get(k.targetId),te=re&&re.targetMismatches.get(k.targetId)!=null,ce=k.view.applyChanges(Y,q.isPrimaryClient,ue,te);return TT(q,k.targetId,ce.Ma),ce.snapshot}(i,A,R,V);const u=await hT(i.localStore,e,!0),h=new QM(e,u.gs),m=h.ba(u.documents),p=du.createSynthesizedTargetChangeForCurrentChange(t,s&&i.onlineState!=="Offline",o),g=h.applyChanges(m,i.isPrimaryClient,p);TT(i,t,g.Ma);const v=new YM(e,t,h);return i.ka.set(e,v),i.qa.has(t)?i.qa.get(t).push(e):i.qa.set(t,[e]),g.snapshot}async function tx(i,e,t){const s=Re(i),o=s.ka.get(e),u=s.qa.get(o.targetId);if(u.length>1)return s.qa.set(o.targetId,u.filter(h=>!Zh(h,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await gp(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&ng(s.remoteStore,o.targetId),vp(s,o.targetId)}).catch(Eo)):(vp(s,o.targetId),await gp(s.localStore,o.targetId,!0))}async function nx(i,e){const t=Re(i),s=t.ka.get(e),o=t.qa.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),ng(t.remoteStore,s.targetId))}async function ix(i,e,t){const s=cx(i);try{const o=await function(h,m){const p=Re(h),g=Dt.now(),v=m.reduce((V,D)=>V.add(D.key),Ue());let A,R;return p.persistence.runTransaction("Locally write mutations","readwrite",V=>{let D=ar(),q=Ue();return p.ds.getEntries(V,v).next(k=>{D=k,D.forEach((G,re)=>{re.isValidDocument()||(q=q.add(G))})}).next(()=>p.localDocuments.getOverlayedDocuments(V,D)).next(k=>{A=k;const G=[];for(const re of m){const Y=g2(re,A.get(re.key).overlayedDocument);Y!=null&&G.push(new na(re.key,Y,jA(Y.value.mapValue),vi.exists(!0)))}return p.mutationQueue.addMutationBatch(V,g,G,m)}).next(k=>{R=k;const G=k.applyToLocalDocumentSet(A,q);return p.documentOverlayCache.saveOverlays(V,k.batchId,G)})}).then(()=>({batchId:R.batchId,changes:eS(A)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,m,p){let g=h.Wa[h.currentUser.toKey()];g||(g=new ct(Ne)),g=g.insert(m,p),h.Wa[h.currentUser.toKey()]=g}(s,o.batchId,t),await pu(s,o.changes),await of(s.remoteStore)}catch(o){const u=og(o,"Failed to persist write");t.reject(u)}}async function VS(i,e){const t=Re(i);try{const s=await dM(t.localStore,e);e.targetChanges.forEach((o,u)=>{const h=t.Ua.get(u);h&&($e(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.Ba=!0:o.modifiedDocuments.size>0?$e(h.Ba):o.removedDocuments.size>0&&($e(h.Ba),h.Ba=!1))}),await pu(t,s,e)}catch(s){await Eo(s)}}function ET(i,e,t){const s=Re(i);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.ka.forEach((u,h)=>{const m=h.view.sa(e);m.snapshot&&o.push(m.snapshot)}),function(h,m){const p=Re(h);p.onlineState=m;let g=!1;p.queries.forEach((v,A)=>{for(const R of A.ta)R.sa(m)&&(g=!0)}),g&&lg(p)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function rx(i,e,t){const s=Re(i);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Ua.get(e),u=o&&o.key;if(u){let h=new ct(_e.comparator);h=h.insert(u,Jt.newNoDocument(u,we.min()));const m=Ue().add(u),p=new rf(we.min(),new Map,new ct(Ne),h,m);await VS(s,p),s.$a=s.$a.remove(u),s.Ua.delete(e),cg(s)}else await gp(s.localStore,e,!1).then(()=>vp(s,e,t)).catch(Eo)}async function sx(i,e){const t=Re(i),s=e.batch.batchId;try{const o=await fM(t.localStore,e);kS(t,s,null),PS(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await pu(t,o)}catch(o){await Eo(o)}}async function ax(i,e,t){const s=Re(i);try{const o=await function(h,m){const p=Re(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return p.mutationQueue.lookupMutationBatch(g,m).next(A=>($e(A!==null),v=A.keys(),p.mutationQueue.removeMutationBatch(g,A))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v)).next(()=>p.localDocuments.getDocuments(g,v))})}(s.localStore,e);kS(s,e,t),PS(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await pu(s,o)}catch(o){await Eo(o)}}function PS(i,e){(i.Ga.get(e)||[]).forEach(t=>{t.resolve()}),i.Ga.delete(e)}function kS(i,e,t){const s=Re(i);let o=s.Wa[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function vp(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.qa.get(e))i.ka.delete(s),t&&i.La.Ja(s,t);i.qa.delete(e),i.isPrimaryClient&&i.Ka.br(e).forEach(s=>{i.Ka.containsKey(s)||US(i,s)})}function US(i,e){i.Qa.delete(e.path.canonicalString());const t=i.$a.get(e);t!==null&&(ng(i.remoteStore,t),i.$a=i.$a.remove(e),i.Ua.delete(t),cg(i))}function TT(i,e,t){for(const s of t)s instanceof NS?(i.Ka.addReference(s.key,e),ox(i,s)):s instanceof MS?(he(ug,"Document no longer in limbo: "+s.key),i.Ka.removeReference(s.key,e),i.Ka.containsKey(s.key)||US(i,s.key)):Se()}function ox(i,e){const t=e.key,s=t.path.canonicalString();i.$a.get(t)||i.Qa.has(s)||(he(ug,"New document in limbo: "+t),i.Qa.add(s),cg(i))}function cg(i){for(;i.Qa.size>0&&i.$a.size<i.maxConcurrentLimboResolutions;){const e=i.Qa.values().next().value;i.Qa.delete(e);const t=new _e(st.fromString(e)),s=i.za.next();i.Ua.set(s,new XM(t)),i.$a=i.$a.insert(t,s),wS(i.remoteStore,new jr(_i(YA(t.path)),s,"TargetPurposeLimboResolution",Xh.ae))}}async function pu(i,e,t){const s=Re(i),o=[],u=[],h=[];s.ka.isEmpty()||(s.ka.forEach((m,p)=>{h.push(s.Ha(p,e,t).then(g=>{var v;if((g||t)&&s.isPrimaryClient){const A=g?!g.fromCache:(v=t==null?void 0:t.targetChanges.get(p.targetId))===null||v===void 0?void 0:v.current;s.sharedClientState.updateQueryState(p.targetId,A?"current":"not-current")}if(g){o.push(g);const A=eg.Yi(p.targetId,g);u.push(A)}}))}),await Promise.all(h),s.La.p_(o),await async function(p,g){const v=Re(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>ee.forEach(g,R=>ee.forEach(R.Hi,V=>v.persistence.referenceDelegate.addReference(A,R.targetId,V)).next(()=>ee.forEach(R.Ji,V=>v.persistence.referenceDelegate.removeReference(A,R.targetId,V)))))}catch(A){if(!To(A))throw A;he(tg,"Failed to update sequence numbers: "+A)}for(const A of g){const R=A.targetId;if(!A.fromCache){const V=v.Ts.get(R),D=V.snapshotVersion,q=V.withLastLimboFreeSnapshotVersion(D);v.Ts=v.Ts.insert(R,q)}}}(s.localStore,u))}async function lx(i,e){const t=Re(i);if(!t.currentUser.isEqual(e)){he(ug,"User change. New user:",e.toKey());const s=await TS(t.localStore,e);t.currentUser=e,function(u,h){u.Ga.forEach(m=>{m.forEach(p=>{p.reject(new de(ie.CANCELLED,h))})}),u.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await pu(t,s.Rs)}}function ux(i,e){const t=Re(i),s=t.Ua.get(e);if(s&&s.Ba)return Ue().add(s.key);{let o=Ue();const u=t.qa.get(e);if(!u)return o;for(const h of u){const m=t.ka.get(h);o=o.unionWith(m.view.Sa)}return o}}function LS(i){const e=Re(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=VS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ux.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=rx.bind(null,e),e.La.p_=GM.bind(null,e.eventManager),e.La.Ja=KM.bind(null,e.eventManager),e}function cx(i){const e=Re(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=sx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ax.bind(null,e),e}class Dh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=sf(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return hM(this.persistence,new lM,e.initialUser,this.serializer)}Xa(e){return new ES(Zp.ri,this.serializer)}Za(e){return new _M}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Dh.provider={build:()=>new Dh};class hx extends Dh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){$e(this.persistence.referenceDelegate instanceof Ch);const s=this.persistence.referenceDelegate.garbageCollector;return new $2(s,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?un.withCacheSize(this.cacheSizeBytes):un.DEFAULT;return new ES(s=>Ch.ri(s,t),this.serializer)}}class Ep{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>ET(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=lx.bind(null,this.syncEngine),await BM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new jM}()}createDatastore(e){const t=sf(e.databaseInfo.databaseId),s=function(u){return new SM(u)}(e.databaseInfo);return function(u,h,m,p){return new IM(u,h,m,p)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,u,h,m){return new OM(s,o,u,h,m)}(this.localStore,this.datastore,e.asyncQueue,t=>ET(this.syncEngine,t,0),function(){return mT.D()?new mT:new vM}())}createSyncEngine(e,t){return function(o,u,h,m,p,g,v){const A=new WM(o,u,h,m,p,g);return v&&(A.ja=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const u=Re(o);he(Ys,"RemoteStore shutting down."),u.W_.add(5),await mu(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Ep.provider={build:()=>new Ep};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):sr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts="FirestoreClient";class dx{constructor(e,t,s,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=Wt.UNAUTHENTICATED,this.clientId=MA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async h=>{he(ts,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(he(ts,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Kr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=og(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function zm(i,e){i.asyncQueue.verifyOperationInProgress(),he(ts,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await TS(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function AT(i,e){i.asyncQueue.verifyOperationInProgress();const t=await mx(i);he(ts,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener(s=>gT(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>gT(e.remoteStore,o)),i._onlineComponents=e}async function mx(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){he(ts,"Using user provided OfflineComponentProvider");try{await zm(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===ie.FAILED_PRECONDITION||o.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;ao("Error using user provided cache. Falling back to memory cache: "+t),await zm(i,new Dh)}}else he(ts,"Using default OfflineComponentProvider"),await zm(i,new hx(void 0));return i._offlineComponents}async function zS(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(he(ts,"Using user provided OnlineComponentProvider"),await AT(i,i._uninitializedComponentsProvider._online)):(he(ts,"Using default OnlineComponentProvider"),await AT(i,new Ep))),i._onlineComponents}function px(i){return zS(i).then(e=>e.syncEngine)}async function gx(i){const e=await zS(i),t=e.eventManager;return t.onListen=JM.bind(null,e.syncEngine),t.onUnlisten=tx.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=ZM.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=nx.bind(null,e.syncEngine),t}function yx(i,e,t={}){const s=new Kr;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,m,p,g){const v=new fx({next:R=>{v.su(),h.enqueueAndForget(()=>FM(u,A)),R.fromCache&&p.source==="server"?g.reject(new de(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(R)},error:R=>g.reject(R)}),A=new $M(m,v,{includeMetadataChanges:!0,Ta:!0});return HM(u,A)}(await gx(i),i.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BS(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qS(i,e,t){if(!t)throw new de(ie.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function _x(i,e,t,s){if(e===!0&&s===!0)throw new de(ie.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function bT(i){if(!_e.isDocumentKey(i))throw new de(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function wT(i){if(_e.isDocumentKey(i))throw new de(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function lf(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Se()}function iu(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new de(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=lf(i);throw new de(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jS="firestore.googleapis.com",RT=!0;class IT{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new de(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=jS,this.ssl=RT}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:RT;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=vS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<G2)throw new de(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_x("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=BS((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new de(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new de(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new de(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class uf{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new IT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new IT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new AN;switch(s.type){case"firstParty":return new RN(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new de(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=ST.get(t);s&&(he("ComponentProvider","Removing Datastore"),ST.delete(t),s.terminate())}(this),Promise.resolve()}}function vx(i,e,t,s={}){var o;const u=(i=iu(i,uf))._getSettings(),h=Object.assign(Object.assign({},u),{emulatorOptions:i._getEmulatorOptions()}),m=`${e}:${t}`;u.host!==jS&&u.host!==m&&ao("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:m,ssl:!1,emulatorOptions:s});if(!Yr(p,h)&&(i._setSettings(p),s.mockUserToken)){let g,v;if(typeof s.mockUserToken=="string")g=s.mockUserToken,v=Wt.MOCK_USER;else{g=OC(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new de(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Wt(A)}i._authCredentials=new SN(new DA(g,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new So(this.firestore,e,this._query)}}class zn{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $r(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zn(this.firestore,e,this._key)}}class $r extends So{constructor(e,t,s){super(e,t,YA(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zn(this.firestore,null,new _e(e))}withConverter(e){return new $r(this.firestore,e,this._path)}}function Ll(i,e,...t){if(i=fn(i),qS("collection","path",e),i instanceof uf){const s=st.fromString(e,...t);return wT(s),new $r(i,null,s)}{if(!(i instanceof zn||i instanceof $r))throw new de(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(st.fromString(e,...t));return wT(s),new $r(i.firestore,null,s)}}function HS(i,e,...t){if(i=fn(i),arguments.length===1&&(e=MA.newId()),qS("doc","path",e),i instanceof uf){const s=st.fromString(e,...t);return bT(s),new zn(i,null,new _e(s))}{if(!(i instanceof zn||i instanceof $r))throw new de(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(st.fromString(e,...t));return bT(s),new zn(i.firestore,i instanceof $r?i.converter:null,new _e(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT="AsyncQueue";class OT{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new SS(this,"async_queue_retry"),this.Su=()=>{const s=Lm();s&&he(CT,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const t=Lm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Lm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Kr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!To(e))throw e;he(CT,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(h){let m=h.message||"";return h.stack&&(m=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),m}(s);throw sr("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=t,t}enqueueAfterDelay(e,t,s){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const o=ag.createAndSchedule(this,e,t,s,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&Se()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class cf extends uf{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new OT,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new OT(e),this._firestoreClient=void 0,await e}}}function Ex(i,e){const t=typeof i=="object"?i:Pp(),s=typeof i=="string"?i:Th,o=Zs(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=IC("firestore");u&&vx(o,...u)}return o}function FS(i){if(i._terminated)throw new de(ie.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||Tx(i),i._firestoreClient}function Tx(i){var e,t,s;const o=i._freezeSettings(),u=function(m,p,g,v){return new qN(m,p,g,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,BS(v.experimentalLongPollingOptions),v.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new dx(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fo(Gt.fromBase64String(e))}catch(t){throw new de(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new fo(Gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new de(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new de(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new de(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ne(this._lat,e._lat)||Ne(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ax=/^__.*__$/;class Sx{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new na(e,this.data,this.fieldMask,t,this.fieldTransforms):new fu(e,this.data,t,this.fieldTransforms)}}function KS(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se()}}class mg{constructor(e,t,s,o,u,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new mg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Uu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Nh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(KS(this.Lu)&&Ax.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class bx{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||sf(e)}ju(e,t,s,o=!1){return new mg({Lu:e,methodName:t,zu:s,path:Ft.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $S(i){const e=i._freezeSettings(),t=sf(i._databaseId);return new bx(i._databaseId,!!e.ignoreUndefinedProperties,t)}function wx(i,e,t,s,o,u={}){const h=i.ju(u.merge||u.mergeFields?2:0,e,t,o);XS("Data must be an object, but it was:",h,s);const m=QS(s,h);let p,g;if(u.merge)p=new Qn(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const v=[];for(const A of u.mergeFields){const R=Ix(e,A,t);if(!h.contains(R))throw new de(ie.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);Ox(v,R)||v.push(R)}p=new Qn(v),g=h.fieldTransforms.filter(A=>p.covers(A.field))}else p=null,g=h.fieldTransforms;return new Sx(new Un(m),p,g)}function Rx(i,e,t,s=!1){return pg(t,i.ju(s?4:3,e))}function pg(i,e){if(YS(i=fn(i)))return XS("Unsupported field value:",e,i),QS(i,e);if(i instanceof GS)return function(s,o){if(!KS(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const u=[];let h=0;for(const m of s){let p=pg(m,o.Ku(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}}(i,e)}return function(s,o){if((s=fn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return c2(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Dt.fromDate(s);return{timestampValue:Ih(o.serializer,u)}}if(s instanceof Dt){const u=new Dt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Ih(o.serializer,u)}}if(s instanceof fg)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof fo)return{bytesValue:fS(o.serializer,s._byteString)};if(s instanceof zn){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Wu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Wp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof dg)return function(h,m){return{mapValue:{fields:{[BA]:{stringValue:qA},[Ah]:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw m.Wu("VectorValues must only contain numeric values.");return $p(m.serializer,g)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${lf(s)}`)}(i,e)}function QS(i,e){const t={};return VA(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ea(i,(s,o)=>{const u=pg(o,e.qu(s));u!=null&&(t[s]=u)}),{mapValue:{fields:t}}}function YS(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Dt||i instanceof fg||i instanceof fo||i instanceof zn||i instanceof GS||i instanceof dg)}function XS(i,e,t){if(!YS(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const s=lf(t);throw s==="an object"?e.Wu(i+" a custom object"):e.Wu(i+" "+s)}}function Ix(i,e,t){if((e=fn(e))instanceof hg)return e._internalPath;if(typeof e=="string")return WS(i,e);throw Nh("Field path arguments must be of type string or ",i,!1,void 0,t)}const Cx=new RegExp("[~\\*/\\[\\]]");function WS(i,e,t){if(e.search(Cx)>=0)throw Nh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new hg(...e.split("."))._internalPath}catch{throw Nh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Nh(i,e,t,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new de(ie.INVALID_ARGUMENT,m+i+p)}function Ox(i,e){return i.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(e,t,s,o,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new zn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Dx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(gg("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Dx extends JS{data(){return super.data()}}function gg(i,e){return typeof e=="string"?WS(i,e):e instanceof hg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nx(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new de(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yg{}class Mx extends yg{}function DT(i,e,...t){let s=[];e instanceof yg&&s.push(e),s=s.concat(t),function(u){const h=u.filter(p=>p instanceof _g).length,m=u.filter(p=>p instanceof hf).length;if(h>1||h>0&&m>0)throw new de(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)i=o._apply(i);return i}class hf extends Mx{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new hf(e,t,s)}_apply(e){const t=this._parse(e);return ZS(e._query,t),new So(e.firestore,e.converter,cp(e._query,t))}_parse(e){const t=$S(e.firestore);return function(u,h,m,p,g,v,A){let R;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new de(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){MT(A,v);const D=[];for(const q of A)D.push(NT(p,u,q));R={arrayValue:{values:D}}}else R=NT(p,u,A)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||MT(A,v),R=Rx(m,h,A,v==="in"||v==="not-in");return bt.create(g,v,R)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function xx(i,e,t){const s=e,o=gg("where",i);return hf._create(o,s,t)}class _g extends yg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new _g(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:Wn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,u){let h=o;const m=u.getFlattenedFilters();for(const p of m)ZS(h,p),h=cp(h,p)}(e._query,t),new So(e.firestore,e.converter,cp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function NT(i,e,t){if(typeof(t=fn(t))=="string"){if(t==="")throw new de(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!XA(e)&&t.indexOf("/")!==-1)throw new de(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(st.fromString(t));if(!_e.isDocumentKey(s))throw new de(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return KE(i,new _e(s))}if(t instanceof zn)return KE(i,t._key);throw new de(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${lf(t)}.`)}function MT(i,e){if(!Array.isArray(i)||i.length===0)throw new de(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ZS(i,e){const t=function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new de(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class Vx{convertValue(e,t="none"){switch(Zr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Jr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Se()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return ea(e,(o,u)=>{s[o]=this.convertValue(u,t)}),s}convertVectorValue(e){var t,s,o;const u=(o=(s=(t=e.fields)===null||t===void 0?void 0:t[Ah].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>_t(h.doubleValue));return new dg(u)}convertGeoPoint(e){return new fg(_t(e.latitude),_t(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Jh(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Jl(e));default:return null}}convertTimestamp(e){const t=Wr(e);return new Dt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=st.fromString(e);$e(_S(s));const o=new Zl(s.get(1),s.get(3)),u=new _e(s.popFirst(5));return o.isEqual(t)||sr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Px(i,e,t){let s;return s=i?i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class kx extends JS{constructor(e,t,s,o,u,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new lh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(gg("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class lh extends kx{data(e={}){return super.data(e)}}class Ux{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Xc(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new lh(this._firestore,this._userDataWriter,s.key,s,new Xc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new de(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(m=>{const p=new lh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Xc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new lh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Xc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),v=h.indexOf(m.doc.key)),{type:Lx(m.type),doc:p,oldIndex:g,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Lx(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se()}}class zx extends Vx{constructor(e){super(),this.firestore=e}convertBytes(e){return new fo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new zn(this.firestore,null,t)}}function Bm(i){i=iu(i,So);const e=iu(i.firestore,cf),t=FS(e),s=new zx(e);return Nx(i._query),yx(t,i._query).then(o=>new Ux(e,s,i,o))}function Bx(i){return eb(iu(i.firestore,cf),[new Qp(i._key,vi.none())])}function xT(i,e){const t=iu(i.firestore,cf),s=HS(i),o=Px(i.converter,e);return eb(t,[wx($S(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,vi.exists(!1))]).then(()=>s)}function eb(i,e){return function(s,o){const u=new Kr;return s.asyncQueue.enqueueAndForget(async()=>ix(await px(s),o,u)),u.promise}(FS(i),e)}(function(e,t=!0){(function(o){vo=o})(_o),bi(new Xn("firestore",(s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new cf(new bN(s.getProvider("auth-internal")),new IN(h,s.getProvider("app-check-internal")),function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new de(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zl(g.options.projectId,v)}(h,o),h);return u=Object.assign({useFetchStreams:t},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Ln(VE,PE,e),Ln(VE,PE,"esm2017")})();function vg(i,e){var t={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(t[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(t[s[o]]=i[s[o]]);return t}function tb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const qx=tb,nb=new Js("auth","Firebase",tb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mh=new $h("@firebase/auth");function jx(i,...e){Mh.logLevel<=ke.WARN&&Mh.warn(`Auth (${_o}): ${i}`,...e)}function uh(i,...e){Mh.logLevel<=ke.ERROR&&Mh.error(`Auth (${_o}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function or(i,...e){throw Eg(i,...e)}function Ti(i,...e){return Eg(i,...e)}function ib(i,e,t){const s=Object.assign(Object.assign({},qx()),{[e]:t});return new Js("auth","Firebase",s).create(e,{appName:i.name})}function Qr(i){return ib(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Eg(i,...e){if(typeof i!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(t,...s)}return nb.create(i,...e)}function be(i,e,...t){if(!i)throw Eg(e,...t)}function er(i){const e="INTERNAL ASSERTION FAILED: "+i;throw uh(e),new Error(e)}function lr(i,e){i||er(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tp(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function Hx(){return VT()==="http:"||VT()==="https:"}function VT(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Hx()||$0()||"connection"in navigator)?navigator.onLine:!0}function Gx(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e,t){this.shortDelay=e,this.longDelay=t,lr(t>e,"Short delay should be less than long delay!"),this.isMobile=DC()||xC()}get(){return Fx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tg(i,e){lr(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;er("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;er("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;er("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $x=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Qx=new gu(3e4,6e4);function ff(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function bo(i,e,t,s,o={}){return sb(i,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=cu(Object.assign({key:i.config.apiKey},h)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g=Object.assign({method:e,headers:p},u);return MC()||(g.referrerPolicy="no-referrer"),rb.fetch()(await ob(i,i.config.apiHost,t,m),g)})}async function sb(i,e,t){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},Kx),e);try{const o=new Yx(i),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw Wc(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wc(i,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw Wc(i,"email-already-in-use",h);if(p==="USER_DISABLED")throw Wc(i,"user-disabled",h);const v=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw ib(i,v,g);or(i,v)}}catch(o){if(o instanceof Zn)throw o;or(i,"network-request-failed",{message:String(o)})}}async function ab(i,e,t,s,o={}){const u=await bo(i,e,t,s,o);return"mfaPendingCredential"in u&&or(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function ob(i,e,t,s){const o=`${e}${t}?${s}`,u=i,h=u.config.emulator?Tg(i.config,o):`${i.config.apiScheme}://${o}`;return $x.includes(t)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}class Yx{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(Ti(this.auth,"network-request-failed")),Qx.get())})}}function Wc(i,e,t){const s={appName:i.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=Ti(i,e,s);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xx(i,e){return bo(i,"POST","/v1/accounts:delete",e)}async function xh(i,e){return bo(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $l(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Wx(i,e=!1){const t=fn(i),s=await t.getIdToken(e),o=Ag(s);be(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:$l(qm(o.auth_time)),issuedAtTime:$l(qm(o.iat)),expirationTime:$l(qm(o.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function qm(i){return Number(i)*1e3}function Ag(i){const[e,t,s]=i.split(".");if(e===void 0||t===void 0||s===void 0)return uh("JWT malformed, contained fewer than 3 sections"),null;try{const o=H0(t);return o?JSON.parse(o):(uh("Failed to decode base64 JWT payload"),null)}catch(o){return uh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function PT(i){const e=Ag(i);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ru(i,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Zn&&Jx(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function Jx({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=$l(this.lastLoginAt),this.creationTime=$l(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vh(i){var e;const t=i.auth,s=await i.getIdToken(),o=await ru(i,xh(t,{idToken:s}));be(o==null?void 0:o.users.length,t,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const h=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?lb(u.providerUserInfo):[],m=tV(i.providerData,h),p=i.isAnonymous,g=!(i.email&&u.passwordHash)&&!(m!=null&&m.length),v=p?g:!1,A={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Ap(u.createdAt,u.lastLoginAt),isAnonymous:v};Object.assign(i,A)}async function eV(i){const e=fn(i);await Vh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function tV(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function lb(i){return i.map(e=>{var{providerId:t}=e,s=vg(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nV(i,e){const t=await sb(i,{},async()=>{const s=cu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,h=await ob(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",rb.fetch()(h,{method:"POST",headers:m,body:s})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function iV(i,e){return bo(i,"POST","/v2/accounts:revokeToken",ff(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):PT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){be(e.length!==0,"internal-error");const t=PT(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:u}=await nV(e,t);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:u}=t,h=new io;return s&&(be(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(be(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(be(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new io,this.toJSON())}_performRefresh(){return er("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ur(i,e){be(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Yn{constructor(e){var{uid:t,auth:s,stsTokenManager:o}=e,u=vg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Zx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Ap(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const t=await ru(this,this.stsTokenManager.getToken(this.auth,e));return be(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Wx(this,e)}reload(){return eV(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Yn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Vh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($n(this.auth.app))return Promise.reject(Qr(this.auth));const e=await this.getIdToken();return await ru(this,Xx(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,o,u,h,m,p,g,v;const A=(s=t.displayName)!==null&&s!==void 0?s:void 0,R=(o=t.email)!==null&&o!==void 0?o:void 0,V=(u=t.phoneNumber)!==null&&u!==void 0?u:void 0,D=(h=t.photoURL)!==null&&h!==void 0?h:void 0,q=(m=t.tenantId)!==null&&m!==void 0?m:void 0,k=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,G=(g=t.createdAt)!==null&&g!==void 0?g:void 0,re=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:Y,emailVerified:ue,isAnonymous:te,providerData:ce,stsTokenManager:I}=t;be(Y&&I,e,"internal-error");const b=io.fromJSON(this.name,I);be(typeof Y=="string",e,"internal-error"),Ur(A,e.name),Ur(R,e.name),be(typeof ue=="boolean",e,"internal-error"),be(typeof te=="boolean",e,"internal-error"),Ur(V,e.name),Ur(D,e.name),Ur(q,e.name),Ur(k,e.name),Ur(G,e.name),Ur(re,e.name);const w=new Yn({uid:Y,auth:e,email:R,emailVerified:ue,displayName:A,isAnonymous:te,photoURL:D,phoneNumber:V,tenantId:q,stsTokenManager:b,createdAt:G,lastLoginAt:re});return ce&&Array.isArray(ce)&&(w.providerData=ce.map(N=>Object.assign({},N))),k&&(w._redirectEventId=k),w}static async _fromIdTokenResponse(e,t,s=!1){const o=new io;o.updateFromServerResponse(t);const u=new Yn({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Vh(u),u}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];be(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?lb(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new io;m.updateFromIdToken(s);const p=new Yn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Ap(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT=new Map;function tr(i){lr(i instanceof Function,"Expected a class definition");let e=kT.get(i);return e?(lr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,kT.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}ub.type="NONE";const UT=ub;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ch(i,e,t){return`firebase:${i}:${e}:${t}`}class ro{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=ch(this.userKey,o.apiKey,u),this.fullPersistenceKey=ch("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await xh(this.auth,{idToken:e}).catch(()=>{});return t?Yn._fromGetAccountInfoResponse(this.auth,t,e):null}return Yn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new ro(tr(UT),e,s);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||tr(UT);const h=ch(s,e.config.apiKey,e.name);let m=null;for(const g of t)try{const v=await g._get(h);if(v){let A;if(typeof v=="string"){const R=await xh(e,{idToken:v}).catch(()=>{});if(!R)break;A=await Yn._fromGetAccountInfoResponse(e,R,v)}else A=Yn._fromJSON(e,v);g!==u&&(m=A),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new ro(u,e,s):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(t.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new ro(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LT(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(db(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(cb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(pb(e))return"Blackberry";if(gb(e))return"Webos";if(hb(e))return"Safari";if((e.includes("chrome/")||fb(e))&&!e.includes("edge/"))return"Chrome";if(mb(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function cb(i=en()){return/firefox\//i.test(i)}function hb(i=en()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function fb(i=en()){return/crios\//i.test(i)}function db(i=en()){return/iemobile/i.test(i)}function mb(i=en()){return/android/i.test(i)}function pb(i=en()){return/blackberry/i.test(i)}function gb(i=en()){return/webos/i.test(i)}function Sg(i=en()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function rV(i=en()){var e;return Sg(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function sV(){return VC()&&document.documentMode===10}function yb(i=en()){return Sg(i)||mb(i)||gb(i)||pb(i)||/windows phone/i.test(i)||db(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _b(i,e=[]){let t;switch(i){case"Browser":t=LT(en());break;case"Worker":t=`${LT(en())}-${i}`;break;default:t=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${_o}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=u=>new Promise((h,m)=>{try{const p=e(u);h(p)}catch(p){m(p)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oV(i,e={}){return bo(i,"GET","/v2/passwordPolicy",ff(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lV=6;class uV{constructor(e){var t,s,o,u;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:lV,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,o,u,h,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cV{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zT(this),this.idTokenSubscription=new zT(this),this.beforeStateQueue=new aV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=tr(t)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await ro.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await xh(this,{idToken:e}),s=await Yn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if($n(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Vh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Gx()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if($n(this.app))return Promise.reject(Qr(this));const t=e?fn(e):null;return t&&be(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return $n(this.app)?Promise.reject(Qr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return $n(this.app)?Promise.reject(Qr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(tr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await oV(this),t=new uV(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Js("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await iV(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&tr(e)||this._popupRedirectResolver;be(t,this,"argument-error"),this.redirectPersistenceManager=await ro.create(this,[tr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(t);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_b(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if($n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&jx(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function df(i){return fn(i)}class zT{constructor(e){this.auth=e,this.observer=null,this.addObserver=qC(t=>this.observer=t)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function hV(i){bg=i}function fV(i){return bg.loadJS(i)}function dV(){return bg.gapiScript}function mV(i){return`__${i}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pV(i,e){const t=Zs(i,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(Yr(u,e??{}))return o;or(o,"already-initialized")}return t.initialize({options:e})}function gV(i,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(tr);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function yV(i,e,t){const s=df(i);be(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=vb(e),{host:h,port:m}=_V(e),p=m===null?"":`:${m}`,g={url:`${u}//${h}${p}/`},v=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){be(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),be(Yr(g,s.config.emulator)&&Yr(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,vV()}function vb(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function _V(i){const e=vb(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:BT(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:BT(h)}}}function BT(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function vV(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return er("not implemented")}_getIdTokenResponse(e){return er("not implemented")}_linkToIdToken(e,t){return er("not implemented")}_getReauthenticationResolver(e){return er("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function so(i,e){return ab(i,"POST","/v1/accounts:signInWithIdp",ff(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EV="http://localhost";class Xs extends Eb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Xs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):or("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=t,u=vg(t,["providerId","signInMethod"]);if(!s||!o)return null;const h=new Xs(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return so(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,so(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,so(e,t)}buildRequest(){const e={requestUri:EV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=cu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu extends Tb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr extends yu{constructor(){super("facebook.com")}static credential(e){return Xs._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Lr.credentialFromTaggedObject(e)}static credentialFromError(e){return Lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Lr.credential(e.oauthAccessToken)}catch{return null}}}Lr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Lr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr extends yu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Xs._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return zr.credentialFromTaggedObject(e)}static credentialFromError(e){return zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return zr.credential(t,s)}catch{return null}}}zr.GOOGLE_SIGN_IN_METHOD="google.com";zr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br extends yu{constructor(){super("github.com")}static credential(e){return Xs._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Br.credentialFromTaggedObject(e)}static credentialFromError(e){return Br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Br.credential(e.oauthAccessToken)}catch{return null}}}Br.GITHUB_SIGN_IN_METHOD="github.com";Br.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr extends yu{constructor(){super("twitter.com")}static credential(e,t){return Xs._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return qr.credentialFromTaggedObject(e)}static credentialFromError(e){return qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return qr.credential(t,s)}catch{return null}}}qr.TWITTER_SIGN_IN_METHOD="twitter.com";qr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TV(i,e){return ab(i,"POST","/v1/accounts:signUp",ff(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const u=await Yn._fromIdTokenResponse(e,s,o),h=qT(s);return new ns({user:u,providerId:h,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=qT(s);return new ns({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function qT(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AV(i){var e;if($n(i.app))return Promise.reject(Qr(i));const t=df(i);if(await t._initializationPromise,!((e=t.currentUser)===null||e===void 0)&&e.isAnonymous)return new ns({user:t.currentUser,providerId:null,operationType:"signIn"});const s=await TV(t,{returnSecureToken:!0}),o=await ns._fromIdTokenResponse(t,"signIn",s,!0);return await t._updateCurrentUser(o.user),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph extends Zn{constructor(e,t,s,o){var u;super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Ph.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Ph(e,t,s,o)}}function Ab(i,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Ph._fromErrorAndOperation(i,u,e,s):u})}async function SV(i,e,t=!1){const s=await ru(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return ns._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bV(i,e,t=!1){const{auth:s}=i;if($n(s.app))return Promise.reject(Qr(s));const o="reauthenticate";try{const u=await ru(i,Ab(s,o,e,i),t);be(u.idToken,s,"internal-error");const h=Ag(u.idToken);be(h,s,"internal-error");const{sub:m}=h;return be(i.uid===m,s,"user-mismatch"),ns._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&or(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wV(i,e,t=!1){if($n(i.app))return Promise.reject(Qr(i));const s="signIn",o=await Ab(i,s,e),u=await ns._fromIdTokenResponse(i,s,o);return t||await i._updateCurrentUser(u.user),u}function RV(i,e,t,s){return fn(i).onIdTokenChanged(e,t,s)}function IV(i,e,t){return fn(i).beforeAuthStateChanged(e,t)}const kh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(kh,"1"),this.storage.removeItem(kh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CV=1e3,OV=10;class bb extends Sb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=yb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!t&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);sV()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,OV):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},CV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}bb.type="LOCAL";const DV=bb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb extends Sb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}wb.type="SESSION";const Rb=wb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NV(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new mf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:u}=t.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async g=>g(t.origin,u)),p=await NV(m);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}mf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wg(i="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return i+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const g=wg("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(A){const R=A;if(R.data.eventId===g)switch(R.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(R.data.response);break;default:clearTimeout(v),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ai(){return window}function xV(i){Ai().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ib(){return typeof Ai().WorkerGlobalScope<"u"&&typeof Ai().importScripts=="function"}async function VV(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function PV(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function kV(){return Ib()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb="firebaseLocalStorageDb",UV=1,Uh="firebaseLocalStorage",Ob="fbase_key";class _u{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function pf(i,e){return i.transaction([Uh],e?"readwrite":"readonly").objectStore(Uh)}function LV(){const i=indexedDB.deleteDatabase(Cb);return new _u(i).toPromise()}function Sp(){const i=indexedDB.open(Cb,UV);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Uh,{keyPath:Ob})}catch(o){t(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Uh)?e(s):(s.close(),await LV(),e(await Sp()))})})}async function jT(i,e,t){const s=pf(i,!0).put({[Ob]:e,value:t});return new _u(s).toPromise()}async function zV(i,e){const t=pf(i,!1).get(e),s=await new _u(t).toPromise();return s===void 0?null:s.value}function HT(i,e){const t=pf(i,!0).delete(e);return new _u(t).toPromise()}const BV=800,qV=3;class Db{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Sp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>qV)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ib()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=mf._getInstance(kV()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await VV(),!this.activeServiceWorker)return;this.sender=new MV(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||PV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Sp();return await jT(e,kh,"1"),await HT(e,kh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>jT(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>zV(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>HT(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=pf(o,!1).getAll();return new _u(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),BV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Db.type="LOCAL";const jV=Db;new gu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HV(i,e){return e?tr(e):(be(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg extends Eb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return so(e,this._buildIdpRequest())}_linkToIdToken(e,t){return so(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return so(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function FV(i){return wV(i.auth,new Rg(i),i.bypassAuthState)}function GV(i){const{auth:e,user:t}=i;return be(t,e,"internal-error"),bV(t,new Rg(i),i.bypassAuthState)}async function KV(i){const{auth:e,user:t}=i;return be(t,e,"internal-error"),SV(t,new Rg(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(e,t,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return FV;case"linkViaPopup":case"linkViaRedirect":return KV;case"reauthViaPopup":case"reauthViaRedirect":return GV;default:or(this.auth,"internal-error")}}resolve(e){lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $V=new gu(2e3,1e4);class to extends Nb{constructor(e,t,s,o,u){super(e,t,o,u),this.provider=s,this.authWindow=null,this.pollId=null,to.currentPopupAction&&to.currentPopupAction.cancel(),to.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){lr(this.filter.length===1,"Popup operations only handle one event");const e=wg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ti(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ti(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,to.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ti(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,$V.get())};e()}}to.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QV="pendingRedirect",hh=new Map;class YV extends Nb{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=hh.get(this.auth._key());if(!e){try{const s=await XV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}hh.set(this.auth._key(),e)}return this.bypassAuthState||hh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function XV(i,e){const t=ZV(e),s=JV(i);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function WV(i,e){hh.set(i._key(),e)}function JV(i){return tr(i._redirectPersistence)}function ZV(i){return ch(QV,i.config.apiKey,i.name)}async function eP(i,e,t=!1){if($n(i.app))return Promise.reject(Qr(i));const s=df(i),o=HV(s,e),h=await new YV(s,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tP=10*60*1e3;class nP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!iP(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!Mb(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(Ti(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=tP&&this.cachedEventUids.clear(),this.cachedEventUids.has(FT(e))}saveEventToCache(e){this.cachedEventUids.add(FT(e)),this.lastProcessedEventTime=Date.now()}}function FT(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function Mb({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function iP(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Mb(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rP(i,e={}){return bo(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,aP=/^https?/;async function oP(i){if(i.config.emulator)return;const{authorizedDomains:e}=await rP(i);for(const t of e)try{if(lP(t))return}catch{}or(i,"unauthorized-domain")}function lP(i){const e=Tp(),{protocol:t,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===s}if(!aP.test(t))return!1;if(sP.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uP=new gu(3e4,6e4);function GT(){const i=Ai().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function cP(i){return new Promise((e,t)=>{var s,o,u;function h(){GT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{GT(),t(Ti(i,"network-request-failed"))},timeout:uP.get()})}if(!((o=(s=Ai().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=Ai().gapi)===null||u===void 0)&&u.load)h();else{const m=mV("iframefcb");return Ai()[m]=()=>{gapi.load?h():t(Ti(i,"network-request-failed"))},fV(`${dV()}?onload=${m}`).catch(p=>t(p))}}).catch(e=>{throw fh=null,e})}let fh=null;function hP(i){return fh=fh||cP(i),fh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fP=new gu(5e3,15e3),dP="__/auth/iframe",mP="emulator/auth/iframe",pP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yP(i){const e=i.config;be(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?Tg(e,mP):`https://${i.config.authDomain}/${dP}`,s={apiKey:e.apiKey,appName:i.name,v:_o},o=gP.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${t}?${cu(s).slice(1)}`}async function _P(i){const e=await hP(i),t=Ai().gapi;return be(t,i,"internal-error"),e.open({where:document.body,url:yP(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pP,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=Ti(i,"network-request-failed"),m=Ai().setTimeout(()=>{u(h)},fP.get());function p(){Ai().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},EP=500,TP=600,AP="_blank",SP="http://localhost";class KT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function bP(i,e,t,s=EP,o=TP){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},vP),{width:s.toString(),height:o.toString(),top:u,left:h}),g=en().toLowerCase();t&&(m=fb(g)?AP:t),cb(g)&&(e=e||SP,p.scrollbars="yes");const v=Object.entries(p).reduce((R,[V,D])=>`${R}${V}=${D},`,"");if(rV(g)&&m!=="_self")return wP(e||"",m),new KT(null);const A=window.open(e||"",m,v);be(A,i,"popup-blocked");try{A.focus()}catch{}return new KT(A)}function wP(i,e){const t=document.createElement("a");t.href=i,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RP="__/auth/handler",IP="emulator/auth/handler",CP=encodeURIComponent("fac");async function $T(i,e,t,s,o,u){be(i.config.authDomain,i,"auth-domain-config-required"),be(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:s,v:_o,eventId:o};if(e instanceof Tb){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",BC(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,A]of Object.entries({}))h[v]=A}if(e instanceof yu){const v=e.getScopes().filter(A=>A!=="");v.length>0&&(h.scopes=v.join(","))}i.tenantId&&(h.tid=i.tenantId);const m=h;for(const v of Object.keys(m))m[v]===void 0&&delete m[v];const p=await i._getAppCheckToken(),g=p?`#${CP}=${encodeURIComponent(p)}`:"";return`${OP(i)}?${cu(m).slice(1)}${g}`}function OP({config:i}){return i.emulator?Tg(i,IP):`https://${i.authDomain}/${RP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jm="webStorageSupport";class DP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Rb,this._completeRedirectFn=eP,this._overrideRedirectResult=WV}async _openPopup(e,t,s,o){var u;lr((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const h=await $T(e,t,s,Tp(),o);return bP(e,h,wg())}async _openRedirect(e,t,s,o){await this._originValidation(e);const u=await $T(e,t,s,Tp(),o);return xV(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(lr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await _P(e),s=new nP(e);return t.register("authEvent",o=>(be(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(jm,{type:jm},o=>{var u;const h=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[jm];h!==void 0&&t(!!h),or(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=oP(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return yb()||hb()||Sg()}}const NP=DP;var QT="@firebase/auth",YT="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xP(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function VP(i){bi(new Xn("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;be(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_b(i)},g=new cV(s,o,u,p);return gV(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),bi(new Xn("auth-internal",e=>{const t=df(e.getProvider("auth").getImmediate());return(s=>new MP(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ln(QT,YT,xP(i)),Ln(QT,YT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PP=5*60,kP=K0("authIdTokenMaxAge")||PP;let XT=null;const UP=i=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>kP)return;const o=t==null?void 0:t.token;XT!==o&&(XT=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function LP(i=Pp()){const e=Zs(i,"auth");if(e.isInitialized())return e.getImmediate();const t=pV(i,{popupRedirectResolver:NP,persistence:[jV,DV,Rb]}),s=K0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=UP(u.toString());IV(t,h,()=>h(t.currentUser)),RV(t,m=>h(m))}}const o=F0("auth");return o&&yV(t,`http://${o}`),t}function zP(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}hV({loadJS(i){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=Ti("internal-error");u.customData=o,t(u)},s.type="text/javascript",s.charset="UTF-8",zP().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});VP("Browser");const BP={apiKey:"AIzaSyDt3jalGC3bPfmee4mcaIV8jWlh1yWQw04",authDomain:"movieratings-c1445.firebaseapp.com",projectId:"movieratings-c1445",storageBucket:"movieratings-c1445.appspot.com",messagingSenderId:"193250184547",appId:"1:193250184547:web:a440429e8918152e219756",measurementId:"G-DJB83QFVQ4"},Ig=Z0(BP);_N(Ig);const Xa=Ex(Ig),qP=LP(Ig);AV(qP).then(()=>{console.log("Signed in anonymously ")}).catch(i=>{console.error("Anonymous sign-in failed:",i)});const WT="3ae7b5b217c5389d349a90262ba52dec",JT="https://api.themoviedb.org/3";function jP(){var ce;const[i,e]=W.useState([]),[t,s]=W.useState(""),[o,u]=W.useState([]),[h,m]=W.useState(null),[p,g]=W.useState(null),[v,A]=W.useState(null),[R,V]=W.useState([]);W.useEffect(()=>{const b=HI(async()=>{if(!t.trim()){u([]);return}try{const N=(await mt.get(`${JT}/search/movie`,{params:{api_key:WT,query:t}})).data.results;u(N||[])}catch(w){console.error("Search failed",w)}},400);return b(),()=>{b.cancel()}},[t]);const D=async(I,b)=>{try{await xT(Ll(Xa,"ratings"),{title:I.title,movieId:I.id,rating:b,timestamp:new Date}),k(I.id),fetchRatedMovies()}catch(w){console.error("Error adding rating: ",w)}},q=async()=>{try{const I=DT(Ll(Xa,"ratings")),b=await Bm(I),w={};b.forEach(U=>{const C=U.data(),{movieId:Qe,title:nt,rating:Q}=C;w[Qe]||(w[Qe]={title:nt,movieId:Qe,total:0,count:0}),w[Qe].total+=Q,w[Qe].count+=1});const x=Object.values(w).map(U=>({...U,average:U.total/U.count})).filter(U=>U.count>=2).sort((U,C)=>C.average-U.average).slice(0,10);e(x)}catch(I){console.error("Error fetching top rated movies:",I)}};W.useEffect(()=>{q()},[]);const k=async I=>{try{const b=DT(Ll(Xa,"ratings"),xx("movieId","==",I)),w=await Bm(b);let N=0,x=0;w.forEach(U=>{N+=U.data().rating,x++}),x>0?A((N/x).toFixed(1)):A(null)}catch(b){console.error("Error fetching average rating: ",b)}},G=I=>{g(I),h&&D(h,I)},re=async()=>{try{const I=Math.floor(Math.random()*50)+1,w=(await mt.get(`${JT}/movie/popular`,{params:{api_key:WT,page:I}})).data.results;if(w.length>0){const N=Math.floor(Math.random()*w.length),x=w[N];m(x),u([]),g(null),k(x.id)}}catch(I){console.error("Failed to fetch random movie:",I)}},Y=async I=>{try{await xT(Ll(Xa,"watchlist"),{title:I.title,movieId:I.id,addedAt:new Date}),console.log(` ${I.title} added to watchlist`)}catch(b){console.error(" Failed to add to watchlist:",b)}},ue=async()=>{try{const b=(await Bm(Ll(Xa,"watchlist"))).docs.map(w=>({id:w.id,...w.data()}));V(b),console.log(" Watchlist:",b)}catch(I){console.error(" Failed to fetch watchlist:",I)}};W.useEffect(()=>{ue()},[]);const te=async I=>{try{await Bx(HS(Xa,"watchlist",I)),console.log(" Removed from watchlist:",I),ue()}catch(b){console.error(" Failed to remove:",b)}};return ye.jsxs("div",{className:"app",children:[ye.jsx("h1",{children:" Movies"}),ye.jsxs("div",{style:{position:"relative"},children:[ye.jsx("input",{type:"text",value:t,onChange:I=>s(I.target.value),placeholder:"Search for a movie..."}),o.length>0&&ye.jsx("ul",{className:"dropdown",children:o.slice(0,5).map(I=>{var b;return ye.jsxs("li",{onClick:()=>{m(I),u([]),g(null),k(I.id)},children:[I.title," (",(b=I.release_date)==null?void 0:b.slice(0,4),")"]},I.id)})})]}),ye.jsx("button",{onClick:re,style:{marginBottom:"10px"},children:"GAMBLING TIME"}),h&&ye.jsxs("div",{className:"movie-card",children:[ye.jsxs("h2",{children:[h.title," (",(ce=h.release_date)==null?void 0:ce.slice(0,4),")"]}),h.poster_path&&ye.jsx("img",{src:`https://image.tmdb.org/t/p/w500${h.poster_path}`,alt:h.title}),ye.jsx("p",{children:h.overview}),v&&ye.jsxs("p",{children:[" Average Rating: ",v,"/10"]}),ye.jsx("p",{children:"Rate this movie:"}),ye.jsx("div",{className:"rating-buttons",children:[...Array(10)].map((I,b)=>ye.jsx("button",{onClick:()=>G(b+1),className:p===b+1?"selected-rating":"unselected-rating",children:b+1},b))}),ye.jsx("div",{className:"watch-list",children:ye.jsx("button",{onClick:()=>Y(h),children:" Add to Watchlist"})})]}),ye.jsxs("div",{children:[ye.jsx("h2",{children:" My Watchlist"}),R.length===0?ye.jsx("p",{children:"No movies added yet."}):ye.jsx("ul",{children:R.map(I=>ye.jsxs("li",{children:[I.title,ye.jsx("button",{onClick:()=>te(I.id),children:"Remove"})]},I.id))})]}),i.length>0&&ye.jsxs("div",{className:"rated-movies",children:[ye.jsx("h3",{children:" Top 10 Rated Movies"}),ye.jsx("ul",{children:i.map((I,b)=>ye.jsxs("li",{children:[ye.jsxs("strong",{children:[b+1,". ",I.title]})," "," ",I.average.toFixed(1),"/10 (",I.count," ","rating",I.count>1?"s":"",")"]},I.movieId))})]})]})}function ZT({className:i,to:e,children:t}){const s=Rp();function o(){s(e)}return ye.jsx(ye.Fragment,{children:ye.jsx("button",{className:`nav-bar-button ${i}`,onClick:o,children:t})})}function HP({to:i,children:e}){const t=Rp();function s(){t(i)}return ye.jsx("h1",{className:"logo",onClick:s,children:e})}function FP(){return ye.jsxs(ye.Fragment,{children:[ye.jsxs("nav",{className:"nav-bar",children:[ye.jsx("div",{className:"nav-item left",children:ye.jsx("div",{children:ye.jsx(HP,{to:"/movie-rating",children:"Chungywungy.com"})})}),ye.jsx("div",{className:"nav-item center",children:ye.jsxs("div",{children:[ye.jsx(ZT,{to:"/movie-rating/",className:"button-primary",children:"Home"}),ye.jsx(ZT,{to:"/movie-rating/",className:"button-secondary",children:"Ratings"})]})}),ye.jsx("div",{className:"nav-item right",children:ye.jsx("div",{children:ye.jsx("a",{href:"https://chungywungy.github.io",target:"blank",children:"Lol"})})})]}),ye.jsx(sI,{})]})}function GP(){return ye.jsx(NI,{children:ye.jsx(oI,{children:ye.jsx(Fm,{path:"movie-rating/",element:ye.jsx(FP,{}),children:ye.jsx(Fm,{index:!0,element:ye.jsx(jP,{})})})})})}dR.createRoot(document.getElementById("root")).render(ye.jsx(W.StrictMode,{children:ye.jsx(GP,{})}));
