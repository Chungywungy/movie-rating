(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();var Qc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function mR(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Am={exports:{}},Vl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gv;function pR(){if(Gv)return Vl;Gv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:u}}return Vl.Fragment=e,Vl.jsx=t,Vl.jsxs=t,Vl}var Kv;function gR(){return Kv||(Kv=1,Am.exports=pR()),Am.exports}var de=gR(),Sm={exports:{}},Ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $v;function yR(){if($v)return Ce;$v=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),A=Symbol.iterator;function b(M){return M===null||typeof M!="object"?null:(M=A&&M[A]||M["@@iterator"],typeof M=="function"?M:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,j={};function V(M,ie,ue){this.props=M,this.context=ie,this.refs=j,this.updater=ue||P}V.prototype.isReactComponent={},V.prototype.setState=function(M,ie){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,ie,"setState")},V.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function K(){}K.prototype=V.prototype;function Y(M,ie,ue){this.props=M,this.context=ie,this.refs=j,this.updater=ue||P}var G=Y.prototype=new K;G.constructor=Y,O(G,V.prototype),G.isPureReactComponent=!0;var ae=Array.isArray,ee={H:null,A:null,T:null,S:null,V:null},ce=Object.prototype.hasOwnProperty;function D(M,ie,ue,se,ye,Oe){return ue=Oe.ref,{$$typeof:i,type:M,key:ie,ref:ue!==void 0?ue:null,props:Oe}}function w(M,ie){return D(M.type,ie,void 0,void 0,void 0,M.props)}function R(M){return typeof M=="object"&&M!==null&&M.$$typeof===i}function N(M){var ie={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ue){return ie[ue]})}var k=/\/+/g;function L(M,ie){return typeof M=="object"&&M!==null&&M.key!=null?N(""+M.key):ie.toString(36)}function C(){}function ot(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(C,C):(M.status="pending",M.then(function(ie){M.status==="pending"&&(M.status="fulfilled",M.value=ie)},function(ie){M.status==="pending"&&(M.status="rejected",M.reason=ie)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function it(M,ie,ue,se,ye){var Oe=typeof M;(Oe==="undefined"||Oe==="boolean")&&(M=null);var Ee=!1;if(M===null)Ee=!0;else switch(Oe){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(M.$$typeof){case i:case e:Ee=!0;break;case _:return Ee=M._init,it(Ee(M._payload),ie,ue,se,ye)}}if(Ee)return ye=ye(M),Ee=se===""?"."+L(M,0):se,ae(ye)?(ue="",Ee!=null&&(ue=Ee.replace(k,"$&/")+"/"),it(ye,ie,ue,"",function($t){return $t})):ye!=null&&(R(ye)&&(ye=w(ye,ue+(ye.key==null||M&&M.key===ye.key?"":(""+ye.key).replace(k,"$&/")+"/")+Ee)),ie.push(ye)),1;Ee=0;var Me=se===""?".":se+":";if(ae(M))for(var Ue=0;Ue<M.length;Ue++)se=M[Ue],Oe=Me+L(se,Ue),Ee+=it(se,ie,ue,Oe,ye);else if(Ue=b(M),typeof Ue=="function")for(M=Ue.call(M),Ue=0;!(se=M.next()).done;)se=se.value,Oe=Me+L(se,Ue++),Ee+=it(se,ie,ue,Oe,ye);else if(Oe==="object"){if(typeof M.then=="function")return it(ot(M),ie,ue,se,ye);throw ie=String(M),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function X(M,ie,ue){if(M==null)return M;var se=[],ye=0;return it(M,se,"","",function(Oe){return ie.call(ue,Oe,ye++)}),se}function le(M){if(M._status===-1){var ie=M._result;ie=ie(),ie.then(function(ue){(M._status===0||M._status===-1)&&(M._status=1,M._result=ue)},function(ue){(M._status===0||M._status===-1)&&(M._status=2,M._result=ue)}),M._status===-1&&(M._status=0,M._result=ie)}if(M._status===1)return M._result.default;throw M._result}var pe=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function He(){}return Ce.Children={map:X,forEach:function(M,ie,ue){X(M,function(){ie.apply(this,arguments)},ue)},count:function(M){var ie=0;return X(M,function(){ie++}),ie},toArray:function(M){return X(M,function(ie){return ie})||[]},only:function(M){if(!R(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Ce.Component=V,Ce.Fragment=t,Ce.Profiler=o,Ce.PureComponent=Y,Ce.StrictMode=s,Ce.Suspense=p,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ee,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(M){return ee.H.useMemoCache(M)}},Ce.cache=function(M){return function(){return M.apply(null,arguments)}},Ce.cloneElement=function(M,ie,ue){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var se=O({},M.props),ye=M.key,Oe=void 0;if(ie!=null)for(Ee in ie.ref!==void 0&&(Oe=void 0),ie.key!==void 0&&(ye=""+ie.key),ie)!ce.call(ie,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&ie.ref===void 0||(se[Ee]=ie[Ee]);var Ee=arguments.length-2;if(Ee===1)se.children=ue;else if(1<Ee){for(var Me=Array(Ee),Ue=0;Ue<Ee;Ue++)Me[Ue]=arguments[Ue+2];se.children=Me}return D(M.type,ye,void 0,void 0,Oe,se)},Ce.createContext=function(M){return M={$$typeof:h,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},Ce.createElement=function(M,ie,ue){var se,ye={},Oe=null;if(ie!=null)for(se in ie.key!==void 0&&(Oe=""+ie.key),ie)ce.call(ie,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(ye[se]=ie[se]);var Ee=arguments.length-2;if(Ee===1)ye.children=ue;else if(1<Ee){for(var Me=Array(Ee),Ue=0;Ue<Ee;Ue++)Me[Ue]=arguments[Ue+2];ye.children=Me}if(M&&M.defaultProps)for(se in Ee=M.defaultProps,Ee)ye[se]===void 0&&(ye[se]=Ee[se]);return D(M,Oe,void 0,void 0,null,ye)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(M){return{$$typeof:d,render:M}},Ce.isValidElement=R,Ce.lazy=function(M){return{$$typeof:_,_payload:{_status:-1,_result:M},_init:le}},Ce.memo=function(M,ie){return{$$typeof:g,type:M,compare:ie===void 0?null:ie}},Ce.startTransition=function(M){var ie=ee.T,ue={};ee.T=ue;try{var se=M(),ye=ee.S;ye!==null&&ye(ue,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(He,pe)}catch(Oe){pe(Oe)}finally{ee.T=ie}},Ce.unstable_useCacheRefresh=function(){return ee.H.useCacheRefresh()},Ce.use=function(M){return ee.H.use(M)},Ce.useActionState=function(M,ie,ue){return ee.H.useActionState(M,ie,ue)},Ce.useCallback=function(M,ie){return ee.H.useCallback(M,ie)},Ce.useContext=function(M){return ee.H.useContext(M)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(M,ie){return ee.H.useDeferredValue(M,ie)},Ce.useEffect=function(M,ie,ue){var se=ee.H;if(typeof ue=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return se.useEffect(M,ie)},Ce.useId=function(){return ee.H.useId()},Ce.useImperativeHandle=function(M,ie,ue){return ee.H.useImperativeHandle(M,ie,ue)},Ce.useInsertionEffect=function(M,ie){return ee.H.useInsertionEffect(M,ie)},Ce.useLayoutEffect=function(M,ie){return ee.H.useLayoutEffect(M,ie)},Ce.useMemo=function(M,ie){return ee.H.useMemo(M,ie)},Ce.useOptimistic=function(M,ie){return ee.H.useOptimistic(M,ie)},Ce.useReducer=function(M,ie,ue){return ee.H.useReducer(M,ie,ue)},Ce.useRef=function(M){return ee.H.useRef(M)},Ce.useState=function(M){return ee.H.useState(M)},Ce.useSyncExternalStore=function(M,ie,ue){return ee.H.useSyncExternalStore(M,ie,ue)},Ce.useTransition=function(){return ee.H.useTransition()},Ce.version="19.1.0",Ce}var Qv;function Dp(){return Qv||(Qv=1,Sm.exports=yR()),Sm.exports}var W=Dp(),wm={exports:{}},kl={},bm={exports:{}},Rm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yv;function _R(){return Yv||(Yv=1,function(i){function e(X,le){var pe=X.length;X.push(le);e:for(;0<pe;){var He=pe-1>>>1,M=X[He];if(0<o(M,le))X[He]=le,X[pe]=M,pe=He;else break e}}function t(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var le=X[0],pe=X.pop();if(pe!==le){X[0]=pe;e:for(var He=0,M=X.length,ie=M>>>1;He<ie;){var ue=2*(He+1)-1,se=X[ue],ye=ue+1,Oe=X[ye];if(0>o(se,pe))ye<M&&0>o(Oe,se)?(X[He]=Oe,X[ye]=pe,He=ye):(X[He]=se,X[ue]=pe,He=ue);else if(ye<M&&0>o(Oe,pe))X[He]=Oe,X[ye]=pe,He=ye;else break e}}return le}function o(X,le){var pe=X.sortIndex-le.sortIndex;return pe!==0?pe:X.id-le.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,d=h.now();i.unstable_now=function(){return h.now()-d}}var p=[],g=[],_=1,A=null,b=3,P=!1,O=!1,j=!1,V=!1,K=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function ae(X){for(var le=t(g);le!==null;){if(le.callback===null)s(g);else if(le.startTime<=X)s(g),le.sortIndex=le.expirationTime,e(p,le);else break;le=t(g)}}function ee(X){if(j=!1,ae(X),!O)if(t(p)!==null)O=!0,ce||(ce=!0,L());else{var le=t(g);le!==null&&it(ee,le.startTime-X)}}var ce=!1,D=-1,w=5,R=-1;function N(){return V?!0:!(i.unstable_now()-R<w)}function k(){if(V=!1,ce){var X=i.unstable_now();R=X;var le=!0;try{e:{O=!1,j&&(j=!1,Y(D),D=-1),P=!0;var pe=b;try{t:{for(ae(X),A=t(p);A!==null&&!(A.expirationTime>X&&N());){var He=A.callback;if(typeof He=="function"){A.callback=null,b=A.priorityLevel;var M=He(A.expirationTime<=X);if(X=i.unstable_now(),typeof M=="function"){A.callback=M,ae(X),le=!0;break t}A===t(p)&&s(p),ae(X)}else s(p);A=t(p)}if(A!==null)le=!0;else{var ie=t(g);ie!==null&&it(ee,ie.startTime-X),le=!1}}break e}finally{A=null,b=pe,P=!1}le=void 0}}finally{le?L():ce=!1}}}var L;if(typeof G=="function")L=function(){G(k)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,ot=C.port2;C.port1.onmessage=k,L=function(){ot.postMessage(null)}}else L=function(){K(k,0)};function it(X,le){D=K(function(){X(i.unstable_now())},le)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(X){X.callback=null},i.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<X?Math.floor(1e3/X):5},i.unstable_getCurrentPriorityLevel=function(){return b},i.unstable_next=function(X){switch(b){case 1:case 2:case 3:var le=3;break;default:le=b}var pe=b;b=le;try{return X()}finally{b=pe}},i.unstable_requestPaint=function(){V=!0},i.unstable_runWithPriority=function(X,le){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var pe=b;b=X;try{return le()}finally{b=pe}},i.unstable_scheduleCallback=function(X,le,pe){var He=i.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?He+pe:He):pe=He,X){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=pe+M,X={id:_++,callback:le,priorityLevel:X,startTime:pe,expirationTime:M,sortIndex:-1},pe>He?(X.sortIndex=pe,e(g,X),t(p)===null&&X===t(g)&&(j?(Y(D),D=-1):j=!0,it(ee,pe-He))):(X.sortIndex=M,e(p,X),O||P||(O=!0,ce||(ce=!0,L()))),X},i.unstable_shouldYield=N,i.unstable_wrapCallback=function(X){var le=b;return function(){var pe=b;b=le;try{return X.apply(this,arguments)}finally{b=pe}}}}(Rm)),Rm}var Xv;function vR(){return Xv||(Xv=1,bm.exports=_R()),bm.exports}var Im={exports:{}},Xt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wv;function ER(){if(Wv)return Xt;Wv=1;var i=Dp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,_){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:p,containerInfo:g,implementation:_}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Xt.createPortal=function(p,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,_)},Xt.flushSync=function(p){var g=h.T,_=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=_,s.d.f()}},Xt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Xt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Xt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var _=g.as,A=d(_,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,P=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:A,integrity:b,fetchPriority:P}):_==="script"&&s.d.X(p,{crossOrigin:A,integrity:b,fetchPriority:P,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Xt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=d(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Xt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,A=d(_,g.crossOrigin);s.d.L(p,_,{crossOrigin:A,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Xt.preloadModule=function(p,g){if(typeof p=="string")if(g){var _=d(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Xt.requestFormReset=function(p){s.d.r(p)},Xt.unstable_batchedUpdates=function(p,g){return p(g)},Xt.useFormState=function(p,g,_){return h.H.useFormState(p,g,_)},Xt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Xt.version="19.1.0",Xt}var Jv;function TR(){if(Jv)return Im.exports;Jv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Im.exports=ER(),Im.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zv;function AR(){if(Zv)return kl;Zv=1;var i=vR(),e=Dp(),t=TR();function s(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var r=n,a=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(a=r.return),n=r.return;while(n)}return r.tag===3?a:null}function h(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function d(n){if(u(n)!==n)throw Error(s(188))}function p(n){var r=n.alternate;if(!r){if(r=u(n),r===null)throw Error(s(188));return r!==n?null:n}for(var a=n,l=r;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return d(f),n;if(m===l)return d(f),r;m=m.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=m;else{for(var E=!1,T=f.child;T;){if(T===a){E=!0,a=f,l=m;break}if(T===l){E=!0,l=f,a=m;break}T=T.sibling}if(!E){for(T=m.child;T;){if(T===a){E=!0,a=m,l=f;break}if(T===l){E=!0,l=m,a=f;break}T=T.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:r}function g(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=g(n),r!==null)return r;n=n.sibling}return null}var _=Object.assign,A=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),Y=Symbol.for("react.consumer"),G=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function L(n){return n===null||typeof n!="object"?null:(n=k&&n[k]||n["@@iterator"],typeof n=="function"?n:null)}var C=Symbol.for("react.client.reference");function ot(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===C?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case O:return"Fragment";case V:return"Profiler";case j:return"StrictMode";case ee:return"Suspense";case ce:return"SuspenseList";case R:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case P:return"Portal";case G:return(n.displayName||"Context")+".Provider";case Y:return(n._context.displayName||"Context")+".Consumer";case ae:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case D:return r=n.displayName||null,r!==null?r:ot(n.type)||"Memo";case w:r=n._payload,n=n._init;try{return ot(n(r))}catch{}}return null}var it=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},He=[],M=-1;function ie(n){return{current:n}}function ue(n){0>M||(n.current=He[M],He[M]=null,M--)}function se(n,r){M++,He[M]=n.current,n.current=r}var ye=ie(null),Oe=ie(null),Ee=ie(null),Me=ie(null);function Ue(n,r){switch(se(Ee,r),se(Oe,n),se(ye,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?vv(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=vv(r),n=Ev(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ue(ye),se(ye,n)}function $t(){ue(ye),ue(Oe),ue(Ee)}function zn(n){n.memoizedState!==null&&se(Me,n);var r=ye.current,a=Ev(r,n.type);r!==a&&(se(Oe,n),se(ye,a))}function Ci(n){Oe.current===n&&(ue(ye),ue(Oe)),Me.current===n&&(ue(Me),Dl._currentValue=pe)}var is=Object.prototype.hasOwnProperty,rs=i.unstable_scheduleCallback,ss=i.unstable_cancelCallback,Io=i.unstable_shouldYield,wu=i.unstable_requestPaint,wn=i.unstable_now,Af=i.unstable_getCurrentPriorityLevel,Co=i.unstable_ImmediatePriority,sa=i.unstable_UserBlockingPriority,as=i.unstable_NormalPriority,Sf=i.unstable_LowPriority,aa=i.unstable_IdlePriority,Oo=i.log,bu=i.unstable_setDisableYieldValue,ht=null,Qe=null;function dn(n){if(typeof Oo=="function"&&bu(n),Qe&&typeof Qe.setStrictMode=="function")try{Qe.setStrictMode(ht,n)}catch{}}var Qt=Math.clz32?Math.clz32:os,Ru=Math.log,wf=Math.LN2;function os(n){return n>>>=0,n===0?32:31-(Ru(n)/wf|0)|0}var ls=256,us=4194304;function jn(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function oa(n,r,a){var l=n.pendingLanes;if(l===0)return 0;var f=0,m=n.suspendedLanes,E=n.pingedLanes;n=n.warmLanes;var T=l&134217727;return T!==0?(l=T&~m,l!==0?f=jn(l):(E&=T,E!==0?f=jn(E):a||(a=T&~n,a!==0&&(f=jn(a))))):(T=l&~m,T!==0?f=jn(T):E!==0?f=jn(E):a||(a=l&~n,a!==0&&(f=jn(a)))),f===0?0:r!==0&&r!==f&&(r&m)===0&&(m=f&-f,a=r&-r,m>=a||m===32&&(a&4194048)!==0)?r:f}function cs(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function Do(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function No(){var n=ls;return ls<<=1,(ls&4194048)===0&&(ls=256),n}function Mo(){var n=us;return us<<=1,(us&62914560)===0&&(us=4194304),n}function Oi(n){for(var r=[],a=0;31>a;a++)r.push(n);return r}function Di(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Po(n,r,a,l,f,m){var E=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var T=n.entanglements,I=n.expirationTimes,q=n.hiddenUpdates;for(a=E&~a;0<a;){var J=31-Qt(a),te=1<<J;T[J]=0,I[J]=-1;var H=q[J];if(H!==null)for(q[J]=null,J=0;J<H.length;J++){var F=H[J];F!==null&&(F.lane&=-536870913)}a&=~te}l!==0&&ti(n,l,0),m!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=m&~(E&~r))}function ti(n,r,a){n.pendingLanes|=r,n.suspendedLanes&=~r;var l=31-Qt(r);n.entangledLanes|=r,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194090}function xo(n,r){var a=n.entangledLanes|=r;for(n=n.entanglements;a;){var l=31-Qt(a),f=1<<l;f&r|n[l]&r&&(n[l]|=r),a&=~f}}function ur(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function la(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function cr(){var n=le.p;return n!==0?n:(n=window.event,n===void 0?32:Bv(n.type))}function Iu(n,r){var a=le.p;try{return le.p=n,r()}finally{le.p=a}}var st=Math.random().toString(36).slice(2),bt="__reactFiber$"+st,vt="__reactProps$"+st,bn="__reactContainer$"+st,Vo="__reactEvents$"+st,bf="__reactListeners$"+st,hr="__reactHandles$"+st,Cu="__reactResources$"+st,hs="__reactMarker$"+st;function fr(n){delete n[bt],delete n[vt],delete n[Vo],delete n[bf],delete n[hr]}function Ni(n){var r=n[bt];if(r)return r;for(var a=n.parentNode;a;){if(r=a[bn]||a[bt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(n=wv(n);n!==null;){if(a=n[bt])return a;n=wv(n)}return r}n=a,a=n.parentNode}return null}function ni(n){if(n=n[bt]||n[bn]){var r=n.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return n}return null}function ii(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(s(33))}function nn(n){var r=n[Cu];return r||(r=n[Cu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function pt(n){n[hs]=!0}var ko=new Set,ua={};function qn(n,r){Mi(n,r),Mi(n+"Capture",r)}function Mi(n,r){for(ua[n]=r,n=0;n<r.length;n++)ko.add(r[n])}var Ou=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Du={},fs={};function Nu(n){return is.call(fs,n)?!0:is.call(Du,n)?!1:Ou.test(n)?fs[n]=!0:(Du[n]=!0,!1)}function dr(n,r,a){if(Nu(r))if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+a)}}function ri(n,r,a){if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+a)}}function Ut(n,r,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(r,a,""+l)}}var ds,Mu;function Pi(n){if(ds===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);ds=r&&r[1]||"",Mu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ds+n+Mu}var ca=!1;function ha(n,r){if(!n||ca)return"";ca=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(F){var H=F}Reflect.construct(n,[],te)}else{try{te.call()}catch(F){H=F}n.call(te.prototype)}}else{try{throw Error()}catch(F){H=F}(te=n())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(F){if(F&&H&&typeof F.stack=="string")return[F.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),E=m[0],T=m[1];if(E&&T){var I=E.split(`
`),q=T.split(`
`);for(f=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;f<q.length&&!q[f].includes("DetermineComponentFrameRoot");)f++;if(l===I.length||f===q.length)for(l=I.length-1,f=q.length-1;1<=l&&0<=f&&I[l]!==q[f];)f--;for(;1<=l&&0<=f;l--,f--)if(I[l]!==q[f]){if(l!==1||f!==1)do if(l--,f--,0>f||I[l]!==q[f]){var J=`
`+I[l].replace(" at new "," at ");return n.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",n.displayName)),J}while(1<=l&&0<=f);break}}}finally{ca=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?Pi(a):""}function Lo(n){switch(n.tag){case 26:case 27:case 5:return Pi(n.type);case 16:return Pi("Lazy");case 13:return Pi("Suspense");case 19:return Pi("SuspenseList");case 0:case 15:return ha(n.type,!1);case 11:return ha(n.type.render,!1);case 1:return ha(n.type,!0);case 31:return Pi("Activity");default:return""}}function fa(n){try{var r="";do r+=Lo(n),n=n.return;while(n);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function rn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Uo(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Rf(n){var r=Uo(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),l=""+n[r];if(!n.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,m=a.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return f.call(this)},set:function(E){l=""+E,m.call(this,E)}}),Object.defineProperty(n,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function da(n){n._valueTracker||(n._valueTracker=Rf(n))}function Bo(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return n&&(l=Uo(n)?n.checked?"true":"false":n.value),n=l,n!==a?(r.setValue(n),!0):!1}function ms(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var If=/[\n"\\]/g;function Et(n){return n.replace(If,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function mn(n,r,a,l,f,m,E,T){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),r!=null?E==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+rn(r)):n.value!==""+rn(r)&&(n.value=""+rn(r)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),r!=null?mr(n,E,rn(r)):a!=null?mr(n,E,rn(a)):l!=null&&n.removeAttribute("value"),f==null&&m!=null&&(n.defaultChecked=!!m),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.name=""+rn(T):n.removeAttribute("name")}function ps(n,r,a,l,f,m,E,T){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),r!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||r!=null))return;a=a!=null?""+rn(a):"",r=r!=null?""+rn(r):a,T||r===n.value||(n.value=r),n.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=T?n.checked:!!l,n.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E)}function mr(n,r,a){r==="number"&&ms(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function xi(n,r,a,l){if(n=n.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=r.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&l&&(n[a].defaultSelected=!0)}else{for(a=""+rn(a),r=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}r!==null||n[f].disabled||(r=n[f])}r!==null&&(r.selected=!0)}}function We(n,r,a){if(r!=null&&(r=""+rn(r),r!==n.value&&(n.value=r),a==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=a!=null?""+rn(a):""}function gs(n,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(it(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=rn(r),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function Rn(n,r){if(r){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=r;return}}n.textContent=r}var ys=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Pu(n,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":l?n.setProperty(r,a):typeof a!="number"||a===0||ys.has(r)?r==="float"?n.cssFloat=a:n[r]=(""+a).trim():n[r]=a+"px"}function zo(n,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&Pu(n,f,l)}else for(var m in r)r.hasOwnProperty(m)&&Pu(n,m,r[m])}function jo(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Of=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ma(n){return Of.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Vi=null;function In(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var ki=null,Li=null;function qo(n){var r=ni(n);if(r&&(n=r.stateNode)){var a=n[vt]||null;e:switch(n=r.stateNode,r.type){case"input":if(mn(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Et(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==n&&l.form===n.form){var f=l[vt]||null;if(!f)throw Error(s(90));mn(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===n.form&&Bo(l)}break e;case"textarea":We(n,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&xi(n,!!a.multiple,r,!1)}}}var si=!1;function xu(n,r,a){if(si)return n(r,a);si=!0;try{var l=n(r);return l}finally{if(si=!1,(ki!==null||Li!==null)&&(Ic(),ki&&(r=ki,n=Li,Li=ki=null,qo(r),n)))for(r=0;r<n.length;r++)qo(n[r])}}function _s(n,r){var a=n.stateNode;if(a===null)return null;var l=a[vt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cn=!1;if(Hn)try{var vs={};Object.defineProperty(vs,"passive",{get:function(){Cn=!0}}),window.addEventListener("test",vs,vs),window.removeEventListener("test",vs,vs)}catch{Cn=!1}var ai=null,pr=null,Ui=null;function Ho(){if(Ui)return Ui;var n,r=pr,a=r.length,l,f="value"in ai?ai.value:ai.textContent,m=f.length;for(n=0;n<a&&r[n]===f[n];n++);var E=a-n;for(l=1;l<=E&&r[a-l]===f[m-l];l++);return Ui=f.slice(n,1<l?1-l:void 0)}function oi(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function li(){return!0}function Fo(){return!1}function Mt(n){function r(a,l,f,m,E){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=m,this.target=E,this.currentTarget=null;for(var T in n)n.hasOwnProperty(T)&&(a=n[T],this[T]=a?a(m):m[T]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?li:Fo,this.isPropagationStopped=Fo,this}return _(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=li)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=li)},persist:function(){},isPersistent:li}),r}var Ke={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pa=Mt(Ke),Es=_({},Ke,{view:0,detail:0}),Vu=Mt(Es),ga,ya,ui,Ts=_({},Es,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ws,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==ui&&(ui&&n.type==="mousemove"?(ga=n.screenX-ui.screenX,ya=n.screenY-ui.screenY):ya=ga=0,ui=n),ga)},movementY:function(n){return"movementY"in n?n.movementY:ya}}),On=Mt(Ts),ku=_({},Ts,{dataTransfer:0}),Df=Mt(ku),As=_({},Es,{relatedTarget:0}),_a=Mt(As),Go=_({},Ke,{animationName:0,elapsedTime:0,pseudoElement:0}),va=Mt(Go),Lu=_({},Ke,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Ea=Mt(Lu),Nf=_({},Ke,{data:0}),Ko=Mt(Nf),Ss={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Uu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $o(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=Bu[n])?!!r[n]:!1}function ws(){return $o}var zu=_({},Es,{key:function(n){if(n.key){var r=Ss[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=oi(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Uu[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ws,charCode:function(n){return n.type==="keypress"?oi(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?oi(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Ta=Mt(zu),ju=_({},Ts,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qo=Mt(ju),Bi=_({},Es,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ws}),qu=Mt(Bi),Hu=_({},Ke,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fu=Mt(Hu),Gu=_({},Ts,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Aa=Mt(Gu),sn=_({},Ke,{newState:0,oldState:0}),Ku=Mt(sn),$u=[9,13,27,32],ci=Hn&&"CompositionEvent"in window,c=null;Hn&&"documentMode"in document&&(c=document.documentMode);var y=Hn&&"TextEvent"in window&&!c,v=Hn&&(!ci||c&&8<c&&11>=c),S=" ",B=!1;function $(n,r){switch(n){case"keyup":return $u.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oe(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Be=!1;function Rt(n,r){switch(n){case"compositionend":return oe(r);case"keypress":return r.which!==32?null:(B=!0,S);case"textInput":return n=r.data,n===S&&B?null:n;default:return null}}function ze(n,r){if(Be)return n==="compositionend"||!ci&&$(n,r)?(n=Ho(),Ui=pr=ai=null,Be=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return v&&r.locale!=="ko"?null:r.data;default:return null}}var Pt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function It(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!Pt[n.type]:r==="textarea"}function zi(n,r,a,l){ki?Li?Li.push(l):Li=[l]:ki=l,r=Pc(r,"onChange"),0<r.length&&(a=new pa("onChange","change",null,a,l),n.push({event:a,listeners:r}))}var Bt=null,hi=null;function Yo(n){mv(n,0)}function Qu(n){var r=ii(n);if(Bo(r))return n}function Vg(n,r){if(n==="change")return r}var kg=!1;if(Hn){var Mf;if(Hn){var Pf="oninput"in document;if(!Pf){var Lg=document.createElement("div");Lg.setAttribute("oninput","return;"),Pf=typeof Lg.oninput=="function"}Mf=Pf}else Mf=!1;kg=Mf&&(!document.documentMode||9<document.documentMode)}function Ug(){Bt&&(Bt.detachEvent("onpropertychange",Bg),hi=Bt=null)}function Bg(n){if(n.propertyName==="value"&&Qu(hi)){var r=[];zi(r,hi,n,In(n)),xu(Yo,r)}}function Fw(n,r,a){n==="focusin"?(Ug(),Bt=r,hi=a,Bt.attachEvent("onpropertychange",Bg)):n==="focusout"&&Ug()}function Gw(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Qu(hi)}function Kw(n,r){if(n==="click")return Qu(r)}function $w(n,r){if(n==="input"||n==="change")return Qu(r)}function Qw(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var pn=typeof Object.is=="function"?Object.is:Qw;function Xo(n,r){if(pn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var a=Object.keys(n),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!is.call(r,f)||!pn(n[f],r[f]))return!1}return!0}function zg(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function jg(n,r){var a=zg(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=r&&l>=r)return{node:a,offset:r-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=zg(a)}}function qg(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?qg(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function Hg(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=ms(n.document);r instanceof n.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)n=r.contentWindow;else break;r=ms(n.document)}return r}function xf(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var Yw=Hn&&"documentMode"in document&&11>=document.documentMode,Sa=null,Vf=null,Wo=null,kf=!1;function Fg(n,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;kf||Sa==null||Sa!==ms(l)||(l=Sa,"selectionStart"in l&&xf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Wo&&Xo(Wo,l)||(Wo=l,l=Pc(Vf,"onSelect"),0<l.length&&(r=new pa("onSelect","select",null,r,a),n.push({event:r,listeners:l}),r.target=Sa)))}function bs(n,r){var a={};return a[n.toLowerCase()]=r.toLowerCase(),a["Webkit"+n]="webkit"+r,a["Moz"+n]="moz"+r,a}var wa={animationend:bs("Animation","AnimationEnd"),animationiteration:bs("Animation","AnimationIteration"),animationstart:bs("Animation","AnimationStart"),transitionrun:bs("Transition","TransitionRun"),transitionstart:bs("Transition","TransitionStart"),transitioncancel:bs("Transition","TransitionCancel"),transitionend:bs("Transition","TransitionEnd")},Lf={},Gg={};Hn&&(Gg=document.createElement("div").style,"AnimationEvent"in window||(delete wa.animationend.animation,delete wa.animationiteration.animation,delete wa.animationstart.animation),"TransitionEvent"in window||delete wa.transitionend.transition);function Rs(n){if(Lf[n])return Lf[n];if(!wa[n])return n;var r=wa[n],a;for(a in r)if(r.hasOwnProperty(a)&&a in Gg)return Lf[n]=r[a];return n}var Kg=Rs("animationend"),$g=Rs("animationiteration"),Qg=Rs("animationstart"),Xw=Rs("transitionrun"),Ww=Rs("transitionstart"),Jw=Rs("transitioncancel"),Yg=Rs("transitionend"),Xg=new Map,Uf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Uf.push("scrollEnd");function Fn(n,r){Xg.set(n,r),qn(r,[n])}var Wg=new WeakMap;function Dn(n,r){if(typeof n=="object"&&n!==null){var a=Wg.get(n);return a!==void 0?a:(r={value:n,source:r,stack:fa(r)},Wg.set(n,r),r)}return{value:n,source:r,stack:fa(r)}}var Nn=[],ba=0,Bf=0;function Yu(){for(var n=ba,r=Bf=ba=0;r<n;){var a=Nn[r];Nn[r++]=null;var l=Nn[r];Nn[r++]=null;var f=Nn[r];Nn[r++]=null;var m=Nn[r];if(Nn[r++]=null,l!==null&&f!==null){var E=l.pending;E===null?f.next=f:(f.next=E.next,E.next=f),l.pending=f}m!==0&&Jg(a,f,m)}}function Xu(n,r,a,l){Nn[ba++]=n,Nn[ba++]=r,Nn[ba++]=a,Nn[ba++]=l,Bf|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function zf(n,r,a,l){return Xu(n,r,a,l),Wu(n)}function Ra(n,r){return Xu(n,null,null,r),Wu(n)}function Jg(n,r,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var f=!1,m=n.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(f=!0)),n=m,m=m.return;return n.tag===3?(m=n.stateNode,f&&r!==null&&(f=31-Qt(a),n=m.hiddenUpdates,l=n[f],l===null?n[f]=[r]:l.push(r),r.lane=a|536870912),m):null}function Wu(n){if(50<Al)throw Al=0,Kd=null,Error(s(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var Ia={};function Zw(n,r,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(n,r,a,l){return new Zw(n,r,a,l)}function jf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function ji(n,r){var a=n.alternate;return a===null?(a=gn(n.tag,r,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=r,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,r=n.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function Zg(n,r){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,r=a.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function Ju(n,r,a,l,f,m){var E=0;if(l=n,typeof n=="function")jf(n)&&(E=1);else if(typeof n=="string")E=tR(n,a,ye.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case R:return n=gn(31,a,r,f),n.elementType=R,n.lanes=m,n;case O:return Is(a.children,f,m,r);case j:E=8,f|=24;break;case V:return n=gn(12,a,r,f|2),n.elementType=V,n.lanes=m,n;case ee:return n=gn(13,a,r,f),n.elementType=ee,n.lanes=m,n;case ce:return n=gn(19,a,r,f),n.elementType=ce,n.lanes=m,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case K:case G:E=10;break e;case Y:E=9;break e;case ae:E=11;break e;case D:E=14;break e;case w:E=16,l=null;break e}E=29,a=Error(s(130,n===null?"null":typeof n,"")),l=null}return r=gn(E,a,r,f),r.elementType=n,r.type=l,r.lanes=m,r}function Is(n,r,a,l){return n=gn(7,n,l,r),n.lanes=a,n}function qf(n,r,a){return n=gn(6,n,null,r),n.lanes=a,n}function Hf(n,r,a){return r=gn(4,n.children!==null?n.children:[],n.key,r),r.lanes=a,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var Ca=[],Oa=0,Zu=null,ec=0,Mn=[],Pn=0,Cs=null,qi=1,Hi="";function Os(n,r){Ca[Oa++]=ec,Ca[Oa++]=Zu,Zu=n,ec=r}function ey(n,r,a){Mn[Pn++]=qi,Mn[Pn++]=Hi,Mn[Pn++]=Cs,Cs=n;var l=qi;n=Hi;var f=32-Qt(l)-1;l&=~(1<<f),a+=1;var m=32-Qt(r)+f;if(30<m){var E=f-f%5;m=(l&(1<<E)-1).toString(32),l>>=E,f-=E,qi=1<<32-Qt(r)+f|a<<f|l,Hi=m+n}else qi=1<<m|a<<f|l,Hi=n}function Ff(n){n.return!==null&&(Os(n,1),ey(n,1,0))}function Gf(n){for(;n===Zu;)Zu=Ca[--Oa],Ca[Oa]=null,ec=Ca[--Oa],Ca[Oa]=null;for(;n===Cs;)Cs=Mn[--Pn],Mn[Pn]=null,Hi=Mn[--Pn],Mn[Pn]=null,qi=Mn[--Pn],Mn[Pn]=null}var an=null,ft=null,Ge=!1,Ds=null,fi=!1,Kf=Error(s(519));function Ns(n){var r=Error(s(418,""));throw el(Dn(r,n)),Kf}function ty(n){var r=n.stateNode,a=n.type,l=n.memoizedProps;switch(r[bt]=n,r[vt]=l,a){case"dialog":Ve("cancel",r),Ve("close",r);break;case"iframe":case"object":case"embed":Ve("load",r);break;case"video":case"audio":for(a=0;a<wl.length;a++)Ve(wl[a],r);break;case"source":Ve("error",r);break;case"img":case"image":case"link":Ve("error",r),Ve("load",r);break;case"details":Ve("toggle",r);break;case"input":Ve("invalid",r),ps(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),da(r);break;case"select":Ve("invalid",r);break;case"textarea":Ve("invalid",r),gs(r,l.value,l.defaultValue,l.children),da(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||_v(r.textContent,a)?(l.popover!=null&&(Ve("beforetoggle",r),Ve("toggle",r)),l.onScroll!=null&&Ve("scroll",r),l.onScrollEnd!=null&&Ve("scrollend",r),l.onClick!=null&&(r.onclick=xc),r=!0):r=!1,r||Ns(n)}function ny(n){for(an=n.return;an;)switch(an.tag){case 5:case 13:fi=!1;return;case 27:case 3:fi=!0;return;default:an=an.return}}function Jo(n){if(n!==an)return!1;if(!Ge)return ny(n),Ge=!0,!1;var r=n.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||lm(n.type,n.memoizedProps)),a=!a),a&&ft&&Ns(n),ny(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(r===0){ft=Kn(n.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;n=n.nextSibling}ft=null}}else r===27?(r=ft,Nr(n.type)?(n=fm,fm=null,ft=n):ft=r):ft=an?Kn(n.stateNode.nextSibling):null;return!0}function Zo(){ft=an=null,Ge=!1}function iy(){var n=Ds;return n!==null&&(un===null?un=n:un.push.apply(un,n),Ds=null),n}function el(n){Ds===null?Ds=[n]:Ds.push(n)}var $f=ie(null),Ms=null,Fi=null;function gr(n,r,a){se($f,r._currentValue),r._currentValue=a}function Gi(n){n._currentValue=$f.current,ue($f)}function Qf(n,r,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),n===a)break;n=n.return}}function Yf(n,r,a,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var m=f.dependencies;if(m!==null){var E=f.child;m=m.firstContext;e:for(;m!==null;){var T=m;m=f;for(var I=0;I<r.length;I++)if(T.context===r[I]){m.lanes|=a,T=m.alternate,T!==null&&(T.lanes|=a),Qf(m.return,a,n),l||(E=null);break e}m=T.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(s(341));E.lanes|=a,m=E.alternate,m!==null&&(m.lanes|=a),Qf(E,a,n),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===n){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function tl(n,r,a,l){n=null;for(var f=r,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var T=f.type;pn(f.pendingProps.value,E.value)||(n!==null?n.push(T):n=[T])}}else if(f===Me.current){if(E=f.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(Dl):n=[Dl])}f=f.return}n!==null&&Yf(r,n,a,l),r.flags|=262144}function tc(n){for(n=n.firstContext;n!==null;){if(!pn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Ps(n){Ms=n,Fi=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Yt(n){return ry(Ms,n)}function nc(n,r){return Ms===null&&Ps(n),ry(n,r)}function ry(n,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Fi===null){if(n===null)throw Error(s(308));Fi=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else Fi=Fi.next=r;return a}var eb=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){r.aborted=!0,n.forEach(function(a){return a()})}},tb=i.unstable_scheduleCallback,nb=i.unstable_NormalPriority,Ct={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xf(){return{controller:new eb,data:new Map,refCount:0}}function nl(n){n.refCount--,n.refCount===0&&tb(nb,function(){n.controller.abort()})}var il=null,Wf=0,Da=0,Na=null;function ib(n,r){if(il===null){var a=il=[];Wf=0,Da=Zd(),Na={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Wf++,r.then(sy,sy),r}function sy(){if(--Wf===0&&il!==null){Na!==null&&(Na.status="fulfilled");var n=il;il=null,Da=0,Na=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function rb(n,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var ay=X.S;X.S=function(n,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&ib(n,r),ay!==null&&ay(n,r)};var xs=ie(null);function Jf(){var n=xs.current;return n!==null?n:nt.pooledCache}function ic(n,r){r===null?se(xs,xs.current):se(xs,r.pool)}function oy(){var n=Jf();return n===null?null:{parent:Ct._currentValue,pool:n}}var rl=Error(s(460)),ly=Error(s(474)),rc=Error(s(542)),Zf={then:function(){}};function uy(n){return n=n.status,n==="fulfilled"||n==="rejected"}function sc(){}function cy(n,r,a){switch(a=n[a],a===void 0?n.push(r):a!==r&&(r.then(sc,sc),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,fy(n),n;default:if(typeof r.status=="string")r.then(sc,sc);else{if(n=nt,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=r,n.status="pending",n.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,fy(n),n}throw sl=r,rl}}var sl=null;function hy(){if(sl===null)throw Error(s(459));var n=sl;return sl=null,n}function fy(n){if(n===rl||n===rc)throw Error(s(483))}var yr=!1;function ed(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function td(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function _r(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function vr(n,r,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(Ye&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=Wu(n),Jg(n,null,a),r}return Xu(n,l,r,a),Wu(n)}function al(n,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,xo(n,a)}}function nd(n,r){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?f=m=E:m=m.next=E,a=a.next}while(a!==null);m===null?f=m=r:m=m.next=r}else f=m=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=r:n.next=r,a.lastBaseUpdate=r}var id=!1;function ol(){if(id){var n=Na;if(n!==null)throw n}}function ll(n,r,a,l){id=!1;var f=n.updateQueue;yr=!1;var m=f.firstBaseUpdate,E=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var I=T,q=I.next;I.next=null,E===null?m=q:E.next=q,E=I;var J=n.alternate;J!==null&&(J=J.updateQueue,T=J.lastBaseUpdate,T!==E&&(T===null?J.firstBaseUpdate=q:T.next=q,J.lastBaseUpdate=I))}if(m!==null){var te=f.baseState;E=0,J=q=I=null,T=m;do{var H=T.lane&-536870913,F=H!==T.lane;if(F?(je&H)===H:(l&H)===H){H!==0&&H===Da&&(id=!0),J!==null&&(J=J.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Se=n,ve=T;H=r;var et=a;switch(ve.tag){case 1:if(Se=ve.payload,typeof Se=="function"){te=Se.call(et,te,H);break e}te=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=ve.payload,H=typeof Se=="function"?Se.call(et,te,H):Se,H==null)break e;te=_({},te,H);break e;case 2:yr=!0}}H=T.callback,H!==null&&(n.flags|=64,F&&(n.flags|=8192),F=f.callbacks,F===null?f.callbacks=[H]:F.push(H))}else F={lane:H,tag:T.tag,payload:T.payload,callback:T.callback,next:null},J===null?(q=J=F,I=te):J=J.next=F,E|=H;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;F=T,T=F.next,F.next=null,f.lastBaseUpdate=F,f.shared.pending=null}}while(!0);J===null&&(I=te),f.baseState=I,f.firstBaseUpdate=q,f.lastBaseUpdate=J,m===null&&(f.shared.lanes=0),Ir|=E,n.lanes=E,n.memoizedState=te}}function dy(n,r){if(typeof n!="function")throw Error(s(191,n));n.call(r)}function my(n,r){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)dy(a[n],r)}var Ma=ie(null),ac=ie(0);function py(n,r){n=Ji,se(ac,n),se(Ma,r),Ji=n|r.baseLanes}function rd(){se(ac,Ji),se(Ma,Ma.current)}function sd(){Ji=ac.current,ue(Ma),ue(ac)}var Er=0,De=null,Je=null,Tt=null,oc=!1,Pa=!1,Vs=!1,lc=0,ul=0,xa=null,sb=0;function gt(){throw Error(s(321))}function ad(n,r){if(r===null)return!1;for(var a=0;a<r.length&&a<n.length;a++)if(!pn(n[a],r[a]))return!1;return!0}function od(n,r,a,l,f,m){return Er=m,De=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,X.H=n===null||n.memoizedState===null?Jy:Zy,Vs=!1,m=a(l,f),Vs=!1,Pa&&(m=yy(r,a,l,f)),gy(n),m}function gy(n){X.H=mc;var r=Je!==null&&Je.next!==null;if(Er=0,Tt=Je=De=null,oc=!1,ul=0,xa=null,r)throw Error(s(300));n===null||xt||(n=n.dependencies,n!==null&&tc(n)&&(xt=!0))}function yy(n,r,a,l){De=n;var f=0;do{if(Pa&&(xa=null),ul=0,Pa=!1,25<=f)throw Error(s(301));if(f+=1,Tt=Je=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}X.H=fb,m=r(a,l)}while(Pa);return m}function ab(){var n=X.H,r=n.useState()[0];return r=typeof r.then=="function"?cl(r):r,n=n.useState()[0],(Je!==null?Je.memoizedState:null)!==n&&(De.flags|=1024),r}function ld(){var n=lc!==0;return lc=0,n}function ud(n,r,a){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~a}function cd(n){if(oc){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}oc=!1}Er=0,Tt=Je=De=null,Pa=!1,ul=lc=0,xa=null}function on(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?De.memoizedState=Tt=n:Tt=Tt.next=n,Tt}function At(){if(Je===null){var n=De.alternate;n=n!==null?n.memoizedState:null}else n=Je.next;var r=Tt===null?De.memoizedState:Tt.next;if(r!==null)Tt=r,Je=n;else{if(n===null)throw De.alternate===null?Error(s(467)):Error(s(310));Je=n,n={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},Tt===null?De.memoizedState=Tt=n:Tt=Tt.next=n}return Tt}function hd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cl(n){var r=ul;return ul+=1,xa===null&&(xa=[]),n=cy(xa,n,r),r=De,(Tt===null?r.memoizedState:Tt.next)===null&&(r=r.alternate,X.H=r===null||r.memoizedState===null?Jy:Zy),n}function uc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return cl(n);if(n.$$typeof===G)return Yt(n)}throw Error(s(438,String(n)))}function fd(n){var r=null,a=De.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=De.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=hd(),De.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(n),l=0;l<n;l++)a[l]=N;return r.index++,a}function Ki(n,r){return typeof r=="function"?r(n):r}function cc(n){var r=At();return dd(r,Je,n)}function dd(n,r,a){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=n.baseQueue,m=l.pending;if(m!==null){if(f!==null){var E=f.next;f.next=m.next,m.next=E}r.baseQueue=f=m,l.pending=null}if(m=n.baseState,f===null)n.memoizedState=m;else{r=f.next;var T=E=null,I=null,q=r,J=!1;do{var te=q.lane&-536870913;if(te!==q.lane?(je&te)===te:(Er&te)===te){var H=q.revertLane;if(H===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),te===Da&&(J=!0);else if((Er&H)===H){q=q.next,H===Da&&(J=!0);continue}else te={lane:0,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},I===null?(T=I=te,E=m):I=I.next=te,De.lanes|=H,Ir|=H;te=q.action,Vs&&a(m,te),m=q.hasEagerState?q.eagerState:a(m,te)}else H={lane:te,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},I===null?(T=I=H,E=m):I=I.next=H,De.lanes|=te,Ir|=te;q=q.next}while(q!==null&&q!==r);if(I===null?E=m:I.next=T,!pn(m,n.memoizedState)&&(xt=!0,J&&(a=Na,a!==null)))throw a;n.memoizedState=m,n.baseState=E,n.baseQueue=I,l.lastRenderedState=m}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function md(n){var r=At(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var l=a.dispatch,f=a.pending,m=r.memoizedState;if(f!==null){a.pending=null;var E=f=f.next;do m=n(m,E.action),E=E.next;while(E!==f);pn(m,r.memoizedState)||(xt=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),a.lastRenderedState=m}return[m,l]}function _y(n,r,a){var l=De,f=At(),m=Ge;if(m){if(a===void 0)throw Error(s(407));a=a()}else a=r();var E=!pn((Je||f).memoizedState,a);E&&(f.memoizedState=a,xt=!0),f=f.queue;var T=Ty.bind(null,l,f,n);if(hl(2048,8,T,[n]),f.getSnapshot!==r||E||Tt!==null&&Tt.memoizedState.tag&1){if(l.flags|=2048,Va(9,hc(),Ey.bind(null,l,f,a,r),null),nt===null)throw Error(s(349));m||(Er&124)!==0||vy(l,r,a)}return a}function vy(n,r,a){n.flags|=16384,n={getSnapshot:r,value:a},r=De.updateQueue,r===null?(r=hd(),De.updateQueue=r,r.stores=[n]):(a=r.stores,a===null?r.stores=[n]:a.push(n))}function Ey(n,r,a,l){r.value=a,r.getSnapshot=l,Ay(r)&&Sy(n)}function Ty(n,r,a){return a(function(){Ay(r)&&Sy(n)})}function Ay(n){var r=n.getSnapshot;n=n.value;try{var a=r();return!pn(n,a)}catch{return!0}}function Sy(n){var r=Ra(n,2);r!==null&&Tn(r,n,2)}function pd(n){var r=on();if(typeof n=="function"){var a=n;if(n=a(),Vs){dn(!0);try{a()}finally{dn(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:n},r}function wy(n,r,a,l){return n.baseState=a,dd(n,Je,typeof l=="function"?l:Ki)}function ob(n,r,a,l,f){if(dc(n))throw Error(s(485));if(n=r.action,n!==null){var m={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){m.listeners.push(E)}};X.T!==null?a(!0):m.isTransition=!1,l(m),a=r.pending,a===null?(m.next=r.pending=m,by(r,m)):(m.next=a.next,r.pending=a.next=m)}}function by(n,r){var a=r.action,l=r.payload,f=n.state;if(r.isTransition){var m=X.T,E={};X.T=E;try{var T=a(f,l),I=X.S;I!==null&&I(E,T),Ry(n,r,T)}catch(q){gd(n,r,q)}finally{X.T=m}}else try{m=a(f,l),Ry(n,r,m)}catch(q){gd(n,r,q)}}function Ry(n,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Iy(n,r,l)},function(l){return gd(n,r,l)}):Iy(n,r,a)}function Iy(n,r,a){r.status="fulfilled",r.value=a,Cy(r),n.state=a,r=n.pending,r!==null&&(a=r.next,a===r?n.pending=null:(a=a.next,r.next=a,by(n,a)))}function gd(n,r,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,Cy(r),r=r.next;while(r!==l)}n.action=null}function Cy(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function Oy(n,r){return r}function Dy(n,r){if(Ge){var a=nt.formState;if(a!==null){e:{var l=De;if(Ge){if(ft){t:{for(var f=ft,m=fi;f.nodeType!==8;){if(!m){f=null;break t}if(f=Kn(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){ft=Kn(f.nextSibling),l=f.data==="F!";break e}}Ns(l)}l=!1}l&&(r=a[0])}}return a=on(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oy,lastRenderedState:r},a.queue=l,a=Yy.bind(null,De,l),l.dispatch=a,l=pd(!1),m=Td.bind(null,De,!1,l.queue),l=on(),f={state:r,dispatch:null,action:n,pending:null},l.queue=f,a=ob.bind(null,De,f,m,a),f.dispatch=a,l.memoizedState=n,[r,a,!1]}function Ny(n){var r=At();return My(r,Je,n)}function My(n,r,a){if(r=dd(n,r,Oy)[0],n=cc(Ki)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=cl(r)}catch(E){throw E===rl?rc:E}else l=r;r=At();var f=r.queue,m=f.dispatch;return a!==r.memoizedState&&(De.flags|=2048,Va(9,hc(),lb.bind(null,f,a),null)),[l,m,n]}function lb(n,r){n.action=r}function Py(n){var r=At(),a=Je;if(a!==null)return My(r,a,n);At(),r=r.memoizedState,a=At();var l=a.queue.dispatch;return a.memoizedState=n,[r,l,!1]}function Va(n,r,a,l){return n={tag:n,create:a,deps:l,inst:r,next:null},r=De.updateQueue,r===null&&(r=hd(),De.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,r.lastEffect=n),n}function hc(){return{destroy:void 0,resource:void 0}}function xy(){return At().memoizedState}function fc(n,r,a,l){var f=on();l=l===void 0?null:l,De.flags|=n,f.memoizedState=Va(1|r,hc(),a,l)}function hl(n,r,a,l){var f=At();l=l===void 0?null:l;var m=f.memoizedState.inst;Je!==null&&l!==null&&ad(l,Je.memoizedState.deps)?f.memoizedState=Va(r,m,a,l):(De.flags|=n,f.memoizedState=Va(1|r,m,a,l))}function Vy(n,r){fc(8390656,8,n,r)}function ky(n,r){hl(2048,8,n,r)}function Ly(n,r){return hl(4,2,n,r)}function Uy(n,r){return hl(4,4,n,r)}function By(n,r){if(typeof r=="function"){n=n();var a=r(n);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function zy(n,r,a){a=a!=null?a.concat([n]):null,hl(4,4,By.bind(null,r,n),a)}function yd(){}function jy(n,r){var a=At();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&ad(r,l[1])?l[0]:(a.memoizedState=[n,r],n)}function qy(n,r){var a=At();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&ad(r,l[1]))return l[0];if(l=n(),Vs){dn(!0);try{n()}finally{dn(!1)}}return a.memoizedState=[l,r],l}function _d(n,r,a){return a===void 0||(Er&1073741824)!==0?n.memoizedState=r:(n.memoizedState=a,n=G_(),De.lanes|=n,Ir|=n,a)}function Hy(n,r,a,l){return pn(a,r)?a:Ma.current!==null?(n=_d(n,a,l),pn(n,r)||(xt=!0),n):(Er&42)===0?(xt=!0,n.memoizedState=a):(n=G_(),De.lanes|=n,Ir|=n,r)}function Fy(n,r,a,l,f){var m=le.p;le.p=m!==0&&8>m?m:8;var E=X.T,T={};X.T=T,Td(n,!1,r,a);try{var I=f(),q=X.S;if(q!==null&&q(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var J=rb(I,l);fl(n,r,J,En(n))}else fl(n,r,l,En(n))}catch(te){fl(n,r,{then:function(){},status:"rejected",reason:te},En())}finally{le.p=m,X.T=E}}function ub(){}function vd(n,r,a,l){if(n.tag!==5)throw Error(s(476));var f=Gy(n).queue;Fy(n,f,r,pe,a===null?ub:function(){return Ky(n),a(l)})}function Gy(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:pe},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:a},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function Ky(n){var r=Gy(n).next.queue;fl(n,r,{},En())}function Ed(){return Yt(Dl)}function $y(){return At().memoizedState}function Qy(){return At().memoizedState}function cb(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var a=En();n=_r(a);var l=vr(r,n,a);l!==null&&(Tn(l,r,a),al(l,r,a)),r={cache:Xf()},n.payload=r;return}r=r.return}}function hb(n,r,a){var l=En();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},dc(n)?Xy(r,a):(a=zf(n,r,a,l),a!==null&&(Tn(a,n,l),Wy(a,r,l)))}function Yy(n,r,a){var l=En();fl(n,r,a,l)}function fl(n,r,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(dc(n))Xy(r,f);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var E=r.lastRenderedState,T=m(E,a);if(f.hasEagerState=!0,f.eagerState=T,pn(T,E))return Xu(n,r,f,0),nt===null&&Yu(),!1}catch{}finally{}if(a=zf(n,r,f,l),a!==null)return Tn(a,n,l),Wy(a,r,l),!0}return!1}function Td(n,r,a,l){if(l={lane:2,revertLane:Zd(),action:l,hasEagerState:!1,eagerState:null,next:null},dc(n)){if(r)throw Error(s(479))}else r=zf(n,a,l,2),r!==null&&Tn(r,n,2)}function dc(n){var r=n.alternate;return n===De||r!==null&&r===De}function Xy(n,r){Pa=oc=!0;var a=n.pending;a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r}function Wy(n,r,a){if((a&4194048)!==0){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,xo(n,a)}}var mc={readContext:Yt,use:uc,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useLayoutEffect:gt,useInsertionEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useSyncExternalStore:gt,useId:gt,useHostTransitionStatus:gt,useFormState:gt,useActionState:gt,useOptimistic:gt,useMemoCache:gt,useCacheRefresh:gt},Jy={readContext:Yt,use:uc,useCallback:function(n,r){return on().memoizedState=[n,r===void 0?null:r],n},useContext:Yt,useEffect:Vy,useImperativeHandle:function(n,r,a){a=a!=null?a.concat([n]):null,fc(4194308,4,By.bind(null,r,n),a)},useLayoutEffect:function(n,r){return fc(4194308,4,n,r)},useInsertionEffect:function(n,r){fc(4,2,n,r)},useMemo:function(n,r){var a=on();r=r===void 0?null:r;var l=n();if(Vs){dn(!0);try{n()}finally{dn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(n,r,a){var l=on();if(a!==void 0){var f=a(r);if(Vs){dn(!0);try{a(r)}finally{dn(!1)}}}else f=r;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=hb.bind(null,De,n),[l.memoizedState,n]},useRef:function(n){var r=on();return n={current:n},r.memoizedState=n},useState:function(n){n=pd(n);var r=n.queue,a=Yy.bind(null,De,r);return r.dispatch=a,[n.memoizedState,a]},useDebugValue:yd,useDeferredValue:function(n,r){var a=on();return _d(a,n,r)},useTransition:function(){var n=pd(!1);return n=Fy.bind(null,De,n.queue,!0,!1),on().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,a){var l=De,f=on();if(Ge){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),nt===null)throw Error(s(349));(je&124)!==0||vy(l,r,a)}f.memoizedState=a;var m={value:a,getSnapshot:r};return f.queue=m,Vy(Ty.bind(null,l,m,n),[n]),l.flags|=2048,Va(9,hc(),Ey.bind(null,l,m,a,r),null),a},useId:function(){var n=on(),r=nt.identifierPrefix;if(Ge){var a=Hi,l=qi;a=(l&~(1<<32-Qt(l)-1)).toString(32)+a,r=""+r+"R"+a,a=lc++,0<a&&(r+="H"+a.toString(32)),r+=""}else a=sb++,r=""+r+"r"+a.toString(32)+"";return n.memoizedState=r},useHostTransitionStatus:Ed,useFormState:Dy,useActionState:Dy,useOptimistic:function(n){var r=on();r.memoizedState=r.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Td.bind(null,De,!0,a),a.dispatch=r,[n,r]},useMemoCache:fd,useCacheRefresh:function(){return on().memoizedState=cb.bind(null,De)}},Zy={readContext:Yt,use:uc,useCallback:jy,useContext:Yt,useEffect:ky,useImperativeHandle:zy,useInsertionEffect:Ly,useLayoutEffect:Uy,useMemo:qy,useReducer:cc,useRef:xy,useState:function(){return cc(Ki)},useDebugValue:yd,useDeferredValue:function(n,r){var a=At();return Hy(a,Je.memoizedState,n,r)},useTransition:function(){var n=cc(Ki)[0],r=At().memoizedState;return[typeof n=="boolean"?n:cl(n),r]},useSyncExternalStore:_y,useId:$y,useHostTransitionStatus:Ed,useFormState:Ny,useActionState:Ny,useOptimistic:function(n,r){var a=At();return wy(a,Je,n,r)},useMemoCache:fd,useCacheRefresh:Qy},fb={readContext:Yt,use:uc,useCallback:jy,useContext:Yt,useEffect:ky,useImperativeHandle:zy,useInsertionEffect:Ly,useLayoutEffect:Uy,useMemo:qy,useReducer:md,useRef:xy,useState:function(){return md(Ki)},useDebugValue:yd,useDeferredValue:function(n,r){var a=At();return Je===null?_d(a,n,r):Hy(a,Je.memoizedState,n,r)},useTransition:function(){var n=md(Ki)[0],r=At().memoizedState;return[typeof n=="boolean"?n:cl(n),r]},useSyncExternalStore:_y,useId:$y,useHostTransitionStatus:Ed,useFormState:Py,useActionState:Py,useOptimistic:function(n,r){var a=At();return Je!==null?wy(a,Je,n,r):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:fd,useCacheRefresh:Qy},ka=null,dl=0;function pc(n){var r=dl;return dl+=1,ka===null&&(ka=[]),cy(ka,n,r)}function ml(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function gc(n,r){throw r.$$typeof===A?Error(s(525)):(n=Object.prototype.toString.call(r),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function e_(n){var r=n._init;return r(n._payload)}function t_(n){function r(U,x){if(n){var z=U.deletions;z===null?(U.deletions=[x],U.flags|=16):z.push(x)}}function a(U,x){if(!n)return null;for(;x!==null;)r(U,x),x=x.sibling;return null}function l(U){for(var x=new Map;U!==null;)U.key!==null?x.set(U.key,U):x.set(U.index,U),U=U.sibling;return x}function f(U,x){return U=ji(U,x),U.index=0,U.sibling=null,U}function m(U,x,z){return U.index=z,n?(z=U.alternate,z!==null?(z=z.index,z<x?(U.flags|=67108866,x):z):(U.flags|=67108866,x)):(U.flags|=1048576,x)}function E(U){return n&&U.alternate===null&&(U.flags|=67108866),U}function T(U,x,z,Z){return x===null||x.tag!==6?(x=qf(z,U.mode,Z),x.return=U,x):(x=f(x,z),x.return=U,x)}function I(U,x,z,Z){var fe=z.type;return fe===O?J(U,x,z.props.children,Z,z.key):x!==null&&(x.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===w&&e_(fe)===x.type)?(x=f(x,z.props),ml(x,z),x.return=U,x):(x=Ju(z.type,z.key,z.props,null,U.mode,Z),ml(x,z),x.return=U,x)}function q(U,x,z,Z){return x===null||x.tag!==4||x.stateNode.containerInfo!==z.containerInfo||x.stateNode.implementation!==z.implementation?(x=Hf(z,U.mode,Z),x.return=U,x):(x=f(x,z.children||[]),x.return=U,x)}function J(U,x,z,Z,fe){return x===null||x.tag!==7?(x=Is(z,U.mode,Z,fe),x.return=U,x):(x=f(x,z),x.return=U,x)}function te(U,x,z){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=qf(""+x,U.mode,z),x.return=U,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case b:return z=Ju(x.type,x.key,x.props,null,U.mode,z),ml(z,x),z.return=U,z;case P:return x=Hf(x,U.mode,z),x.return=U,x;case w:var Z=x._init;return x=Z(x._payload),te(U,x,z)}if(it(x)||L(x))return x=Is(x,U.mode,z,null),x.return=U,x;if(typeof x.then=="function")return te(U,pc(x),z);if(x.$$typeof===G)return te(U,nc(U,x),z);gc(U,x)}return null}function H(U,x,z,Z){var fe=x!==null?x.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return fe!==null?null:T(U,x,""+z,Z);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case b:return z.key===fe?I(U,x,z,Z):null;case P:return z.key===fe?q(U,x,z,Z):null;case w:return fe=z._init,z=fe(z._payload),H(U,x,z,Z)}if(it(z)||L(z))return fe!==null?null:J(U,x,z,Z,null);if(typeof z.then=="function")return H(U,x,pc(z),Z);if(z.$$typeof===G)return H(U,x,nc(U,z),Z);gc(U,z)}return null}function F(U,x,z,Z,fe){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return U=U.get(z)||null,T(x,U,""+Z,fe);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case b:return U=U.get(Z.key===null?z:Z.key)||null,I(x,U,Z,fe);case P:return U=U.get(Z.key===null?z:Z.key)||null,q(x,U,Z,fe);case w:var Pe=Z._init;return Z=Pe(Z._payload),F(U,x,z,Z,fe)}if(it(Z)||L(Z))return U=U.get(z)||null,J(x,U,Z,fe,null);if(typeof Z.then=="function")return F(U,x,z,pc(Z),fe);if(Z.$$typeof===G)return F(U,x,z,nc(x,Z),fe);gc(x,Z)}return null}function Se(U,x,z,Z){for(var fe=null,Pe=null,ge=x,Te=x=0,kt=null;ge!==null&&Te<z.length;Te++){ge.index>Te?(kt=ge,ge=null):kt=ge.sibling;var Fe=H(U,ge,z[Te],Z);if(Fe===null){ge===null&&(ge=kt);break}n&&ge&&Fe.alternate===null&&r(U,ge),x=m(Fe,x,Te),Pe===null?fe=Fe:Pe.sibling=Fe,Pe=Fe,ge=kt}if(Te===z.length)return a(U,ge),Ge&&Os(U,Te),fe;if(ge===null){for(;Te<z.length;Te++)ge=te(U,z[Te],Z),ge!==null&&(x=m(ge,x,Te),Pe===null?fe=ge:Pe.sibling=ge,Pe=ge);return Ge&&Os(U,Te),fe}for(ge=l(ge);Te<z.length;Te++)kt=F(ge,U,Te,z[Te],Z),kt!==null&&(n&&kt.alternate!==null&&ge.delete(kt.key===null?Te:kt.key),x=m(kt,x,Te),Pe===null?fe=kt:Pe.sibling=kt,Pe=kt);return n&&ge.forEach(function(kr){return r(U,kr)}),Ge&&Os(U,Te),fe}function ve(U,x,z,Z){if(z==null)throw Error(s(151));for(var fe=null,Pe=null,ge=x,Te=x=0,kt=null,Fe=z.next();ge!==null&&!Fe.done;Te++,Fe=z.next()){ge.index>Te?(kt=ge,ge=null):kt=ge.sibling;var kr=H(U,ge,Fe.value,Z);if(kr===null){ge===null&&(ge=kt);break}n&&ge&&kr.alternate===null&&r(U,ge),x=m(kr,x,Te),Pe===null?fe=kr:Pe.sibling=kr,Pe=kr,ge=kt}if(Fe.done)return a(U,ge),Ge&&Os(U,Te),fe;if(ge===null){for(;!Fe.done;Te++,Fe=z.next())Fe=te(U,Fe.value,Z),Fe!==null&&(x=m(Fe,x,Te),Pe===null?fe=Fe:Pe.sibling=Fe,Pe=Fe);return Ge&&Os(U,Te),fe}for(ge=l(ge);!Fe.done;Te++,Fe=z.next())Fe=F(ge,U,Te,Fe.value,Z),Fe!==null&&(n&&Fe.alternate!==null&&ge.delete(Fe.key===null?Te:Fe.key),x=m(Fe,x,Te),Pe===null?fe=Fe:Pe.sibling=Fe,Pe=Fe);return n&&ge.forEach(function(dR){return r(U,dR)}),Ge&&Os(U,Te),fe}function et(U,x,z,Z){if(typeof z=="object"&&z!==null&&z.type===O&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case b:e:{for(var fe=z.key;x!==null;){if(x.key===fe){if(fe=z.type,fe===O){if(x.tag===7){a(U,x.sibling),Z=f(x,z.props.children),Z.return=U,U=Z;break e}}else if(x.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===w&&e_(fe)===x.type){a(U,x.sibling),Z=f(x,z.props),ml(Z,z),Z.return=U,U=Z;break e}a(U,x);break}else r(U,x);x=x.sibling}z.type===O?(Z=Is(z.props.children,U.mode,Z,z.key),Z.return=U,U=Z):(Z=Ju(z.type,z.key,z.props,null,U.mode,Z),ml(Z,z),Z.return=U,U=Z)}return E(U);case P:e:{for(fe=z.key;x!==null;){if(x.key===fe)if(x.tag===4&&x.stateNode.containerInfo===z.containerInfo&&x.stateNode.implementation===z.implementation){a(U,x.sibling),Z=f(x,z.children||[]),Z.return=U,U=Z;break e}else{a(U,x);break}else r(U,x);x=x.sibling}Z=Hf(z,U.mode,Z),Z.return=U,U=Z}return E(U);case w:return fe=z._init,z=fe(z._payload),et(U,x,z,Z)}if(it(z))return Se(U,x,z,Z);if(L(z)){if(fe=L(z),typeof fe!="function")throw Error(s(150));return z=fe.call(z),ve(U,x,z,Z)}if(typeof z.then=="function")return et(U,x,pc(z),Z);if(z.$$typeof===G)return et(U,x,nc(U,z),Z);gc(U,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,x!==null&&x.tag===6?(a(U,x.sibling),Z=f(x,z),Z.return=U,U=Z):(a(U,x),Z=qf(z,U.mode,Z),Z.return=U,U=Z),E(U)):a(U,x)}return function(U,x,z,Z){try{dl=0;var fe=et(U,x,z,Z);return ka=null,fe}catch(ge){if(ge===rl||ge===rc)throw ge;var Pe=gn(29,ge,null,U.mode);return Pe.lanes=Z,Pe.return=U,Pe}finally{}}}var La=t_(!0),n_=t_(!1),xn=ie(null),di=null;function Tr(n){var r=n.alternate;se(Ot,Ot.current&1),se(xn,n),di===null&&(r===null||Ma.current!==null||r.memoizedState!==null)&&(di=n)}function i_(n){if(n.tag===22){if(se(Ot,Ot.current),se(xn,n),di===null){var r=n.alternate;r!==null&&r.memoizedState!==null&&(di=n)}}else Ar()}function Ar(){se(Ot,Ot.current),se(xn,xn.current)}function $i(n){ue(xn),di===n&&(di=null),ue(Ot)}var Ot=ie(0);function yc(n){for(var r=n;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||hm(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Ad(n,r,a,l){r=n.memoizedState,a=a(l,r),a=a==null?r:_({},r,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Sd={enqueueSetState:function(n,r,a){n=n._reactInternals;var l=En(),f=_r(l);f.payload=r,a!=null&&(f.callback=a),r=vr(n,f,l),r!==null&&(Tn(r,n,l),al(r,n,l))},enqueueReplaceState:function(n,r,a){n=n._reactInternals;var l=En(),f=_r(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=vr(n,f,l),r!==null&&(Tn(r,n,l),al(r,n,l))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var a=En(),l=_r(a);l.tag=2,r!=null&&(l.callback=r),r=vr(n,l,a),r!==null&&(Tn(r,n,a),al(r,n,a))}};function r_(n,r,a,l,f,m,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,m,E):r.prototype&&r.prototype.isPureReactComponent?!Xo(a,l)||!Xo(f,m):!0}function s_(n,r,a,l){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==n&&Sd.enqueueReplaceState(r,r.state,null)}function ks(n,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(n=n.defaultProps){a===r&&(a=_({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}var _c=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function a_(n){_c(n)}function o_(n){console.error(n)}function l_(n){_c(n)}function vc(n,r){try{var a=n.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function u_(n,r,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function wd(n,r,a){return a=_r(a),a.tag=3,a.payload={element:null},a.callback=function(){vc(n,r)},a}function c_(n){return n=_r(n),n.tag=3,n}function h_(n,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var m=l.value;n.payload=function(){return f(m)},n.callback=function(){u_(r,a,l)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){u_(r,a,l),typeof f!="function"&&(Cr===null?Cr=new Set([this]):Cr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function db(n,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&tl(r,a,f,!0),a=xn.current,a!==null){switch(a.tag){case 13:return di===null?Qd():a.alternate===null&&dt===0&&(dt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Zf?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Xd(n,l,f)),!1;case 22:return a.flags|=65536,l===Zf?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Xd(n,l,f)),!1}throw Error(s(435,a.tag))}return Xd(n,l,f),Qd(),!1}if(Ge)return r=xn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==Kf&&(n=Error(s(422),{cause:l}),el(Dn(n,a)))):(l!==Kf&&(r=Error(s(423),{cause:l}),el(Dn(r,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=Dn(l,a),f=wd(n.stateNode,l,f),nd(n,f),dt!==4&&(dt=2)),!1;var m=Error(s(520),{cause:l});if(m=Dn(m,a),Tl===null?Tl=[m]:Tl.push(m),dt!==4&&(dt=2),r===null)return!0;l=Dn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=wd(a.stateNode,l,n),nd(a,n),!1;case 1:if(r=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Cr===null||!Cr.has(m))))return a.flags|=65536,f&=-f,a.lanes|=f,f=c_(f),h_(f,n,a,l),nd(a,f),!1}a=a.return}while(a!==null);return!1}var f_=Error(s(461)),xt=!1;function zt(n,r,a,l){r.child=n===null?n_(r,null,a,l):La(r,n.child,a,l)}function d_(n,r,a,l,f){a=a.render;var m=r.ref;if("ref"in l){var E={};for(var T in l)T!=="ref"&&(E[T]=l[T])}else E=l;return Ps(r),l=od(n,r,a,E,m,f),T=ld(),n!==null&&!xt?(ud(n,r,f),Qi(n,r,f)):(Ge&&T&&Ff(r),r.flags|=1,zt(n,r,l,f),r.child)}function m_(n,r,a,l,f){if(n===null){var m=a.type;return typeof m=="function"&&!jf(m)&&m.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=m,p_(n,r,m,l,f)):(n=Ju(a.type,null,l,r,r.mode,f),n.ref=r.ref,n.return=r,r.child=n)}if(m=n.child,!Md(n,f)){var E=m.memoizedProps;if(a=a.compare,a=a!==null?a:Xo,a(E,l)&&n.ref===r.ref)return Qi(n,r,f)}return r.flags|=1,n=ji(m,l),n.ref=r.ref,n.return=r,r.child=n}function p_(n,r,a,l,f){if(n!==null){var m=n.memoizedProps;if(Xo(m,l)&&n.ref===r.ref)if(xt=!1,r.pendingProps=l=m,Md(n,f))(n.flags&131072)!==0&&(xt=!0);else return r.lanes=n.lanes,Qi(n,r,f)}return bd(n,r,a,l,f)}function g_(n,r,a){var l=r.pendingProps,f=l.children,m=n!==null?n.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=m!==null?m.baseLanes|a:a,n!==null){for(f=r.child=n.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;r.childLanes=m&~l}else r.childLanes=0,r.child=null;return y_(n,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&ic(r,m!==null?m.cachePool:null),m!==null?py(r,m):rd(),i_(r);else return r.lanes=r.childLanes=536870912,y_(n,r,m!==null?m.baseLanes|a:a,a)}else m!==null?(ic(r,m.cachePool),py(r,m),Ar(),r.memoizedState=null):(n!==null&&ic(r,null),rd(),Ar());return zt(n,r,f,a),r.child}function y_(n,r,a,l){var f=Jf();return f=f===null?null:{parent:Ct._currentValue,pool:f},r.memoizedState={baseLanes:a,cachePool:f},n!==null&&ic(r,null),rd(),i_(r),n!==null&&tl(n,r,l,!0),null}function Ec(n,r){var a=r.ref;if(a===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(r.flags|=4194816)}}function bd(n,r,a,l,f){return Ps(r),a=od(n,r,a,l,void 0,f),l=ld(),n!==null&&!xt?(ud(n,r,f),Qi(n,r,f)):(Ge&&l&&Ff(r),r.flags|=1,zt(n,r,a,f),r.child)}function __(n,r,a,l,f,m){return Ps(r),r.updateQueue=null,a=yy(r,l,a,f),gy(n),l=ld(),n!==null&&!xt?(ud(n,r,m),Qi(n,r,m)):(Ge&&l&&Ff(r),r.flags|=1,zt(n,r,a,m),r.child)}function v_(n,r,a,l,f){if(Ps(r),r.stateNode===null){var m=Ia,E=a.contextType;typeof E=="object"&&E!==null&&(m=Yt(E)),m=new a(l,m),r.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Sd,r.stateNode=m,m._reactInternals=r,m=r.stateNode,m.props=l,m.state=r.memoizedState,m.refs={},ed(r),E=a.contextType,m.context=typeof E=="object"&&E!==null?Yt(E):Ia,m.state=r.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(Ad(r,a,E,l),m.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(E=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),E!==m.state&&Sd.enqueueReplaceState(m,m.state,null),ll(r,l,m,f),ol(),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(n===null){m=r.stateNode;var T=r.memoizedProps,I=ks(a,T);m.props=I;var q=m.context,J=a.contextType;E=Ia,typeof J=="object"&&J!==null&&(E=Yt(J));var te=a.getDerivedStateFromProps;J=typeof te=="function"||typeof m.getSnapshotBeforeUpdate=="function",T=r.pendingProps!==T,J||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T||q!==E)&&s_(r,m,l,E),yr=!1;var H=r.memoizedState;m.state=H,ll(r,l,m,f),ol(),q=r.memoizedState,T||H!==q||yr?(typeof te=="function"&&(Ad(r,a,te,l),q=r.memoizedState),(I=yr||r_(r,a,I,l,H,q,E))?(J||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(r.flags|=4194308)):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=q),m.props=l,m.state=q,m.context=E,l=I):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{m=r.stateNode,td(n,r),E=r.memoizedProps,J=ks(a,E),m.props=J,te=r.pendingProps,H=m.context,q=a.contextType,I=Ia,typeof q=="object"&&q!==null&&(I=Yt(q)),T=a.getDerivedStateFromProps,(q=typeof T=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(E!==te||H!==I)&&s_(r,m,l,I),yr=!1,H=r.memoizedState,m.state=H,ll(r,l,m,f),ol();var F=r.memoizedState;E!==te||H!==F||yr||n!==null&&n.dependencies!==null&&tc(n.dependencies)?(typeof T=="function"&&(Ad(r,a,T,l),F=r.memoizedState),(J=yr||r_(r,a,J,l,H,F,I)||n!==null&&n.dependencies!==null&&tc(n.dependencies))?(q||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,F,I),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,F,I)),typeof m.componentDidUpdate=="function"&&(r.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof m.componentDidUpdate!="function"||E===n.memoizedProps&&H===n.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&H===n.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=F),m.props=l,m.state=F,m.context=I,l=J):(typeof m.componentDidUpdate!="function"||E===n.memoizedProps&&H===n.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&H===n.memoizedState||(r.flags|=1024),l=!1)}return m=l,Ec(n,r),l=(r.flags&128)!==0,m||l?(m=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),r.flags|=1,n!==null&&l?(r.child=La(r,n.child,null,f),r.child=La(r,null,a,f)):zt(n,r,a,f),r.memoizedState=m.state,n=r.child):n=Qi(n,r,f),n}function E_(n,r,a,l){return Zo(),r.flags|=256,zt(n,r,a,l),r.child}var Rd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Id(n){return{baseLanes:n,cachePool:oy()}}function Cd(n,r,a){return n=n!==null?n.childLanes&~a:0,r&&(n|=Vn),n}function T_(n,r,a){var l=r.pendingProps,f=!1,m=(r.flags&128)!==0,E;if((E=m)||(E=n!==null&&n.memoizedState===null?!1:(Ot.current&2)!==0),E&&(f=!0,r.flags&=-129),E=(r.flags&32)!==0,r.flags&=-33,n===null){if(Ge){if(f?Tr(r):Ar(),Ge){var T=ft,I;if(I=T){e:{for(I=T,T=fi;I.nodeType!==8;){if(!T){T=null;break e}if(I=Kn(I.nextSibling),I===null){T=null;break e}}T=I}T!==null?(r.memoizedState={dehydrated:T,treeContext:Cs!==null?{id:qi,overflow:Hi}:null,retryLane:536870912,hydrationErrors:null},I=gn(18,null,null,0),I.stateNode=T,I.return=r,r.child=I,an=r,ft=null,I=!0):I=!1}I||Ns(r)}if(T=r.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return hm(T)?r.lanes=32:r.lanes=536870912,null;$i(r)}return T=l.children,l=l.fallback,f?(Ar(),f=r.mode,T=Tc({mode:"hidden",children:T},f),l=Is(l,f,a,null),T.return=r,l.return=r,T.sibling=l,r.child=T,f=r.child,f.memoizedState=Id(a),f.childLanes=Cd(n,E,a),r.memoizedState=Rd,l):(Tr(r),Od(r,T))}if(I=n.memoizedState,I!==null&&(T=I.dehydrated,T!==null)){if(m)r.flags&256?(Tr(r),r.flags&=-257,r=Dd(n,r,a)):r.memoizedState!==null?(Ar(),r.child=n.child,r.flags|=128,r=null):(Ar(),f=l.fallback,T=r.mode,l=Tc({mode:"visible",children:l.children},T),f=Is(f,T,a,null),f.flags|=2,l.return=r,f.return=r,l.sibling=f,r.child=l,La(r,n.child,null,a),l=r.child,l.memoizedState=Id(a),l.childLanes=Cd(n,E,a),r.memoizedState=Rd,r=f);else if(Tr(r),hm(T)){if(E=T.nextSibling&&T.nextSibling.dataset,E)var q=E.dgst;E=q,l=Error(s(419)),l.stack="",l.digest=E,el({value:l,source:null,stack:null}),r=Dd(n,r,a)}else if(xt||tl(n,r,a,!1),E=(a&n.childLanes)!==0,xt||E){if(E=nt,E!==null&&(l=a&-a,l=(l&42)!==0?1:ur(l),l=(l&(E.suspendedLanes|a))!==0?0:l,l!==0&&l!==I.retryLane))throw I.retryLane=l,Ra(n,l),Tn(E,n,l),f_;T.data==="$?"||Qd(),r=Dd(n,r,a)}else T.data==="$?"?(r.flags|=192,r.child=n.child,r=null):(n=I.treeContext,ft=Kn(T.nextSibling),an=r,Ge=!0,Ds=null,fi=!1,n!==null&&(Mn[Pn++]=qi,Mn[Pn++]=Hi,Mn[Pn++]=Cs,qi=n.id,Hi=n.overflow,Cs=r),r=Od(r,l.children),r.flags|=4096);return r}return f?(Ar(),f=l.fallback,T=r.mode,I=n.child,q=I.sibling,l=ji(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,q!==null?f=ji(q,f):(f=Is(f,T,a,null),f.flags|=2),f.return=r,l.return=r,l.sibling=f,r.child=l,l=f,f=r.child,T=n.child.memoizedState,T===null?T=Id(a):(I=T.cachePool,I!==null?(q=Ct._currentValue,I=I.parent!==q?{parent:q,pool:q}:I):I=oy(),T={baseLanes:T.baseLanes|a,cachePool:I}),f.memoizedState=T,f.childLanes=Cd(n,E,a),r.memoizedState=Rd,l):(Tr(r),a=n.child,n=a.sibling,a=ji(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,n!==null&&(E=r.deletions,E===null?(r.deletions=[n],r.flags|=16):E.push(n)),r.child=a,r.memoizedState=null,a)}function Od(n,r){return r=Tc({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function Tc(n,r){return n=gn(22,n,null,r),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Dd(n,r,a){return La(r,n.child,null,a),n=Od(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function A_(n,r,a){n.lanes|=r;var l=n.alternate;l!==null&&(l.lanes|=r),Qf(n.return,r,a)}function Nd(n,r,a,l,f){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(m.isBackwards=r,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=a,m.tailMode=f)}function S_(n,r,a){var l=r.pendingProps,f=l.revealOrder,m=l.tail;if(zt(n,r,l.children,a),l=Ot.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&A_(n,a,r);else if(n.tag===19)A_(n,a,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(se(Ot,l),f){case"forwards":for(a=r.child,f=null;a!==null;)n=a.alternate,n!==null&&yc(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),Nd(r,!1,f,a,m);break;case"backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(n=f.alternate,n!==null&&yc(n)===null){r.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}Nd(r,!0,a,null,m);break;case"together":Nd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Qi(n,r,a){if(n!==null&&(r.dependencies=n.dependencies),Ir|=r.lanes,(a&r.childLanes)===0)if(n!==null){if(tl(n,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(s(153));if(r.child!==null){for(n=r.child,a=ji(n,n.pendingProps),r.child=a,a.return=r;n.sibling!==null;)n=n.sibling,a=a.sibling=ji(n,n.pendingProps),a.return=r;a.sibling=null}return r.child}function Md(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&tc(n)))}function mb(n,r,a){switch(r.tag){case 3:Ue(r,r.stateNode.containerInfo),gr(r,Ct,n.memoizedState.cache),Zo();break;case 27:case 5:zn(r);break;case 4:Ue(r,r.stateNode.containerInfo);break;case 10:gr(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Tr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?T_(n,r,a):(Tr(r),n=Qi(n,r,a),n!==null?n.sibling:null);Tr(r);break;case 19:var f=(n.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(tl(n,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return S_(n,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),se(Ot,Ot.current),l)break;return null;case 22:case 23:return r.lanes=0,g_(n,r,a);case 24:gr(r,Ct,n.memoizedState.cache)}return Qi(n,r,a)}function w_(n,r,a){if(n!==null)if(n.memoizedProps!==r.pendingProps)xt=!0;else{if(!Md(n,a)&&(r.flags&128)===0)return xt=!1,mb(n,r,a);xt=(n.flags&131072)!==0}else xt=!1,Ge&&(r.flags&1048576)!==0&&ey(r,ec,r.index);switch(r.lanes=0,r.tag){case 16:e:{n=r.pendingProps;var l=r.elementType,f=l._init;if(l=f(l._payload),r.type=l,typeof l=="function")jf(l)?(n=ks(l,n),r.tag=1,r=v_(null,r,l,n,a)):(r.tag=0,r=bd(null,r,l,n,a));else{if(l!=null){if(f=l.$$typeof,f===ae){r.tag=11,r=d_(null,r,l,n,a);break e}else if(f===D){r.tag=14,r=m_(null,r,l,n,a);break e}}throw r=ot(l)||l,Error(s(306,r,""))}}return r;case 0:return bd(n,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=ks(l,r.pendingProps),v_(n,r,l,f,a);case 3:e:{if(Ue(r,r.stateNode.containerInfo),n===null)throw Error(s(387));l=r.pendingProps;var m=r.memoizedState;f=m.element,td(n,r),ll(r,l,null,a);var E=r.memoizedState;if(l=E.cache,gr(r,Ct,l),l!==m.cache&&Yf(r,[Ct],a,!0),ol(),l=E.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:E.cache},r.updateQueue.baseState=m,r.memoizedState=m,r.flags&256){r=E_(n,r,l,a);break e}else if(l!==f){f=Dn(Error(s(424)),r),el(f),r=E_(n,r,l,a);break e}else{switch(n=r.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(ft=Kn(n.firstChild),an=r,Ge=!0,Ds=null,fi=!0,a=n_(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Zo(),l===f){r=Qi(n,r,a);break e}zt(n,r,l,a)}r=r.child}return r;case 26:return Ec(n,r),n===null?(a=Cv(r.type,null,r.pendingProps,null))?r.memoizedState=a:Ge||(a=r.type,n=r.pendingProps,l=Vc(Ee.current).createElement(a),l[bt]=r,l[vt]=n,qt(l,a,n),pt(l),r.stateNode=l):r.memoizedState=Cv(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return zn(r),n===null&&Ge&&(l=r.stateNode=bv(r.type,r.pendingProps,Ee.current),an=r,fi=!0,f=ft,Nr(r.type)?(fm=f,ft=Kn(l.firstChild)):ft=f),zt(n,r,r.pendingProps.children,a),Ec(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&Ge&&((f=l=ft)&&(l=qb(l,r.type,r.pendingProps,fi),l!==null?(r.stateNode=l,an=r,ft=Kn(l.firstChild),fi=!1,f=!0):f=!1),f||Ns(r)),zn(r),f=r.type,m=r.pendingProps,E=n!==null?n.memoizedProps:null,l=m.children,lm(f,m)?l=null:E!==null&&lm(f,E)&&(r.flags|=32),r.memoizedState!==null&&(f=od(n,r,ab,null,null,a),Dl._currentValue=f),Ec(n,r),zt(n,r,l,a),r.child;case 6:return n===null&&Ge&&((n=a=ft)&&(a=Hb(a,r.pendingProps,fi),a!==null?(r.stateNode=a,an=r,ft=null,n=!0):n=!1),n||Ns(r)),null;case 13:return T_(n,r,a);case 4:return Ue(r,r.stateNode.containerInfo),l=r.pendingProps,n===null?r.child=La(r,null,l,a):zt(n,r,l,a),r.child;case 11:return d_(n,r,r.type,r.pendingProps,a);case 7:return zt(n,r,r.pendingProps,a),r.child;case 8:return zt(n,r,r.pendingProps.children,a),r.child;case 12:return zt(n,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,gr(r,r.type,l.value),zt(n,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,Ps(r),f=Yt(f),l=l(f),r.flags|=1,zt(n,r,l,a),r.child;case 14:return m_(n,r,r.type,r.pendingProps,a);case 15:return p_(n,r,r.type,r.pendingProps,a);case 19:return S_(n,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},n===null?(a=Tc(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=ji(n.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return g_(n,r,a);case 24:return Ps(r),l=Yt(Ct),n===null?(f=Jf(),f===null&&(f=nt,m=Xf(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=a),f=m),r.memoizedState={parent:l,cache:f},ed(r),gr(r,Ct,f)):((n.lanes&a)!==0&&(td(n,r),ll(r,null,null,a),ol()),f=n.memoizedState,m=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),gr(r,Ct,l)):(l=m.cache,gr(r,Ct,l),l!==f.cache&&Yf(r,[Ct],a,!0))),zt(n,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Yi(n){n.flags|=4}function b_(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Pv(r)){if(r=xn.current,r!==null&&((je&4194048)===je?di!==null:(je&62914560)!==je&&(je&536870912)===0||r!==di))throw sl=Zf,ly;n.flags|=8192}}function Ac(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?Mo():536870912,n.lanes|=r,ja|=r)}function pl(n,r){if(!Ge)switch(n.tailMode){case"hidden":r=n.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function lt(n){var r=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(r)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=a,r}function pb(n,r,a){var l=r.pendingProps;switch(Gf(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(r),null;case 1:return lt(r),null;case 3:return a=r.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Gi(Ct),$t(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(Jo(r)?Yi(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,iy())),lt(r),null;case 26:return a=r.memoizedState,n===null?(Yi(r),a!==null?(lt(r),b_(r,a)):(lt(r),r.flags&=-16777217)):a?a!==n.memoizedState?(Yi(r),lt(r),b_(r,a)):(lt(r),r.flags&=-16777217):(n.memoizedProps!==l&&Yi(r),lt(r),r.flags&=-16777217),null;case 27:Ci(r),a=Ee.current;var f=r.type;if(n!==null&&r.stateNode!=null)n.memoizedProps!==l&&Yi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return lt(r),null}n=ye.current,Jo(r)?ty(r):(n=bv(f,l,a),r.stateNode=n,Yi(r))}return lt(r),null;case 5:if(Ci(r),a=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==l&&Yi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return lt(r),null}if(n=ye.current,Jo(r))ty(r);else{switch(f=Vc(Ee.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}n[bt]=r,n[vt]=l;e:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break e;for(;f.sibling===null;){if(f.return===null||f.return===r)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=n;e:switch(qt(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Yi(r)}}return lt(r),r.flags&=-16777217,null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==l&&Yi(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(n=Ee.current,Jo(r)){if(n=r.stateNode,a=r.memoizedProps,l=null,f=an,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[bt]=r,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||_v(n.nodeValue,a)),n||Ns(r)}else n=Vc(n).createTextNode(l),n[bt]=r,r.stateNode=n}return lt(r),null;case 13:if(l=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=Jo(r),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[bt]=r}else Zo(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;lt(r),f=!1}else f=iy(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?($i(r),r):($i(r),null)}if($i(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var m=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==f&&(l.flags|=2048)}return a!==n&&a&&(r.child.flags|=8192),Ac(r,r.updateQueue),lt(r),null;case 4:return $t(),n===null&&im(r.stateNode.containerInfo),lt(r),null;case 10:return Gi(r.type),lt(r),null;case 19:if(ue(Ot),f=r.memoizedState,f===null)return lt(r),null;if(l=(r.flags&128)!==0,m=f.rendering,m===null)if(l)pl(f,!1);else{if(dt!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(m=yc(n),m!==null){for(r.flags|=128,pl(f,!1),n=m.updateQueue,r.updateQueue=n,Ac(r,n),r.subtreeFlags=0,n=a,a=r.child;a!==null;)Zg(a,n),a=a.sibling;return se(Ot,Ot.current&1|2),r.child}n=n.sibling}f.tail!==null&&wn()>bc&&(r.flags|=128,l=!0,pl(f,!1),r.lanes=4194304)}else{if(!l)if(n=yc(m),n!==null){if(r.flags|=128,l=!0,n=n.updateQueue,r.updateQueue=n,Ac(r,n),pl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!Ge)return lt(r),null}else 2*wn()-f.renderingStartTime>bc&&a!==536870912&&(r.flags|=128,l=!0,pl(f,!1),r.lanes=4194304);f.isBackwards?(m.sibling=r.child,r.child=m):(n=f.last,n!==null?n.sibling=m:r.child=m,f.last=m)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=wn(),r.sibling=null,n=Ot.current,se(Ot,l?n&1|2:n&1),r):(lt(r),null);case 22:case 23:return $i(r),sd(),l=r.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(lt(r),r.subtreeFlags&6&&(r.flags|=8192)):lt(r),a=r.updateQueue,a!==null&&Ac(r,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),n!==null&&ue(xs),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Gi(Ct),lt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function gb(n,r){switch(Gf(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return Gi(Ct),$t(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return Ci(r),null;case 13:if($i(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Zo()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return ue(Ot),null;case 4:return $t(),null;case 10:return Gi(r.type),null;case 22:case 23:return $i(r),sd(),n!==null&&ue(xs),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return Gi(Ct),null;case 25:return null;default:return null}}function R_(n,r){switch(Gf(r),r.tag){case 3:Gi(Ct),$t();break;case 26:case 27:case 5:Ci(r);break;case 4:$t();break;case 13:$i(r);break;case 19:ue(Ot);break;case 10:Gi(r.type);break;case 22:case 23:$i(r),sd(),n!==null&&ue(xs);break;case 24:Gi(Ct)}}function gl(n,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&n)===n){l=void 0;var m=a.create,E=a.inst;l=m(),E.destroy=l}a=a.next}while(a!==f)}}catch(T){tt(r,r.return,T)}}function Sr(n,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var m=f.next;l=m;do{if((l.tag&n)===n){var E=l.inst,T=E.destroy;if(T!==void 0){E.destroy=void 0,f=r;var I=a,q=T;try{q()}catch(J){tt(f,I,J)}}}l=l.next}while(l!==m)}}catch(J){tt(r,r.return,J)}}function I_(n){var r=n.updateQueue;if(r!==null){var a=n.stateNode;try{my(r,a)}catch(l){tt(n,n.return,l)}}}function C_(n,r,a){a.props=ks(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){tt(n,r,l)}}function yl(n,r){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(f){tt(n,r,f)}}function mi(n,r){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){tt(n,r,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){tt(n,r,f)}else a.current=null}function O_(n){var r=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){tt(n,n.return,f)}}function Pd(n,r,a){try{var l=n.stateNode;Lb(l,n.type,a,r),l[vt]=r}catch(f){tt(n,n.return,f)}}function D_(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Nr(n.type)||n.tag===4}function xd(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||D_(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Nr(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Vd(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(n),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=xc));else if(l!==4&&(l===27&&Nr(n.type)&&(a=n.stateNode,r=null),n=n.child,n!==null))for(Vd(n,r,a),n=n.sibling;n!==null;)Vd(n,r,a),n=n.sibling}function Sc(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?a.insertBefore(n,r):a.appendChild(n);else if(l!==4&&(l===27&&Nr(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(Sc(n,r,a),n=n.sibling;n!==null;)Sc(n,r,a),n=n.sibling}function N_(n){var r=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);qt(r,l,a),r[bt]=n,r[vt]=a}catch(m){tt(n,n.return,m)}}var Xi=!1,yt=!1,kd=!1,M_=typeof WeakSet=="function"?WeakSet:Set,Vt=null;function yb(n,r){if(n=n.containerInfo,am=jc,n=Hg(n),xf(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var E=0,T=-1,I=-1,q=0,J=0,te=n,H=null;t:for(;;){for(var F;te!==a||f!==0&&te.nodeType!==3||(T=E+f),te!==m||l!==0&&te.nodeType!==3||(I=E+l),te.nodeType===3&&(E+=te.nodeValue.length),(F=te.firstChild)!==null;)H=te,te=F;for(;;){if(te===n)break t;if(H===a&&++q===f&&(T=E),H===m&&++J===l&&(I=E),(F=te.nextSibling)!==null)break;te=H,H=te.parentNode}te=F}a=T===-1||I===-1?null:{start:T,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(om={focusedElem:n,selectionRange:a},jc=!1,Vt=r;Vt!==null;)if(r=Vt,n=r.child,(r.subtreeFlags&1024)!==0&&n!==null)n.return=r,Vt=n;else for(;Vt!==null;){switch(r=Vt,m=r.alternate,n=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&m!==null){n=void 0,a=r,f=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var Se=ks(a.type,f,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(Se,m),l.__reactInternalSnapshotBeforeUpdate=n}catch(ve){tt(a,a.return,ve)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,a=n.nodeType,a===9)cm(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":cm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=r.sibling,n!==null){n.return=r.return,Vt=n;break}Vt=r.return}}function P_(n,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:wr(n,a),l&4&&gl(5,a);break;case 1:if(wr(n,a),l&4)if(n=a.stateNode,r===null)try{n.componentDidMount()}catch(E){tt(a,a.return,E)}else{var f=ks(a.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(f,r,n.__reactInternalSnapshotBeforeUpdate)}catch(E){tt(a,a.return,E)}}l&64&&I_(a),l&512&&yl(a,a.return);break;case 3:if(wr(n,a),l&64&&(n=a.updateQueue,n!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{my(n,r)}catch(E){tt(a,a.return,E)}}break;case 27:r===null&&l&4&&N_(a);case 26:case 5:wr(n,a),r===null&&l&4&&O_(a),l&512&&yl(a,a.return);break;case 12:wr(n,a);break;case 13:wr(n,a),l&4&&k_(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=Rb.bind(null,a),Fb(n,a))));break;case 22:if(l=a.memoizedState!==null||Xi,!l){r=r!==null&&r.memoizedState!==null||yt,f=Xi;var m=yt;Xi=l,(yt=r)&&!m?br(n,a,(a.subtreeFlags&8772)!==0):wr(n,a),Xi=f,yt=m}break;case 30:break;default:wr(n,a)}}function x_(n){var r=n.alternate;r!==null&&(n.alternate=null,x_(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&fr(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var at=null,ln=!1;function Wi(n,r,a){for(a=a.child;a!==null;)V_(n,r,a),a=a.sibling}function V_(n,r,a){if(Qe&&typeof Qe.onCommitFiberUnmount=="function")try{Qe.onCommitFiberUnmount(ht,a)}catch{}switch(a.tag){case 26:yt||mi(a,r),Wi(n,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:yt||mi(a,r);var l=at,f=ln;Nr(a.type)&&(at=a.stateNode,ln=!1),Wi(n,r,a),Rl(a.stateNode),at=l,ln=f;break;case 5:yt||mi(a,r);case 6:if(l=at,f=ln,at=null,Wi(n,r,a),at=l,ln=f,at!==null)if(ln)try{(at.nodeType===9?at.body:at.nodeName==="HTML"?at.ownerDocument.body:at).removeChild(a.stateNode)}catch(m){tt(a,r,m)}else try{at.removeChild(a.stateNode)}catch(m){tt(a,r,m)}break;case 18:at!==null&&(ln?(n=at,Sv(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),xl(n)):Sv(at,a.stateNode));break;case 4:l=at,f=ln,at=a.stateNode.containerInfo,ln=!0,Wi(n,r,a),at=l,ln=f;break;case 0:case 11:case 14:case 15:yt||Sr(2,a,r),yt||Sr(4,a,r),Wi(n,r,a);break;case 1:yt||(mi(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&C_(a,r,l)),Wi(n,r,a);break;case 21:Wi(n,r,a);break;case 22:yt=(l=yt)||a.memoizedState!==null,Wi(n,r,a),yt=l;break;default:Wi(n,r,a)}}function k_(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{xl(n)}catch(a){tt(r,r.return,a)}}function _b(n){switch(n.tag){case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new M_),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new M_),r;default:throw Error(s(435,n.tag))}}function Ld(n,r){var a=_b(n);r.forEach(function(l){var f=Ib.bind(null,n,l);a.has(l)||(a.add(l),l.then(f,f))})}function yn(n,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],m=n,E=r,T=E;e:for(;T!==null;){switch(T.tag){case 27:if(Nr(T.type)){at=T.stateNode,ln=!1;break e}break;case 5:at=T.stateNode,ln=!1;break e;case 3:case 4:at=T.stateNode.containerInfo,ln=!0;break e}T=T.return}if(at===null)throw Error(s(160));V_(m,E,f),at=null,ln=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)L_(r,n),r=r.sibling}var Gn=null;function L_(n,r){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:yn(r,n),_n(n),l&4&&(Sr(3,n,n.return),gl(3,n),Sr(5,n,n.return));break;case 1:yn(r,n),_n(n),l&512&&(yt||a===null||mi(a,a.return)),l&64&&Xi&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Gn;if(yn(r,n),_n(n),l&512&&(yt||a===null||mi(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":m=f.getElementsByTagName("title")[0],(!m||m[hs]||m[bt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(l),f.head.insertBefore(m,f.querySelector("head > title"))),qt(m,l,a),m[bt]=n,pt(m),l=m;break e;case"link":var E=Nv("link","href",f).get(l+(a.href||""));if(E){for(var T=0;T<E.length;T++)if(m=E[T],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(T,1);break t}}m=f.createElement(l),qt(m,l,a),f.head.appendChild(m);break;case"meta":if(E=Nv("meta","content",f).get(l+(a.content||""))){for(T=0;T<E.length;T++)if(m=E[T],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(T,1);break t}}m=f.createElement(l),qt(m,l,a),f.head.appendChild(m);break;default:throw Error(s(468,l))}m[bt]=n,pt(m),l=m}n.stateNode=l}else Mv(f,n.type,n.stateNode);else n.stateNode=Dv(f,l,n.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?Mv(f,n.type,n.stateNode):Dv(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&Pd(n,n.memoizedProps,a.memoizedProps)}break;case 27:yn(r,n),_n(n),l&512&&(yt||a===null||mi(a,a.return)),a!==null&&l&4&&Pd(n,n.memoizedProps,a.memoizedProps);break;case 5:if(yn(r,n),_n(n),l&512&&(yt||a===null||mi(a,a.return)),n.flags&32){f=n.stateNode;try{Rn(f,"")}catch(F){tt(n,n.return,F)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,Pd(n,f,a!==null?a.memoizedProps:f)),l&1024&&(kd=!0);break;case 6:if(yn(r,n),_n(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(F){tt(n,n.return,F)}}break;case 3:if(Uc=null,f=Gn,Gn=kc(r.containerInfo),yn(r,n),Gn=f,_n(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{xl(r.containerInfo)}catch(F){tt(n,n.return,F)}kd&&(kd=!1,U_(n));break;case 4:l=Gn,Gn=kc(n.stateNode.containerInfo),yn(r,n),_n(n),Gn=l;break;case 12:yn(r,n),_n(n);break;case 13:yn(r,n),_n(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Hd=wn()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Ld(n,l)));break;case 22:f=n.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,q=Xi,J=yt;if(Xi=q||f,yt=J||I,yn(r,n),yt=J,Xi=q,_n(n),l&8192)e:for(r=n.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||I||Xi||yt||Ls(n)),a=null,r=n;;){if(r.tag===5||r.tag===26){if(a===null){I=a=r;try{if(m=I.stateNode,f)E=m.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{T=I.stateNode;var te=I.memoizedProps.style,H=te!=null&&te.hasOwnProperty("display")?te.display:null;T.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(F){tt(I,I.return,F)}}}else if(r.tag===6){if(a===null){I=r;try{I.stateNode.nodeValue=f?"":I.memoizedProps}catch(F){tt(I,I.return,F)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Ld(n,a))));break;case 19:yn(r,n),_n(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Ld(n,l)));break;case 30:break;case 21:break;default:yn(r,n),_n(n)}}function _n(n){var r=n.flags;if(r&2){try{for(var a,l=n.return;l!==null;){if(D_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,m=xd(n);Sc(n,m,f);break;case 5:var E=a.stateNode;a.flags&32&&(Rn(E,""),a.flags&=-33);var T=xd(n);Sc(n,T,E);break;case 3:case 4:var I=a.stateNode.containerInfo,q=xd(n);Vd(n,q,I);break;default:throw Error(s(161))}}catch(J){tt(n,n.return,J)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function U_(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;U_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function wr(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)P_(n,r.alternate,r),r=r.sibling}function Ls(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:Sr(4,r,r.return),Ls(r);break;case 1:mi(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&C_(r,r.return,a),Ls(r);break;case 27:Rl(r.stateNode);case 26:case 5:mi(r,r.return),Ls(r);break;case 22:r.memoizedState===null&&Ls(r);break;case 30:Ls(r);break;default:Ls(r)}n=n.sibling}}function br(n,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=n,m=r,E=m.flags;switch(m.tag){case 0:case 11:case 15:br(f,m,a),gl(4,m);break;case 1:if(br(f,m,a),l=m,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(q){tt(l,l.return,q)}if(l=m,f=l.updateQueue,f!==null){var T=l.stateNode;try{var I=f.shared.hiddenCallbacks;if(I!==null)for(f.shared.hiddenCallbacks=null,f=0;f<I.length;f++)dy(I[f],T)}catch(q){tt(l,l.return,q)}}a&&E&64&&I_(m),yl(m,m.return);break;case 27:N_(m);case 26:case 5:br(f,m,a),a&&l===null&&E&4&&O_(m),yl(m,m.return);break;case 12:br(f,m,a);break;case 13:br(f,m,a),a&&E&4&&k_(f,m);break;case 22:m.memoizedState===null&&br(f,m,a),yl(m,m.return);break;case 30:break;default:br(f,m,a)}r=r.sibling}}function Ud(n,r){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&nl(a))}function Bd(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&nl(n))}function pi(n,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)B_(n,r,a,l),r=r.sibling}function B_(n,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:pi(n,r,a,l),f&2048&&gl(9,r);break;case 1:pi(n,r,a,l);break;case 3:pi(n,r,a,l),f&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&nl(n)));break;case 12:if(f&2048){pi(n,r,a,l),n=r.stateNode;try{var m=r.memoizedProps,E=m.id,T=m.onPostCommit;typeof T=="function"&&T(E,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(I){tt(r,r.return,I)}}else pi(n,r,a,l);break;case 13:pi(n,r,a,l);break;case 23:break;case 22:m=r.stateNode,E=r.alternate,r.memoizedState!==null?m._visibility&2?pi(n,r,a,l):_l(n,r):m._visibility&2?pi(n,r,a,l):(m._visibility|=2,Ua(n,r,a,l,(r.subtreeFlags&10256)!==0)),f&2048&&Ud(E,r);break;case 24:pi(n,r,a,l),f&2048&&Bd(r.alternate,r);break;default:pi(n,r,a,l)}}function Ua(n,r,a,l,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var m=n,E=r,T=a,I=l,q=E.flags;switch(E.tag){case 0:case 11:case 15:Ua(m,E,T,I,f),gl(8,E);break;case 23:break;case 22:var J=E.stateNode;E.memoizedState!==null?J._visibility&2?Ua(m,E,T,I,f):_l(m,E):(J._visibility|=2,Ua(m,E,T,I,f)),f&&q&2048&&Ud(E.alternate,E);break;case 24:Ua(m,E,T,I,f),f&&q&2048&&Bd(E.alternate,E);break;default:Ua(m,E,T,I,f)}r=r.sibling}}function _l(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=n,l=r,f=l.flags;switch(l.tag){case 22:_l(a,l),f&2048&&Ud(l.alternate,l);break;case 24:_l(a,l),f&2048&&Bd(l.alternate,l);break;default:_l(a,l)}r=r.sibling}}var vl=8192;function Ba(n){if(n.subtreeFlags&vl)for(n=n.child;n!==null;)z_(n),n=n.sibling}function z_(n){switch(n.tag){case 26:Ba(n),n.flags&vl&&n.memoizedState!==null&&iR(Gn,n.memoizedState,n.memoizedProps);break;case 5:Ba(n);break;case 3:case 4:var r=Gn;Gn=kc(n.stateNode.containerInfo),Ba(n),Gn=r;break;case 22:n.memoizedState===null&&(r=n.alternate,r!==null&&r.memoizedState!==null?(r=vl,vl=16777216,Ba(n),vl=r):Ba(n));break;default:Ba(n)}}function j_(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function El(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Vt=l,H_(l,n)}j_(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)q_(n),n=n.sibling}function q_(n){switch(n.tag){case 0:case 11:case 15:El(n),n.flags&2048&&Sr(9,n,n.return);break;case 3:El(n);break;case 12:El(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,wc(n)):El(n);break;default:El(n)}}function wc(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Vt=l,H_(l,n)}j_(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:Sr(8,r,r.return),wc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,wc(r));break;default:wc(r)}n=n.sibling}}function H_(n,r){for(;Vt!==null;){var a=Vt;switch(a.tag){case 0:case 11:case 15:Sr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:nl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Vt=l;else e:for(a=n;Vt!==null;){l=Vt;var f=l.sibling,m=l.return;if(x_(l),l===a){Vt=null;break e}if(f!==null){f.return=m,Vt=f;break e}Vt=m}}}var vb={getCacheForType:function(n){var r=Yt(Ct),a=r.data.get(n);return a===void 0&&(a=n(),r.data.set(n,a)),a}},Eb=typeof WeakMap=="function"?WeakMap:Map,Ye=0,nt=null,xe=null,je=0,Xe=0,vn=null,Rr=!1,za=!1,zd=!1,Ji=0,dt=0,Ir=0,Us=0,jd=0,Vn=0,ja=0,Tl=null,un=null,qd=!1,Hd=0,bc=1/0,Rc=null,Cr=null,jt=0,Or=null,qa=null,Ha=0,Fd=0,Gd=null,F_=null,Al=0,Kd=null;function En(){if((Ye&2)!==0&&je!==0)return je&-je;if(X.T!==null){var n=Da;return n!==0?n:Zd()}return cr()}function G_(){Vn===0&&(Vn=(je&536870912)===0||Ge?No():536870912);var n=xn.current;return n!==null&&(n.flags|=32),Vn}function Tn(n,r,a){(n===nt&&(Xe===2||Xe===9)||n.cancelPendingCommit!==null)&&(Fa(n,0),Dr(n,je,Vn,!1)),Di(n,a),((Ye&2)===0||n!==nt)&&(n===nt&&((Ye&2)===0&&(Us|=a),dt===4&&Dr(n,je,Vn,!1)),gi(n))}function K_(n,r,a){if((Ye&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&n.expiredLanes)===0||cs(n,r),f=l?Sb(n,r):Yd(n,r,!0),m=l;do{if(f===0){za&&!l&&Dr(n,r,0,!1);break}else{if(a=n.current.alternate,m&&!Tb(a)){f=Yd(n,r,!1),m=!1;continue}if(f===2){if(m=r,n.errorRecoveryDisabledLanes&m)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){r=E;e:{var T=n;f=Tl;var I=T.current.memoizedState.isDehydrated;if(I&&(Fa(T,E).flags|=256),E=Yd(T,E,!1),E!==2){if(zd&&!I){T.errorRecoveryDisabledLanes|=m,Us|=m,f=4;break e}m=un,un=f,m!==null&&(un===null?un=m:un.push.apply(un,m))}f=E}if(m=!1,f!==2)continue}}if(f===1){Fa(n,0),Dr(n,r,0,!0);break}e:{switch(l=n,m=f,m){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Dr(l,r,Vn,!Rr);break e;case 2:un=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=Hd+300-wn(),10<f)){if(Dr(l,r,Vn,!Rr),oa(l,0,!0)!==0)break e;l.timeoutHandle=Tv($_.bind(null,l,a,un,Rc,qd,r,Vn,Us,ja,Rr,m,2,-0,0),f);break e}$_(l,a,un,Rc,qd,r,Vn,Us,ja,Rr,m,0,-0,0)}}break}while(!0);gi(n)}function $_(n,r,a,l,f,m,E,T,I,q,J,te,H,F){if(n.timeoutHandle=-1,te=r.subtreeFlags,(te&8192||(te&16785408)===16785408)&&(Ol={stylesheets:null,count:0,unsuspend:nR},z_(r),te=rR(),te!==null)){n.cancelPendingCommit=te(ev.bind(null,n,r,m,a,l,f,E,T,I,J,1,H,F)),Dr(n,m,E,!q);return}ev(n,r,m,a,l,f,E,T,I)}function Tb(n){for(var r=n;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],m=f.getSnapshot;f=f.value;try{if(!pn(m(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Dr(n,r,a,l){r&=~jd,r&=~Us,n.suspendedLanes|=r,n.pingedLanes&=~r,l&&(n.warmLanes|=r),l=n.expirationTimes;for(var f=r;0<f;){var m=31-Qt(f),E=1<<m;l[m]=-1,f&=~E}a!==0&&ti(n,a,r)}function Ic(){return(Ye&6)===0?(Sl(0),!1):!0}function $d(){if(xe!==null){if(Xe===0)var n=xe.return;else n=xe,Fi=Ms=null,cd(n),ka=null,dl=0,n=xe;for(;n!==null;)R_(n.alternate,n),n=n.return;xe=null}}function Fa(n,r){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,Bb(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),$d(),nt=n,xe=a=ji(n.current,null),je=r,Xe=0,vn=null,Rr=!1,za=cs(n,r),zd=!1,ja=Vn=jd=Us=Ir=dt=0,un=Tl=null,qd=!1,(r&8)!==0&&(r|=r&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=r;0<l;){var f=31-Qt(l),m=1<<f;r|=n[f],l&=~m}return Ji=r,Yu(),a}function Q_(n,r){De=null,X.H=mc,r===rl||r===rc?(r=hy(),Xe=3):r===ly?(r=hy(),Xe=4):Xe=r===f_?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,vn=r,xe===null&&(dt=1,vc(n,Dn(r,n.current)))}function Y_(){var n=X.H;return X.H=mc,n===null?mc:n}function X_(){var n=X.A;return X.A=vb,n}function Qd(){dt=4,Rr||(je&4194048)!==je&&xn.current!==null||(za=!0),(Ir&134217727)===0&&(Us&134217727)===0||nt===null||Dr(nt,je,Vn,!1)}function Yd(n,r,a){var l=Ye;Ye|=2;var f=Y_(),m=X_();(nt!==n||je!==r)&&(Rc=null,Fa(n,r)),r=!1;var E=dt;e:do try{if(Xe!==0&&xe!==null){var T=xe,I=vn;switch(Xe){case 8:$d(),E=6;break e;case 3:case 2:case 9:case 6:xn.current===null&&(r=!0);var q=Xe;if(Xe=0,vn=null,Ga(n,T,I,q),a&&za){E=0;break e}break;default:q=Xe,Xe=0,vn=null,Ga(n,T,I,q)}}Ab(),E=dt;break}catch(J){Q_(n,J)}while(!0);return r&&n.shellSuspendCounter++,Fi=Ms=null,Ye=l,X.H=f,X.A=m,xe===null&&(nt=null,je=0,Yu()),E}function Ab(){for(;xe!==null;)W_(xe)}function Sb(n,r){var a=Ye;Ye|=2;var l=Y_(),f=X_();nt!==n||je!==r?(Rc=null,bc=wn()+500,Fa(n,r)):za=cs(n,r);e:do try{if(Xe!==0&&xe!==null){r=xe;var m=vn;t:switch(Xe){case 1:Xe=0,vn=null,Ga(n,r,m,1);break;case 2:case 9:if(uy(m)){Xe=0,vn=null,J_(r);break}r=function(){Xe!==2&&Xe!==9||nt!==n||(Xe=7),gi(n)},m.then(r,r);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:uy(m)?(Xe=0,vn=null,J_(r)):(Xe=0,vn=null,Ga(n,r,m,7));break;case 5:var E=null;switch(xe.tag){case 26:E=xe.memoizedState;case 5:case 27:var T=xe;if(!E||Pv(E)){Xe=0,vn=null;var I=T.sibling;if(I!==null)xe=I;else{var q=T.return;q!==null?(xe=q,Cc(q)):xe=null}break t}}Xe=0,vn=null,Ga(n,r,m,5);break;case 6:Xe=0,vn=null,Ga(n,r,m,6);break;case 8:$d(),dt=6;break e;default:throw Error(s(462))}}wb();break}catch(J){Q_(n,J)}while(!0);return Fi=Ms=null,X.H=l,X.A=f,Ye=a,xe!==null?0:(nt=null,je=0,Yu(),dt)}function wb(){for(;xe!==null&&!Io();)W_(xe)}function W_(n){var r=w_(n.alternate,n,Ji);n.memoizedProps=n.pendingProps,r===null?Cc(n):xe=r}function J_(n){var r=n,a=r.alternate;switch(r.tag){case 15:case 0:r=__(a,r,r.pendingProps,r.type,void 0,je);break;case 11:r=__(a,r,r.pendingProps,r.type.render,r.ref,je);break;case 5:cd(r);default:R_(a,r),r=xe=Zg(r,Ji),r=w_(a,r,Ji)}n.memoizedProps=n.pendingProps,r===null?Cc(n):xe=r}function Ga(n,r,a,l){Fi=Ms=null,cd(r),ka=null,dl=0;var f=r.return;try{if(db(n,f,r,a,je)){dt=1,vc(n,Dn(a,n.current)),xe=null;return}}catch(m){if(f!==null)throw xe=f,m;dt=1,vc(n,Dn(a,n.current)),xe=null;return}r.flags&32768?(Ge||l===1?n=!0:za||(je&536870912)!==0?n=!1:(Rr=n=!0,(l===2||l===9||l===3||l===6)&&(l=xn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Z_(r,n)):Cc(r)}function Cc(n){var r=n;do{if((r.flags&32768)!==0){Z_(r,Rr);return}n=r.return;var a=pb(r.alternate,r,Ji);if(a!==null){xe=a;return}if(r=r.sibling,r!==null){xe=r;return}xe=r=n}while(r!==null);dt===0&&(dt=5)}function Z_(n,r){do{var a=gb(n.alternate,n);if(a!==null){a.flags&=32767,xe=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(n=n.sibling,n!==null)){xe=n;return}xe=n=a}while(n!==null);dt=6,xe=null}function ev(n,r,a,l,f,m,E,T,I){n.cancelPendingCommit=null;do Oc();while(jt!==0);if((Ye&6)!==0)throw Error(s(327));if(r!==null){if(r===n.current)throw Error(s(177));if(m=r.lanes|r.childLanes,m|=Bf,Po(n,a,m,E,T,I),n===nt&&(xe=nt=null,je=0),qa=r,Or=n,Ha=a,Fd=m,Gd=f,F_=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,Cb(as,function(){return sv(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,f=le.p,le.p=2,E=Ye,Ye|=4;try{yb(n,r,a)}finally{Ye=E,le.p=f,X.T=l}}jt=1,tv(),nv(),iv()}}function tv(){if(jt===1){jt=0;var n=Or,r=qa,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=X.T,X.T=null;var l=le.p;le.p=2;var f=Ye;Ye|=4;try{L_(r,n);var m=om,E=Hg(n.containerInfo),T=m.focusedElem,I=m.selectionRange;if(E!==T&&T&&T.ownerDocument&&qg(T.ownerDocument.documentElement,T)){if(I!==null&&xf(T)){var q=I.start,J=I.end;if(J===void 0&&(J=q),"selectionStart"in T)T.selectionStart=q,T.selectionEnd=Math.min(J,T.value.length);else{var te=T.ownerDocument||document,H=te&&te.defaultView||window;if(H.getSelection){var F=H.getSelection(),Se=T.textContent.length,ve=Math.min(I.start,Se),et=I.end===void 0?ve:Math.min(I.end,Se);!F.extend&&ve>et&&(E=et,et=ve,ve=E);var U=jg(T,ve),x=jg(T,et);if(U&&x&&(F.rangeCount!==1||F.anchorNode!==U.node||F.anchorOffset!==U.offset||F.focusNode!==x.node||F.focusOffset!==x.offset)){var z=te.createRange();z.setStart(U.node,U.offset),F.removeAllRanges(),ve>et?(F.addRange(z),F.extend(x.node,x.offset)):(z.setEnd(x.node,x.offset),F.addRange(z))}}}}for(te=[],F=T;F=F.parentNode;)F.nodeType===1&&te.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<te.length;T++){var Z=te[T];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}jc=!!am,om=am=null}finally{Ye=f,le.p=l,X.T=a}}n.current=r,jt=2}}function nv(){if(jt===2){jt=0;var n=Or,r=qa,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=X.T,X.T=null;var l=le.p;le.p=2;var f=Ye;Ye|=4;try{P_(n,r.alternate,r)}finally{Ye=f,le.p=l,X.T=a}}jt=3}}function iv(){if(jt===4||jt===3){jt=0,wu();var n=Or,r=qa,a=Ha,l=F_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?jt=5:(jt=0,qa=Or=null,rv(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(Cr=null),la(a),r=r.stateNode,Qe&&typeof Qe.onCommitFiberRoot=="function")try{Qe.onCommitFiberRoot(ht,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=X.T,f=le.p,le.p=2,X.T=null;try{for(var m=n.onRecoverableError,E=0;E<l.length;E++){var T=l[E];m(T.value,{componentStack:T.stack})}}finally{X.T=r,le.p=f}}(Ha&3)!==0&&Oc(),gi(n),f=n.pendingLanes,(a&4194090)!==0&&(f&42)!==0?n===Kd?Al++:(Al=0,Kd=n):Al=0,Sl(0)}}function rv(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,nl(r)))}function Oc(n){return tv(),nv(),iv(),sv()}function sv(){if(jt!==5)return!1;var n=Or,r=Fd;Fd=0;var a=la(Ha),l=X.T,f=le.p;try{le.p=32>a?32:a,X.T=null,a=Gd,Gd=null;var m=Or,E=Ha;if(jt=0,qa=Or=null,Ha=0,(Ye&6)!==0)throw Error(s(331));var T=Ye;if(Ye|=4,q_(m.current),B_(m,m.current,E,a),Ye=T,Sl(0,!1),Qe&&typeof Qe.onPostCommitFiberRoot=="function")try{Qe.onPostCommitFiberRoot(ht,m)}catch{}return!0}finally{le.p=f,X.T=l,rv(n,r)}}function av(n,r,a){r=Dn(a,r),r=wd(n.stateNode,r,2),n=vr(n,r,2),n!==null&&(Di(n,2),gi(n))}function tt(n,r,a){if(n.tag===3)av(n,n,a);else for(;r!==null;){if(r.tag===3){av(r,n,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Cr===null||!Cr.has(l))){n=Dn(a,n),a=c_(2),l=vr(r,a,2),l!==null&&(h_(a,l,r,n),Di(l,2),gi(l));break}}r=r.return}}function Xd(n,r,a){var l=n.pingCache;if(l===null){l=n.pingCache=new Eb;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(zd=!0,f.add(a),n=bb.bind(null,n,r,a),r.then(n,n))}function bb(n,r,a){var l=n.pingCache;l!==null&&l.delete(r),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,nt===n&&(je&a)===a&&(dt===4||dt===3&&(je&62914560)===je&&300>wn()-Hd?(Ye&2)===0&&Fa(n,0):jd|=a,ja===je&&(ja=0)),gi(n)}function ov(n,r){r===0&&(r=Mo()),n=Ra(n,r),n!==null&&(Di(n,r),gi(n))}function Rb(n){var r=n.memoizedState,a=0;r!==null&&(a=r.retryLane),ov(n,a)}function Ib(n,r){var a=0;switch(n.tag){case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),ov(n,a)}function Cb(n,r){return rs(n,r)}var Dc=null,Ka=null,Wd=!1,Nc=!1,Jd=!1,Bs=0;function gi(n){n!==Ka&&n.next===null&&(Ka===null?Dc=Ka=n:Ka=Ka.next=n),Nc=!0,Wd||(Wd=!0,Db())}function Sl(n,r){if(!Jd&&Nc){Jd=!0;do for(var a=!1,l=Dc;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var m=0;else{var E=l.suspendedLanes,T=l.pingedLanes;m=(1<<31-Qt(42|n)+1)-1,m&=f&~(E&~T),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,hv(l,m))}else m=je,m=oa(l,l===nt?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||cs(l,m)||(a=!0,hv(l,m));l=l.next}while(a);Jd=!1}}function Ob(){lv()}function lv(){Nc=Wd=!1;var n=0;Bs!==0&&(Ub()&&(n=Bs),Bs=0);for(var r=wn(),a=null,l=Dc;l!==null;){var f=l.next,m=uv(l,r);m===0?(l.next=null,a===null?Dc=f:a.next=f,f===null&&(Ka=a)):(a=l,(n!==0||(m&3)!==0)&&(Nc=!0)),l=f}Sl(n)}function uv(n,r){for(var a=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var E=31-Qt(m),T=1<<E,I=f[E];I===-1?((T&a)===0||(T&l)!==0)&&(f[E]=Do(T,r)):I<=r&&(n.expiredLanes|=T),m&=~T}if(r=nt,a=je,a=oa(n,n===r?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===r&&(Xe===2||Xe===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&ss(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||cs(n,a)){if(r=a&-a,r===n.callbackPriority)return r;switch(l!==null&&ss(l),la(a)){case 2:case 8:a=sa;break;case 32:a=as;break;case 268435456:a=aa;break;default:a=as}return l=cv.bind(null,n),a=rs(a,l),n.callbackPriority=r,n.callbackNode=a,r}return l!==null&&l!==null&&ss(l),n.callbackPriority=2,n.callbackNode=null,2}function cv(n,r){if(jt!==0&&jt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(Oc()&&n.callbackNode!==a)return null;var l=je;return l=oa(n,n===nt?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(K_(n,l,r),uv(n,wn()),n.callbackNode!=null&&n.callbackNode===a?cv.bind(null,n):null)}function hv(n,r){if(Oc())return null;K_(n,r,!0)}function Db(){zb(function(){(Ye&6)!==0?rs(Co,Ob):lv()})}function Zd(){return Bs===0&&(Bs=No()),Bs}function fv(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:ma(""+n)}function dv(n,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,n.id&&a.setAttribute("form",n.id),r.parentNode.insertBefore(a,r),n=new FormData(n),a.parentNode.removeChild(a),n}function Nb(n,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var m=fv((f[vt]||null).action),E=l.submitter;E&&(r=(r=E[vt]||null)?fv(r.formAction):E.getAttribute("formAction"),r!==null&&(m=r,E=null));var T=new pa("action","action",null,l,f);n.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Bs!==0){var I=E?dv(f,E):new FormData(f);vd(a,{pending:!0,data:I,method:f.method,action:m},null,I)}}else typeof m=="function"&&(T.preventDefault(),I=E?dv(f,E):new FormData(f),vd(a,{pending:!0,data:I,method:f.method,action:m},m,I))},currentTarget:f}]})}}for(var em=0;em<Uf.length;em++){var tm=Uf[em],Mb=tm.toLowerCase(),Pb=tm[0].toUpperCase()+tm.slice(1);Fn(Mb,"on"+Pb)}Fn(Kg,"onAnimationEnd"),Fn($g,"onAnimationIteration"),Fn(Qg,"onAnimationStart"),Fn("dblclick","onDoubleClick"),Fn("focusin","onFocus"),Fn("focusout","onBlur"),Fn(Xw,"onTransitionRun"),Fn(Ww,"onTransitionStart"),Fn(Jw,"onTransitionCancel"),Fn(Yg,"onTransitionEnd"),Mi("onMouseEnter",["mouseout","mouseover"]),Mi("onMouseLeave",["mouseout","mouseover"]),Mi("onPointerEnter",["pointerout","pointerover"]),Mi("onPointerLeave",["pointerout","pointerover"]),qn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),qn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),qn("onBeforeInput",["compositionend","keypress","textInput","paste"]),qn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),qn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),qn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wl));function mv(n,r){r=(r&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],f=l.event;l=l.listeners;e:{var m=void 0;if(r)for(var E=l.length-1;0<=E;E--){var T=l[E],I=T.instance,q=T.currentTarget;if(T=T.listener,I!==m&&f.isPropagationStopped())break e;m=T,f.currentTarget=q;try{m(f)}catch(J){_c(J)}f.currentTarget=null,m=I}else for(E=0;E<l.length;E++){if(T=l[E],I=T.instance,q=T.currentTarget,T=T.listener,I!==m&&f.isPropagationStopped())break e;m=T,f.currentTarget=q;try{m(f)}catch(J){_c(J)}f.currentTarget=null,m=I}}}}function Ve(n,r){var a=r[Vo];a===void 0&&(a=r[Vo]=new Set);var l=n+"__bubble";a.has(l)||(pv(r,n,2,!1),a.add(l))}function nm(n,r,a){var l=0;r&&(l|=4),pv(a,n,l,r)}var Mc="_reactListening"+Math.random().toString(36).slice(2);function im(n){if(!n[Mc]){n[Mc]=!0,ko.forEach(function(a){a!=="selectionchange"&&(xb.has(a)||nm(a,!1,n),nm(a,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[Mc]||(r[Mc]=!0,nm("selectionchange",!1,r))}}function pv(n,r,a,l){switch(Bv(r)){case 2:var f=oR;break;case 8:f=lR;break;default:f=ym}a=f.bind(null,r,a,n),f=void 0,!Cn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(r,a,{capture:!0,passive:f}):n.addEventListener(r,a,!0):f!==void 0?n.addEventListener(r,a,{passive:f}):n.addEventListener(r,a,!1)}function rm(n,r,a,l,f){var m=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var T=l.stateNode.containerInfo;if(T===f)break;if(E===4)for(E=l.return;E!==null;){var I=E.tag;if((I===3||I===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;T!==null;){if(E=Ni(T),E===null)return;if(I=E.tag,I===5||I===6||I===26||I===27){l=m=E;continue e}T=T.parentNode}}l=l.return}xu(function(){var q=m,J=In(a),te=[];e:{var H=Xg.get(n);if(H!==void 0){var F=pa,Se=n;switch(n){case"keypress":if(oi(a)===0)break e;case"keydown":case"keyup":F=Ta;break;case"focusin":Se="focus",F=_a;break;case"focusout":Se="blur",F=_a;break;case"beforeblur":case"afterblur":F=_a;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=On;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=Df;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=qu;break;case Kg:case $g:case Qg:F=va;break;case Yg:F=Fu;break;case"scroll":case"scrollend":F=Vu;break;case"wheel":F=Aa;break;case"copy":case"cut":case"paste":F=Ea;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Qo;break;case"toggle":case"beforetoggle":F=Ku}var ve=(r&4)!==0,et=!ve&&(n==="scroll"||n==="scrollend"),U=ve?H!==null?H+"Capture":null:H;ve=[];for(var x=q,z;x!==null;){var Z=x;if(z=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||z===null||U===null||(Z=_s(x,U),Z!=null&&ve.push(bl(x,Z,z))),et)break;x=x.return}0<ve.length&&(H=new F(H,Se,null,a,J),te.push({event:H,listeners:ve}))}}if((r&7)===0){e:{if(H=n==="mouseover"||n==="pointerover",F=n==="mouseout"||n==="pointerout",H&&a!==Vi&&(Se=a.relatedTarget||a.fromElement)&&(Ni(Se)||Se[bn]))break e;if((F||H)&&(H=J.window===J?J:(H=J.ownerDocument)?H.defaultView||H.parentWindow:window,F?(Se=a.relatedTarget||a.toElement,F=q,Se=Se?Ni(Se):null,Se!==null&&(et=u(Se),ve=Se.tag,Se!==et||ve!==5&&ve!==27&&ve!==6)&&(Se=null)):(F=null,Se=q),F!==Se)){if(ve=On,Z="onMouseLeave",U="onMouseEnter",x="mouse",(n==="pointerout"||n==="pointerover")&&(ve=Qo,Z="onPointerLeave",U="onPointerEnter",x="pointer"),et=F==null?H:ii(F),z=Se==null?H:ii(Se),H=new ve(Z,x+"leave",F,a,J),H.target=et,H.relatedTarget=z,Z=null,Ni(J)===q&&(ve=new ve(U,x+"enter",Se,a,J),ve.target=z,ve.relatedTarget=et,Z=ve),et=Z,F&&Se)t:{for(ve=F,U=Se,x=0,z=ve;z;z=$a(z))x++;for(z=0,Z=U;Z;Z=$a(Z))z++;for(;0<x-z;)ve=$a(ve),x--;for(;0<z-x;)U=$a(U),z--;for(;x--;){if(ve===U||U!==null&&ve===U.alternate)break t;ve=$a(ve),U=$a(U)}ve=null}else ve=null;F!==null&&gv(te,H,F,ve,!1),Se!==null&&et!==null&&gv(te,et,Se,ve,!0)}}e:{if(H=q?ii(q):window,F=H.nodeName&&H.nodeName.toLowerCase(),F==="select"||F==="input"&&H.type==="file")var fe=Vg;else if(It(H))if(kg)fe=$w;else{fe=Gw;var Pe=Fw}else F=H.nodeName,!F||F.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?q&&jo(q.elementType)&&(fe=Vg):fe=Kw;if(fe&&(fe=fe(n,q))){zi(te,fe,a,J);break e}Pe&&Pe(n,H,q),n==="focusout"&&q&&H.type==="number"&&q.memoizedProps.value!=null&&mr(H,"number",H.value)}switch(Pe=q?ii(q):window,n){case"focusin":(It(Pe)||Pe.contentEditable==="true")&&(Sa=Pe,Vf=q,Wo=null);break;case"focusout":Wo=Vf=Sa=null;break;case"mousedown":kf=!0;break;case"contextmenu":case"mouseup":case"dragend":kf=!1,Fg(te,a,J);break;case"selectionchange":if(Yw)break;case"keydown":case"keyup":Fg(te,a,J)}var ge;if(ci)e:{switch(n){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else Be?$(n,a)&&(Te="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Te="onCompositionStart");Te&&(v&&a.locale!=="ko"&&(Be||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&Be&&(ge=Ho()):(ai=J,pr="value"in ai?ai.value:ai.textContent,Be=!0)),Pe=Pc(q,Te),0<Pe.length&&(Te=new Ko(Te,n,null,a,J),te.push({event:Te,listeners:Pe}),ge?Te.data=ge:(ge=oe(a),ge!==null&&(Te.data=ge)))),(ge=y?Rt(n,a):ze(n,a))&&(Te=Pc(q,"onBeforeInput"),0<Te.length&&(Pe=new Ko("onBeforeInput","beforeinput",null,a,J),te.push({event:Pe,listeners:Te}),Pe.data=ge)),Nb(te,n,q,a,J)}mv(te,r)})}function bl(n,r,a){return{instance:n,listener:r,currentTarget:a}}function Pc(n,r){for(var a=r+"Capture",l=[];n!==null;){var f=n,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=_s(n,a),f!=null&&l.unshift(bl(n,f,m)),f=_s(n,r),f!=null&&l.push(bl(n,f,m))),n.tag===3)return l;n=n.return}return[]}function $a(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function gv(n,r,a,l,f){for(var m=r._reactName,E=[];a!==null&&a!==l;){var T=a,I=T.alternate,q=T.stateNode;if(T=T.tag,I!==null&&I===l)break;T!==5&&T!==26&&T!==27||q===null||(I=q,f?(q=_s(a,m),q!=null&&E.unshift(bl(a,q,I))):f||(q=_s(a,m),q!=null&&E.push(bl(a,q,I)))),a=a.return}E.length!==0&&n.push({event:r,listeners:E})}var Vb=/\r\n?/g,kb=/\u0000|\uFFFD/g;function yv(n){return(typeof n=="string"?n:""+n).replace(Vb,`
`).replace(kb,"")}function _v(n,r){return r=yv(r),yv(n)===r}function xc(){}function Ze(n,r,a,l,f,m){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Rn(n,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Rn(n,""+l);break;case"className":ri(n,"class",l);break;case"tabIndex":ri(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ri(n,a,l);break;case"style":zo(n,l,m);break;case"data":if(r!=="object"){ri(n,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=ma(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(r!=="input"&&Ze(n,r,"name",f.name,f,null),Ze(n,r,"formEncType",f.formEncType,f,null),Ze(n,r,"formMethod",f.formMethod,f,null),Ze(n,r,"formTarget",f.formTarget,f,null)):(Ze(n,r,"encType",f.encType,f,null),Ze(n,r,"method",f.method,f,null),Ze(n,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=ma(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=xc);break;case"onScroll":l!=null&&Ve("scroll",n);break;case"onScrollEnd":l!=null&&Ve("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=ma(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":Ve("beforetoggle",n),Ve("toggle",n),dr(n,"popover",l);break;case"xlinkActuate":Ut(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ut(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ut(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ut(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ut(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ut(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ut(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ut(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ut(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":dr(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Cf.get(a)||a,dr(n,a,l))}}function sm(n,r,a,l,f,m){switch(a){case"style":zo(n,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof l=="string"?Rn(n,l):(typeof l=="number"||typeof l=="bigint")&&Rn(n,""+l);break;case"onScroll":l!=null&&Ve("scroll",n);break;case"onScrollEnd":l!=null&&Ve("scrollend",n);break;case"onClick":l!=null&&(n.onclick=xc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ua.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),m=n[vt]||null,m=m!=null?m[a]:null,typeof m=="function"&&n.removeEventListener(r,m,f),typeof l=="function")){typeof m!="function"&&m!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(r,l,f);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):dr(n,a,l)}}}function qt(n,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",n),Ve("load",n);var l=!1,f=!1,m;for(m in a)if(a.hasOwnProperty(m)){var E=a[m];if(E!=null)switch(m){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ze(n,r,m,E,a,null)}}f&&Ze(n,r,"srcSet",a.srcSet,a,null),l&&Ze(n,r,"src",a.src,a,null);return;case"input":Ve("invalid",n);var T=m=E=f=null,I=null,q=null;for(l in a)if(a.hasOwnProperty(l)){var J=a[l];if(J!=null)switch(l){case"name":f=J;break;case"type":E=J;break;case"checked":I=J;break;case"defaultChecked":q=J;break;case"value":m=J;break;case"defaultValue":T=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,r));break;default:Ze(n,r,l,J,a,null)}}ps(n,m,T,I,q,E,f,!1),da(n);return;case"select":Ve("invalid",n),l=E=m=null;for(f in a)if(a.hasOwnProperty(f)&&(T=a[f],T!=null))switch(f){case"value":m=T;break;case"defaultValue":E=T;break;case"multiple":l=T;default:Ze(n,r,f,T,a,null)}r=m,a=E,n.multiple=!!l,r!=null?xi(n,!!l,r,!1):a!=null&&xi(n,!!l,a,!0);return;case"textarea":Ve("invalid",n),m=f=l=null;for(E in a)if(a.hasOwnProperty(E)&&(T=a[E],T!=null))switch(E){case"value":l=T;break;case"defaultValue":f=T;break;case"children":m=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Ze(n,r,E,T,a,null)}gs(n,l,f,m),da(n);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ze(n,r,I,l,a,null)}return;case"dialog":Ve("beforetoggle",n),Ve("toggle",n),Ve("cancel",n),Ve("close",n);break;case"iframe":case"object":Ve("load",n);break;case"video":case"audio":for(l=0;l<wl.length;l++)Ve(wl[l],n);break;case"image":Ve("error",n),Ve("load",n);break;case"details":Ve("toggle",n);break;case"embed":case"source":case"link":Ve("error",n),Ve("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(l=a[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ze(n,r,q,l,a,null)}return;default:if(jo(r)){for(J in a)a.hasOwnProperty(J)&&(l=a[J],l!==void 0&&sm(n,r,J,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Ze(n,r,T,l,a,null))}function Lb(n,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,E=null,T=null,I=null,q=null,J=null;for(F in a){var te=a[F];if(a.hasOwnProperty(F)&&te!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":I=te;default:l.hasOwnProperty(F)||Ze(n,r,F,null,l,te)}}for(var H in l){var F=l[H];if(te=a[H],l.hasOwnProperty(H)&&(F!=null||te!=null))switch(H){case"type":m=F;break;case"name":f=F;break;case"checked":q=F;break;case"defaultChecked":J=F;break;case"value":E=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,r));break;default:F!==te&&Ze(n,r,H,F,l,te)}}mn(n,E,T,I,q,J,m,f);return;case"select":F=E=T=H=null;for(m in a)if(I=a[m],a.hasOwnProperty(m)&&I!=null)switch(m){case"value":break;case"multiple":F=I;default:l.hasOwnProperty(m)||Ze(n,r,m,null,l,I)}for(f in l)if(m=l[f],I=a[f],l.hasOwnProperty(f)&&(m!=null||I!=null))switch(f){case"value":H=m;break;case"defaultValue":T=m;break;case"multiple":E=m;default:m!==I&&Ze(n,r,f,m,l,I)}r=T,a=E,l=F,H!=null?xi(n,!!a,H,!1):!!l!=!!a&&(r!=null?xi(n,!!a,r,!0):xi(n,!!a,a?[]:"",!1));return;case"textarea":F=H=null;for(T in a)if(f=a[T],a.hasOwnProperty(T)&&f!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Ze(n,r,T,null,l,f)}for(E in l)if(f=l[E],m=a[E],l.hasOwnProperty(E)&&(f!=null||m!=null))switch(E){case"value":H=f;break;case"defaultValue":F=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==m&&Ze(n,r,E,f,l,m)}We(n,H,F);return;case"option":for(var Se in a)if(H=a[Se],a.hasOwnProperty(Se)&&H!=null&&!l.hasOwnProperty(Se))switch(Se){case"selected":n.selected=!1;break;default:Ze(n,r,Se,null,l,H)}for(I in l)if(H=l[I],F=a[I],l.hasOwnProperty(I)&&H!==F&&(H!=null||F!=null))switch(I){case"selected":n.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:Ze(n,r,I,H,l,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in a)H=a[ve],a.hasOwnProperty(ve)&&H!=null&&!l.hasOwnProperty(ve)&&Ze(n,r,ve,null,l,H);for(q in l)if(H=l[q],F=a[q],l.hasOwnProperty(q)&&H!==F&&(H!=null||F!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,r));break;default:Ze(n,r,q,H,l,F)}return;default:if(jo(r)){for(var et in a)H=a[et],a.hasOwnProperty(et)&&H!==void 0&&!l.hasOwnProperty(et)&&sm(n,r,et,void 0,l,H);for(J in l)H=l[J],F=a[J],!l.hasOwnProperty(J)||H===F||H===void 0&&F===void 0||sm(n,r,J,H,l,F);return}}for(var U in a)H=a[U],a.hasOwnProperty(U)&&H!=null&&!l.hasOwnProperty(U)&&Ze(n,r,U,null,l,H);for(te in l)H=l[te],F=a[te],!l.hasOwnProperty(te)||H===F||H==null&&F==null||Ze(n,r,te,H,l,F)}var am=null,om=null;function Vc(n){return n.nodeType===9?n:n.ownerDocument}function vv(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ev(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function lm(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var um=null;function Ub(){var n=window.event;return n&&n.type==="popstate"?n===um?!1:(um=n,!0):(um=null,!1)}var Tv=typeof setTimeout=="function"?setTimeout:void 0,Bb=typeof clearTimeout=="function"?clearTimeout:void 0,Av=typeof Promise=="function"?Promise:void 0,zb=typeof queueMicrotask=="function"?queueMicrotask:typeof Av<"u"?function(n){return Av.resolve(null).then(n).catch(jb)}:Tv;function jb(n){setTimeout(function(){throw n})}function Nr(n){return n==="head"}function Sv(n,r){var a=r,l=0,f=0;do{var m=a.nextSibling;if(n.removeChild(a),m&&m.nodeType===8)if(a=m.data,a==="/$"){if(0<l&&8>l){a=l;var E=n.ownerDocument;if(a&1&&Rl(E.documentElement),a&2&&Rl(E.body),a&4)for(a=E.head,Rl(a),E=a.firstChild;E;){var T=E.nextSibling,I=E.nodeName;E[hs]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&E.rel.toLowerCase()==="stylesheet"||a.removeChild(E),E=T}}if(f===0){n.removeChild(m),xl(r);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:l=a.charCodeAt(0)-48;else l=0;a=m}while(a);xl(r)}function cm(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":cm(a),fr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function qb(n,r,a,l){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[hs])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=Kn(n.nextSibling),n===null)break}return null}function Hb(n,r,a){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Kn(n.nextSibling),n===null))return null;return n}function hm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function Fb(n,r){var a=n.ownerDocument;if(n.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function Kn(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return n}var fm=null;function wv(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return n;r--}else a==="/$"&&r++}n=n.previousSibling}return null}function bv(n,r,a){switch(r=Vc(a),n){case"html":if(n=r.documentElement,!n)throw Error(s(452));return n;case"head":if(n=r.head,!n)throw Error(s(453));return n;case"body":if(n=r.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function Rl(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);fr(n)}var kn=new Map,Rv=new Set;function kc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Zi=le.d;le.d={f:Gb,r:Kb,D:$b,C:Qb,L:Yb,m:Xb,X:Jb,S:Wb,M:Zb};function Gb(){var n=Zi.f(),r=Ic();return n||r}function Kb(n){var r=ni(n);r!==null&&r.tag===5&&r.type==="form"?Ky(r):Zi.r(n)}var Qa=typeof document>"u"?null:document;function Iv(n,r,a){var l=Qa;if(l&&typeof r=="string"&&r){var f=Et(r);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Rv.has(f)||(Rv.add(f),n={rel:n,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),qt(r,"link",n),pt(r),l.head.appendChild(r)))}}function $b(n){Zi.D(n),Iv("dns-prefetch",n,null)}function Qb(n,r){Zi.C(n,r),Iv("preconnect",n,r)}function Yb(n,r,a){Zi.L(n,r,a);var l=Qa;if(l&&n&&r){var f='link[rel="preload"][as="'+Et(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+Et(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+Et(a.imageSizes)+'"]')):f+='[href="'+Et(n)+'"]';var m=f;switch(r){case"style":m=Ya(n);break;case"script":m=Xa(n)}kn.has(m)||(n=_({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:n,as:r},a),kn.set(m,n),l.querySelector(f)!==null||r==="style"&&l.querySelector(Il(m))||r==="script"&&l.querySelector(Cl(m))||(r=l.createElement("link"),qt(r,"link",n),pt(r),l.head.appendChild(r)))}}function Xb(n,r){Zi.m(n,r);var a=Qa;if(a&&n){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+Et(l)+'"][href="'+Et(n)+'"]',m=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Xa(n)}if(!kn.has(m)&&(n=_({rel:"modulepreload",href:n},r),kn.set(m,n),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Cl(m)))return}l=a.createElement("link"),qt(l,"link",n),pt(l),a.head.appendChild(l)}}}function Wb(n,r,a){Zi.S(n,r,a);var l=Qa;if(l&&n){var f=nn(l).hoistableStyles,m=Ya(n);r=r||"default";var E=f.get(m);if(!E){var T={loading:0,preload:null};if(E=l.querySelector(Il(m)))T.loading=5;else{n=_({rel:"stylesheet",href:n,"data-precedence":r},a),(a=kn.get(m))&&dm(n,a);var I=E=l.createElement("link");pt(I),qt(I,"link",n),I._p=new Promise(function(q,J){I.onload=q,I.onerror=J}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Lc(E,r,l)}E={type:"stylesheet",instance:E,count:1,state:T},f.set(m,E)}}}function Jb(n,r){Zi.X(n,r);var a=Qa;if(a&&n){var l=nn(a).hoistableScripts,f=Xa(n),m=l.get(f);m||(m=a.querySelector(Cl(f)),m||(n=_({src:n,async:!0},r),(r=kn.get(f))&&mm(n,r),m=a.createElement("script"),pt(m),qt(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function Zb(n,r){Zi.M(n,r);var a=Qa;if(a&&n){var l=nn(a).hoistableScripts,f=Xa(n),m=l.get(f);m||(m=a.querySelector(Cl(f)),m||(n=_({src:n,async:!0,type:"module"},r),(r=kn.get(f))&&mm(n,r),m=a.createElement("script"),pt(m),qt(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function Cv(n,r,a,l){var f=(f=Ee.current)?kc(f):null;if(!f)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Ya(a.href),a=nn(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=Ya(a.href);var m=nn(f).hoistableStyles,E=m.get(n);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,E),(m=f.querySelector(Il(n)))&&!m._p&&(E.instance=m,E.state.loading=5),kn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},kn.set(n,a),m||eR(f,n,a,E.state))),r&&l===null)throw Error(s(528,""));return E}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Xa(a),a=nn(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function Ya(n){return'href="'+Et(n)+'"'}function Il(n){return'link[rel="stylesheet"]['+n+"]"}function Ov(n){return _({},n,{"data-precedence":n.precedence,precedence:null})}function eR(n,r,a,l){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=n.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),qt(r,"link",a),pt(r),n.head.appendChild(r))}function Xa(n){return'[src="'+Et(n)+'"]'}function Cl(n){return"script[async]"+n}function Dv(n,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=n.querySelector('style[data-href~="'+Et(a.href)+'"]');if(l)return r.instance=l,pt(l),l;var f=_({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),pt(l),qt(l,"style",f),Lc(l,a.precedence,n),r.instance=l;case"stylesheet":f=Ya(a.href);var m=n.querySelector(Il(f));if(m)return r.state.loading|=4,r.instance=m,pt(m),m;l=Ov(a),(f=kn.get(f))&&dm(l,f),m=(n.ownerDocument||n).createElement("link"),pt(m);var E=m;return E._p=new Promise(function(T,I){E.onload=T,E.onerror=I}),qt(m,"link",l),r.state.loading|=4,Lc(m,a.precedence,n),r.instance=m;case"script":return m=Xa(a.src),(f=n.querySelector(Cl(m)))?(r.instance=f,pt(f),f):(l=a,(f=kn.get(m))&&(l=_({},a),mm(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),pt(f),qt(f,"link",l),n.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Lc(l,a.precedence,n));return r.instance}function Lc(n,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,m=f,E=0;E<l.length;E++){var T=l[E];if(T.dataset.precedence===r)m=T;else if(m!==f)break}m?m.parentNode.insertBefore(n,m.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(n,r.firstChild))}function dm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function mm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var Uc=null;function Nv(n,r,a){if(Uc===null){var l=new Map,f=Uc=new Map;f.set(a,l)}else f=Uc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var m=a[f];if(!(m[hs]||m[bt]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var E=m.getAttribute(r)||"";E=n+E;var T=l.get(E);T?T.push(m):l.set(E,[m])}}return l}function Mv(n,r,a){n=n.ownerDocument||n,n.head.insertBefore(a,r==="title"?n.querySelector("head > title"):null)}function tR(n,r,a){if(a===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Pv(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Ol=null;function nR(){}function iR(n,r,a){if(Ol===null)throw Error(s(475));var l=Ol;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=Ya(a.href),m=n.querySelector(Il(f));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=Bc.bind(l),n.then(l,l)),r.state.loading|=4,r.instance=m,pt(m);return}m=n.ownerDocument||n,a=Ov(a),(f=kn.get(f))&&dm(a,f),m=m.createElement("link"),pt(m);var E=m;E._p=new Promise(function(T,I){E.onload=T,E.onerror=I}),qt(m,"link",a),r.instance=m}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=Bc.bind(l),n.addEventListener("load",r),n.addEventListener("error",r))}}function rR(){if(Ol===null)throw Error(s(475));var n=Ol;return n.stylesheets&&n.count===0&&pm(n,n.stylesheets),0<n.count?function(r){var a=setTimeout(function(){if(n.stylesheets&&pm(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(a)}}:null}function Bc(){if(this.count--,this.count===0){if(this.stylesheets)pm(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var zc=null;function pm(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,zc=new Map,r.forEach(sR,n),zc=null,Bc.call(n))}function sR(n,r){if(!(r.state.loading&4)){var a=zc.get(n);if(a)var l=a.get(null);else{a=new Map,zc.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var E=f[m];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),l=E)}l&&a.set(null,l)}f=r.instance,E=f.getAttribute("data-precedence"),m=a.get(E)||l,m===l&&a.set(null,f),a.set(E,f),this.count++,l=Bc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),m?m.parentNode.insertBefore(f,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),r.state.loading|=4}}var Dl={$$typeof:G,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function aR(n,r,a,l,f,m,E,T){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Oi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oi(0),this.hiddenUpdates=Oi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function xv(n,r,a,l,f,m,E,T,I,q,J,te){return n=new aR(n,r,a,E,T,I,q,te),r=1,m===!0&&(r|=24),m=gn(3,null,null,r),n.current=m,m.stateNode=n,r=Xf(),r.refCount++,n.pooledCache=r,r.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:r},ed(m),n}function Vv(n){return n?(n=Ia,n):Ia}function kv(n,r,a,l,f,m){f=Vv(f),l.context===null?l.context=f:l.pendingContext=f,l=_r(r),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=vr(n,l,r),a!==null&&(Tn(a,n,r),al(a,n,r))}function Lv(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<r?a:r}}function gm(n,r){Lv(n,r),(n=n.alternate)&&Lv(n,r)}function Uv(n){if(n.tag===13){var r=Ra(n,67108864);r!==null&&Tn(r,n,67108864),gm(n,67108864)}}var jc=!0;function oR(n,r,a,l){var f=X.T;X.T=null;var m=le.p;try{le.p=2,ym(n,r,a,l)}finally{le.p=m,X.T=f}}function lR(n,r,a,l){var f=X.T;X.T=null;var m=le.p;try{le.p=8,ym(n,r,a,l)}finally{le.p=m,X.T=f}}function ym(n,r,a,l){if(jc){var f=_m(l);if(f===null)rm(n,r,l,qc,a),zv(n,l);else if(cR(f,n,r,a,l))l.stopPropagation();else if(zv(n,l),r&4&&-1<uR.indexOf(n)){for(;f!==null;){var m=ni(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var E=jn(m.pendingLanes);if(E!==0){var T=m;for(T.pendingLanes|=2,T.entangledLanes|=2;E;){var I=1<<31-Qt(E);T.entanglements[1]|=I,E&=~I}gi(m),(Ye&6)===0&&(bc=wn()+500,Sl(0))}}break;case 13:T=Ra(m,2),T!==null&&Tn(T,m,2),Ic(),gm(m,2)}if(m=_m(l),m===null&&rm(n,r,l,qc,a),m===f)break;f=m}f!==null&&l.stopPropagation()}else rm(n,r,l,null,a)}}function _m(n){return n=In(n),vm(n)}var qc=null;function vm(n){if(qc=null,n=Ni(n),n!==null){var r=u(n);if(r===null)n=null;else{var a=r.tag;if(a===13){if(n=h(r),n!==null)return n;n=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return qc=n,null}function Bv(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Af()){case Co:return 2;case sa:return 8;case as:case Sf:return 32;case aa:return 268435456;default:return 32}default:return 32}}var Em=!1,Mr=null,Pr=null,xr=null,Nl=new Map,Ml=new Map,Vr=[],uR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function zv(n,r){switch(n){case"focusin":case"focusout":Mr=null;break;case"dragenter":case"dragleave":Pr=null;break;case"mouseover":case"mouseout":xr=null;break;case"pointerover":case"pointerout":Nl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ml.delete(r.pointerId)}}function Pl(n,r,a,l,f,m){return n===null||n.nativeEvent!==m?(n={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[f]},r!==null&&(r=ni(r),r!==null&&Uv(r)),n):(n.eventSystemFlags|=l,r=n.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),n)}function cR(n,r,a,l,f){switch(r){case"focusin":return Mr=Pl(Mr,n,r,a,l,f),!0;case"dragenter":return Pr=Pl(Pr,n,r,a,l,f),!0;case"mouseover":return xr=Pl(xr,n,r,a,l,f),!0;case"pointerover":var m=f.pointerId;return Nl.set(m,Pl(Nl.get(m)||null,n,r,a,l,f)),!0;case"gotpointercapture":return m=f.pointerId,Ml.set(m,Pl(Ml.get(m)||null,n,r,a,l,f)),!0}return!1}function jv(n){var r=Ni(n.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=h(a),r!==null){n.blockedOn=r,Iu(n.priority,function(){if(a.tag===13){var l=En();l=ur(l);var f=Ra(a,l);f!==null&&Tn(f,a,l),gm(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Hc(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var a=_m(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);Vi=l,a.target.dispatchEvent(l),Vi=null}else return r=ni(a),r!==null&&Uv(r),n.blockedOn=a,!1;r.shift()}return!0}function qv(n,r,a){Hc(n)&&a.delete(r)}function hR(){Em=!1,Mr!==null&&Hc(Mr)&&(Mr=null),Pr!==null&&Hc(Pr)&&(Pr=null),xr!==null&&Hc(xr)&&(xr=null),Nl.forEach(qv),Ml.forEach(qv)}function Fc(n,r){n.blockedOn===r&&(n.blockedOn=null,Em||(Em=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,hR)))}var Gc=null;function Hv(n){Gc!==n&&(Gc=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Gc===n&&(Gc=null);for(var r=0;r<n.length;r+=3){var a=n[r],l=n[r+1],f=n[r+2];if(typeof l!="function"){if(vm(l||a)===null)continue;break}var m=ni(a);m!==null&&(n.splice(r,3),r-=3,vd(m,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function xl(n){function r(I){return Fc(I,n)}Mr!==null&&Fc(Mr,n),Pr!==null&&Fc(Pr,n),xr!==null&&Fc(xr,n),Nl.forEach(r),Ml.forEach(r);for(var a=0;a<Vr.length;a++){var l=Vr[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<Vr.length&&(a=Vr[0],a.blockedOn===null);)jv(a),a.blockedOn===null&&Vr.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],m=a[l+1],E=f[vt]||null;if(typeof m=="function")E||Hv(a);else if(E){var T=null;if(m&&m.hasAttribute("formAction")){if(f=m,E=m[vt]||null)T=E.formAction;else if(vm(f)!==null)continue}else T=E.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),Hv(a)}}}function Tm(n){this._internalRoot=n}Kc.prototype.render=Tm.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=En();kv(a,l,n,r,null,null)},Kc.prototype.unmount=Tm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;kv(n.current,2,null,n,null,null),Ic(),r[bn]=null}};function Kc(n){this._internalRoot=n}Kc.prototype.unstable_scheduleHydration=function(n){if(n){var r=cr();n={blockedOn:null,target:n,priority:r};for(var a=0;a<Vr.length&&r!==0&&r<Vr[a].priority;a++);Vr.splice(a,0,n),a===0&&jv(n)}};var Fv=e.version;if(Fv!=="19.1.0")throw Error(s(527,Fv,"19.1.0"));le.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=p(r),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var fR={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$c.isDisabled&&$c.supportsFiber)try{ht=$c.inject(fR),Qe=$c}catch{}}return kl.createRoot=function(n,r){if(!o(n))throw Error(s(299));var a=!1,l="",f=a_,m=o_,E=l_,T=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(m=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(T=r.unstable_transitionCallbacks)),r=xv(n,1,!1,null,null,a,l,f,m,E,T,null),n[bn]=r.current,im(n),new Tm(r)},kl.hydrateRoot=function(n,r,a){if(!o(n))throw Error(s(299));var l=!1,f="",m=a_,E=o_,T=l_,I=null,q=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks),a.formState!==void 0&&(q=a.formState)),r=xv(n,1,!0,r,a??null,l,f,m,E,T,I,q),r.context=Vv(null),a=r.current,l=En(),l=ur(l),f=_r(l),f.callback=null,vr(a,f,l),a=l,r.current.lanes=a,Di(r,a),gi(r),n[bn]=r.current,im(n),new Kc(r)},kl.version="19.1.0",kl}var eE;function SR(){if(eE)return wm.exports;eE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),wm.exports=AR(),wm.exports}var wR=SR(),Ll={},tE;function bR(){if(tE)return Ll;tE=1,Object.defineProperty(Ll,"__esModule",{value:!0}),Ll.parse=h,Ll.serialize=g;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function h(b,P){const O=new u,j=b.length;if(j<2)return O;const V=(P==null?void 0:P.decode)||_;let K=0;do{const Y=b.indexOf("=",K);if(Y===-1)break;const G=b.indexOf(";",K),ae=G===-1?j:G;if(Y>ae){K=b.lastIndexOf(";",Y-1)+1;continue}const ee=d(b,K,Y),ce=p(b,Y,ee),D=b.slice(ee,ce);if(O[D]===void 0){let w=d(b,Y+1,ae),R=p(b,ae,w);const N=V(b.slice(w,R));O[D]=N}K=ae+1}while(K<j);return O}function d(b,P,O){do{const j=b.charCodeAt(P);if(j!==32&&j!==9)return P}while(++P<O);return O}function p(b,P,O){for(;P>O;){const j=b.charCodeAt(--P);if(j!==32&&j!==9)return P+1}return O}function g(b,P,O){const j=(O==null?void 0:O.encode)||encodeURIComponent;if(!i.test(b))throw new TypeError(`argument name is invalid: ${b}`);const V=j(P);if(!e.test(V))throw new TypeError(`argument val is invalid: ${P}`);let K=b+"="+V;if(!O)return K;if(O.maxAge!==void 0){if(!Number.isInteger(O.maxAge))throw new TypeError(`option maxAge is invalid: ${O.maxAge}`);K+="; Max-Age="+O.maxAge}if(O.domain){if(!t.test(O.domain))throw new TypeError(`option domain is invalid: ${O.domain}`);K+="; Domain="+O.domain}if(O.path){if(!s.test(O.path))throw new TypeError(`option path is invalid: ${O.path}`);K+="; Path="+O.path}if(O.expires){if(!A(O.expires)||!Number.isFinite(O.expires.valueOf()))throw new TypeError(`option expires is invalid: ${O.expires}`);K+="; Expires="+O.expires.toUTCString()}if(O.httpOnly&&(K+="; HttpOnly"),O.secure&&(K+="; Secure"),O.partitioned&&(K+="; Partitioned"),O.priority)switch(typeof O.priority=="string"?O.priority.toLowerCase():void 0){case"low":K+="; Priority=Low";break;case"medium":K+="; Priority=Medium";break;case"high":K+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${O.priority}`)}if(O.sameSite)switch(typeof O.sameSite=="string"?O.sameSite.toLowerCase():O.sameSite){case!0:case"strict":K+="; SameSite=Strict";break;case"lax":K+="; SameSite=Lax";break;case"none":K+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${O.sameSite}`)}return K}function _(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function A(b){return o.call(b)==="[object Date]"}return Ll}bR();var nE="popstate";function RR(i={}){function e(s,o){let{pathname:u,search:h,hash:d}=s.location;return Xm("",{pathname:u,search:h,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:Wl(o)}return CR(e,t,null,i)}function ut(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Si(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function IR(){return Math.random().toString(36).substring(2,10)}function iE(i,e){return{usr:i.state,key:i.key,idx:e}}function Xm(i,e,t=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?po(e):e,state:t,key:e&&e.key||s||IR()}}function Wl({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function po(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function CR(i,e,t,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,d="POP",p=null,g=_();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function _(){return(h.state||{idx:null}).idx}function A(){d="POP";let V=_(),K=V==null?null:V-g;g=V,p&&p({action:d,location:j.location,delta:K})}function b(V,K){d="PUSH";let Y=Xm(j.location,V,K);g=_()+1;let G=iE(Y,g),ae=j.createHref(Y);try{h.pushState(G,"",ae)}catch(ee){if(ee instanceof DOMException&&ee.name==="DataCloneError")throw ee;o.location.assign(ae)}u&&p&&p({action:d,location:j.location,delta:1})}function P(V,K){d="REPLACE";let Y=Xm(j.location,V,K);g=_();let G=iE(Y,g),ae=j.createHref(Y);h.replaceState(G,"",ae),u&&p&&p({action:d,location:j.location,delta:0})}function O(V){return OR(V)}let j={get action(){return d},get location(){return i(o,h)},listen(V){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(nE,A),p=V,()=>{o.removeEventListener(nE,A),p=null}},createHref(V){return e(o,V)},createURL:O,encodeLocation(V){let K=O(V);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:b,replace:P,go(V){return h.go(V)}};return j}function OR(i,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),ut(t,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:Wl(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function c0(i,e,t="/"){return DR(i,e,t,!1)}function DR(i,e,t,s){let o=typeof e=="string"?po(e):e,u=rr(o.pathname||"/",t);if(u==null)return null;let h=h0(i);NR(h);let d=null;for(let p=0;d==null&&p<h.length;++p){let g=qR(u);d=zR(h[p],g,s)}return d}function h0(i,e=[],t=[],s=""){let o=(u,h,d)=>{let p={relativePath:d===void 0?u.path||"":d,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};p.relativePath.startsWith("/")&&(ut(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=nr([s,p.relativePath]),_=t.concat(p);u.children&&u.children.length>0&&(ut(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),h0(u.children,e,_,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:UR(g,u.index),routesMeta:_})};return i.forEach((u,h)=>{var d;if(u.path===""||!((d=u.path)!=null&&d.includes("?")))o(u,h);else for(let p of f0(u.path))o(u,h,p)}),e}function f0(i){let e=i.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=f0(s.join("/")),d=[];return d.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&d.push(...h),d.map(p=>i.startsWith("/")&&p===""?"/":p)}function NR(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:BR(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var MR=/^:[\w-]+$/,PR=3,xR=2,VR=1,kR=10,LR=-2,rE=i=>i==="*";function UR(i,e){let t=i.split("/"),s=t.length;return t.some(rE)&&(s+=LR),e&&(s+=xR),t.filter(o=>!rE(o)).reduce((o,u)=>o+(MR.test(u)?PR:u===""?VR:kR),s)}function BR(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function zR(i,e,t=!1){let{routesMeta:s}=i,o={},u="/",h=[];for(let d=0;d<s.length;++d){let p=s[d],g=d===s.length-1,_=u==="/"?e:e.slice(u.length)||"/",A=vh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},_),b=p.route;if(!A&&g&&t&&!s[s.length-1].route.index&&(A=vh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!A)return null;Object.assign(o,A.params),h.push({params:o,pathname:nr([u,A.pathname]),pathnameBase:KR(nr([u,A.pathnameBase])),route:b}),A.pathnameBase!=="/"&&(u=nr([u,A.pathnameBase]))}return h}function vh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,s]=jR(i.path,i.caseSensitive,i.end),o=e.match(t);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:s.reduce((g,{paramName:_,isOptional:A},b)=>{if(_==="*"){let O=d[b]||"";h=u.slice(0,u.length-O.length).replace(/(.)\/+$/,"$1")}const P=d[b];return A&&!P?g[_]=void 0:g[_]=(P||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:i}}function jR(i,e=!1,t=!0){Si(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,d,p)=>(s.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function qR(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Si(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function rr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=i.charAt(t);return s&&s!=="/"?null:i.slice(t)||"/"}function HR(i,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof i=="string"?po(i):i;return{pathname:t?t.startsWith("/")?t:FR(t,e):e,search:$R(s),hash:QR(o)}}function FR(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Cm(i,e,t,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function GR(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function d0(i){let e=GR(i);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function m0(i,e,t,s=!1){let o;typeof i=="string"?o=po(i):(o={...i},ut(!o.pathname||!o.pathname.includes("?"),Cm("?","pathname","search",o)),ut(!o.pathname||!o.pathname.includes("#"),Cm("#","pathname","hash",o)),ut(!o.search||!o.search.includes("#"),Cm("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,d;if(h==null)d=t;else{let A=e.length-1;if(!s&&h.startsWith("..")){let b=h.split("/");for(;b[0]==="..";)b.shift(),A-=1;o.pathname=b.join("/")}d=A>=0?e[A]:"/"}let p=HR(o,d),g=h&&h!=="/"&&h.endsWith("/"),_=(u||h===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||_)&&(p.pathname+="/"),p}var nr=i=>i.join("/").replace(/\/\/+/g,"/"),KR=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),$R=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,QR=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function YR(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var p0=["POST","PUT","PATCH","DELETE"];new Set(p0);var XR=["GET",...p0];new Set(XR);var go=W.createContext(null);go.displayName="DataRouter";var Gh=W.createContext(null);Gh.displayName="DataRouterState";var g0=W.createContext({isTransitioning:!1});g0.displayName="ViewTransition";var WR=W.createContext(new Map);WR.displayName="Fetchers";var JR=W.createContext(null);JR.displayName="Await";var Ri=W.createContext(null);Ri.displayName="Navigation";var lu=W.createContext(null);lu.displayName="Location";var Ii=W.createContext({outlet:null,matches:[],isDataRoute:!1});Ii.displayName="Route";var Np=W.createContext(null);Np.displayName="RouteError";function ZR(i,{relative:e}={}){ut(uu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=W.useContext(Ri),{hash:o,pathname:u,search:h}=hu(i,{relative:e}),d=u;return t!=="/"&&(d=u==="/"?t:nr([t,u])),s.createHref({pathname:d,search:h,hash:o})}function uu(){return W.useContext(lu)!=null}function Ws(){return ut(uu(),"useLocation() may be used only in the context of a <Router> component."),W.useContext(lu).location}var y0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function _0(i){W.useContext(Ri).static||W.useLayoutEffect(i)}function cu(){let{isDataRoute:i}=W.useContext(Ii);return i?mI():eI()}function eI(){ut(uu(),"useNavigate() may be used only in the context of a <Router> component.");let i=W.useContext(go),{basename:e,navigator:t}=W.useContext(Ri),{matches:s}=W.useContext(Ii),{pathname:o}=Ws(),u=JSON.stringify(d0(s)),h=W.useRef(!1);return _0(()=>{h.current=!0}),W.useCallback((p,g={})=>{if(Si(h.current,y0),!h.current)return;if(typeof p=="number"){t.go(p);return}let _=m0(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:nr([e,_.pathname])),(g.replace?t.replace:t.push)(_,g.state,g)},[e,t,u,o,i])}var tI=W.createContext(null);function nI(i){let e=W.useContext(Ii).outlet;return e&&W.createElement(tI.Provider,{value:i},e)}function hu(i,{relative:e}={}){let{matches:t}=W.useContext(Ii),{pathname:s}=Ws(),o=JSON.stringify(d0(t));return W.useMemo(()=>m0(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function iI(i,e){return v0(i,e)}function v0(i,e,t,s){var Y;ut(uu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=W.useContext(Ri),{matches:h}=W.useContext(Ii),d=h[h.length-1],p=d?d.params:{},g=d?d.pathname:"/",_=d?d.pathnameBase:"/",A=d&&d.route;{let G=A&&A.path||"";E0(g,!A||G.endsWith("*")||G.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${G}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${G}"> to <Route path="${G==="/"?"*":`${G}/*`}">.`)}let b=Ws(),P;if(e){let G=typeof e=="string"?po(e):e;ut(_==="/"||((Y=G.pathname)==null?void 0:Y.startsWith(_)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${G.pathname}" was given in the \`location\` prop.`),P=G}else P=b;let O=P.pathname||"/",j=O;if(_!=="/"){let G=_.replace(/^\//,"").split("/");j="/"+O.replace(/^\//,"").split("/").slice(G.length).join("/")}let V=!u&&t&&t.matches&&t.matches.length>0?t.matches:c0(i,{pathname:j});Si(A||V!=null,`No routes matched location "${P.pathname}${P.search}${P.hash}" `),Si(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${P.pathname}${P.search}${P.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let K=lI(V&&V.map(G=>Object.assign({},G,{params:Object.assign({},p,G.params),pathname:nr([_,o.encodeLocation?o.encodeLocation(G.pathname).pathname:G.pathname]),pathnameBase:G.pathnameBase==="/"?_:nr([_,o.encodeLocation?o.encodeLocation(G.pathnameBase).pathname:G.pathnameBase])})),h,t,s);return e&&K?W.createElement(lu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...P},navigationType:"POP"}},K):K}function rI(){let i=dI(),e=YR(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=W.createElement(W.Fragment,null,W.createElement("p",null," Hey developer "),W.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",W.createElement("code",{style:u},"ErrorBoundary")," or"," ",W.createElement("code",{style:u},"errorElement")," prop on your route.")),W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},e),t?W.createElement("pre",{style:o},t):null,h)}var sI=W.createElement(rI,null),aI=class extends W.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?W.createElement(Ii.Provider,{value:this.props.routeContext},W.createElement(Np.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function oI({routeContext:i,match:e,children:t}){let s=W.useContext(go);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),W.createElement(Ii.Provider,{value:i},t)}function lI(i,e=[],t=null,s=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let o=i,u=t==null?void 0:t.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);ut(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let h=!1,d=-1;if(t)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=p),g.route.id){let{loaderData:_,errors:A}=t,b=g.route.loader&&!_.hasOwnProperty(g.route.id)&&(!A||A[g.route.id]===void 0);if(g.route.lazy||b){h=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((p,g,_)=>{let A,b=!1,P=null,O=null;t&&(A=u&&g.route.id?u[g.route.id]:void 0,P=g.route.errorElement||sI,h&&(d<0&&_===0?(E0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,O=null):d===_&&(b=!0,O=g.route.hydrateFallbackElement||null)));let j=e.concat(o.slice(0,_+1)),V=()=>{let K;return A?K=P:b?K=O:g.route.Component?K=W.createElement(g.route.Component,null):g.route.element?K=g.route.element:K=p,W.createElement(oI,{match:g,routeContext:{outlet:p,matches:j,isDataRoute:t!=null},children:K})};return t&&(g.route.ErrorBoundary||g.route.errorElement||_===0)?W.createElement(aI,{location:t.location,revalidation:t.revalidation,component:P,error:A,children:V(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):V()},null)}function Mp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uI(i){let e=W.useContext(go);return ut(e,Mp(i)),e}function cI(i){let e=W.useContext(Gh);return ut(e,Mp(i)),e}function hI(i){let e=W.useContext(Ii);return ut(e,Mp(i)),e}function Pp(i){let e=hI(i),t=e.matches[e.matches.length-1];return ut(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function fI(){return Pp("useRouteId")}function dI(){var s;let i=W.useContext(Np),e=cI("useRouteError"),t=Pp("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[t]}function mI(){let{router:i}=uI("useNavigate"),e=Pp("useNavigate"),t=W.useRef(!1);return _0(()=>{t.current=!0}),W.useCallback(async(o,u={})=>{Si(t.current,y0),t.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var sE={};function E0(i,e,t){!e&&!sE[i]&&(sE[i]=!0,Si(!1,t))}W.memo(pI);function pI({routes:i,future:e,state:t}){return v0(i,void 0,t,e)}function gI(i){return nI(i.context)}function ih(i){ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function yI({basename:i="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:u=!1}){ut(!uu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),d=W.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof t=="string"&&(t=po(t));let{pathname:p="/",search:g="",hash:_="",state:A=null,key:b="default"}=t,P=W.useMemo(()=>{let O=rr(p,h);return O==null?null:{location:{pathname:O,search:g,hash:_,state:A,key:b},navigationType:s}},[h,p,g,_,A,b,s]);return Si(P!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${_}" because it does not start with the basename, so the <Router> won't render anything.`),P==null?null:W.createElement(Ri.Provider,{value:d},W.createElement(lu.Provider,{children:e,value:P}))}function _I({children:i,location:e}){return iI(Wm(i),e)}function Wm(i,e=[]){let t=[];return W.Children.forEach(i,(s,o)=>{if(!W.isValidElement(s))return;let u=[...e,o];if(s.type===W.Fragment){t.push.apply(t,Wm(s.props.children,u));return}ut(s.type===ih,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ut(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Wm(s.props.children,u)),t.push(h)}),t}var rh="get",sh="application/x-www-form-urlencoded";function Kh(i){return i!=null&&typeof i.tagName=="string"}function vI(i){return Kh(i)&&i.tagName.toLowerCase()==="button"}function EI(i){return Kh(i)&&i.tagName.toLowerCase()==="form"}function TI(i){return Kh(i)&&i.tagName.toLowerCase()==="input"}function AI(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function SI(i,e){return i.button===0&&(!e||e==="_self")&&!AI(i)}var Yc=null;function wI(){if(Yc===null)try{new FormData(document.createElement("form"),0),Yc=!1}catch{Yc=!0}return Yc}var bI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Om(i){return i!=null&&!bI.has(i)?(Si(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${sh}"`),null):i}function RI(i,e){let t,s,o,u,h;if(EI(i)){let d=i.getAttribute("action");s=d?rr(d,e):null,t=i.getAttribute("method")||rh,o=Om(i.getAttribute("enctype"))||sh,u=new FormData(i)}else if(vI(i)||TI(i)&&(i.type==="submit"||i.type==="image")){let d=i.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||d.getAttribute("action");if(s=p?rr(p,e):null,t=i.getAttribute("formmethod")||d.getAttribute("method")||rh,o=Om(i.getAttribute("formenctype"))||Om(d.getAttribute("enctype"))||sh,u=new FormData(d,i),!wI()){let{name:g,type:_,value:A}=i;if(_==="image"){let b=g?`${g}.`:"";u.append(`${b}x`,"0"),u.append(`${b}y`,"0")}else g&&u.append(g,A)}}else{if(Kh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=rh,s=null,o=sh,h=i}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:u,body:h}}function xp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function II(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function CI(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function OI(i,e,t){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await II(u,t);return h.links?h.links():[]}return[]}));return PI(s.flat(1).filter(CI).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function aE(i,e,t,s,o,u){let h=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,d=(p,g)=>{var _;return t[g].pathname!==p.pathname||((_=t[g].route.path)==null?void 0:_.endsWith("*"))&&t[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>h(p,g)||d(p,g)):u==="data"?e.filter((p,g)=>{var A;let _=s.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(h(p,g)||d(p,g))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((A=t[0])==null?void 0:A.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function DI(i,e,{includeHydrateFallback:t}={}){return NI(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function NI(i){return[...new Set(i)]}function MI(i){let e={},t=Object.keys(i).sort();for(let s of t)e[s]=i[s];return e}function PI(i,e){let t=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(MI(o));return t.has(u)||(t.add(u),s.push({key:u,link:o})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var xI=new Set([100,101,204,205]);function VI(i,e){let t=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return t.pathname==="/"?t.pathname="_root.data":e&&rr(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function T0(){let i=W.useContext(go);return xp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function kI(){let i=W.useContext(Gh);return xp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Vp=W.createContext(void 0);Vp.displayName="FrameworkContext";function A0(){let i=W.useContext(Vp);return xp(i,"You must render this element inside a <HydratedRouter> element"),i}function LI(i,e){let t=W.useContext(Vp),[s,o]=W.useState(!1),[u,h]=W.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:g,onMouseLeave:_,onTouchStart:A}=e,b=W.useRef(null);W.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let j=K=>{K.forEach(Y=>{h(Y.isIntersecting)})},V=new IntersectionObserver(j,{threshold:.5});return b.current&&V.observe(b.current),()=>{V.disconnect()}}},[i]),W.useEffect(()=>{if(s){let j=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(j)}}},[s]);let P=()=>{o(!0)},O=()=>{o(!1),h(!1)};return t?i!=="intent"?[u,b,{}]:[u,b,{onFocus:Ul(d,P),onBlur:Ul(p,O),onMouseEnter:Ul(g,P),onMouseLeave:Ul(_,O),onTouchStart:Ul(A,P)}]:[!1,b,{}]}function Ul(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function UI({page:i,...e}){let{router:t}=T0(),s=W.useMemo(()=>c0(t.routes,i,t.basename),[t.routes,i,t.basename]);return s?W.createElement(zI,{page:i,matches:s,...e}):null}function BI(i){let{manifest:e,routeModules:t}=A0(),[s,o]=W.useState([]);return W.useEffect(()=>{let u=!1;return OI(i,e,t).then(h=>{u||o(h)}),()=>{u=!0}},[i,e,t]),s}function zI({page:i,matches:e,...t}){let s=Ws(),{manifest:o,routeModules:u}=A0(),{basename:h}=T0(),{loaderData:d,matches:p}=kI(),g=W.useMemo(()=>aE(i,e,p,o,s,"data"),[i,e,p,o,s]),_=W.useMemo(()=>aE(i,e,p,o,s,"assets"),[i,e,p,o,s]),A=W.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let O=new Set,j=!1;if(e.forEach(K=>{var G;let Y=o.routes[K.route.id];!Y||!Y.hasLoader||(!g.some(ae=>ae.route.id===K.route.id)&&K.route.id in d&&((G=u[K.route.id])!=null&&G.shouldRevalidate)||Y.hasClientLoader?j=!0:O.add(K.route.id))}),O.size===0)return[];let V=VI(i,h);return j&&O.size>0&&V.searchParams.set("_routes",e.filter(K=>O.has(K.route.id)).map(K=>K.route.id).join(",")),[V.pathname+V.search]},[h,d,s,o,g,e,i,u]),b=W.useMemo(()=>DI(_,o),[_,o]),P=BI(_);return W.createElement(W.Fragment,null,A.map(O=>W.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...t})),b.map(O=>W.createElement("link",{key:O,rel:"modulepreload",href:O,...t})),P.map(({key:O,link:j})=>W.createElement("link",{key:O,...j})))}function jI(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var S0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{S0&&(window.__reactRouterVersion="7.6.0")}catch{}function qI({basename:i,children:e,window:t}){let s=W.useRef();s.current==null&&(s.current=RR({window:t,v5Compat:!0}));let o=s.current,[u,h]=W.useState({action:o.action,location:o.location}),d=W.useCallback(p=>{W.startTransition(()=>h(p))},[h]);return W.useLayoutEffect(()=>o.listen(d),[o,d]),W.createElement(yI,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var w0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,b0=W.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:d,target:p,to:g,preventScrollReset:_,viewTransition:A,...b},P){let{basename:O}=W.useContext(Ri),j=typeof g=="string"&&w0.test(g),V,K=!1;if(typeof g=="string"&&j&&(V=g,S0))try{let R=new URL(window.location.href),N=g.startsWith("//")?new URL(R.protocol+g):new URL(g),k=rr(N.pathname,O);N.origin===R.origin&&k!=null?g=k+N.search+N.hash:K=!0}catch{Si(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Y=ZR(g,{relative:o}),[G,ae,ee]=LI(s,b),ce=KI(g,{replace:h,state:d,target:p,preventScrollReset:_,relative:o,viewTransition:A});function D(R){e&&e(R),R.defaultPrevented||ce(R)}let w=W.createElement("a",{...b,...ee,href:V||Y,onClick:K||u?e:D,ref:jI(P,ae),target:p,"data-discover":!j&&t==="render"?"true":void 0});return G&&!j?W.createElement(W.Fragment,null,w,W.createElement(UI,{page:Y})):w});b0.displayName="Link";var HI=W.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:d,children:p,...g},_){let A=hu(h,{relative:g.relative}),b=Ws(),P=W.useContext(Gh),{navigator:O,basename:j}=W.useContext(Ri),V=P!=null&&WI(A)&&d===!0,K=O.encodeLocation?O.encodeLocation(A).pathname:A.pathname,Y=b.pathname,G=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;t||(Y=Y.toLowerCase(),G=G?G.toLowerCase():null,K=K.toLowerCase()),G&&j&&(G=rr(G,j)||G);const ae=K!=="/"&&K.endsWith("/")?K.length-1:K.length;let ee=Y===K||!o&&Y.startsWith(K)&&Y.charAt(ae)==="/",ce=G!=null&&(G===K||!o&&G.startsWith(K)&&G.charAt(K.length)==="/"),D={isActive:ee,isPending:ce,isTransitioning:V},w=ee?e:void 0,R;typeof s=="function"?R=s(D):R=[s,ee?"active":null,ce?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let N=typeof u=="function"?u(D):u;return W.createElement(b0,{...g,"aria-current":w,className:R,ref:_,style:N,to:h,viewTransition:d},typeof p=="function"?p(D):p)});HI.displayName="NavLink";var FI=W.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:u,method:h=rh,action:d,onSubmit:p,relative:g,preventScrollReset:_,viewTransition:A,...b},P)=>{let O=YI(),j=XI(d,{relative:g}),V=h.toLowerCase()==="get"?"get":"post",K=typeof d=="string"&&w0.test(d),Y=G=>{if(p&&p(G),G.defaultPrevented)return;G.preventDefault();let ae=G.nativeEvent.submitter,ee=(ae==null?void 0:ae.getAttribute("formmethod"))||h;O(ae||G.currentTarget,{fetcherKey:e,method:ee,navigate:t,replace:o,state:u,relative:g,preventScrollReset:_,viewTransition:A})};return W.createElement("form",{ref:P,method:V,action:j,onSubmit:s?p:Y,...b,"data-discover":!K&&i==="render"?"true":void 0})});FI.displayName="Form";function GI(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function R0(i){let e=W.useContext(go);return ut(e,GI(i)),e}function KI(i,{target:e,replace:t,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let d=cu(),p=Ws(),g=hu(i,{relative:u});return W.useCallback(_=>{if(SI(_,e)){_.preventDefault();let A=t!==void 0?t:Wl(p)===Wl(g);d(i,{replace:A,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[p,d,g,t,s,e,i,o,u,h])}var $I=0,QI=()=>`__${String(++$I)}__`;function YI(){let{router:i}=R0("useSubmit"),{basename:e}=W.useContext(Ri),t=fI();return W.useCallback(async(s,o={})=>{let{action:u,method:h,encType:d,formData:p,body:g}=RI(s,e);if(o.navigate===!1){let _=o.fetcherKey||QI();await i.fetch(_,t,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||d,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,t])}function XI(i,{relative:e}={}){let{basename:t}=W.useContext(Ri),s=W.useContext(Ii);ut(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...hu(i||".",{relative:e})},h=Ws();if(i==null){u.search=h.search;let d=new URLSearchParams(u.search),p=d.getAll("index");if(p.some(_=>_==="")){d.delete("index"),p.filter(A=>A).forEach(A=>d.append("index",A));let _=d.toString();u.search=_?`?${_}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:nr([t,u.pathname])),Wl(u)}function WI(i,e={}){let t=W.useContext(g0);ut(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=R0("useViewTransitionState"),o=hu(i,{relative:e.relative});if(!t.isTransitioning)return!1;let u=rr(t.currentLocation.pathname,s)||t.currentLocation.pathname,h=rr(t.nextLocation.pathname,s)||t.nextLocation.pathname;return vh(o.pathname,h)!=null||vh(o.pathname,u)!=null}[...xI];const JI=()=>{};var oE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0=function(i){const e=[];let t=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},ZI=function(i){const e=[];let t=0,s=0;for(;t<i.length;){const o=i[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[t++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[t++],h=i[t++],d=i[t++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[t++],h=i[t++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},C0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,d=h?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,_=u>>2,A=(u&3)<<4|d>>4;let b=(d&15)<<2|g>>6,P=g&63;p||(P=64,h||(b=64)),s.push(t[_],t[A],t[b],t[P])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(I0(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):ZI(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=t[i.charAt(o++)],d=o<i.length?t[i.charAt(o)]:0;++o;const g=o<i.length?t[i.charAt(o)]:64;++o;const A=o<i.length?t[i.charAt(o)]:64;if(++o,u==null||d==null||g==null||A==null)throw new eC;const b=u<<2|d>>4;if(s.push(b),g!==64){const P=d<<4&240|g>>2;if(s.push(P),A!==64){const O=g<<6&192|A;s.push(O)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class eC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tC=function(i){const e=I0(i);return C0.encodeByteArray(e,!0)},Eh=function(i){return tC(i).replace(/\./g,"")},O0=function(i){try{return C0.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC=()=>nC().__FIREBASE_DEFAULTS__,rC=()=>{if(typeof process>"u"||typeof oE>"u")return;const i=oE.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},sC=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&O0(i[1]);return e&&JSON.parse(e)},$h=()=>{try{return JI()||iC()||rC()||sC()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},D0=i=>{var e,t;return(t=(e=$h())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[i]},aC=i=>{const e=D0(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},N0=()=>{var i;return(i=$h())===null||i===void 0?void 0:i.config},M0=i=>{var e;return(e=$h())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lC(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Eh(JSON.stringify(t)),Eh(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function uC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function cC(){var i;const e=(i=$h())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function P0(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function fC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function dC(){const i=tn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function mC(){return!cC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function x0(){try{return typeof indexedDB=="object"}catch{return!1}}function V0(){return new Promise((i,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(t){e(t)}})}function pC(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC="FirebaseError";class Zn extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=gC,Object.setPrototypeOf(this,Zn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Js.prototype.create)}}class Js{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?yC(u,s):"Error",d=`${this.serviceName}: ${h} (${o}).`;return new Zn(o,d,s)}}function yC(i,e){return i.replace(_C,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const _C=/\{\$([^}]+)}/g;function vC(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Yr(i,e){if(i===e)return!0;const t=Object.keys(i),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const u=i[o],h=e[o];if(lE(u)&&lE(h)){if(!Yr(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function lE(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fu(i){const e=[];for(const[t,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function zl(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function jl(i){const e=i.indexOf("?");if(!e)return"";const t=i.indexOf("#",e);return i.substring(e,t>0?t:void 0)}function EC(i,e){const t=new TC(i,e);return t.subscribe.bind(t)}class TC{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");AC(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=Dm),o.error===void 0&&(o.error=Dm),o.complete===void 0&&(o.complete=Dm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function AC(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function Dm(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC=1e3,wC=2,bC=4*60*60*1e3,RC=.5;function uE(i,e=SC,t=wC){const s=e*Math.pow(t,i),o=Math.round(RC*s*(Math.random()-.5)*2);return Math.min(bC,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(i){return i&&i._delegate?i._delegate:i}class Xn{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new oC;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(OC(e))try{this.getOrInitializeService({instanceIdentifier:zs})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=zs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=zs){return this.instances.has(e)}getOptions(e=zs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);s===d&&h.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&e(h,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:CC(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=zs){return this.component?this.component.multipleInstances?e:zs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function CC(i){return i===zs?void 0:i}function OC(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new IC(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(ke||(ke={}));const NC={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},MC=ke.INFO,PC={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},xC=(i,e,...t)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=PC[e];if(o)console[o](`[${s}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Qh{constructor(e){this.name=e,this._logLevel=MC,this._logHandler=xC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?NC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const VC=(i,e)=>e.some(t=>i instanceof t);let cE,hE;function kC(){return cE||(cE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function LC(){return hE||(hE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const k0=new WeakMap,Jm=new WeakMap,L0=new WeakMap,Nm=new WeakMap,kp=new WeakMap;function UC(i){const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{t(Hr(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&k0.set(t,i)}).catch(()=>{}),kp.set(e,i),e}function BC(i){if(Jm.has(i))return;const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{t(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});Jm.set(i,e)}let Zm={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return Jm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||L0.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Hr(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function zC(i){Zm=i(Zm)}function jC(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=i.call(Mm(this),e,...t);return L0.set(s,e.sort?e.sort():[e]),Hr(s)}:LC().includes(i)?function(...e){return i.apply(Mm(this),e),Hr(k0.get(this))}:function(...e){return Hr(i.apply(Mm(this),e))}}function qC(i){return typeof i=="function"?jC(i):(i instanceof IDBTransaction&&BC(i),VC(i,kC())?new Proxy(i,Zm):i)}function Hr(i){if(i instanceof IDBRequest)return UC(i);if(Nm.has(i))return Nm.get(i);const e=qC(i);return e!==i&&(Nm.set(i,e),kp.set(e,i)),e}const Mm=i=>kp.get(i);function U0(i,e,{blocked:t,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(i,e),d=Hr(h);return s&&h.addEventListener("upgradeneeded",p=>{s(Hr(h.result),p.oldVersion,p.newVersion,Hr(h.transaction),p)}),t&&h.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const HC=["get","getKey","getAll","getAllKeys","count"],FC=["put","add","delete","clear"],Pm=new Map;function fE(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Pm.get(e))return Pm.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=FC.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||HC.includes(t)))return;const u=async function(h,...d){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),o&&p.done]))[0]};return Pm.set(e,u),u}zC(i=>({...i,get:(e,t,s)=>fE(e,t)||i.get(e,t,s),has:(e,t)=>!!fE(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(KC(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function KC(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ep="@firebase/app",dE="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sr=new Qh("@firebase/app"),$C="@firebase/app-compat",QC="@firebase/analytics-compat",YC="@firebase/analytics",XC="@firebase/app-check-compat",WC="@firebase/app-check",JC="@firebase/auth",ZC="@firebase/auth-compat",e1="@firebase/database",t1="@firebase/data-connect",n1="@firebase/database-compat",i1="@firebase/functions",r1="@firebase/functions-compat",s1="@firebase/installations",a1="@firebase/installations-compat",o1="@firebase/messaging",l1="@firebase/messaging-compat",u1="@firebase/performance",c1="@firebase/performance-compat",h1="@firebase/remote-config",f1="@firebase/remote-config-compat",d1="@firebase/storage",m1="@firebase/storage-compat",p1="@firebase/firestore",g1="@firebase/vertexai",y1="@firebase/firestore-compat",_1="firebase",v1="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tp="[DEFAULT]",E1={[ep]:"fire-core",[$C]:"fire-core-compat",[YC]:"fire-analytics",[QC]:"fire-analytics-compat",[WC]:"fire-app-check",[XC]:"fire-app-check-compat",[JC]:"fire-auth",[ZC]:"fire-auth-compat",[e1]:"fire-rtdb",[t1]:"fire-data-connect",[n1]:"fire-rtdb-compat",[i1]:"fire-fn",[r1]:"fire-fn-compat",[s1]:"fire-iid",[a1]:"fire-iid-compat",[o1]:"fire-fcm",[l1]:"fire-fcm-compat",[u1]:"fire-perf",[c1]:"fire-perf-compat",[h1]:"fire-rc",[f1]:"fire-rc-compat",[d1]:"fire-gcs",[m1]:"fire-gcs-compat",[p1]:"fire-fst",[y1]:"fire-fst-compat",[g1]:"fire-vertex","fire-js":"fire-js",[_1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Th=new Map,T1=new Map,np=new Map;function mE(i,e){try{i.container.addComponent(e)}catch(t){sr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function wi(i){const e=i.name;if(np.has(e))return sr.debug(`There were multiple attempts to register component ${e}.`),!1;np.set(e,i);for(const t of Th.values())mE(t,i);for(const t of T1.values())mE(t,i);return!0}function Zs(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function $n(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fr=new Js("app","Firebase",A1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Xn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yo=v1;function B0(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:tp,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw Fr.create("bad-app-name",{appName:String(o)});if(t||(t=N0()),!t)throw Fr.create("no-options");const u=Th.get(o);if(u){if(Yr(t,u.options)&&Yr(s,u.config))return u;throw Fr.create("duplicate-app",{appName:o})}const h=new DC(o);for(const p of np.values())h.addComponent(p);const d=new S1(t,s,h);return Th.set(o,d),d}function Lp(i=tp){const e=Th.get(i);if(!e&&i===tp&&N0())return B0();if(!e)throw Fr.create("no-app",{appName:i});return e}function Un(i,e,t){var s;let o=(s=E1[i])!==null&&s!==void 0?s:i;t&&(o+=`-${t}`);const u=o.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const d=[`Unable to register library "${o}" with version "${e}":`];u&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),sr.warn(d.join(" "));return}wi(new Xn(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1="firebase-heartbeat-database",b1=1,Jl="firebase-heartbeat-store";let xm=null;function z0(){return xm||(xm=U0(w1,b1,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Jl)}catch(t){console.warn(t)}}}}).catch(i=>{throw Fr.create("idb-open",{originalErrorMessage:i.message})})),xm}async function R1(i){try{const t=(await z0()).transaction(Jl),s=await t.objectStore(Jl).get(j0(i));return await t.done,s}catch(e){if(e instanceof Zn)sr.warn(e.message);else{const t=Fr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});sr.warn(t.message)}}}async function pE(i,e){try{const s=(await z0()).transaction(Jl,"readwrite");await s.objectStore(Jl).put(e,j0(i)),await s.done}catch(t){if(t instanceof Zn)sr.warn(t.message);else{const s=Fr.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});sr.warn(s.message)}}}function j0(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1=1024,C1=30;class O1{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new N1(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=gE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>C1){const h=M1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){sr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=gE(),{heartbeatsToSend:s,unsentEntries:o}=D1(this._heartbeatsCache.heartbeats),u=Eh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return sr.warn(t),""}}}function gE(){return new Date().toISOString().substring(0,10)}function D1(i,e=I1){const t=[];let s=i.slice();for(const o of i){const u=t.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),yE(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),yE(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class N1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return x0()?V0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await R1(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return pE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return pE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function yE(i){return Eh(JSON.stringify({version:2,heartbeats:i})).length}function M1(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let s=1;s<i.length;s++)i[s].date<t&&(t=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P1(i){wi(new Xn("platform-logger",e=>new GC(e),"PRIVATE")),wi(new Xn("heartbeat",e=>new O1(e),"PRIVATE")),Un(ep,dE,i),Un(ep,dE,"esm2017"),Un("fire-js","")}P1("");function Up(i,e){var t={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(t[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(t[s[o]]=i[s[o]]);return t}function q0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const x1=q0,H0=new Js("auth","Firebase",q0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ah=new Qh("@firebase/auth");function V1(i,...e){Ah.logLevel<=ke.WARN&&Ah.warn(`Auth (${yo}): ${i}`,...e)}function ah(i,...e){Ah.logLevel<=ke.ERROR&&Ah.error(`Auth (${yo}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wn(i,...e){throw Bp(i,...e)}function vi(i,...e){return Bp(i,...e)}function F0(i,e,t){const s=Object.assign(Object.assign({},x1()),{[e]:t});return new Js("auth","Firebase",s).create(e,{appName:i.name})}function Gr(i){return F0(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Bp(i,...e){if(typeof i!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(t,...s)}return H0.create(i,...e)}function Ae(i,e,...t){if(!i)throw Bp(e,...t)}function er(i){const e="INTERNAL ASSERTION FAILED: "+i;throw ah(e),new Error(e)}function ar(i,e){i||er(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ip(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function k1(){return _E()==="http:"||_E()==="https:"}function _E(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(k1()||P0()||"connection"in navigator)?navigator.onLine:!0}function U1(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(e,t){this.shortDelay=e,this.longDelay=t,ar(t>e,"Short delay should be less than long delay!"),this.isMobile=uC()||fC()}get(){return L1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zp(i,e){ar(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;er("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;er("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;er("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],j1=new du(3e4,6e4);function ea(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function ns(i,e,t,s,o={}){return K0(i,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const d=fu(Object.assign({key:i.config.apiKey},h)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g=Object.assign({method:e,headers:p},u);return hC()||(g.referrerPolicy="no-referrer"),G0.fetch()(await $0(i,i.config.apiHost,t,d),g)})}async function K0(i,e,t){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},B1),e);try{const o=new H1(i),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw Xc(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const d=u.ok?h.errorMessage:h.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xc(i,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw Xc(i,"email-already-in-use",h);if(p==="USER_DISABLED")throw Xc(i,"user-disabled",h);const _=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw F0(i,_,g);Wn(i,_)}}catch(o){if(o instanceof Zn)throw o;Wn(i,"network-request-failed",{message:String(o)})}}async function Yh(i,e,t,s,o={}){const u=await ns(i,e,t,s,o);return"mfaPendingCredential"in u&&Wn(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function $0(i,e,t,s){const o=`${e}${t}?${s}`,u=i,h=u.config.emulator?zp(i.config,o):`${i.config.apiScheme}://${o}`;return z1.includes(t)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function q1(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class H1{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(vi(this.auth,"network-request-failed")),j1.get())})}}function Xc(i,e,t){const s={appName:i.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=vi(i,e,s);return o.customData._tokenResponse=t,o}function vE(i){return i!==void 0&&i.enterprise!==void 0}class F1{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return q1(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function G1(i,e){return ns(i,"GET","/v2/recaptchaConfig",ea(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K1(i,e){return ns(i,"POST","/v1/accounts:delete",e)}async function Sh(i,e){return ns(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gl(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function $1(i,e=!1){const t=Gt(i),s=await t.getIdToken(e),o=jp(s);Ae(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Gl(Vm(o.auth_time)),issuedAtTime:Gl(Vm(o.iat)),expirationTime:Gl(Vm(o.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Vm(i){return Number(i)*1e3}function jp(i){const[e,t,s]=i.split(".");if(e===void 0||t===void 0||s===void 0)return ah("JWT malformed, contained fewer than 3 sections"),null;try{const o=O0(t);return o?JSON.parse(o):(ah("Failed to decode base64 JWT payload"),null)}catch(o){return ah("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function EE(i){const e=jp(i);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zl(i,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Zn&&Q1(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function Q1({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gl(this.lastLoginAt),this.creationTime=Gl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wh(i){var e;const t=i.auth,s=await i.getIdToken(),o=await Zl(i,Sh(t,{idToken:s}));Ae(o==null?void 0:o.users.length,t,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const h=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?Q0(u.providerUserInfo):[],d=W1(i.providerData,h),p=i.isAnonymous,g=!(i.email&&u.passwordHash)&&!(d!=null&&d.length),_=p?g:!1,A={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:d,metadata:new rp(u.createdAt,u.lastLoginAt),isAnonymous:_};Object.assign(i,A)}async function X1(i){const e=Gt(i);await wh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function W1(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function Q0(i){return i.map(e=>{var{providerId:t}=e,s=Up(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J1(i,e){const t=await K0(i,{},async()=>{const s=fu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,h=await $0(i,o,"/v1/token",`key=${u}`),d=await i._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",G0.fetch()(h,{method:"POST",headers:d,body:s})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Z1(i,e){return ns(i,"POST","/v2/accounts:revokeToken",ea(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):EE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const t=EE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:u}=await J1(e,t);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:u}=t,h=new no;return s&&(Ae(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(Ae(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(Ae(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new no,this.toJSON())}_performRefresh(){return er("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lr(i,e){Ae(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Qn{constructor(e){var{uid:t,auth:s,stsTokenManager:o}=e,u=Up(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Y1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new rp(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const t=await Zl(this,this.stsTokenManager.getToken(this.auth,e));return Ae(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return $1(this,e)}reload(){return X1(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Qn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await wh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($n(this.auth.app))return Promise.reject(Gr(this.auth));const e=await this.getIdToken();return await Zl(this,K1(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,o,u,h,d,p,g,_;const A=(s=t.displayName)!==null&&s!==void 0?s:void 0,b=(o=t.email)!==null&&o!==void 0?o:void 0,P=(u=t.phoneNumber)!==null&&u!==void 0?u:void 0,O=(h=t.photoURL)!==null&&h!==void 0?h:void 0,j=(d=t.tenantId)!==null&&d!==void 0?d:void 0,V=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,K=(g=t.createdAt)!==null&&g!==void 0?g:void 0,Y=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:G,emailVerified:ae,isAnonymous:ee,providerData:ce,stsTokenManager:D}=t;Ae(G&&D,e,"internal-error");const w=no.fromJSON(this.name,D);Ae(typeof G=="string",e,"internal-error"),Lr(A,e.name),Lr(b,e.name),Ae(typeof ae=="boolean",e,"internal-error"),Ae(typeof ee=="boolean",e,"internal-error"),Lr(P,e.name),Lr(O,e.name),Lr(j,e.name),Lr(V,e.name),Lr(K,e.name),Lr(Y,e.name);const R=new Qn({uid:G,auth:e,email:b,emailVerified:ae,displayName:A,isAnonymous:ee,photoURL:O,phoneNumber:P,tenantId:j,stsTokenManager:w,createdAt:K,lastLoginAt:Y});return ce&&Array.isArray(ce)&&(R.providerData=ce.map(N=>Object.assign({},N))),V&&(R._redirectEventId=V),R}static async _fromIdTokenResponse(e,t,s=!1){const o=new no;o.updateFromServerResponse(t);const u=new Qn({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await wh(u),u}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];Ae(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?Q0(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),d=new no;d.updateFromIdToken(s);const p=new Qn({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new rp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE=new Map;function tr(i){ar(i instanceof Function,"Expected a class definition");let e=TE.get(i);return e?(ar(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,TE.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Y0.type="NONE";const AE=Y0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oh(i,e,t){return`firebase:${i}:${e}:${t}`}class io{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=oh(this.userKey,o.apiKey,u),this.fullPersistenceKey=oh("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Sh(this.auth,{idToken:e}).catch(()=>{});return t?Qn._fromGetAccountInfoResponse(this.auth,t,e):null}return Qn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new io(tr(AE),e,s);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||tr(AE);const h=oh(s,e.config.apiKey,e.name);let d=null;for(const g of t)try{const _=await g._get(h);if(_){let A;if(typeof _=="string"){const b=await Sh(e,{idToken:_}).catch(()=>{});if(!b)break;A=await Qn._fromGetAccountInfoResponse(e,b,_)}else A=Qn._fromJSON(e,_);g!==u&&(d=A),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new io(u,e,s):(u=p[0],d&&await u._set(h,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new io(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SE(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Z0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(X0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(tA(e))return"Blackberry";if(nA(e))return"Webos";if(W0(e))return"Safari";if((e.includes("chrome/")||J0(e))&&!e.includes("edge/"))return"Chrome";if(eA(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function X0(i=tn()){return/firefox\//i.test(i)}function W0(i=tn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function J0(i=tn()){return/crios\//i.test(i)}function Z0(i=tn()){return/iemobile/i.test(i)}function eA(i=tn()){return/android/i.test(i)}function tA(i=tn()){return/blackberry/i.test(i)}function nA(i=tn()){return/webos/i.test(i)}function qp(i=tn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function eO(i=tn()){var e;return qp(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function tO(){return dC()&&document.documentMode===10}function iA(i=tn()){return qp(i)||eA(i)||nA(i)||tA(i)||/windows phone/i.test(i)||Z0(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rA(i,e=[]){let t;switch(i){case"Browser":t=SE(tn());break;case"Worker":t=`${SE(tn())}-${i}`;break;default:t=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${yo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=u=>new Promise((h,d)=>{try{const p=e(u);h(p)}catch(p){d(p)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iO(i,e={}){return ns(i,"GET","/v2/passwordPolicy",ea(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO=6;class sO{constructor(e){var t,s,o,u;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:rO,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,o,u,h,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wE(this),this.idTokenSubscription=new wE(this),this.beforeStateQueue=new nO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=H0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=tr(t)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await io.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Sh(this,{idToken:e}),s=await Qn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if($n(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(d,d))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===d)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await wh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=U1()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if($n(this.app))return Promise.reject(Gr(this));const t=e?Gt(e):null;return t&&Ae(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return $n(this.app)?Promise.reject(Gr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return $n(this.app)?Promise.reject(Gr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(tr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await iO(this),t=new sO(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Js("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await Z1(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&tr(e)||this._popupRedirectResolver;Ae(t,this,"argument-error"),this.redirectPersistenceManager=await io.create(this,[tr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let h=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(d,this,"internal-error"),d.then(()=>{h||u(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(t);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=rA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if($n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&V1(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function _o(i){return Gt(i)}class wE{constructor(e){this.auth=e,this.observer=null,this.addObserver=EC(t=>this.observer=t)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function oO(i){Xh=i}function sA(i){return Xh.loadJS(i)}function lO(){return Xh.recaptchaEnterpriseScript}function uO(){return Xh.gapiScript}function cO(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class hO{constructor(){this.enterprise=new fO}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class fO{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const dO="recaptcha-enterprise",aA="NO_RECAPTCHA";class mO{constructor(e){this.type=dO,this.auth=_o(e)}async verify(e="verify",t=!1){async function s(u){if(!t){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,d)=>{G1(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new F1(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(p=>{d(p)})})}function o(u,h,d){const p=window.grecaptcha;vE(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{h(g)}).catch(()=>{h(aA)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new hO().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(d=>{if(!t&&vE(window.grecaptcha))o(d,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=lO();p.length!==0&&(p+=d),sA(p).then(()=>{o(d,u,h)}).catch(g=>{h(g)})}}).catch(d=>{h(d)})})}}async function bE(i,e,t,s=!1,o=!1){const u=new mO(i);let h;if(o)h=aA;else try{h=await u.verify(t)}catch{h=await u.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:h}):Object.assign(d,{captchaResponse:h}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function RE(i,e,t,s,o){var u;if(!((u=i._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await bE(i,e,t,t==="getOobCode");return s(i,h)}else return s(i,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await bE(i,e,t,t==="getOobCode");return s(i,d)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pO(i,e){const t=Zs(i,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(Yr(u,e??{}))return o;Wn(o,"already-initialized")}return t.initialize({options:e})}function gO(i,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(tr);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function yO(i,e,t){const s=_o(i);Ae(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=oA(e),{host:h,port:d}=_O(e),p=d===null?"":`:${d}`,g={url:`${u}//${h}${p}/`},_=Object.freeze({host:h,port:d,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ae(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ae(Yr(g,s.config.emulator)&&Yr(_,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=_,s.settings.appVerificationDisabledForTesting=!0,vO()}function oA(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function _O(i){const e=oA(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:IE(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:IE(h)}}}function IE(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function vO(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return er("not implemented")}_getIdTokenResponse(e){return er("not implemented")}_linkToIdToken(e,t){return er("not implemented")}_getReauthenticationResolver(e){return er("not implemented")}}async function EO(i,e){return ns(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TO(i,e){return Yh(i,"POST","/v1/accounts:signInWithPassword",ea(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AO(i,e){return Yh(i,"POST","/v1/accounts:signInWithEmailLink",ea(i,e))}async function SO(i,e){return Yh(i,"POST","/v1/accounts:signInWithEmailLink",ea(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu extends Hp{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new eu(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new eu(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return RE(e,t,"signInWithPassword",TO);case"emailLink":return AO(e,{email:this._email,oobCode:this._password});default:Wn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return RE(e,s,"signUpPassword",EO);case"emailLink":return SO(e,{idToken:t,email:this._email,oobCode:this._password});default:Wn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ro(i,e){return Yh(i,"POST","/v1/accounts:signInWithIdp",ea(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wO="http://localhost";class Gs extends Hp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Gs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Wn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=t,u=Up(t,["providerId","signInMethod"]);if(!s||!o)return null;const h=new Gs(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return ro(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,ro(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ro(e,t)}buildRequest(){const e={requestUri:wO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=fu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bO(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function RO(i){const e=zl(jl(i)).link,t=e?zl(jl(e)).deep_link_id:null,s=zl(jl(i)).deep_link_id;return(s?zl(jl(s)).link:null)||s||t||e||i}class Fp{constructor(e){var t,s,o,u,h,d;const p=zl(jl(e)),g=(t=p.apiKey)!==null&&t!==void 0?t:null,_=(s=p.oobCode)!==null&&s!==void 0?s:null,A=bO((o=p.mode)!==null&&o!==void 0?o:null);Ae(g&&_&&A,"argument-error"),this.apiKey=g,this.operation=A,this.code=_,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(h=p.languageCode)!==null&&h!==void 0?h:null,this.tenantId=(d=p.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=RO(e);try{return new Fp(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(){this.providerId=vo.PROVIDER_ID}static credential(e,t){return eu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=Fp.parseLink(t);return Ae(s,"argument-error"),eu._fromEmailAndCode(e,s.code,s.tenantId)}}vo.PROVIDER_ID="password";vo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";vo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu extends lA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur extends mu{constructor(){super("facebook.com")}static credential(e){return Gs._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ur.credentialFromTaggedObject(e)}static credentialFromError(e){return Ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ur.credential(e.oauthAccessToken)}catch{return null}}}Ur.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ur.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br extends mu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Gs._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Br.credentialFromTaggedObject(e)}static credentialFromError(e){return Br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return Br.credential(t,s)}catch{return null}}}Br.GOOGLE_SIGN_IN_METHOD="google.com";Br.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr extends mu{constructor(){super("github.com")}static credential(e){return Gs._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zr.credentialFromTaggedObject(e)}static credentialFromError(e){return zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zr.credential(e.oauthAccessToken)}catch{return null}}}zr.GITHUB_SIGN_IN_METHOD="github.com";zr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr extends mu{constructor(){super("twitter.com")}static credential(e,t){return Gs._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return jr.credentialFromTaggedObject(e)}static credentialFromError(e){return jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return jr.credential(t,s)}catch{return null}}}jr.TWITTER_SIGN_IN_METHOD="twitter.com";jr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const u=await Qn._fromIdTokenResponse(e,s,o),h=CE(s);return new ao({user:u,providerId:h,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=CE(s);return new ao({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function CE(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh extends Zn{constructor(e,t,s,o){var u;super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,bh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new bh(e,t,s,o)}}function uA(i,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?bh._fromErrorAndOperation(i,u,e,s):u})}async function IO(i,e,t=!1){const s=await Zl(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return ao._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CO(i,e,t=!1){const{auth:s}=i;if($n(s.app))return Promise.reject(Gr(s));const o="reauthenticate";try{const u=await Zl(i,uA(s,o,e,i),t);Ae(u.idToken,s,"internal-error");const h=jp(u.idToken);Ae(h,s,"internal-error");const{sub:d}=h;return Ae(i.uid===d,s,"user-mismatch"),ao._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Wn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cA(i,e,t=!1){if($n(i.app))return Promise.reject(Gr(i));const s="signIn",o=await uA(i,s,e),u=await ao._fromIdTokenResponse(i,s,o);return t||await i._updateCurrentUser(u.user),u}async function OO(i,e){return cA(_o(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DO(i){const e=_o(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function NO(i,e,t){return $n(i.app)?Promise.reject(Gr(i)):OO(Gt(i),vo.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&DO(i),s})}function MO(i,e,t,s){return Gt(i).onIdTokenChanged(e,t,s)}function PO(i,e,t){return Gt(i).beforeAuthStateChanged(e,t)}function xO(i,e,t,s){return Gt(i).onAuthStateChanged(e,t,s)}function VO(i){return Gt(i).signOut()}const Rh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Rh,"1"),this.storage.removeItem(Rh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO=1e3,LO=10;class fA extends hA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=iA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,d,p)=>{this.notifyListeners(h,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!t&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);tO()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,LO):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},kO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}fA.type="LOCAL";const UO=fA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA extends hA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}dA.type="SESSION";const mA=dA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BO(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new Wh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:u}=t.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const d=Array.from(h).map(async g=>g(t.origin,u)),p=await BO(d);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Wh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gp(i="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return i+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((d,p)=>{const g=Gp("",20);o.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(A){const b=A;if(b.data.eventId===g)switch(b.data.status){case"ack":clearTimeout(_),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),d(b.data.response);break;default:clearTimeout(_),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ei(){return window}function jO(i){Ei().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pA(){return typeof Ei().WorkerGlobalScope<"u"&&typeof Ei().importScripts=="function"}async function qO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function HO(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function FO(){return pA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gA="firebaseLocalStorageDb",GO=1,Ih="firebaseLocalStorage",yA="fbase_key";class pu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Jh(i,e){return i.transaction([Ih],e?"readwrite":"readonly").objectStore(Ih)}function KO(){const i=indexedDB.deleteDatabase(gA);return new pu(i).toPromise()}function sp(){const i=indexedDB.open(gA,GO);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Ih,{keyPath:yA})}catch(o){t(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Ih)?e(s):(s.close(),await KO(),e(await sp()))})})}async function OE(i,e,t){const s=Jh(i,!0).put({[yA]:e,value:t});return new pu(s).toPromise()}async function $O(i,e){const t=Jh(i,!1).get(e),s=await new pu(t).toPromise();return s===void 0?null:s.value}function DE(i,e){const t=Jh(i,!0).delete(e);return new pu(t).toPromise()}const QO=800,YO=3;class _A{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await sp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>YO)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return pA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Wh._getInstance(FO()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await qO(),!this.activeServiceWorker)return;this.sender=new zO(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||HO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await sp();return await OE(e,Rh,"1"),await DE(e,Rh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>OE(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>$O(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>DE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Jh(o,!1).getAll();return new pu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),QO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_A.type="LOCAL";const XO=_A;new du(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WO(i,e){return e?tr(e):(Ae(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp extends Hp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ro(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ro(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ro(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function JO(i){return cA(i.auth,new Kp(i),i.bypassAuthState)}function ZO(i){const{auth:e,user:t}=i;return Ae(t,e,"internal-error"),CO(t,new Kp(i),i.bypassAuthState)}async function eD(i){const{auth:e,user:t}=i;return Ae(t,e,"internal-error"),IO(t,new Kp(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e,t,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:u,error:h,type:d}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return JO;case"linkViaPopup":case"linkViaRedirect":return eD;case"reauthViaPopup":case"reauthViaRedirect":return ZO;default:Wn(this.auth,"internal-error")}}resolve(e){ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD=new du(2e3,1e4);class to extends vA{constructor(e,t,s,o,u){super(e,t,o,u),this.provider=s,this.authWindow=null,this.pollId=null,to.currentPopupAction&&to.currentPopupAction.cancel(),to.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){ar(this.filter.length===1,"Popup operations only handle one event");const e=Gp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(vi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(vi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,to.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(vi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,tD.get())};e()}}to.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD="pendingRedirect",lh=new Map;class iD extends vA{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=lh.get(this.auth._key());if(!e){try{const s=await rD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}lh.set(this.auth._key(),e)}return this.bypassAuthState||lh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function rD(i,e){const t=oD(e),s=aD(i);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function sD(i,e){lh.set(i._key(),e)}function aD(i){return tr(i._redirectPersistence)}function oD(i){return oh(nD,i.config.apiKey,i.name)}async function lD(i,e,t=!1){if($n(i.app))return Promise.reject(Gr(i));const s=_o(i),o=WO(s,e),h=await new iD(s,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uD=10*60*1e3;class cD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!hD(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!EA(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(vi(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=uD&&this.cachedEventUids.clear(),this.cachedEventUids.has(NE(e))}saveEventToCache(e){this.cachedEventUids.add(NE(e)),this.lastProcessedEventTime=Date.now()}}function NE(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function EA({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function hD(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return EA(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fD(i,e={}){return ns(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mD=/^https?/;async function pD(i){if(i.config.emulator)return;const{authorizedDomains:e}=await fD(i);for(const t of e)try{if(gD(t))return}catch{}Wn(i,"unauthorized-domain")}function gD(i){const e=ip(),{protocol:t,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===s}if(!mD.test(t))return!1;if(dD.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yD=new du(3e4,6e4);function ME(){const i=Ei().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function _D(i){return new Promise((e,t)=>{var s,o,u;function h(){ME(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ME(),t(vi(i,"network-request-failed"))},timeout:yD.get()})}if(!((o=(s=Ei().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=Ei().gapi)===null||u===void 0)&&u.load)h();else{const d=cO("iframefcb");return Ei()[d]=()=>{gapi.load?h():t(vi(i,"network-request-failed"))},sA(`${uO()}?onload=${d}`).catch(p=>t(p))}}).catch(e=>{throw uh=null,e})}let uh=null;function vD(i){return uh=uh||_D(i),uh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED=new du(5e3,15e3),TD="__/auth/iframe",AD="emulator/auth/iframe",SD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bD(i){const e=i.config;Ae(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?zp(e,AD):`https://${i.config.authDomain}/${TD}`,s={apiKey:e.apiKey,appName:i.name,v:yo},o=wD.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${t}?${fu(s).slice(1)}`}async function RD(i){const e=await vD(i),t=Ei().gapi;return Ae(t,i,"internal-error"),e.open({where:document.body,url:bD(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:SD,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=vi(i,"network-request-failed"),d=Ei().setTimeout(()=>{u(h)},ED.get());function p(){Ei().clearTimeout(d),o(s)}s.ping(p).then(p,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},CD=500,OD=600,DD="_blank",ND="http://localhost";class PE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function MD(i,e,t,s=CD,o=OD){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const p=Object.assign(Object.assign({},ID),{width:s.toString(),height:o.toString(),top:u,left:h}),g=tn().toLowerCase();t&&(d=J0(g)?DD:t),X0(g)&&(e=e||ND,p.scrollbars="yes");const _=Object.entries(p).reduce((b,[P,O])=>`${b}${P}=${O},`,"");if(eO(g)&&d!=="_self")return PD(e||"",d),new PE(null);const A=window.open(e||"",d,_);Ae(A,i,"popup-blocked");try{A.focus()}catch{}return new PE(A)}function PD(i,e){const t=document.createElement("a");t.href=i,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xD="__/auth/handler",VD="emulator/auth/handler",kD=encodeURIComponent("fac");async function xE(i,e,t,s,o,u){Ae(i.config.authDomain,i,"auth-domain-config-required"),Ae(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:s,v:yo,eventId:o};if(e instanceof lA){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",vC(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,A]of Object.entries({}))h[_]=A}if(e instanceof mu){const _=e.getScopes().filter(A=>A!=="");_.length>0&&(h.scopes=_.join(","))}i.tenantId&&(h.tid=i.tenantId);const d=h;for(const _ of Object.keys(d))d[_]===void 0&&delete d[_];const p=await i._getAppCheckToken(),g=p?`#${kD}=${encodeURIComponent(p)}`:"";return`${LD(i)}?${fu(d).slice(1)}${g}`}function LD({config:i}){return i.emulator?zp(i,VD):`https://${i.authDomain}/${xD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const km="webStorageSupport";class UD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=mA,this._completeRedirectFn=lD,this._overrideRedirectResult=sD}async _openPopup(e,t,s,o){var u;ar((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const h=await xE(e,t,s,ip(),o);return MD(e,h,Gp())}async _openRedirect(e,t,s,o){await this._originValidation(e);const u=await xE(e,t,s,ip(),o);return jO(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(ar(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await RD(e),s=new cD(e);return t.register("authEvent",o=>(Ae(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(km,{type:km},o=>{var u;const h=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[km];h!==void 0&&t(!!h),Wn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=pD(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return iA()||W0()||qp()}}const BD=UD;var VE="@firebase/auth",kE="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jD(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function qD(i){wi(new Xn("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:d}=s.options;Ae(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:d,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rA(i)},g=new aO(s,o,u,p);return gO(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),wi(new Xn("auth-internal",e=>{const t=_o(e.getProvider("auth").getImmediate());return(s=>new zD(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Un(VE,kE,jD(i)),Un(VE,kE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD=5*60,FD=M0("authIdTokenMaxAge")||HD;let LE=null;const GD=i=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>FD)return;const o=t==null?void 0:t.token;LE!==o&&(LE=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function gu(i=Lp()){const e=Zs(i,"auth");if(e.isInitialized())return e.getImmediate();const t=pO(i,{popupRedirectResolver:BD,persistence:[XO,UO,mA]}),s=M0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=GD(u.toString());PO(t,h,()=>h(t.currentUser)),MO(t,d=>h(d))}}const o=D0("auth");return o&&yO(t,`http://${o}`),t}function KD(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}oO({loadJS(i){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=vi("internal-error");u.customData=o,t(u)},s.type="text/javascript",s.charset="UTF-8",KD().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});qD("Browser");const $D={"auth/invalid-email":"Please enter a valid email address.","auth/missing-password":"Please enter a password.","auth/too-many-requests":"Too many attempts. Please try again later.","auth/invalid-credential":"Invalid login credentials - please try again."},QD=i=>$D[i]||"An unknown error occured.";function YD(){const[i,e]=W.useState(""),[t,s]=W.useState(""),[o,u]=W.useState(""),h=cu(),d=async p=>{p.preventDefault(),NO(gu(),i,t).then(g=>{g.user,h("/movie-rating/"),u("")}).catch(g=>{u(g.code)})};return de.jsxs("div",{className:"auth-container",children:[de.jsx("h2",{children:"Login"}),de.jsxs("form",{onSubmit:d,children:[de.jsxs("label",{children:["Email",de.jsx("input",{value:i,onChange:p=>e(p.target.value),type:"email",name:"txtEmail"})]}),de.jsxs("label",{children:["Password",de.jsx("input",{value:t,onChange:p=>s(p.target.value),type:"password",name:"txtPassword"})]}),de.jsx("p",{className:"error",children:o&&QD(o)}),de.jsx("button",{type:"submit",children:"Submit"})]})]})}var Lm,UE;function XD(){if(UE)return Lm;UE=1;var i="Expected a function",e=NaN,t="[object Symbol]",s=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,h=/^0o[0-7]+$/i,d=parseInt,p=typeof Qc=="object"&&Qc&&Qc.Object===Object&&Qc,g=typeof self=="object"&&self&&self.Object===Object&&self,_=p||g||Function("return this")(),A=Object.prototype,b=A.toString,P=Math.max,O=Math.min,j=function(){return _.Date.now()};function V(ee,ce,D){var w,R,N,k,L,C,ot=0,it=!1,X=!1,le=!0;if(typeof ee!="function")throw new TypeError(i);ce=ae(ce)||0,K(D)&&(it=!!D.leading,X="maxWait"in D,N=X?P(ae(D.maxWait)||0,ce):N,le="trailing"in D?!!D.trailing:le);function pe(Me){var Ue=w,$t=R;return w=R=void 0,ot=Me,k=ee.apply($t,Ue),k}function He(Me){return ot=Me,L=setTimeout(ue,ce),it?pe(Me):k}function M(Me){var Ue=Me-C,$t=Me-ot,zn=ce-Ue;return X?O(zn,N-$t):zn}function ie(Me){var Ue=Me-C,$t=Me-ot;return C===void 0||Ue>=ce||Ue<0||X&&$t>=N}function ue(){var Me=j();if(ie(Me))return se(Me);L=setTimeout(ue,M(Me))}function se(Me){return L=void 0,le&&w?pe(Me):(w=R=void 0,k)}function ye(){L!==void 0&&clearTimeout(L),ot=0,w=C=R=L=void 0}function Oe(){return L===void 0?k:se(j())}function Ee(){var Me=j(),Ue=ie(Me);if(w=arguments,R=this,C=Me,Ue){if(L===void 0)return He(C);if(X)return L=setTimeout(ue,ce),pe(C)}return L===void 0&&(L=setTimeout(ue,ce)),k}return Ee.cancel=ye,Ee.flush=Oe,Ee}function K(ee){var ce=typeof ee;return!!ee&&(ce=="object"||ce=="function")}function Y(ee){return!!ee&&typeof ee=="object"}function G(ee){return typeof ee=="symbol"||Y(ee)&&b.call(ee)==t}function ae(ee){if(typeof ee=="number")return ee;if(G(ee))return e;if(K(ee)){var ce=typeof ee.valueOf=="function"?ee.valueOf():ee;ee=K(ce)?ce+"":ce}if(typeof ee!="string")return ee===0?ee:+ee;ee=ee.replace(s,"");var D=u.test(ee);return D||h.test(ee)?d(ee.slice(2),D?2:8):o.test(ee)?e:+ee}return Lm=V,Lm}var WD=XD();const JD=mR(WD);function TA(i,e){return function(){return i.apply(e,arguments)}}const{toString:ZD}=Object.prototype,{getPrototypeOf:$p}=Object,Zh=(i=>e=>{const t=ZD.call(e);return i[t]||(i[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),ei=i=>(i=i.toLowerCase(),e=>Zh(e)===i),ef=i=>e=>typeof e===i,{isArray:Eo}=Array,tu=ef("undefined");function eN(i){return i!==null&&!tu(i)&&i.constructor!==null&&!tu(i.constructor)&&An(i.constructor.isBuffer)&&i.constructor.isBuffer(i)}const AA=ei("ArrayBuffer");function tN(i){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(i):e=i&&i.buffer&&AA(i.buffer),e}const nN=ef("string"),An=ef("function"),SA=ef("number"),tf=i=>i!==null&&typeof i=="object",iN=i=>i===!0||i===!1,ch=i=>{if(Zh(i)!=="object")return!1;const e=$p(i);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},rN=ei("Date"),sN=ei("File"),aN=ei("Blob"),oN=ei("FileList"),lN=i=>tf(i)&&An(i.pipe),uN=i=>{let e;return i&&(typeof FormData=="function"&&i instanceof FormData||An(i.append)&&((e=Zh(i))==="formdata"||e==="object"&&An(i.toString)&&i.toString()==="[object FormData]"))},cN=ei("URLSearchParams"),[hN,fN,dN,mN]=["ReadableStream","Request","Response","Headers"].map(ei),pN=i=>i.trim?i.trim():i.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function yu(i,e,{allOwnKeys:t=!1}={}){if(i===null||typeof i>"u")return;let s,o;if(typeof i!="object"&&(i=[i]),Eo(i))for(s=0,o=i.length;s<o;s++)e.call(null,i[s],s,i);else{const u=t?Object.getOwnPropertyNames(i):Object.keys(i),h=u.length;let d;for(s=0;s<h;s++)d=u[s],e.call(null,i[d],d,i)}}function wA(i,e){e=e.toLowerCase();const t=Object.keys(i);let s=t.length,o;for(;s-- >0;)if(o=t[s],e===o.toLowerCase())return o;return null}const js=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,bA=i=>!tu(i)&&i!==js;function ap(){const{caseless:i}=bA(this)&&this||{},e={},t=(s,o)=>{const u=i&&wA(e,o)||o;ch(e[u])&&ch(s)?e[u]=ap(e[u],s):ch(s)?e[u]=ap({},s):Eo(s)?e[u]=s.slice():e[u]=s};for(let s=0,o=arguments.length;s<o;s++)arguments[s]&&yu(arguments[s],t);return e}const gN=(i,e,t,{allOwnKeys:s}={})=>(yu(e,(o,u)=>{t&&An(o)?i[u]=TA(o,t):i[u]=o},{allOwnKeys:s}),i),yN=i=>(i.charCodeAt(0)===65279&&(i=i.slice(1)),i),_N=(i,e,t,s)=>{i.prototype=Object.create(e.prototype,s),i.prototype.constructor=i,Object.defineProperty(i,"super",{value:e.prototype}),t&&Object.assign(i.prototype,t)},vN=(i,e,t,s)=>{let o,u,h;const d={};if(e=e||{},i==null)return e;do{for(o=Object.getOwnPropertyNames(i),u=o.length;u-- >0;)h=o[u],(!s||s(h,i,e))&&!d[h]&&(e[h]=i[h],d[h]=!0);i=t!==!1&&$p(i)}while(i&&(!t||t(i,e))&&i!==Object.prototype);return e},EN=(i,e,t)=>{i=String(i),(t===void 0||t>i.length)&&(t=i.length),t-=e.length;const s=i.indexOf(e,t);return s!==-1&&s===t},TN=i=>{if(!i)return null;if(Eo(i))return i;let e=i.length;if(!SA(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=i[e];return t},AN=(i=>e=>i&&e instanceof i)(typeof Uint8Array<"u"&&$p(Uint8Array)),SN=(i,e)=>{const s=(i&&i[Symbol.iterator]).call(i);let o;for(;(o=s.next())&&!o.done;){const u=o.value;e.call(i,u[0],u[1])}},wN=(i,e)=>{let t;const s=[];for(;(t=i.exec(e))!==null;)s.push(t);return s},bN=ei("HTMLFormElement"),RN=i=>i.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,s,o){return s.toUpperCase()+o}),BE=(({hasOwnProperty:i})=>(e,t)=>i.call(e,t))(Object.prototype),IN=ei("RegExp"),RA=(i,e)=>{const t=Object.getOwnPropertyDescriptors(i),s={};yu(t,(o,u)=>{let h;(h=e(o,u,i))!==!1&&(s[u]=h||o)}),Object.defineProperties(i,s)},CN=i=>{RA(i,(e,t)=>{if(An(i)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const s=i[t];if(An(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},ON=(i,e)=>{const t={},s=o=>{o.forEach(u=>{t[u]=!0})};return Eo(i)?s(i):s(String(i).split(e)),t},DN=()=>{},NN=(i,e)=>i!=null&&Number.isFinite(i=+i)?i:e;function MN(i){return!!(i&&An(i.append)&&i[Symbol.toStringTag]==="FormData"&&i[Symbol.iterator])}const PN=i=>{const e=new Array(10),t=(s,o)=>{if(tf(s)){if(e.indexOf(s)>=0)return;if(!("toJSON"in s)){e[o]=s;const u=Eo(s)?[]:{};return yu(s,(h,d)=>{const p=t(h,o+1);!tu(p)&&(u[d]=p)}),e[o]=void 0,u}}return s};return t(i,0)},xN=ei("AsyncFunction"),VN=i=>i&&(tf(i)||An(i))&&An(i.then)&&An(i.catch),IA=((i,e)=>i?setImmediate:e?((t,s)=>(js.addEventListener("message",({source:o,data:u})=>{o===js&&u===t&&s.length&&s.shift()()},!1),o=>{s.push(o),js.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",An(js.postMessage)),kN=typeof queueMicrotask<"u"?queueMicrotask.bind(js):typeof process<"u"&&process.nextTick||IA,Q={isArray:Eo,isArrayBuffer:AA,isBuffer:eN,isFormData:uN,isArrayBufferView:tN,isString:nN,isNumber:SA,isBoolean:iN,isObject:tf,isPlainObject:ch,isReadableStream:hN,isRequest:fN,isResponse:dN,isHeaders:mN,isUndefined:tu,isDate:rN,isFile:sN,isBlob:aN,isRegExp:IN,isFunction:An,isStream:lN,isURLSearchParams:cN,isTypedArray:AN,isFileList:oN,forEach:yu,merge:ap,extend:gN,trim:pN,stripBOM:yN,inherits:_N,toFlatObject:vN,kindOf:Zh,kindOfTest:ei,endsWith:EN,toArray:TN,forEachEntry:SN,matchAll:wN,isHTMLForm:bN,hasOwnProperty:BE,hasOwnProp:BE,reduceDescriptors:RA,freezeMethods:CN,toObjectSet:ON,toCamelCase:RN,noop:DN,toFiniteNumber:NN,findKey:wA,global:js,isContextDefined:bA,isSpecCompliantForm:MN,toJSONObject:PN,isAsyncFn:xN,isThenable:VN,setImmediate:IA,asap:kN};function Ie(i,e,t,s,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=i,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),s&&(this.request=s),o&&(this.response=o,this.status=o.status?o.status:null)}Q.inherits(Ie,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Q.toJSONObject(this.config),code:this.code,status:this.status}}});const CA=Ie.prototype,OA={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(i=>{OA[i]={value:i}});Object.defineProperties(Ie,OA);Object.defineProperty(CA,"isAxiosError",{value:!0});Ie.from=(i,e,t,s,o,u)=>{const h=Object.create(CA);return Q.toFlatObject(i,h,function(p){return p!==Error.prototype},d=>d!=="isAxiosError"),Ie.call(h,i.message,e,t,s,o),h.cause=i,h.name=i.name,u&&Object.assign(h,u),h};const LN=null;function op(i){return Q.isPlainObject(i)||Q.isArray(i)}function DA(i){return Q.endsWith(i,"[]")?i.slice(0,-2):i}function zE(i,e,t){return i?i.concat(e).map(function(o,u){return o=DA(o),!t&&u?"["+o+"]":o}).join(t?".":""):e}function UN(i){return Q.isArray(i)&&!i.some(op)}const BN=Q.toFlatObject(Q,{},null,function(e){return/^is[A-Z]/.test(e)});function nf(i,e,t){if(!Q.isObject(i))throw new TypeError("target must be an object");e=e||new FormData,t=Q.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(j,V){return!Q.isUndefined(V[j])});const s=t.metaTokens,o=t.visitor||_,u=t.dots,h=t.indexes,p=(t.Blob||typeof Blob<"u"&&Blob)&&Q.isSpecCompliantForm(e);if(!Q.isFunction(o))throw new TypeError("visitor must be a function");function g(O){if(O===null)return"";if(Q.isDate(O))return O.toISOString();if(!p&&Q.isBlob(O))throw new Ie("Blob is not supported. Use a Buffer instead.");return Q.isArrayBuffer(O)||Q.isTypedArray(O)?p&&typeof Blob=="function"?new Blob([O]):Buffer.from(O):O}function _(O,j,V){let K=O;if(O&&!V&&typeof O=="object"){if(Q.endsWith(j,"{}"))j=s?j:j.slice(0,-2),O=JSON.stringify(O);else if(Q.isArray(O)&&UN(O)||(Q.isFileList(O)||Q.endsWith(j,"[]"))&&(K=Q.toArray(O)))return j=DA(j),K.forEach(function(G,ae){!(Q.isUndefined(G)||G===null)&&e.append(h===!0?zE([j],ae,u):h===null?j:j+"[]",g(G))}),!1}return op(O)?!0:(e.append(zE(V,j,u),g(O)),!1)}const A=[],b=Object.assign(BN,{defaultVisitor:_,convertValue:g,isVisitable:op});function P(O,j){if(!Q.isUndefined(O)){if(A.indexOf(O)!==-1)throw Error("Circular reference detected in "+j.join("."));A.push(O),Q.forEach(O,function(K,Y){(!(Q.isUndefined(K)||K===null)&&o.call(e,K,Q.isString(Y)?Y.trim():Y,j,b))===!0&&P(K,j?j.concat(Y):[Y])}),A.pop()}}if(!Q.isObject(i))throw new TypeError("data must be an object");return P(i),e}function jE(i){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(i).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function Qp(i,e){this._pairs=[],i&&nf(i,this,e)}const NA=Qp.prototype;NA.append=function(e,t){this._pairs.push([e,t])};NA.toString=function(e){const t=e?function(s){return e.call(this,s,jE)}:jE;return this._pairs.map(function(o){return t(o[0])+"="+t(o[1])},"").join("&")};function zN(i){return encodeURIComponent(i).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function MA(i,e,t){if(!e)return i;const s=t&&t.encode||zN;Q.isFunction(t)&&(t={serialize:t});const o=t&&t.serialize;let u;if(o?u=o(e,t):u=Q.isURLSearchParams(e)?e.toString():new Qp(e,t).toString(s),u){const h=i.indexOf("#");h!==-1&&(i=i.slice(0,h)),i+=(i.indexOf("?")===-1?"?":"&")+u}return i}class qE{constructor(){this.handlers=[]}use(e,t,s){return this.handlers.push({fulfilled:e,rejected:t,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Q.forEach(this.handlers,function(s){s!==null&&e(s)})}}const PA={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},jN=typeof URLSearchParams<"u"?URLSearchParams:Qp,qN=typeof FormData<"u"?FormData:null,HN=typeof Blob<"u"?Blob:null,FN={isBrowser:!0,classes:{URLSearchParams:jN,FormData:qN,Blob:HN},protocols:["http","https","file","blob","url","data"]},Yp=typeof window<"u"&&typeof document<"u",lp=typeof navigator=="object"&&navigator||void 0,GN=Yp&&(!lp||["ReactNative","NativeScript","NS"].indexOf(lp.product)<0),KN=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",$N=Yp&&window.location.href||"http://localhost",QN=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Yp,hasStandardBrowserEnv:GN,hasStandardBrowserWebWorkerEnv:KN,navigator:lp,origin:$N},Symbol.toStringTag,{value:"Module"})),en={...QN,...FN};function YN(i,e){return nf(i,new en.classes.URLSearchParams,Object.assign({visitor:function(t,s,o,u){return en.isNode&&Q.isBuffer(t)?(this.append(s,t.toString("base64")),!1):u.defaultVisitor.apply(this,arguments)}},e))}function XN(i){return Q.matchAll(/\w+|\[(\w*)]/g,i).map(e=>e[0]==="[]"?"":e[1]||e[0])}function WN(i){const e={},t=Object.keys(i);let s;const o=t.length;let u;for(s=0;s<o;s++)u=t[s],e[u]=i[u];return e}function xA(i){function e(t,s,o,u){let h=t[u++];if(h==="__proto__")return!0;const d=Number.isFinite(+h),p=u>=t.length;return h=!h&&Q.isArray(o)?o.length:h,p?(Q.hasOwnProp(o,h)?o[h]=[o[h],s]:o[h]=s,!d):((!o[h]||!Q.isObject(o[h]))&&(o[h]=[]),e(t,s,o[h],u)&&Q.isArray(o[h])&&(o[h]=WN(o[h])),!d)}if(Q.isFormData(i)&&Q.isFunction(i.entries)){const t={};return Q.forEachEntry(i,(s,o)=>{e(XN(s),o,t,0)}),t}return null}function JN(i,e,t){if(Q.isString(i))try{return(e||JSON.parse)(i),Q.trim(i)}catch(s){if(s.name!=="SyntaxError")throw s}return(t||JSON.stringify)(i)}const _u={transitional:PA,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const s=t.getContentType()||"",o=s.indexOf("application/json")>-1,u=Q.isObject(e);if(u&&Q.isHTMLForm(e)&&(e=new FormData(e)),Q.isFormData(e))return o?JSON.stringify(xA(e)):e;if(Q.isArrayBuffer(e)||Q.isBuffer(e)||Q.isStream(e)||Q.isFile(e)||Q.isBlob(e)||Q.isReadableStream(e))return e;if(Q.isArrayBufferView(e))return e.buffer;if(Q.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let d;if(u){if(s.indexOf("application/x-www-form-urlencoded")>-1)return YN(e,this.formSerializer).toString();if((d=Q.isFileList(e))||s.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return nf(d?{"files[]":e}:e,p&&new p,this.formSerializer)}}return u||o?(t.setContentType("application/json",!1),JN(e)):e}],transformResponse:[function(e){const t=this.transitional||_u.transitional,s=t&&t.forcedJSONParsing,o=this.responseType==="json";if(Q.isResponse(e)||Q.isReadableStream(e))return e;if(e&&Q.isString(e)&&(s&&!this.responseType||o)){const h=!(t&&t.silentJSONParsing)&&o;try{return JSON.parse(e)}catch(d){if(h)throw d.name==="SyntaxError"?Ie.from(d,Ie.ERR_BAD_RESPONSE,this,null,this.response):d}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:en.classes.FormData,Blob:en.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Q.forEach(["delete","get","head","post","put","patch"],i=>{_u.headers[i]={}});const ZN=Q.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),e2=i=>{const e={};let t,s,o;return i&&i.split(`
`).forEach(function(h){o=h.indexOf(":"),t=h.substring(0,o).trim().toLowerCase(),s=h.substring(o+1).trim(),!(!t||e[t]&&ZN[t])&&(t==="set-cookie"?e[t]?e[t].push(s):e[t]=[s]:e[t]=e[t]?e[t]+", "+s:s)}),e},HE=Symbol("internals");function Bl(i){return i&&String(i).trim().toLowerCase()}function hh(i){return i===!1||i==null?i:Q.isArray(i)?i.map(hh):String(i)}function t2(i){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=t.exec(i);)e[s[1]]=s[2];return e}const n2=i=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(i.trim());function Um(i,e,t,s,o){if(Q.isFunction(s))return s.call(this,e,t);if(o&&(e=t),!!Q.isString(e)){if(Q.isString(s))return e.indexOf(s)!==-1;if(Q.isRegExp(s))return s.test(e)}}function i2(i){return i.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,s)=>t.toUpperCase()+s)}function r2(i,e){const t=Q.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(i,s+t,{value:function(o,u,h){return this[s].call(this,e,o,u,h)},configurable:!0})})}let hn=class{constructor(e){e&&this.set(e)}set(e,t,s){const o=this;function u(d,p,g){const _=Bl(p);if(!_)throw new Error("header name must be a non-empty string");const A=Q.findKey(o,_);(!A||o[A]===void 0||g===!0||g===void 0&&o[A]!==!1)&&(o[A||p]=hh(d))}const h=(d,p)=>Q.forEach(d,(g,_)=>u(g,_,p));if(Q.isPlainObject(e)||e instanceof this.constructor)h(e,t);else if(Q.isString(e)&&(e=e.trim())&&!n2(e))h(e2(e),t);else if(Q.isHeaders(e))for(const[d,p]of e.entries())u(p,d,s);else e!=null&&u(t,e,s);return this}get(e,t){if(e=Bl(e),e){const s=Q.findKey(this,e);if(s){const o=this[s];if(!t)return o;if(t===!0)return t2(o);if(Q.isFunction(t))return t.call(this,o,s);if(Q.isRegExp(t))return t.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Bl(e),e){const s=Q.findKey(this,e);return!!(s&&this[s]!==void 0&&(!t||Um(this,this[s],s,t)))}return!1}delete(e,t){const s=this;let o=!1;function u(h){if(h=Bl(h),h){const d=Q.findKey(s,h);d&&(!t||Um(s,s[d],d,t))&&(delete s[d],o=!0)}}return Q.isArray(e)?e.forEach(u):u(e),o}clear(e){const t=Object.keys(this);let s=t.length,o=!1;for(;s--;){const u=t[s];(!e||Um(this,this[u],u,e,!0))&&(delete this[u],o=!0)}return o}normalize(e){const t=this,s={};return Q.forEach(this,(o,u)=>{const h=Q.findKey(s,u);if(h){t[h]=hh(o),delete t[u];return}const d=e?i2(u):String(u).trim();d!==u&&delete t[u],t[d]=hh(o),s[d]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return Q.forEach(this,(s,o)=>{s!=null&&s!==!1&&(t[o]=e&&Q.isArray(s)?s.join(", "):s)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const s=new this(e);return t.forEach(o=>s.set(o)),s}static accessor(e){const s=(this[HE]=this[HE]={accessors:{}}).accessors,o=this.prototype;function u(h){const d=Bl(h);s[d]||(r2(o,h),s[d]=!0)}return Q.isArray(e)?e.forEach(u):u(e),this}};hn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Q.reduceDescriptors(hn.prototype,({value:i},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>i,set(s){this[t]=s}}});Q.freezeMethods(hn);function Bm(i,e){const t=this||_u,s=e||t,o=hn.from(s.headers);let u=s.data;return Q.forEach(i,function(d){u=d.call(t,u,o.normalize(),e?e.status:void 0)}),o.normalize(),u}function VA(i){return!!(i&&i.__CANCEL__)}function To(i,e,t){Ie.call(this,i??"canceled",Ie.ERR_CANCELED,e,t),this.name="CanceledError"}Q.inherits(To,Ie,{__CANCEL__:!0});function kA(i,e,t){const s=t.config.validateStatus;!t.status||!s||s(t.status)?i(t):e(new Ie("Request failed with status code "+t.status,[Ie.ERR_BAD_REQUEST,Ie.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function s2(i){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(i);return e&&e[1]||""}function a2(i,e){i=i||10;const t=new Array(i),s=new Array(i);let o=0,u=0,h;return e=e!==void 0?e:1e3,function(p){const g=Date.now(),_=s[u];h||(h=g),t[o]=p,s[o]=g;let A=u,b=0;for(;A!==o;)b+=t[A++],A=A%i;if(o=(o+1)%i,o===u&&(u=(u+1)%i),g-h<e)return;const P=_&&g-_;return P?Math.round(b*1e3/P):void 0}}function o2(i,e){let t=0,s=1e3/e,o,u;const h=(g,_=Date.now())=>{t=_,o=null,u&&(clearTimeout(u),u=null),i.apply(null,g)};return[(...g)=>{const _=Date.now(),A=_-t;A>=s?h(g,_):(o=g,u||(u=setTimeout(()=>{u=null,h(o)},s-A)))},()=>o&&h(o)]}const Ch=(i,e,t=3)=>{let s=0;const o=a2(50,250);return o2(u=>{const h=u.loaded,d=u.lengthComputable?u.total:void 0,p=h-s,g=o(p),_=h<=d;s=h;const A={loaded:h,total:d,progress:d?h/d:void 0,bytes:p,rate:g||void 0,estimated:g&&d&&_?(d-h)/g:void 0,event:u,lengthComputable:d!=null,[e?"download":"upload"]:!0};i(A)},t)},FE=(i,e)=>{const t=i!=null;return[s=>e[0]({lengthComputable:t,total:i,loaded:s}),e[1]]},GE=i=>(...e)=>Q.asap(()=>i(...e)),l2=en.hasStandardBrowserEnv?((i,e)=>t=>(t=new URL(t,en.origin),i.protocol===t.protocol&&i.host===t.host&&(e||i.port===t.port)))(new URL(en.origin),en.navigator&&/(msie|trident)/i.test(en.navigator.userAgent)):()=>!0,u2=en.hasStandardBrowserEnv?{write(i,e,t,s,o,u){const h=[i+"="+encodeURIComponent(e)];Q.isNumber(t)&&h.push("expires="+new Date(t).toGMTString()),Q.isString(s)&&h.push("path="+s),Q.isString(o)&&h.push("domain="+o),u===!0&&h.push("secure"),document.cookie=h.join("; ")},read(i){const e=document.cookie.match(new RegExp("(^|;\\s*)("+i+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(i){this.write(i,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function c2(i){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(i)}function h2(i,e){return e?i.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):i}function LA(i,e,t){let s=!c2(e);return i&&(s||t==!1)?h2(i,e):e}const KE=i=>i instanceof hn?{...i}:i;function Ks(i,e){e=e||{};const t={};function s(g,_,A,b){return Q.isPlainObject(g)&&Q.isPlainObject(_)?Q.merge.call({caseless:b},g,_):Q.isPlainObject(_)?Q.merge({},_):Q.isArray(_)?_.slice():_}function o(g,_,A,b){if(Q.isUndefined(_)){if(!Q.isUndefined(g))return s(void 0,g,A,b)}else return s(g,_,A,b)}function u(g,_){if(!Q.isUndefined(_))return s(void 0,_)}function h(g,_){if(Q.isUndefined(_)){if(!Q.isUndefined(g))return s(void 0,g)}else return s(void 0,_)}function d(g,_,A){if(A in e)return s(g,_);if(A in i)return s(void 0,g)}const p={url:u,method:u,data:u,baseURL:h,transformRequest:h,transformResponse:h,paramsSerializer:h,timeout:h,timeoutMessage:h,withCredentials:h,withXSRFToken:h,adapter:h,responseType:h,xsrfCookieName:h,xsrfHeaderName:h,onUploadProgress:h,onDownloadProgress:h,decompress:h,maxContentLength:h,maxBodyLength:h,beforeRedirect:h,transport:h,httpAgent:h,httpsAgent:h,cancelToken:h,socketPath:h,responseEncoding:h,validateStatus:d,headers:(g,_,A)=>o(KE(g),KE(_),A,!0)};return Q.forEach(Object.keys(Object.assign({},i,e)),function(_){const A=p[_]||o,b=A(i[_],e[_],_);Q.isUndefined(b)&&A!==d||(t[_]=b)}),t}const UA=i=>{const e=Ks({},i);let{data:t,withXSRFToken:s,xsrfHeaderName:o,xsrfCookieName:u,headers:h,auth:d}=e;e.headers=h=hn.from(h),e.url=MA(LA(e.baseURL,e.url,e.allowAbsoluteUrls),i.params,i.paramsSerializer),d&&h.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):"")));let p;if(Q.isFormData(t)){if(en.hasStandardBrowserEnv||en.hasStandardBrowserWebWorkerEnv)h.setContentType(void 0);else if((p=h.getContentType())!==!1){const[g,..._]=p?p.split(";").map(A=>A.trim()).filter(Boolean):[];h.setContentType([g||"multipart/form-data",..._].join("; "))}}if(en.hasStandardBrowserEnv&&(s&&Q.isFunction(s)&&(s=s(e)),s||s!==!1&&l2(e.url))){const g=o&&u&&u2.read(u);g&&h.set(o,g)}return e},f2=typeof XMLHttpRequest<"u",d2=f2&&function(i){return new Promise(function(t,s){const o=UA(i);let u=o.data;const h=hn.from(o.headers).normalize();let{responseType:d,onUploadProgress:p,onDownloadProgress:g}=o,_,A,b,P,O;function j(){P&&P(),O&&O(),o.cancelToken&&o.cancelToken.unsubscribe(_),o.signal&&o.signal.removeEventListener("abort",_)}let V=new XMLHttpRequest;V.open(o.method.toUpperCase(),o.url,!0),V.timeout=o.timeout;function K(){if(!V)return;const G=hn.from("getAllResponseHeaders"in V&&V.getAllResponseHeaders()),ee={data:!d||d==="text"||d==="json"?V.responseText:V.response,status:V.status,statusText:V.statusText,headers:G,config:i,request:V};kA(function(D){t(D),j()},function(D){s(D),j()},ee),V=null}"onloadend"in V?V.onloadend=K:V.onreadystatechange=function(){!V||V.readyState!==4||V.status===0&&!(V.responseURL&&V.responseURL.indexOf("file:")===0)||setTimeout(K)},V.onabort=function(){V&&(s(new Ie("Request aborted",Ie.ECONNABORTED,i,V)),V=null)},V.onerror=function(){s(new Ie("Network Error",Ie.ERR_NETWORK,i,V)),V=null},V.ontimeout=function(){let ae=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const ee=o.transitional||PA;o.timeoutErrorMessage&&(ae=o.timeoutErrorMessage),s(new Ie(ae,ee.clarifyTimeoutError?Ie.ETIMEDOUT:Ie.ECONNABORTED,i,V)),V=null},u===void 0&&h.setContentType(null),"setRequestHeader"in V&&Q.forEach(h.toJSON(),function(ae,ee){V.setRequestHeader(ee,ae)}),Q.isUndefined(o.withCredentials)||(V.withCredentials=!!o.withCredentials),d&&d!=="json"&&(V.responseType=o.responseType),g&&([b,O]=Ch(g,!0),V.addEventListener("progress",b)),p&&V.upload&&([A,P]=Ch(p),V.upload.addEventListener("progress",A),V.upload.addEventListener("loadend",P)),(o.cancelToken||o.signal)&&(_=G=>{V&&(s(!G||G.type?new To(null,i,V):G),V.abort(),V=null)},o.cancelToken&&o.cancelToken.subscribe(_),o.signal&&(o.signal.aborted?_():o.signal.addEventListener("abort",_)));const Y=s2(o.url);if(Y&&en.protocols.indexOf(Y)===-1){s(new Ie("Unsupported protocol "+Y+":",Ie.ERR_BAD_REQUEST,i));return}V.send(u||null)})},m2=(i,e)=>{const{length:t}=i=i?i.filter(Boolean):[];if(e||t){let s=new AbortController,o;const u=function(g){if(!o){o=!0,d();const _=g instanceof Error?g:this.reason;s.abort(_ instanceof Ie?_:new To(_ instanceof Error?_.message:_))}};let h=e&&setTimeout(()=>{h=null,u(new Ie(`timeout ${e} of ms exceeded`,Ie.ETIMEDOUT))},e);const d=()=>{i&&(h&&clearTimeout(h),h=null,i.forEach(g=>{g.unsubscribe?g.unsubscribe(u):g.removeEventListener("abort",u)}),i=null)};i.forEach(g=>g.addEventListener("abort",u));const{signal:p}=s;return p.unsubscribe=()=>Q.asap(d),p}},p2=function*(i,e){let t=i.byteLength;if(t<e){yield i;return}let s=0,o;for(;s<t;)o=s+e,yield i.slice(s,o),s=o},g2=async function*(i,e){for await(const t of y2(i))yield*p2(t,e)},y2=async function*(i){if(i[Symbol.asyncIterator]){yield*i;return}const e=i.getReader();try{for(;;){const{done:t,value:s}=await e.read();if(t)break;yield s}}finally{await e.cancel()}},$E=(i,e,t,s)=>{const o=g2(i,e);let u=0,h,d=p=>{h||(h=!0,s&&s(p))};return new ReadableStream({async pull(p){try{const{done:g,value:_}=await o.next();if(g){d(),p.close();return}let A=_.byteLength;if(t){let b=u+=A;t(b)}p.enqueue(new Uint8Array(_))}catch(g){throw d(g),g}},cancel(p){return d(p),o.return()}},{highWaterMark:2})},rf=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",BA=rf&&typeof ReadableStream=="function",_2=rf&&(typeof TextEncoder=="function"?(i=>e=>i.encode(e))(new TextEncoder):async i=>new Uint8Array(await new Response(i).arrayBuffer())),zA=(i,...e)=>{try{return!!i(...e)}catch{return!1}},v2=BA&&zA(()=>{let i=!1;const e=new Request(en.origin,{body:new ReadableStream,method:"POST",get duplex(){return i=!0,"half"}}).headers.has("Content-Type");return i&&!e}),QE=64*1024,up=BA&&zA(()=>Q.isReadableStream(new Response("").body)),Oh={stream:up&&(i=>i.body)};rf&&(i=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Oh[e]&&(Oh[e]=Q.isFunction(i[e])?t=>t[e]():(t,s)=>{throw new Ie(`Response type '${e}' is not supported`,Ie.ERR_NOT_SUPPORT,s)})})})(new Response);const E2=async i=>{if(i==null)return 0;if(Q.isBlob(i))return i.size;if(Q.isSpecCompliantForm(i))return(await new Request(en.origin,{method:"POST",body:i}).arrayBuffer()).byteLength;if(Q.isArrayBufferView(i)||Q.isArrayBuffer(i))return i.byteLength;if(Q.isURLSearchParams(i)&&(i=i+""),Q.isString(i))return(await _2(i)).byteLength},T2=async(i,e)=>{const t=Q.toFiniteNumber(i.getContentLength());return t??E2(e)},A2=rf&&(async i=>{let{url:e,method:t,data:s,signal:o,cancelToken:u,timeout:h,onDownloadProgress:d,onUploadProgress:p,responseType:g,headers:_,withCredentials:A="same-origin",fetchOptions:b}=UA(i);g=g?(g+"").toLowerCase():"text";let P=m2([o,u&&u.toAbortSignal()],h),O;const j=P&&P.unsubscribe&&(()=>{P.unsubscribe()});let V;try{if(p&&v2&&t!=="get"&&t!=="head"&&(V=await T2(_,s))!==0){let ee=new Request(e,{method:"POST",body:s,duplex:"half"}),ce;if(Q.isFormData(s)&&(ce=ee.headers.get("content-type"))&&_.setContentType(ce),ee.body){const[D,w]=FE(V,Ch(GE(p)));s=$E(ee.body,QE,D,w)}}Q.isString(A)||(A=A?"include":"omit");const K="credentials"in Request.prototype;O=new Request(e,{...b,signal:P,method:t.toUpperCase(),headers:_.normalize().toJSON(),body:s,duplex:"half",credentials:K?A:void 0});let Y=await fetch(O);const G=up&&(g==="stream"||g==="response");if(up&&(d||G&&j)){const ee={};["status","statusText","headers"].forEach(R=>{ee[R]=Y[R]});const ce=Q.toFiniteNumber(Y.headers.get("content-length")),[D,w]=d&&FE(ce,Ch(GE(d),!0))||[];Y=new Response($E(Y.body,QE,D,()=>{w&&w(),j&&j()}),ee)}g=g||"text";let ae=await Oh[Q.findKey(Oh,g)||"text"](Y,i);return!G&&j&&j(),await new Promise((ee,ce)=>{kA(ee,ce,{data:ae,headers:hn.from(Y.headers),status:Y.status,statusText:Y.statusText,config:i,request:O})})}catch(K){throw j&&j(),K&&K.name==="TypeError"&&/fetch/i.test(K.message)?Object.assign(new Ie("Network Error",Ie.ERR_NETWORK,i,O),{cause:K.cause||K}):Ie.from(K,K&&K.code,i,O)}}),cp={http:LN,xhr:d2,fetch:A2};Q.forEach(cp,(i,e)=>{if(i){try{Object.defineProperty(i,"name",{value:e})}catch{}Object.defineProperty(i,"adapterName",{value:e})}});const YE=i=>`- ${i}`,S2=i=>Q.isFunction(i)||i===null||i===!1,jA={getAdapter:i=>{i=Q.isArray(i)?i:[i];const{length:e}=i;let t,s;const o={};for(let u=0;u<e;u++){t=i[u];let h;if(s=t,!S2(t)&&(s=cp[(h=String(t)).toLowerCase()],s===void 0))throw new Ie(`Unknown adapter '${h}'`);if(s)break;o[h||"#"+u]=s}if(!s){const u=Object.entries(o).map(([d,p])=>`adapter ${d} `+(p===!1?"is not supported by the environment":"is not available in the build"));let h=e?u.length>1?`since :
`+u.map(YE).join(`
`):" "+YE(u[0]):"as no adapter specified";throw new Ie("There is no suitable adapter to dispatch the request "+h,"ERR_NOT_SUPPORT")}return s},adapters:cp};function zm(i){if(i.cancelToken&&i.cancelToken.throwIfRequested(),i.signal&&i.signal.aborted)throw new To(null,i)}function XE(i){return zm(i),i.headers=hn.from(i.headers),i.data=Bm.call(i,i.transformRequest),["post","put","patch"].indexOf(i.method)!==-1&&i.headers.setContentType("application/x-www-form-urlencoded",!1),jA.getAdapter(i.adapter||_u.adapter)(i).then(function(s){return zm(i),s.data=Bm.call(i,i.transformResponse,s),s.headers=hn.from(s.headers),s},function(s){return VA(s)||(zm(i),s&&s.response&&(s.response.data=Bm.call(i,i.transformResponse,s.response),s.response.headers=hn.from(s.response.headers))),Promise.reject(s)})}const qA="1.8.4",sf={};["object","boolean","number","function","string","symbol"].forEach((i,e)=>{sf[i]=function(s){return typeof s===i||"a"+(e<1?"n ":" ")+i}});const WE={};sf.transitional=function(e,t,s){function o(u,h){return"[Axios v"+qA+"] Transitional option '"+u+"'"+h+(s?". "+s:"")}return(u,h,d)=>{if(e===!1)throw new Ie(o(h," has been removed"+(t?" in "+t:"")),Ie.ERR_DEPRECATED);return t&&!WE[h]&&(WE[h]=!0,console.warn(o(h," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(u,h,d):!0}};sf.spelling=function(e){return(t,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function w2(i,e,t){if(typeof i!="object")throw new Ie("options must be an object",Ie.ERR_BAD_OPTION_VALUE);const s=Object.keys(i);let o=s.length;for(;o-- >0;){const u=s[o],h=e[u];if(h){const d=i[u],p=d===void 0||h(d,u,i);if(p!==!0)throw new Ie("option "+u+" must be "+p,Ie.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Ie("Unknown option "+u,Ie.ERR_BAD_OPTION)}}const fh={assertOptions:w2,validators:sf},yi=fh.validators;let Fs=class{constructor(e){this.defaults=e,this.interceptors={request:new qE,response:new qE}}async request(e,t){try{return await this._request(e,t)}catch(s){if(s instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const u=o.stack?o.stack.replace(/^.+\n/,""):"";try{s.stack?u&&!String(s.stack).endsWith(u.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+u):s.stack=u}catch{}}throw s}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Ks(this.defaults,t);const{transitional:s,paramsSerializer:o,headers:u}=t;s!==void 0&&fh.assertOptions(s,{silentJSONParsing:yi.transitional(yi.boolean),forcedJSONParsing:yi.transitional(yi.boolean),clarifyTimeoutError:yi.transitional(yi.boolean)},!1),o!=null&&(Q.isFunction(o)?t.paramsSerializer={serialize:o}:fh.assertOptions(o,{encode:yi.function,serialize:yi.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),fh.assertOptions(t,{baseUrl:yi.spelling("baseURL"),withXsrfToken:yi.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let h=u&&Q.merge(u.common,u[t.method]);u&&Q.forEach(["delete","get","head","post","put","patch","common"],O=>{delete u[O]}),t.headers=hn.concat(h,u);const d=[];let p=!0;this.interceptors.request.forEach(function(j){typeof j.runWhen=="function"&&j.runWhen(t)===!1||(p=p&&j.synchronous,d.unshift(j.fulfilled,j.rejected))});const g=[];this.interceptors.response.forEach(function(j){g.push(j.fulfilled,j.rejected)});let _,A=0,b;if(!p){const O=[XE.bind(this),void 0];for(O.unshift.apply(O,d),O.push.apply(O,g),b=O.length,_=Promise.resolve(t);A<b;)_=_.then(O[A++],O[A++]);return _}b=d.length;let P=t;for(A=0;A<b;){const O=d[A++],j=d[A++];try{P=O(P)}catch(V){j.call(this,V);break}}try{_=XE.call(this,P)}catch(O){return Promise.reject(O)}for(A=0,b=g.length;A<b;)_=_.then(g[A++],g[A++]);return _}getUri(e){e=Ks(this.defaults,e);const t=LA(e.baseURL,e.url,e.allowAbsoluteUrls);return MA(t,e.params,e.paramsSerializer)}};Q.forEach(["delete","get","head","options"],function(e){Fs.prototype[e]=function(t,s){return this.request(Ks(s||{},{method:e,url:t,data:(s||{}).data}))}});Q.forEach(["post","put","patch"],function(e){function t(s){return function(u,h,d){return this.request(Ks(d||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:u,data:h}))}}Fs.prototype[e]=t(),Fs.prototype[e+"Form"]=t(!0)});let b2=class HA{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(u){t=u});const s=this;this.promise.then(o=>{if(!s._listeners)return;let u=s._listeners.length;for(;u-- >0;)s._listeners[u](o);s._listeners=null}),this.promise.then=o=>{let u;const h=new Promise(d=>{s.subscribe(d),u=d}).then(o);return h.cancel=function(){s.unsubscribe(u)},h},e(function(u,h,d){s.reason||(s.reason=new To(u,h,d),t(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=s=>{e.abort(s)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new HA(function(o){e=o}),cancel:e}}};function R2(i){return function(t){return i.apply(null,t)}}function I2(i){return Q.isObject(i)&&i.isAxiosError===!0}const hp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(hp).forEach(([i,e])=>{hp[e]=i});function FA(i){const e=new Fs(i),t=TA(Fs.prototype.request,e);return Q.extend(t,Fs.prototype,e,{allOwnKeys:!0}),Q.extend(t,e,null,{allOwnKeys:!0}),t.create=function(o){return FA(Ks(i,o))},t}const mt=FA(_u);mt.Axios=Fs;mt.CanceledError=To;mt.CancelToken=b2;mt.isCancel=VA;mt.VERSION=qA;mt.toFormData=nf;mt.AxiosError=Ie;mt.Cancel=mt.CanceledError;mt.all=function(e){return Promise.all(e)};mt.spread=R2;mt.isAxiosError=I2;mt.mergeConfig=Ks;mt.AxiosHeaders=hn;mt.formToJSON=i=>xA(Q.isHTMLForm(i)?new FormData(i):i);mt.getAdapter=jA.getAdapter;mt.HttpStatusCode=hp;mt.default=mt;const{Axios:Ck,AxiosError:Ok,CanceledError:Dk,isCancel:Nk,CancelToken:Mk,VERSION:Pk,all:xk,Cancel:Vk,isAxiosError:kk,spread:Lk,toFormData:Uk,AxiosHeaders:Bk,HttpStatusCode:zk,formToJSON:jk,getAdapter:qk,mergeConfig:Hk}=mt;var C2="firebase",O2="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Un(C2,O2,"app");const GA="@firebase/installations",Xp="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA=1e4,$A=`w:${Xp}`,QA="FIS_v2",D2="https://firebaseinstallations.googleapis.com/v1",N2=60*60*1e3,M2="installations",P2="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},$s=new Js(M2,P2,x2);function YA(i){return i instanceof Zn&&i.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XA({projectId:i}){return`${D2}/projects/${i}/installations`}function WA(i){return{token:i.token,requestStatus:2,expiresIn:k2(i.expiresIn),creationTime:Date.now()}}async function JA(i,e){const s=(await e.json()).error;return $s.create("request-failed",{requestName:i,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function ZA({apiKey:i}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i})}function V2(i,{refreshToken:e}){const t=ZA(i);return t.append("Authorization",L2(e)),t}async function eS(i){const e=await i();return e.status>=500&&e.status<600?i():e}function k2(i){return Number(i.replace("s","000"))}function L2(i){return`${QA} ${i}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U2({appConfig:i,heartbeatServiceProvider:e},{fid:t}){const s=XA(i),o=ZA(i),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const h={fid:t,authVersion:QA,appId:i.appId,sdkVersion:$A},d={method:"POST",headers:o,body:JSON.stringify(h)},p=await eS(()=>fetch(s,d));if(p.ok){const g=await p.json();return{fid:g.fid||t,registrationStatus:2,refreshToken:g.refreshToken,authToken:WA(g.authToken)}}else throw await JA("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tS(i){return new Promise(e=>{setTimeout(e,i)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B2(i){return btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2=/^[cdef][\w-]{21}$/,fp="";function j2(){try{const i=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(i),i[0]=112+i[0]%16;const t=q2(i);return z2.test(t)?t:fp}catch{return fp}}function q2(i){return B2(i).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function af(i){return`${i.appName}!${i.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS=new Map;function iS(i,e){const t=af(i);rS(t,e),H2(t,e)}function rS(i,e){const t=nS.get(i);if(t)for(const s of t)s(e)}function H2(i,e){const t=F2();t&&t.postMessage({key:i,fid:e}),G2()}let qs=null;function F2(){return!qs&&"BroadcastChannel"in self&&(qs=new BroadcastChannel("[Firebase] FID Change"),qs.onmessage=i=>{rS(i.data.key,i.data.fid)}),qs}function G2(){nS.size===0&&qs&&(qs.close(),qs=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2="firebase-installations-database",$2=1,Qs="firebase-installations-store";let jm=null;function Wp(){return jm||(jm=U0(K2,$2,{upgrade:(i,e)=>{switch(e){case 0:i.createObjectStore(Qs)}}})),jm}async function Dh(i,e){const t=af(i),o=(await Wp()).transaction(Qs,"readwrite"),u=o.objectStore(Qs),h=await u.get(t);return await u.put(e,t),await o.done,(!h||h.fid!==e.fid)&&iS(i,e.fid),e}async function sS(i){const e=af(i),s=(await Wp()).transaction(Qs,"readwrite");await s.objectStore(Qs).delete(e),await s.done}async function of(i,e){const t=af(i),o=(await Wp()).transaction(Qs,"readwrite"),u=o.objectStore(Qs),h=await u.get(t),d=e(h);return d===void 0?await u.delete(t):await u.put(d,t),await o.done,d&&(!h||h.fid!==d.fid)&&iS(i,d.fid),d}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jp(i){let e;const t=await of(i.appConfig,s=>{const o=Q2(s),u=Y2(i,o);return e=u.registrationPromise,u.installationEntry});return t.fid===fp?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function Q2(i){const e=i||{fid:j2(),registrationStatus:0};return aS(e)}function Y2(i,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject($s.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=X2(i,t);return{installationEntry:t,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:W2(i)}:{installationEntry:e}}async function X2(i,e){try{const t=await U2(i,e);return Dh(i.appConfig,t)}catch(t){throw YA(t)&&t.customData.serverCode===409?await sS(i.appConfig):await Dh(i.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function W2(i){let e=await JE(i.appConfig);for(;e.registrationStatus===1;)await tS(100),e=await JE(i.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:s}=await Jp(i);return s||t}return e}function JE(i){return of(i,e=>{if(!e)throw $s.create("installation-not-found");return aS(e)})}function aS(i){return J2(i)?{fid:i.fid,registrationStatus:0}:i}function J2(i){return i.registrationStatus===1&&i.registrationTime+KA<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z2({appConfig:i,heartbeatServiceProvider:e},t){const s=eM(i,t),o=V2(i,t),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const h={installation:{sdkVersion:$A,appId:i.appId}},d={method:"POST",headers:o,body:JSON.stringify(h)},p=await eS(()=>fetch(s,d));if(p.ok){const g=await p.json();return WA(g)}else throw await JA("Generate Auth Token",p)}function eM(i,{fid:e}){return`${XA(i)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zp(i,e=!1){let t;const s=await of(i.appConfig,u=>{if(!oS(u))throw $s.create("not-registered");const h=u.authToken;if(!e&&iM(h))return u;if(h.requestStatus===1)return t=tM(i,e),u;{if(!navigator.onLine)throw $s.create("app-offline");const d=sM(u);return t=nM(i,d),d}});return t?await t:s.authToken}async function tM(i,e){let t=await ZE(i.appConfig);for(;t.authToken.requestStatus===1;)await tS(100),t=await ZE(i.appConfig);const s=t.authToken;return s.requestStatus===0?Zp(i,e):s}function ZE(i){return of(i,e=>{if(!oS(e))throw $s.create("not-registered");const t=e.authToken;return aM(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function nM(i,e){try{const t=await Z2(i,e),s=Object.assign(Object.assign({},e),{authToken:t});return await Dh(i.appConfig,s),t}catch(t){if(YA(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await sS(i.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Dh(i.appConfig,s)}throw t}}function oS(i){return i!==void 0&&i.registrationStatus===2}function iM(i){return i.requestStatus===2&&!rM(i)}function rM(i){const e=Date.now();return e<i.creationTime||i.creationTime+i.expiresIn<e+N2}function sM(i){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},i),{authToken:e})}function aM(i){return i.requestStatus===1&&i.requestTime+KA<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oM(i){const e=i,{installationEntry:t,registrationPromise:s}=await Jp(e);return s?s.catch(console.error):Zp(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lM(i,e=!1){const t=i;return await uM(t),(await Zp(t,e)).token}async function uM(i){const{registrationPromise:e}=await Jp(i);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cM(i){if(!i||!i.options)throw qm("App Configuration");if(!i.name)throw qm("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!i.options[t])throw qm(t);return{appName:i.name,projectId:i.options.projectId,apiKey:i.options.apiKey,appId:i.options.appId}}function qm(i){return $s.create("missing-app-config-values",{valueName:i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS="installations",hM="installations-internal",fM=i=>{const e=i.getProvider("app").getImmediate(),t=cM(e),s=Zs(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},dM=i=>{const e=i.getProvider("app").getImmediate(),t=Zs(e,lS).getImmediate();return{getId:()=>oM(t),getToken:o=>lM(t,o)}};function mM(){wi(new Xn(lS,fM,"PUBLIC")),wi(new Xn(hM,dM,"PRIVATE"))}mM();Un(GA,Xp);Un(GA,Xp,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nh="analytics",pM="firebase_id",gM="origin",yM=60*1e3,_M="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",eg="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fn=new Qh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vM={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Sn=new Js("analytics","Analytics",vM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EM(i){if(!i.startsWith(eg)){const e=Sn.create("invalid-gtag-resource",{gtagURL:i});return fn.warn(e.message),""}return i}function uS(i){return Promise.all(i.map(e=>e.catch(t=>t)))}function TM(i,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(i,e)),t}function AM(i,e){const t=TM("firebase-js-sdk-policy",{createScriptURL:EM}),s=document.createElement("script"),o=`${eg}?l=${i}&id=${e}`;s.src=t?t==null?void 0:t.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function SM(i){let e=[];return Array.isArray(window[i])?e=window[i]:window[i]=e,e}async function wM(i,e,t,s,o,u){const h=s[o];try{if(h)await e[h];else{const p=(await uS(t)).find(g=>g.measurementId===o);p&&await e[p.appId]}}catch(d){fn.error(d)}i("config",o,u)}async function bM(i,e,t,s,o){try{let u=[];if(o&&o.send_to){let h=o.send_to;Array.isArray(h)||(h=[h]);const d=await uS(t);for(const p of h){const g=d.find(A=>A.measurementId===p),_=g&&e[g.appId];if(_)u.push(_);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),i("event",s,o||{})}catch(u){fn.error(u)}}function RM(i,e,t,s){async function o(u,...h){try{if(u==="event"){const[d,p]=h;await bM(i,e,t,d,p)}else if(u==="config"){const[d,p]=h;await wM(i,e,t,s,d,p)}else if(u==="consent"){const[d,p]=h;i("consent",d,p)}else if(u==="get"){const[d,p,g]=h;i("get",d,p,g)}else if(u==="set"){const[d]=h;i("set",d)}else i(u,...h)}catch(d){fn.error(d)}}return o}function IM(i,e,t,s,o){let u=function(...h){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=RM(u,i,e,t),{gtagCore:u,wrappedGtag:window[o]}}function CM(i){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(eg)&&t.src.includes(i))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OM=30,DM=1e3;class NM{constructor(e={},t=DM){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const cS=new NM;function MM(i){return new Headers({Accept:"application/json","x-goog-api-key":i})}async function PM(i){var e;const{appId:t,apiKey:s}=i,o={method:"GET",headers:MM(s)},u=_M.replace("{app-id}",t),h=await fetch(u,o);if(h.status!==200&&h.status!==304){let d="";try{const p=await h.json();!((e=p.error)===null||e===void 0)&&e.message&&(d=p.error.message)}catch{}throw Sn.create("config-fetch-failed",{httpStatus:h.status,responseMessage:d})}return h.json()}async function xM(i,e=cS,t){const{appId:s,apiKey:o,measurementId:u}=i.options;if(!s)throw Sn.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:s};throw Sn.create("no-api-key")}const h=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new LM;return setTimeout(async()=>{d.abort()},yM),hS({appId:s,apiKey:o,measurementId:u},h,d,e)}async function hS(i,{throttleEndTimeMillis:e,backoffCount:t},s,o=cS){var u;const{appId:h,measurementId:d}=i;try{await VM(s,e)}catch(p){if(d)return fn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:h,measurementId:d};throw p}try{const p=await PM(i);return o.deleteThrottleMetadata(h),p}catch(p){const g=p;if(!kM(g)){if(o.deleteThrottleMetadata(h),d)return fn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${g==null?void 0:g.message}]`),{appId:h,measurementId:d};throw p}const _=Number((u=g==null?void 0:g.customData)===null||u===void 0?void 0:u.httpStatus)===503?uE(t,o.intervalMillis,OM):uE(t,o.intervalMillis),A={throttleEndTimeMillis:Date.now()+_,backoffCount:t+1};return o.setThrottleMetadata(h,A),fn.debug(`Calling attemptFetch again in ${_} millis`),hS(i,A,s,o)}}function VM(i,e){return new Promise((t,s)=>{const o=Math.max(e-Date.now(),0),u=setTimeout(t,o);i.addEventListener(()=>{clearTimeout(u),s(Sn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function kM(i){if(!(i instanceof Zn)||!i.customData)return!1;const e=Number(i.customData.httpStatus);return e===429||e===500||e===503||e===504}class LM{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function UM(i,e,t,s,o){if(o&&o.global){i("event",t,s);return}else{const u=await e,h=Object.assign(Object.assign({},s),{send_to:u});i("event",t,h)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BM(){if(x0())try{await V0()}catch(i){return fn.warn(Sn.create("indexeddb-unavailable",{errorInfo:i==null?void 0:i.toString()}).message),!1}else return fn.warn(Sn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function zM(i,e,t,s,o,u,h){var d;const p=xM(i);p.then(P=>{t[P.measurementId]=P.appId,i.options.measurementId&&P.measurementId!==i.options.measurementId&&fn.warn(`The measurement ID in the local Firebase config (${i.options.measurementId}) does not match the measurement ID fetched from the server (${P.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(P=>fn.error(P)),e.push(p);const g=BM().then(P=>{if(P)return s.getId()}),[_,A]=await Promise.all([p,g]);CM(u)||AM(u,_.measurementId),o("js",new Date);const b=(d=h==null?void 0:h.config)!==null&&d!==void 0?d:{};return b[gM]="firebase",b.update=!0,A!=null&&(b[pM]=A),o("config",_.measurementId,b),_.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(e){this.app=e}_delete(){return delete Kl[this.app.options.appId],Promise.resolve()}}let Kl={},eT=[];const tT={};let Hm="dataLayer",qM="gtag",nT,fS,iT=!1;function HM(){const i=[];if(P0()&&i.push("This is a browser extension environment."),pC()||i.push("Cookies are not available."),i.length>0){const e=i.map((s,o)=>`(${o+1}) ${s}`).join(" "),t=Sn.create("invalid-analytics-context",{errorInfo:e});fn.warn(t.message)}}function FM(i,e,t){HM();const s=i.options.appId;if(!s)throw Sn.create("no-app-id");if(!i.options.apiKey)if(i.options.measurementId)fn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${i.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Sn.create("no-api-key");if(Kl[s]!=null)throw Sn.create("already-exists",{id:s});if(!iT){SM(Hm);const{wrappedGtag:u,gtagCore:h}=IM(Kl,eT,tT,Hm,qM);fS=u,nT=h,iT=!0}return Kl[s]=zM(i,eT,tT,e,nT,Hm,t),new jM(i)}function GM(i=Lp()){i=Gt(i);const e=Zs(i,Nh);return e.isInitialized()?e.getImmediate():KM(i)}function KM(i,e={}){const t=Zs(i,Nh);if(t.isInitialized()){const o=t.getImmediate();if(Yr(e,t.getOptions()))return o;throw Sn.create("already-initialized")}return t.initialize({options:e})}function $M(i,e,t,s){i=Gt(i),UM(fS,Kl[i.app.options.appId],e,t,s).catch(o=>fn.error(o))}const rT="@firebase/analytics",sT="0.10.12";function QM(){wi(new Xn(Nh,(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return FM(s,o,t)},"PUBLIC")),wi(new Xn("analytics-internal",i,"PRIVATE")),Un(rT,sT),Un(rT,sT,"esm2017");function i(e){try{const t=e.getProvider(Nh).getImmediate();return{logEvent:(s,o,u)=>$M(t,s,o,u)}}catch(t){throw Sn.create("interop-component-reg-failed",{reason:t})}}}QM();var aT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Kr,dS;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,w){function R(){}R.prototype=w.prototype,D.D=w.prototype,D.prototype=new R,D.prototype.constructor=D,D.C=function(N,k,L){for(var C=Array(arguments.length-2),ot=2;ot<arguments.length;ot++)C[ot-2]=arguments[ot];return w.prototype[k].apply(N,C)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,w,R){R||(R=0);var N=Array(16);if(typeof w=="string")for(var k=0;16>k;++k)N[k]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(k=0;16>k;++k)N[k]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=D.g[0],R=D.g[1],k=D.g[2];var L=D.g[3],C=w+(L^R&(k^L))+N[0]+3614090360&4294967295;w=R+(C<<7&4294967295|C>>>25),C=L+(k^w&(R^k))+N[1]+3905402710&4294967295,L=w+(C<<12&4294967295|C>>>20),C=k+(R^L&(w^R))+N[2]+606105819&4294967295,k=L+(C<<17&4294967295|C>>>15),C=R+(w^k&(L^w))+N[3]+3250441966&4294967295,R=k+(C<<22&4294967295|C>>>10),C=w+(L^R&(k^L))+N[4]+4118548399&4294967295,w=R+(C<<7&4294967295|C>>>25),C=L+(k^w&(R^k))+N[5]+1200080426&4294967295,L=w+(C<<12&4294967295|C>>>20),C=k+(R^L&(w^R))+N[6]+2821735955&4294967295,k=L+(C<<17&4294967295|C>>>15),C=R+(w^k&(L^w))+N[7]+4249261313&4294967295,R=k+(C<<22&4294967295|C>>>10),C=w+(L^R&(k^L))+N[8]+1770035416&4294967295,w=R+(C<<7&4294967295|C>>>25),C=L+(k^w&(R^k))+N[9]+2336552879&4294967295,L=w+(C<<12&4294967295|C>>>20),C=k+(R^L&(w^R))+N[10]+4294925233&4294967295,k=L+(C<<17&4294967295|C>>>15),C=R+(w^k&(L^w))+N[11]+2304563134&4294967295,R=k+(C<<22&4294967295|C>>>10),C=w+(L^R&(k^L))+N[12]+1804603682&4294967295,w=R+(C<<7&4294967295|C>>>25),C=L+(k^w&(R^k))+N[13]+4254626195&4294967295,L=w+(C<<12&4294967295|C>>>20),C=k+(R^L&(w^R))+N[14]+2792965006&4294967295,k=L+(C<<17&4294967295|C>>>15),C=R+(w^k&(L^w))+N[15]+1236535329&4294967295,R=k+(C<<22&4294967295|C>>>10),C=w+(k^L&(R^k))+N[1]+4129170786&4294967295,w=R+(C<<5&4294967295|C>>>27),C=L+(R^k&(w^R))+N[6]+3225465664&4294967295,L=w+(C<<9&4294967295|C>>>23),C=k+(w^R&(L^w))+N[11]+643717713&4294967295,k=L+(C<<14&4294967295|C>>>18),C=R+(L^w&(k^L))+N[0]+3921069994&4294967295,R=k+(C<<20&4294967295|C>>>12),C=w+(k^L&(R^k))+N[5]+3593408605&4294967295,w=R+(C<<5&4294967295|C>>>27),C=L+(R^k&(w^R))+N[10]+38016083&4294967295,L=w+(C<<9&4294967295|C>>>23),C=k+(w^R&(L^w))+N[15]+3634488961&4294967295,k=L+(C<<14&4294967295|C>>>18),C=R+(L^w&(k^L))+N[4]+3889429448&4294967295,R=k+(C<<20&4294967295|C>>>12),C=w+(k^L&(R^k))+N[9]+568446438&4294967295,w=R+(C<<5&4294967295|C>>>27),C=L+(R^k&(w^R))+N[14]+3275163606&4294967295,L=w+(C<<9&4294967295|C>>>23),C=k+(w^R&(L^w))+N[3]+4107603335&4294967295,k=L+(C<<14&4294967295|C>>>18),C=R+(L^w&(k^L))+N[8]+1163531501&4294967295,R=k+(C<<20&4294967295|C>>>12),C=w+(k^L&(R^k))+N[13]+2850285829&4294967295,w=R+(C<<5&4294967295|C>>>27),C=L+(R^k&(w^R))+N[2]+4243563512&4294967295,L=w+(C<<9&4294967295|C>>>23),C=k+(w^R&(L^w))+N[7]+1735328473&4294967295,k=L+(C<<14&4294967295|C>>>18),C=R+(L^w&(k^L))+N[12]+2368359562&4294967295,R=k+(C<<20&4294967295|C>>>12),C=w+(R^k^L)+N[5]+4294588738&4294967295,w=R+(C<<4&4294967295|C>>>28),C=L+(w^R^k)+N[8]+2272392833&4294967295,L=w+(C<<11&4294967295|C>>>21),C=k+(L^w^R)+N[11]+1839030562&4294967295,k=L+(C<<16&4294967295|C>>>16),C=R+(k^L^w)+N[14]+4259657740&4294967295,R=k+(C<<23&4294967295|C>>>9),C=w+(R^k^L)+N[1]+2763975236&4294967295,w=R+(C<<4&4294967295|C>>>28),C=L+(w^R^k)+N[4]+1272893353&4294967295,L=w+(C<<11&4294967295|C>>>21),C=k+(L^w^R)+N[7]+4139469664&4294967295,k=L+(C<<16&4294967295|C>>>16),C=R+(k^L^w)+N[10]+3200236656&4294967295,R=k+(C<<23&4294967295|C>>>9),C=w+(R^k^L)+N[13]+681279174&4294967295,w=R+(C<<4&4294967295|C>>>28),C=L+(w^R^k)+N[0]+3936430074&4294967295,L=w+(C<<11&4294967295|C>>>21),C=k+(L^w^R)+N[3]+3572445317&4294967295,k=L+(C<<16&4294967295|C>>>16),C=R+(k^L^w)+N[6]+76029189&4294967295,R=k+(C<<23&4294967295|C>>>9),C=w+(R^k^L)+N[9]+3654602809&4294967295,w=R+(C<<4&4294967295|C>>>28),C=L+(w^R^k)+N[12]+3873151461&4294967295,L=w+(C<<11&4294967295|C>>>21),C=k+(L^w^R)+N[15]+530742520&4294967295,k=L+(C<<16&4294967295|C>>>16),C=R+(k^L^w)+N[2]+3299628645&4294967295,R=k+(C<<23&4294967295|C>>>9),C=w+(k^(R|~L))+N[0]+4096336452&4294967295,w=R+(C<<6&4294967295|C>>>26),C=L+(R^(w|~k))+N[7]+1126891415&4294967295,L=w+(C<<10&4294967295|C>>>22),C=k+(w^(L|~R))+N[14]+2878612391&4294967295,k=L+(C<<15&4294967295|C>>>17),C=R+(L^(k|~w))+N[5]+4237533241&4294967295,R=k+(C<<21&4294967295|C>>>11),C=w+(k^(R|~L))+N[12]+1700485571&4294967295,w=R+(C<<6&4294967295|C>>>26),C=L+(R^(w|~k))+N[3]+2399980690&4294967295,L=w+(C<<10&4294967295|C>>>22),C=k+(w^(L|~R))+N[10]+4293915773&4294967295,k=L+(C<<15&4294967295|C>>>17),C=R+(L^(k|~w))+N[1]+2240044497&4294967295,R=k+(C<<21&4294967295|C>>>11),C=w+(k^(R|~L))+N[8]+1873313359&4294967295,w=R+(C<<6&4294967295|C>>>26),C=L+(R^(w|~k))+N[15]+4264355552&4294967295,L=w+(C<<10&4294967295|C>>>22),C=k+(w^(L|~R))+N[6]+2734768916&4294967295,k=L+(C<<15&4294967295|C>>>17),C=R+(L^(k|~w))+N[13]+1309151649&4294967295,R=k+(C<<21&4294967295|C>>>11),C=w+(k^(R|~L))+N[4]+4149444226&4294967295,w=R+(C<<6&4294967295|C>>>26),C=L+(R^(w|~k))+N[11]+3174756917&4294967295,L=w+(C<<10&4294967295|C>>>22),C=k+(w^(L|~R))+N[2]+718787259&4294967295,k=L+(C<<15&4294967295|C>>>17),C=R+(L^(k|~w))+N[9]+3951481745&4294967295,D.g[0]=D.g[0]+w&4294967295,D.g[1]=D.g[1]+(k+(C<<21&4294967295|C>>>11))&4294967295,D.g[2]=D.g[2]+k&4294967295,D.g[3]=D.g[3]+L&4294967295}s.prototype.u=function(D,w){w===void 0&&(w=D.length);for(var R=w-this.blockSize,N=this.B,k=this.h,L=0;L<w;){if(k==0)for(;L<=R;)o(this,D,L),L+=this.blockSize;if(typeof D=="string"){for(;L<w;)if(N[k++]=D.charCodeAt(L++),k==this.blockSize){o(this,N),k=0;break}}else for(;L<w;)if(N[k++]=D[L++],k==this.blockSize){o(this,N),k=0;break}}this.h=k,this.o+=w},s.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var w=1;w<D.length-8;++w)D[w]=0;var R=8*this.o;for(w=D.length-8;w<D.length;++w)D[w]=R&255,R/=256;for(this.u(D),D=Array(16),w=R=0;4>w;++w)for(var N=0;32>N;N+=8)D[R++]=this.g[w]>>>N&255;return D};function u(D,w){var R=d;return Object.prototype.hasOwnProperty.call(R,D)?R[D]:R[D]=w(D)}function h(D,w){this.h=w;for(var R=[],N=!0,k=D.length-1;0<=k;k--){var L=D[k]|0;N&&L==w||(R[k]=L,N=!1)}this.g=R}var d={};function p(D){return-128<=D&&128>D?u(D,function(w){return new h([w|0],0>w?-1:0)}):new h([D|0],0>D?-1:0)}function g(D){if(isNaN(D)||!isFinite(D))return A;if(0>D)return V(g(-D));for(var w=[],R=1,N=0;D>=R;N++)w[N]=D/R|0,R*=4294967296;return new h(w,0)}function _(D,w){if(D.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(D.charAt(0)=="-")return V(_(D.substring(1),w));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(w,8)),N=A,k=0;k<D.length;k+=8){var L=Math.min(8,D.length-k),C=parseInt(D.substring(k,k+L),w);8>L?(L=g(Math.pow(w,L)),N=N.j(L).add(g(C))):(N=N.j(R),N=N.add(g(C)))}return N}var A=p(0),b=p(1),P=p(16777216);i=h.prototype,i.m=function(){if(j(this))return-V(this).m();for(var D=0,w=1,R=0;R<this.g.length;R++){var N=this.i(R);D+=(0<=N?N:4294967296+N)*w,w*=4294967296}return D},i.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(O(this))return"0";if(j(this))return"-"+V(this).toString(D);for(var w=g(Math.pow(D,6)),R=this,N="";;){var k=ae(R,w).g;R=K(R,k.j(w));var L=((0<R.g.length?R.g[0]:R.h)>>>0).toString(D);if(R=k,O(R))return L+N;for(;6>L.length;)L="0"+L;N=L+N}},i.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function O(D){if(D.h!=0)return!1;for(var w=0;w<D.g.length;w++)if(D.g[w]!=0)return!1;return!0}function j(D){return D.h==-1}i.l=function(D){return D=K(this,D),j(D)?-1:O(D)?0:1};function V(D){for(var w=D.g.length,R=[],N=0;N<w;N++)R[N]=~D.g[N];return new h(R,~D.h).add(b)}i.abs=function(){return j(this)?V(this):this},i.add=function(D){for(var w=Math.max(this.g.length,D.g.length),R=[],N=0,k=0;k<=w;k++){var L=N+(this.i(k)&65535)+(D.i(k)&65535),C=(L>>>16)+(this.i(k)>>>16)+(D.i(k)>>>16);N=C>>>16,L&=65535,C&=65535,R[k]=C<<16|L}return new h(R,R[R.length-1]&-2147483648?-1:0)};function K(D,w){return D.add(V(w))}i.j=function(D){if(O(this)||O(D))return A;if(j(this))return j(D)?V(this).j(V(D)):V(V(this).j(D));if(j(D))return V(this.j(V(D)));if(0>this.l(P)&&0>D.l(P))return g(this.m()*D.m());for(var w=this.g.length+D.g.length,R=[],N=0;N<2*w;N++)R[N]=0;for(N=0;N<this.g.length;N++)for(var k=0;k<D.g.length;k++){var L=this.i(N)>>>16,C=this.i(N)&65535,ot=D.i(k)>>>16,it=D.i(k)&65535;R[2*N+2*k]+=C*it,Y(R,2*N+2*k),R[2*N+2*k+1]+=L*it,Y(R,2*N+2*k+1),R[2*N+2*k+1]+=C*ot,Y(R,2*N+2*k+1),R[2*N+2*k+2]+=L*ot,Y(R,2*N+2*k+2)}for(N=0;N<w;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=w;N<2*w;N++)R[N]=0;return new h(R,0)};function Y(D,w){for(;(D[w]&65535)!=D[w];)D[w+1]+=D[w]>>>16,D[w]&=65535,w++}function G(D,w){this.g=D,this.h=w}function ae(D,w){if(O(w))throw Error("division by zero");if(O(D))return new G(A,A);if(j(D))return w=ae(V(D),w),new G(V(w.g),V(w.h));if(j(w))return w=ae(D,V(w)),new G(V(w.g),w.h);if(30<D.g.length){if(j(D)||j(w))throw Error("slowDivide_ only works with positive integers.");for(var R=b,N=w;0>=N.l(D);)R=ee(R),N=ee(N);var k=ce(R,1),L=ce(N,1);for(N=ce(N,2),R=ce(R,2);!O(N);){var C=L.add(N);0>=C.l(D)&&(k=k.add(R),L=C),N=ce(N,1),R=ce(R,1)}return w=K(D,k.j(w)),new G(k,w)}for(k=A;0<=D.l(w);){for(R=Math.max(1,Math.floor(D.m()/w.m())),N=Math.ceil(Math.log(R)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),L=g(R),C=L.j(w);j(C)||0<C.l(D);)R-=N,L=g(R),C=L.j(w);O(L)&&(L=b),k=k.add(L),D=K(D,C)}return new G(k,D)}i.A=function(D){return ae(this,D).h},i.and=function(D){for(var w=Math.max(this.g.length,D.g.length),R=[],N=0;N<w;N++)R[N]=this.i(N)&D.i(N);return new h(R,this.h&D.h)},i.or=function(D){for(var w=Math.max(this.g.length,D.g.length),R=[],N=0;N<w;N++)R[N]=this.i(N)|D.i(N);return new h(R,this.h|D.h)},i.xor=function(D){for(var w=Math.max(this.g.length,D.g.length),R=[],N=0;N<w;N++)R[N]=this.i(N)^D.i(N);return new h(R,this.h^D.h)};function ee(D){for(var w=D.g.length+1,R=[],N=0;N<w;N++)R[N]=D.i(N)<<1|D.i(N-1)>>>31;return new h(R,D.h)}function ce(D,w){var R=w>>5;w%=32;for(var N=D.g.length-R,k=[],L=0;L<N;L++)k[L]=0<w?D.i(L+R)>>>w|D.i(L+R+1)<<32-w:D.i(L+R);return new h(k,D.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,dS=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=_,Kr=h}).apply(typeof aT<"u"?aT:typeof self<"u"?self:typeof window<"u"?window:{});var Wc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mS,ql,pS,dh,dp,gS,yS,_S;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,v){return c==Array.prototype||c==Object.prototype||(c[y]=v.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wc=="object"&&Wc];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=t(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var B=c[S];if(!(B in v))break e;v=v[B]}c=c[c.length-1],S=v[c],y=y(S),y!=S&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var v=0,S=!1,B={next:function(){if(!S&&v<c.length){var $=v++;return{value:y($,c[$]),done:!1}}return S=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function _(c,y,v){return c.call.apply(c.bind,arguments)}function A(c,y,v){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,S),c.apply(y,B)}}return function(){return c.apply(y,arguments)}}function b(c,y,v){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:A,b.apply(null,arguments)}function P(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function O(c,y){function v(){}v.prototype=y.prototype,c.aa=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(S,B,$){for(var oe=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)oe[Be-2]=arguments[Be];return y.prototype[B].apply(S,oe)}}function j(c){const y=c.length;if(0<y){const v=Array(y);for(let S=0;S<y;S++)v[S]=c[S];return v}return[]}function V(c,y){for(let v=1;v<arguments.length;v++){const S=arguments[v];if(p(S)){const B=c.length||0,$=S.length||0;c.length=B+$;for(let oe=0;oe<$;oe++)c[B+oe]=S[oe]}else c.push(S)}}class K{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function Y(c){return/^[\s\xa0]*$/.test(c)}function G(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function ae(c){return ae[" "](c),c}ae[" "]=function(){};var ee=G().indexOf("Gecko")!=-1&&!(G().toLowerCase().indexOf("webkit")!=-1&&G().indexOf("Edge")==-1)&&!(G().indexOf("Trident")!=-1||G().indexOf("MSIE")!=-1)&&G().indexOf("Edge")==-1;function ce(c,y,v){for(const S in c)y.call(v,c[S],S,c)}function D(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function w(c){const y={};for(const v in c)y[v]=c[v];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(c,y){let v,S;for(let B=1;B<arguments.length;B++){S=arguments[B];for(v in S)c[v]=S[v];for(let $=0;$<R.length;$++)v=R[$],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function k(c){var y=1;c=c.split(":");const v=[];for(;0<y&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function L(c){d.setTimeout(()=>{throw c},0)}function C(){var c=He;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class ot{constructor(){this.h=this.g=null}add(y,v){const S=it.get();S.set(y,v),this.h?this.h.next=S:this.g=S,this.h=S}}var it=new K(()=>new X,c=>c.reset());class X{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let le,pe=!1,He=new ot,M=()=>{const c=d.Promise.resolve(void 0);le=()=>{c.then(ie)}};var ie=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(v){L(v)}var y=it;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}pe=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var ye=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};d.addEventListener("test",v,y),d.removeEventListener("test",v,y)}catch{}return c}();function Oe(c,y){if(se.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(ee){e:{try{ae(y.nodeName);var B=!0;break e}catch{}B=!1}B||(y=null)}}else v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement);this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ee[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Oe.aa.h.call(this)}}O(Oe,se);var Ee={2:"touch",3:"pen",4:"mouse"};Oe.prototype.h=function(){Oe.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Me="closure_listenable_"+(1e6*Math.random()|0),Ue=0;function $t(c,y,v,S,B){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!S,this.ha=B,this.key=++Ue,this.da=this.fa=!1}function zn(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ci(c){this.src=c,this.g={},this.h=0}Ci.prototype.add=function(c,y,v,S,B){var $=c.toString();c=this.g[$],c||(c=this.g[$]=[],this.h++);var oe=rs(c,y,S,B);return-1<oe?(y=c[oe],v||(y.fa=!1)):(y=new $t(y,this.src,$,!!S,B),y.fa=v,c.push(y)),y};function is(c,y){var v=y.type;if(v in c.g){var S=c.g[v],B=Array.prototype.indexOf.call(S,y,void 0),$;($=0<=B)&&Array.prototype.splice.call(S,B,1),$&&(zn(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function rs(c,y,v,S){for(var B=0;B<c.length;++B){var $=c[B];if(!$.da&&$.listener==y&&$.capture==!!v&&$.ha==S)return B}return-1}var ss="closure_lm_"+(1e6*Math.random()|0),Io={};function wu(c,y,v,S,B){if(Array.isArray(y)){for(var $=0;$<y.length;$++)wu(c,y[$],v,S,B);return null}return v=bu(v),c&&c[Me]?c.K(y,v,g(S)?!!S.capture:!1,B):wn(c,y,v,!1,S,B)}function wn(c,y,v,S,B,$){if(!y)throw Error("Invalid event type");var oe=g(B)?!!B.capture:!!B,Be=aa(c);if(Be||(c[ss]=Be=new Ci(c)),v=Be.add(y,v,S,oe,$),v.proxy)return v;if(S=Af(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)ye||(B=oe),B===void 0&&(B=!1),c.addEventListener(y.toString(),S,B);else if(c.attachEvent)c.attachEvent(as(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Af(){function c(v){return y.call(c.src,c.listener,v)}const y=Sf;return c}function Co(c,y,v,S,B){if(Array.isArray(y))for(var $=0;$<y.length;$++)Co(c,y[$],v,S,B);else S=g(S)?!!S.capture:!!S,v=bu(v),c&&c[Me]?(c=c.i,y=String(y).toString(),y in c.g&&($=c.g[y],v=rs($,v,S,B),-1<v&&(zn($[v]),Array.prototype.splice.call($,v,1),$.length==0&&(delete c.g[y],c.h--)))):c&&(c=aa(c))&&(y=c.g[y.toString()],c=-1,y&&(c=rs(y,v,S,B)),(v=-1<c?y[c]:null)&&sa(v))}function sa(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Me])is(y.i,c);else{var v=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(v,S,c.capture):y.detachEvent?y.detachEvent(as(v),S):y.addListener&&y.removeListener&&y.removeListener(S),(v=aa(y))?(is(v,c),v.h==0&&(v.src=null,y[ss]=null)):zn(c)}}}function as(c){return c in Io?Io[c]:Io[c]="on"+c}function Sf(c,y){if(c.da)c=!0;else{y=new Oe(y,this);var v=c.listener,S=c.ha||c.src;c.fa&&sa(c),c=v.call(S,y)}return c}function aa(c){return c=c[ss],c instanceof Ci?c:null}var Oo="__closure_events_fn_"+(1e9*Math.random()>>>0);function bu(c){return typeof c=="function"?c:(c[Oo]||(c[Oo]=function(y){return c.handleEvent(y)}),c[Oo])}function ht(){ue.call(this),this.i=new Ci(this),this.M=this,this.F=null}O(ht,ue),ht.prototype[Me]=!0,ht.prototype.removeEventListener=function(c,y,v,S){Co(this,c,y,v,S)};function Qe(c,y){var v,S=c.F;if(S)for(v=[];S;S=S.F)v.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new se(y,c);else if(y instanceof se)y.target=y.target||c;else{var B=y;y=new se(S,c),N(y,B)}if(B=!0,v)for(var $=v.length-1;0<=$;$--){var oe=y.g=v[$];B=dn(oe,S,!0,y)&&B}if(oe=y.g=c,B=dn(oe,S,!0,y)&&B,B=dn(oe,S,!1,y)&&B,v)for($=0;$<v.length;$++)oe=y.g=v[$],B=dn(oe,S,!1,y)&&B}ht.prototype.N=function(){if(ht.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var v=c.g[y],S=0;S<v.length;S++)zn(v[S]);delete c.g[y],c.h--}}this.F=null},ht.prototype.K=function(c,y,v,S){return this.i.add(String(c),y,!1,v,S)},ht.prototype.L=function(c,y,v,S){return this.i.add(String(c),y,!0,v,S)};function dn(c,y,v,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var B=!0,$=0;$<y.length;++$){var oe=y[$];if(oe&&!oe.da&&oe.capture==v){var Be=oe.listener,Rt=oe.ha||oe.src;oe.fa&&is(c.i,oe),B=Be.call(Rt,S)!==!1&&B}}return B&&!S.defaultPrevented}function Qt(c,y,v){if(typeof c=="function")v&&(c=b(c,v));else if(c&&typeof c.handleEvent=="function")c=b(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(c,y||0)}function Ru(c){c.g=Qt(()=>{c.g=null,c.i&&(c.i=!1,Ru(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class wf extends ue{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Ru(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function os(c){ue.call(this),this.h=c,this.g={}}O(os,ue);var ls=[];function us(c){ce(c.g,function(y,v){this.g.hasOwnProperty(v)&&sa(y)},c),c.g={}}os.prototype.N=function(){os.aa.N.call(this),us(this)},os.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var jn=d.JSON.stringify,oa=d.JSON.parse,cs=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function Do(){}Do.prototype.h=null;function No(c){return c.h||(c.h=c.i())}function Mo(){}var Oi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Di(){se.call(this,"d")}O(Di,se);function Po(){se.call(this,"c")}O(Po,se);var ti={},xo=null;function ur(){return xo=xo||new ht}ti.La="serverreachability";function la(c){se.call(this,ti.La,c)}O(la,se);function cr(c){const y=ur();Qe(y,new la(y))}ti.STAT_EVENT="statevent";function Iu(c,y){se.call(this,ti.STAT_EVENT,c),this.stat=y}O(Iu,se);function st(c){const y=ur();Qe(y,new Iu(y,c))}ti.Ma="timingevent";function bt(c,y){se.call(this,ti.Ma,c),this.size=y}O(bt,se);function vt(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},y)}function bn(){this.g=!0}bn.prototype.xa=function(){this.g=!1};function Vo(c,y,v,S,B,$){c.info(function(){if(c.g)if($)for(var oe="",Be=$.split("&"),Rt=0;Rt<Be.length;Rt++){var ze=Be[Rt].split("=");if(1<ze.length){var Pt=ze[0];ze=ze[1];var It=Pt.split("_");oe=2<=It.length&&It[1]=="type"?oe+(Pt+"="+ze+"&"):oe+(Pt+"=redacted&")}}else oe=null;else oe=$;return"XMLHTTP REQ ("+S+") [attempt "+B+"]: "+y+`
`+v+`
`+oe})}function bf(c,y,v,S,B,$,oe){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+B+"]: "+y+`
`+v+`
`+$+" "+oe})}function hr(c,y,v,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+hs(c,v)+(S?" "+S:"")})}function Cu(c,y){c.info(function(){return"TIMEOUT: "+y})}bn.prototype.info=function(){};function hs(c,y){if(!c.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var S=v[c];if(!(2>S.length)){var B=S[1];if(Array.isArray(B)&&!(1>B.length)){var $=B[0];if($!="noop"&&$!="stop"&&$!="close")for(var oe=1;oe<B.length;oe++)B[oe]=""}}}}return jn(v)}catch{return y}}var fr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ni={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ni;function ii(){}O(ii,Do),ii.prototype.g=function(){return new XMLHttpRequest},ii.prototype.i=function(){return{}},ni=new ii;function nn(c,y,v,S){this.j=c,this.i=y,this.l=v,this.R=S||1,this.U=new os(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pt}function pt(){this.i=null,this.g="",this.h=!1}var ko={},ua={};function qn(c,y,v){c.L=1,c.v=gs(mn(y)),c.m=v,c.P=!0,Mi(c,null)}function Mi(c,y){c.F=Date.now(),fs(c),c.A=mn(c.v);var v=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),qo(v.i,"t",S),c.C=0,v=c.j.J,c.h=new pt,c.g=Fu(c.j,v?y:null,!c.m),0<c.O&&(c.M=new wf(b(c.Y,c,c.g),c.O)),y=c.U,v=c.g,S=c.ca;var B="readystatechange";Array.isArray(B)||(B&&(ls[0]=B.toString()),B=ls);for(var $=0;$<B.length;$++){var oe=wu(v,B[$],S||y.handleEvent,!1,y.h||y);if(!oe)break;y.g[oe.key]=oe}y=c.H?w(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),cr(),Vo(c.i,c.u,c.A,c.l,c.R,c.m)}nn.prototype.ca=function(c){c=c.target;const y=this.M;y&&On(c)==3?y.j():this.Y(c)},nn.prototype.Y=function(c){try{if(c==this.g)e:{const It=On(this.g);var y=this.g.Ba();const zi=this.g.Z();if(!(3>It)&&(It!=3||this.g&&(this.h.h||this.g.oa()||ku(this.g)))){this.J||It!=4||y==7||(y==8||0>=zi?cr(3):cr(2)),dr(this);var v=this.g.Z();this.X=v;t:if(Ou(this)){var S=ku(this.g);c="";var B=S.length,$=On(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ut(this),ri(this);var oe="";break t}this.h.i=new d.TextDecoder}for(y=0;y<B;y++)this.h.h=!0,c+=this.h.i.decode(S[y],{stream:!($&&y==B-1)});S.length=0,this.h.g+=c,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=v==200,bf(this.i,this.u,this.A,this.l,this.R,It,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Be,Rt=this.g;if((Be=Rt.g?Rt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Y(Be)){var ze=Be;break t}}ze=null}if(v=ze)hr(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ds(this,v);else{this.o=!1,this.s=3,st(12),Ut(this),ri(this);break e}}if(this.P){v=!0;let Bt;for(;!this.J&&this.C<oe.length;)if(Bt=Du(this,oe),Bt==ua){It==4&&(this.s=4,st(14),v=!1),hr(this.i,this.l,null,"[Incomplete Response]");break}else if(Bt==ko){this.s=4,st(15),hr(this.i,this.l,oe,"[Invalid Chunk]"),v=!1;break}else hr(this.i,this.l,Bt,null),ds(this,Bt);if(Ou(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),It!=4||oe.length!=0||this.h.h||(this.s=1,st(16),v=!1),this.o=this.o&&v,!v)hr(this.i,this.l,oe,"[Invalid Chunked Response]"),Ut(this),ri(this);else if(0<oe.length&&!this.W){this.W=!0;var Pt=this.j;Pt.g==this&&Pt.ba&&!Pt.M&&(Pt.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),ws(Pt),Pt.M=!0,st(11))}}else hr(this.i,this.l,oe,null),ds(this,oe);It==4&&Ut(this),this.o&&!this.J&&(It==4?ju(this.j,this):(this.o=!1,fs(this)))}else Df(this.g),v==400&&0<oe.indexOf("Unknown SID")?(this.s=3,st(12)):(this.s=0,st(13)),Ut(this),ri(this)}}}catch{}finally{}};function Ou(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Du(c,y){var v=c.C,S=y.indexOf(`
`,v);return S==-1?ua:(v=Number(y.substring(v,S)),isNaN(v)?ko:(S+=1,S+v>y.length?ua:(y=y.slice(S,S+v),c.C=S+v,y)))}nn.prototype.cancel=function(){this.J=!0,Ut(this)};function fs(c){c.S=Date.now()+c.I,Nu(c,c.I)}function Nu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=vt(b(c.ba,c),y)}function dr(c){c.B&&(d.clearTimeout(c.B),c.B=null)}nn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Cu(this.i,this.A),this.L!=2&&(cr(),st(17)),Ut(this),this.s=2,ri(this)):Nu(this,this.S-c)};function ri(c){c.j.G==0||c.J||ju(c.j,c)}function Ut(c){dr(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,us(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function ds(c,y){try{var v=c.j;if(v.G!=0&&(v.g==c||Lo(v.h,c))){if(!c.K&&Lo(v.h,c)&&v.G==3){try{var S=v.Da.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var B=S;if(B[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)Ta(v),va(v);else break e;$o(v),st(18)}}else v.za=B[1],0<v.za-v.T&&37500>B[2]&&v.F&&v.v==0&&!v.C&&(v.C=vt(b(v.Za,v),6e3));if(1>=ha(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Bi(v,11)}else if((c.K||v.g==c)&&Ta(v),!Y(y))for(B=v.Da.g.parse(y),y=0;y<B.length;y++){let ze=B[y];if(v.T=ze[0],ze=ze[1],v.G==2)if(ze[0]=="c"){v.K=ze[1],v.ia=ze[2];const Pt=ze[3];Pt!=null&&(v.la=Pt,v.j.info("VER="+v.la));const It=ze[4];It!=null&&(v.Aa=It,v.j.info("SVER="+v.Aa));const zi=ze[5];zi!=null&&typeof zi=="number"&&0<zi&&(S=1.5*zi,v.L=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const Bt=c.g;if(Bt){const hi=Bt.g?Bt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(hi){var $=S.h;$.g||hi.indexOf("spdy")==-1&&hi.indexOf("quic")==-1&&hi.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(fa($,$.h),$.h=null))}if(S.D){const Yo=Bt.g?Bt.g.getResponseHeader("X-HTTP-Session-Id"):null;Yo&&(S.ya=Yo,We(S.I,S.D,Yo))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),S=v;var oe=c;if(S.qa=Hu(S,S.J?S.ia:null,S.W),oe.K){rn(S.h,oe);var Be=oe,Rt=S.L;Rt&&(Be.I=Rt),Be.B&&(dr(Be),fs(Be)),S.g=oe}else Bu(S);0<v.i.length&&Ea(v)}else ze[0]!="stop"&&ze[0]!="close"||Bi(v,7);else v.G==3&&(ze[0]=="stop"||ze[0]=="close"?ze[0]=="stop"?Bi(v,7):Go(v):ze[0]!="noop"&&v.l&&v.l.ta(ze),v.v=0)}}cr(4)}catch{}}var Mu=class{constructor(c,y){this.g=c,this.map=y}};function Pi(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ca(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ha(c){return c.h?1:c.g?c.g.size:0}function Lo(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function fa(c,y){c.g?c.g.add(y):c.h=y}function rn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Pi.prototype.cancel=function(){if(this.i=Uo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Uo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.D);return y}return j(c.i)}function Rf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],v=c.length,S=0;S<v;S++)y.push(c[S]);return y}y=[],v=0;for(S in c)y[v++]=c[S];return y}function da(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var v=0;v<c;v++)y.push(v);return y}y=[],v=0;for(const S in c)y[v++]=S;return y}}}function Bo(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var v=da(c),S=Rf(c),B=S.length,$=0;$<B;$++)y.call(void 0,S[$],v&&v[$],c)}var ms=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function If(c,y){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var S=c[v].indexOf("="),B=null;if(0<=S){var $=c[v].substring(0,S);B=c[v].substring(S+1)}else $=c[v];y($,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Et(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Et){this.h=c.h,ps(this,c.j),this.o=c.o,this.g=c.g,mr(this,c.s),this.l=c.l;var y=c.i,v=new Vi;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),xi(this,v),this.m=c.m}else c&&(y=String(c).match(ms))?(this.h=!1,ps(this,y[1]||"",!0),this.o=Rn(y[2]||""),this.g=Rn(y[3]||"",!0),mr(this,y[4]),this.l=Rn(y[5]||"",!0),xi(this,y[6]||"",!0),this.m=Rn(y[7]||"")):(this.h=!1,this.i=new Vi(null,this.h))}Et.prototype.toString=function(){var c=[],y=this.j;y&&c.push(ys(y,zo,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(ys(y,zo,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(ys(v,v.charAt(0)=="/"?Cf:jo,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",ys(v,ma)),c.join("")};function mn(c){return new Et(c)}function ps(c,y,v){c.j=v?Rn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function mr(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function xi(c,y,v){y instanceof Vi?(c.i=y,xu(c.i,c.h)):(v||(y=ys(y,Of)),c.i=new Vi(y,c.h))}function We(c,y,v){c.i.set(y,v)}function gs(c){return We(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Rn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ys(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,Pu),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Pu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var zo=/[#\/\?@]/g,jo=/[#\?:]/g,Cf=/[#\?]/g,Of=/[#\?@]/g,ma=/#/g;function Vi(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function In(c){c.g||(c.g=new Map,c.h=0,c.i&&If(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}i=Vi.prototype,i.add=function(c,y){In(this),this.i=null,c=si(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function ki(c,y){In(c),y=si(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Li(c,y){return In(c),y=si(c,y),c.g.has(y)}i.forEach=function(c,y){In(this),this.g.forEach(function(v,S){v.forEach(function(B){c.call(y,B,S,this)},this)},this)},i.na=function(){In(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let S=0;S<y.length;S++){const B=c[S];for(let $=0;$<B.length;$++)v.push(y[S])}return v},i.V=function(c){In(this);let y=[];if(typeof c=="string")Li(this,c)&&(y=y.concat(this.g.get(si(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)y=y.concat(c[v])}return y},i.set=function(c,y){return In(this),this.i=null,c=si(this,c),Li(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function qo(c,y,v){ki(c,y),0<v.length&&(c.i=null,c.g.set(si(c,y),j(v)),c.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var S=y[v];const $=encodeURIComponent(String(S)),oe=this.V(S);for(S=0;S<oe.length;S++){var B=$;oe[S]!==""&&(B+="="+encodeURIComponent(String(oe[S]))),c.push(B)}}return this.i=c.join("&")};function si(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function xu(c,y){y&&!c.j&&(In(c),c.i=null,c.g.forEach(function(v,S){var B=S.toLowerCase();S!=B&&(ki(this,S),qo(this,B,v))},c)),c.j=y}function _s(c,y){const v=new bn;if(d.Image){const S=new Image;S.onload=P(Cn,v,"TestLoadImage: loaded",!0,y,S),S.onerror=P(Cn,v,"TestLoadImage: error",!1,y,S),S.onabort=P(Cn,v,"TestLoadImage: abort",!1,y,S),S.ontimeout=P(Cn,v,"TestLoadImage: timeout",!1,y,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function Hn(c,y){const v=new bn,S=new AbortController,B=setTimeout(()=>{S.abort(),Cn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then($=>{clearTimeout(B),$.ok?Cn(v,"TestPingServer: ok",!0,y):Cn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),Cn(v,"TestPingServer: error",!1,y)})}function Cn(c,y,v,S,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),S(v)}catch{}}function vs(){this.g=new cs}function ai(c,y,v){const S=v||"";try{Bo(c,function(B,$){let oe=B;g(B)&&(oe=jn(B)),y.push(S+$+"="+encodeURIComponent(oe))})}catch(B){throw y.push(S+"type="+encodeURIComponent("_badmap")),B}}function pr(c){this.l=c.Ub||null,this.j=c.eb||!1}O(pr,Do),pr.prototype.g=function(){return new Ui(this.l,this.j)},pr.prototype.i=function(c){return function(){return c}}({});function Ui(c,y){ht.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O(Ui,ht),i=Ui.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,li(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,oi(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,li(this)),this.g&&(this.readyState=3,li(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ho(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ho(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?oi(this):li(this),this.readyState==3&&Ho(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,oi(this))},i.Qa=function(c){this.g&&(this.response=c,oi(this))},i.ga=function(){this.g&&oi(this)};function oi(c){c.readyState=4,c.l=null,c.j=null,c.v=null,li(c)}i.setRequestHeader=function(c,y){this.u.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function li(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ui.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Fo(c){let y="";return ce(c,function(v,S){y+=S,y+=":",y+=v,y+=`\r
`}),y}function Mt(c,y,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=Fo(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):We(c,y,v))}function Ke(c){ht.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O(Ke,ht);var pa=/^https?$/i,Es=["POST","PUT"];i=Ke.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,y,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ni.g(),this.v=this.o?No(this.o):No(ni),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch($){Vu(this,$);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var B in S)v.set(B,S[B]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const $ of S.keys())v.set($,S.get($));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find($=>$.toLowerCase()=="content-type"),B=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Es,y,void 0))||S||B||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,oe]of v)this.g.setRequestHeader($,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ts(this),this.u=!0,this.g.send(c),this.u=!1}catch($){Vu(this,$)}};function Vu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,ga(c),ui(c)}function ga(c){c.A||(c.A=!0,Qe(c,"complete"),Qe(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Qe(this,"complete"),Qe(this,"abort"),ui(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ui(this,!0)),Ke.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?ya(this):this.bb())},i.bb=function(){ya(this)};function ya(c){if(c.h&&typeof h<"u"&&(!c.v[1]||On(c)!=4||c.Z()!=2)){if(c.u&&On(c)==4)Qt(c.Ea,0,c);else if(Qe(c,"readystatechange"),On(c)==4){c.h=!1;try{const oe=c.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var S;if(S=oe===0){var B=String(c.D).match(ms)[1]||null;!B&&d.self&&d.self.location&&(B=d.self.location.protocol.slice(0,-1)),S=!pa.test(B?B.toLowerCase():"")}v=S}if(v)Qe(c,"complete"),Qe(c,"success");else{c.m=6;try{var $=2<On(c)?c.g.statusText:""}catch{$=""}c.l=$+" ["+c.Z()+"]",ga(c)}}finally{ui(c)}}}}function ui(c,y){if(c.g){Ts(c);const v=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Qe(c,"ready");try{v.onreadystatechange=S}catch{}}}function Ts(c){c.I&&(d.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function On(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<On(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),oa(y)}};function ku(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Df(c){const y={};c=(c.g&&2<=On(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(Y(c[S]))continue;var v=k(c[S]);const B=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const $=y[B]||[];y[B]=$,$.push(v)}D(y,function(S){return S.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function As(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function _a(c){this.Aa=0,this.i=[],this.j=new bn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=As("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=As("baseRetryDelayMs",5e3,c),this.cb=As("retryDelaySeedMs",1e4,c),this.Wa=As("forwardChannelMaxRetries",2,c),this.wa=As("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Pi(c&&c.concurrentRequestLimit),this.Da=new vs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=_a.prototype,i.la=8,i.G=1,i.connect=function(c,y,v,S){st(0),this.W=c,this.H=y||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.I=Hu(this,null,this.W),Ea(this)};function Go(c){if(Lu(c),c.G==3){var y=c.U++,v=mn(c.I);if(We(v,"SID",c.K),We(v,"RID",y),We(v,"TYPE","terminate"),Ss(c,v),y=new nn(c,c.j,y),y.L=2,y.v=gs(mn(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&d.Image&&(new Image().src=y.v,v=!0),v||(y.g=Fu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),fs(y)}qu(c)}function va(c){c.g&&(ws(c),c.g.cancel(),c.g=null)}function Lu(c){va(c),c.u&&(d.clearTimeout(c.u),c.u=null),Ta(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function Ea(c){if(!ca(c.h)&&!c.s){c.s=!0;var y=c.Ga;le||M(),pe||(le(),pe=!0),He.add(y,c),c.B=0}}function Nf(c,y){return ha(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=vt(b(c.Ga,c,y),Qo(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const B=new nn(this,this.j,c);let $=this.o;if(this.S&&($?($=w($),N($,this.S)):$=this.S),this.m!==null||this.O||(B.H=$,$=null),this.P)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,4096<y){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=Uu(this,B,y),v=mn(this.I),We(v,"RID",c),We(v,"CVER",22),this.D&&We(v,"X-HTTP-Session-Id",this.D),Ss(this,v),$&&(this.O?y="headers="+encodeURIComponent(String(Fo($)))+"&"+y:this.m&&Mt(v,this.m,$)),fa(this.h,B),this.Ua&&We(v,"TYPE","init"),this.P?(We(v,"$req",y),We(v,"SID","null"),B.T=!0,qn(B,v,null)):qn(B,v,y),this.G=2}}else this.G==3&&(c?Ko(this,c):this.i.length==0||ca(this.h)||Ko(this))};function Ko(c,y){var v;y?v=y.l:v=c.U++;const S=mn(c.I);We(S,"SID",c.K),We(S,"RID",v),We(S,"AID",c.T),Ss(c,S),c.m&&c.o&&Mt(S,c.m,c.o),v=new nn(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Uu(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),fa(c.h,v),qn(v,S,y)}function Ss(c,y){c.H&&ce(c.H,function(v,S){We(y,S,v)}),c.l&&Bo({},function(v,S){We(y,S,v)})}function Uu(c,y,v){v=Math.min(c.i.length,v);var S=c.l?b(c.l.Na,c.l,c):null;e:{var B=c.i;let $=-1;for(;;){const oe=["count="+v];$==-1?0<v?($=B[0].g,oe.push("ofs="+$)):$=0:oe.push("ofs="+$);let Be=!0;for(let Rt=0;Rt<v;Rt++){let ze=B[Rt].g;const Pt=B[Rt].map;if(ze-=$,0>ze)$=Math.max(0,B[Rt].g-100),Be=!1;else try{ai(Pt,oe,"req"+ze+"_")}catch{S&&S(Pt)}}if(Be){S=oe.join("&");break e}}}return c=c.i.splice(0,v),y.D=c,S}function Bu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;le||M(),pe||(le(),pe=!0),He.add(y,c),c.v=0}}function $o(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=vt(b(c.Fa,c),Qo(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,zu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=vt(b(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,st(10),va(this),zu(this))};function ws(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function zu(c){c.g=new nn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=mn(c.qa);We(y,"RID","rpc"),We(y,"SID",c.K),We(y,"AID",c.T),We(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&We(y,"TO",c.ja),We(y,"TYPE","xmlhttp"),Ss(c,y),c.m&&c.o&&Mt(y,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=gs(mn(y)),v.m=null,v.P=!0,Mi(v,c)}i.Za=function(){this.C!=null&&(this.C=null,va(this),$o(this),st(19))};function Ta(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function ju(c,y){var v=null;if(c.g==y){Ta(c),ws(c),c.g=null;var S=2}else if(Lo(c.h,y))v=y.D,rn(c.h,y),S=1;else return;if(c.G!=0){if(y.o)if(S==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var B=c.B;S=ur(),Qe(S,new bt(S,v)),Ea(c)}else Bu(c);else if(B=y.s,B==3||B==0&&0<y.X||!(S==1&&Nf(c,y)||S==2&&$o(c)))switch(v&&0<v.length&&(y=c.h,y.i=y.i.concat(v)),B){case 1:Bi(c,5);break;case 4:Bi(c,10);break;case 3:Bi(c,6);break;default:Bi(c,2)}}}function Qo(c,y){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*y}function Bi(c,y){if(c.j.info("Error code "+y),y==2){var v=b(c.fb,c),S=c.Xa;const B=!S;S=new Et(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ps(S,"https"),gs(S),B?_s(S.toString(),v):Hn(S.toString(),v)}else st(2);c.G=0,c.l&&c.l.sa(y),qu(c),Lu(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),st(2)):(this.j.info("Failed to ping google.com"),st(1))};function qu(c){if(c.G=0,c.ka=[],c.l){const y=Uo(c.h);(y.length!=0||c.i.length!=0)&&(V(c.ka,y),V(c.ka,c.i),c.h.i.length=0,j(c.i),c.i.length=0),c.l.ra()}}function Hu(c,y,v){var S=v instanceof Et?mn(v):new Et(v);if(S.g!="")y&&(S.g=y+"."+S.g),mr(S,S.s);else{var B=d.location;S=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;var $=new Et(null);S&&ps($,S),y&&($.g=y),B&&mr($,B),v&&($.l=v),S=$}return v=c.D,y=c.ya,v&&y&&We(S,v,y),We(S,"VER",c.la),Ss(c,S),S}function Fu(c,y,v){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Ke(new pr({eb:v})):new Ke(c.pa),y.Ha(c.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Gu(){}i=Gu.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Aa(){}Aa.prototype.g=function(c,y){return new sn(c,y)};function sn(c,y){ht.call(this),this.g=new _a(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!Y(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!Y(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new ci(this)}O(sn,ht),sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){Go(this.g)},sn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=jn(c),c=v);y.i.push(new Mu(y.Ya++,c)),y.G==3&&Ea(y)},sn.prototype.N=function(){this.g.l=null,delete this.j,Go(this.g),delete this.g,sn.aa.N.call(this)};function Ku(c){Di.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}O(Ku,Di);function $u(){Po.call(this),this.status=1}O($u,Po);function ci(c){this.g=c}O(ci,Gu),ci.prototype.ua=function(){Qe(this.g,"a")},ci.prototype.ta=function(c){Qe(this.g,new Ku(c))},ci.prototype.sa=function(c){Qe(this.g,new $u)},ci.prototype.ra=function(){Qe(this.g,"b")},Aa.prototype.createWebChannel=Aa.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,_S=function(){return new Aa},yS=function(){return ur()},gS=ti,dp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},fr.NO_ERROR=0,fr.TIMEOUT=8,fr.HTTP_ERROR=6,dh=fr,Ni.COMPLETE="complete",pS=Ni,Mo.EventType=Oi,Oi.OPEN="a",Oi.CLOSE="b",Oi.ERROR="c",Oi.MESSAGE="d",ht.prototype.listen=ht.prototype.K,ql=Mo,Ke.prototype.listenOnce=Ke.prototype.L,Ke.prototype.getLastError=Ke.prototype.Ka,Ke.prototype.getLastErrorCode=Ke.prototype.Ba,Ke.prototype.getStatus=Ke.prototype.Z,Ke.prototype.getResponseJson=Ke.prototype.Oa,Ke.prototype.getResponseText=Ke.prototype.oa,Ke.prototype.send=Ke.prototype.ea,Ke.prototype.setWithCredentials=Ke.prototype.Ha,mS=Ke}).apply(typeof Wc<"u"?Wc:typeof self<"u"?self:typeof window<"u"?window:{});const oT="@firebase/firestore",lT="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ao="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ys=new Qh("@firebase/firestore");function Wa(){return Ys.logLevel}function he(i,...e){if(Ys.logLevel<=ke.DEBUG){const t=e.map(tg);Ys.debug(`Firestore (${Ao}): ${i}`,...t)}}function or(i,...e){if(Ys.logLevel<=ke.ERROR){const t=e.map(tg);Ys.error(`Firestore (${Ao}): ${i}`,...t)}}function oo(i,...e){if(Ys.logLevel<=ke.WARN){const t=e.map(tg);Ys.warn(`Firestore (${Ao}): ${i}`,...t)}}function tg(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(i="Unexpected state"){const e=`FIRESTORE (${Ao}) INTERNAL ASSERTION FAILED: `+i;throw or(e),new Error(e)}function $e(i,e){i||we()}function Re(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends Zn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class YM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Jt.UNAUTHENTICATED))}shutdown(){}}class XM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class WM{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){$e(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let u=new $r;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new $r,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},d=p=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new $r)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?($e(typeof s.accessToken=="string"),new vS(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string"),new Jt(e)}}class JM{constructor(e,t,s){this.l=e,this.h=t,this.P=s,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class ZM{constructor(e,t,s){this.l=e,this.h=t,this.P=s}getToken(){return Promise.resolve(new JM(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class uT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class eP{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,$n(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){$e(this.o===void 0);const s=u=>{u.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.R;return this.R=u.token,he("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new uT(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?($e(typeof t.token=="string"),this.R=t.token,new uT(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tP(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ES(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=tP(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<t&&(s+=e.charAt(o[u]%62))}return s}}function Ne(i,e){return i<e?-1:i>e?1:0}function mp(i,e){let t=0;for(;t<i.length&&t<e.length;){const s=i.codePointAt(t),o=e.codePointAt(t);if(s!==o){if(s<128&&o<128)return Ne(s,o);{const u=ES(),h=nP(u.encode(cT(i,t)),u.encode(cT(e,t)));return h!==0?h:Ne(s,o)}}t+=s>65535?2:1}return Ne(i.length,e.length)}function cT(i,e){return i.codePointAt(e)>65535?i.substring(e,e+2):i.substring(e,e+1)}function nP(i,e){for(let t=0;t<i.length&&t<e.length;++t)if(i[t]!==e[t])return Ne(i[t],e[t]);return Ne(i.length,e.length)}function lo(i,e,t){return i.length===e.length&&i.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT=-62135596800,fT=1e6;class Dt{static now(){return Dt.fromMillis(Date.now())}static fromDate(e){return Dt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*fT);return new Dt(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new me(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new me(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<hT)throw new me(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/fT}_compareTo(e){return this.seconds===e.seconds?Ne(this.nanoseconds,e.nanoseconds):Ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-hT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new Dt(0,0))}static max(){return new be(new Dt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT="__name__";class _i{constructor(e,t,s){t===void 0?t=0:t>e.length&&we(),s===void 0?s=e.length-t:s>e.length-t&&we(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return _i.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof _i?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const u=_i.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return Ne(e.length,t.length)}static compareSegments(e,t){const s=_i.isNumericId(e),o=_i.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?_i.extractNumericId(e).compare(_i.extractNumericId(t)):mp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Kr.fromString(e.substring(4,e.length-2))}}class rt extends _i{construct(e,t,s){return new rt(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new me(re.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new rt(t)}static emptyPath(){return new rt([])}}const iP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ft extends _i{construct(e,t,s){return new Ft(e,t,s)}static isValidIdentifier(e){return iP.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ft.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===dT}static keyField(){return new Ft([dT])}static fromServerFormat(e){const t=[];let s="",o=0;const u=()=>{if(s.length===0)throw new me(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new me(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new me(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else d==="`"?(h=!h,o++):d!=="."||h?(s+=d,o++):(u(),o++)}if(u(),h)throw new me(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ft(t)}static emptyPath(){return new Ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(rt.fromString(e))}static fromName(e){return new _e(rt.fromString(e).popFirst(5))}static empty(){return new _e(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return rt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new rt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nu=-1;function rP(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=be.fromTimestamp(s===1e9?new Dt(t+1,0):new Dt(t,s));return new Xr(o,_e.empty(),e)}function sP(i){return new Xr(i.readTime,i.key,nu)}class Xr{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Xr(be.min(),_e.empty(),nu)}static max(){return new Xr(be.max(),_e.empty(),nu)}}function aP(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=_e.comparator(i.documentKey,e.documentKey),t!==0?t:Ne(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function So(i){if(i.code!==re.FAILED_PRECONDITION||i.message!==oP)throw i;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&we(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ne((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ne?t:ne.resolve(t)}catch(t){return ne.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.reject(t)}static resolve(e){return new ne((t,s)=>{t(e)})}static reject(e){return new ne((t,s)=>{s(e)})}static waitFor(e){return new ne((t,s)=>{let o=0,u=0,h=!1;e.forEach(d=>{++o,d.next(()=>{++u,h&&u===o&&t()},p=>s(p))}),h=!0,u===o&&t()})}static or(e){let t=ne.resolve(!1);for(const s of e)t=t.next(o=>o?ne.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,u)=>{s.push(t.call(this,o,u))}),this.waitFor(s)}static mapArray(e,t){return new ne((s,o)=>{const u=e.length,h=new Array(u);let d=0;for(let p=0;p<u;p++){const g=p;t(e[g]).next(_=>{h[g]=_,++d,d===u&&s(h)},_=>o(_))}})}static doWhile(e,t){return new ne((s,o)=>{const u=()=>{e()===!0?t().next(()=>{u()},o):s()};u()})}}function uP(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function wo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.oe(s),this._e=s=>t.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}lf.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ng=-1;function uf(i){return i==null}function Mh(i){return i===0&&1/i==-1/0}function cP(i){return typeof i=="number"&&Number.isInteger(i)&&!Mh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS="";function hP(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=mT(e)),e=fP(i.get(t),e);return mT(e)}function fP(i,e){let t=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":t+="";break;case AS:t+="";break;default:t+=u}}return t}function mT(i){return i+AS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pT(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function ta(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function SS(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,t){this.comparator=e,this.root=t||Ht.EMPTY}insert(e,t){return new ct(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ht.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ht.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Jc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Jc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Jc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Jc(this.root,e,this.comparator,!0)}}class Jc{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ht{constructor(e,t,s,o,u){this.key=e,this.value=t,this.color=s??Ht.RED,this.left=o??Ht.EMPTY,this.right=u??Ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,u){return new Ht(e??this.key,t??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,s),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ht.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Ht.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw we();const e=this.left.check();if(e!==this.right.check())throw we();return e+(this.isRed()?0:1)}}Ht.EMPTY=null,Ht.RED=!0,Ht.BLACK=!1;Ht.EMPTY=new class{constructor(){this.size=0}get key(){throw we()}get value(){throw we()}get color(){throw we()}get left(){throw we()}get right(){throw we()}copy(e,t,s,o,u){return this}insert(e,t,s){return new Ht(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new gT(this.data.getIterator())}getIteratorFrom(e){return new gT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Nt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Nt(this.comparator);return t.data=e,t}}class gT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this.fields=e,e.sort(Ft.comparator)}static empty(){return new Yn([])}unionWith(e){let t=new Nt(Ft.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Yn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return lo(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new wS("Invalid base64 string: "+u):u}}(e);return new Kt(t)}static fromUint8Array(e){const t=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(e);return new Kt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kt.EMPTY_BYTE_STRING=new Kt("");const dP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wr(i){if($e(!!i),typeof i=="string"){let e=0;const t=dP.exec(i);if($e(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:_t(i.seconds),nanos:_t(i.nanos)}}function _t(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Jr(i){return typeof i=="string"?Kt.fromBase64String(i):Kt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS="server_timestamp",RS="__type__",IS="__previous_value__",CS="__local_write_time__";function ig(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[RS])===null||t===void 0?void 0:t.stringValue)===bS}function cf(i){const e=i.mapValue.fields[IS];return ig(e)?cf(e):e}function iu(i){const e=Wr(i.mapValue.fields[CS].timestampValue);return new Dt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(e,t,s,o,u,h,d,p,g){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g}}const Ph="(default)";class ru{constructor(e,t){this.projectId=e,this.database=t||Ph}static empty(){return new ru("","")}get isDefaultDatabase(){return this.database===Ph}isEqual(e){return e instanceof ru&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS="__type__",pP="__max__",Zc={mapValue:{}},DS="__vector__",xh="value";function Zr(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?ig(i)?4:yP(i)?9007199254740991:gP(i)?10:11:we()}function bi(i,e){if(i===e)return!0;const t=Zr(i);if(t!==Zr(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return iu(i).isEqual(iu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=Wr(o.timestampValue),d=Wr(u.timestampValue);return h.seconds===d.seconds&&h.nanos===d.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return Jr(o.bytesValue).isEqual(Jr(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return _t(o.geoPointValue.latitude)===_t(u.geoPointValue.latitude)&&_t(o.geoPointValue.longitude)===_t(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return _t(o.integerValue)===_t(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=_t(o.doubleValue),d=_t(u.doubleValue);return h===d?Mh(h)===Mh(d):isNaN(h)&&isNaN(d)}return!1}(i,e);case 9:return lo(i.arrayValue.values||[],e.arrayValue.values||[],bi);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},d=u.mapValue.fields||{};if(pT(h)!==pT(d))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(d[p]===void 0||!bi(h[p],d[p])))return!1;return!0}(i,e);default:return we()}}function su(i,e){return(i.values||[]).find(t=>bi(t,e))!==void 0}function uo(i,e){if(i===e)return 0;const t=Zr(i),s=Zr(e);if(t!==s)return Ne(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ne(i.booleanValue,e.booleanValue);case 2:return function(u,h){const d=_t(u.integerValue||u.doubleValue),p=_t(h.integerValue||h.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(i,e);case 3:return yT(i.timestampValue,e.timestampValue);case 4:return yT(iu(i),iu(e));case 5:return mp(i.stringValue,e.stringValue);case 6:return function(u,h){const d=Jr(u),p=Jr(h);return d.compareTo(p)}(i.bytesValue,e.bytesValue);case 7:return function(u,h){const d=u.split("/"),p=h.split("/");for(let g=0;g<d.length&&g<p.length;g++){const _=Ne(d[g],p[g]);if(_!==0)return _}return Ne(d.length,p.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,h){const d=Ne(_t(u.latitude),_t(h.latitude));return d!==0?d:Ne(_t(u.longitude),_t(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return _T(i.arrayValue,e.arrayValue);case 10:return function(u,h){var d,p,g,_;const A=u.fields||{},b=h.fields||{},P=(d=A[xh])===null||d===void 0?void 0:d.arrayValue,O=(p=b[xh])===null||p===void 0?void 0:p.arrayValue,j=Ne(((g=P==null?void 0:P.values)===null||g===void 0?void 0:g.length)||0,((_=O==null?void 0:O.values)===null||_===void 0?void 0:_.length)||0);return j!==0?j:_T(P,O)}(i.mapValue,e.mapValue);case 11:return function(u,h){if(u===Zc.mapValue&&h===Zc.mapValue)return 0;if(u===Zc.mapValue)return 1;if(h===Zc.mapValue)return-1;const d=u.fields||{},p=Object.keys(d),g=h.fields||{},_=Object.keys(g);p.sort(),_.sort();for(let A=0;A<p.length&&A<_.length;++A){const b=mp(p[A],_[A]);if(b!==0)return b;const P=uo(d[p[A]],g[_[A]]);if(P!==0)return P}return Ne(p.length,_.length)}(i.mapValue,e.mapValue);default:throw we()}}function yT(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ne(i,e);const t=Wr(i),s=Wr(e),o=Ne(t.seconds,s.seconds);return o!==0?o:Ne(t.nanos,s.nanos)}function _T(i,e){const t=i.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const u=uo(t[o],s[o]);if(u)return u}return Ne(t.length,s.length)}function co(i){return pp(i)}function pp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(t){const s=Wr(t);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(t){return Jr(t).toBase64()}(i.bytesValue):"referenceValue"in i?function(t){return _e.fromName(t).toString()}(i.referenceValue):"geoPointValue"in i?function(t){return`geo(${t.latitude},${t.longitude})`}(i.geoPointValue):"arrayValue"in i?function(t){let s="[",o=!0;for(const u of t.values||[])o?o=!1:s+=",",s+=pp(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${pp(t.fields[h])}`;return o+"}"}(i.mapValue):we()}function mh(i){switch(Zr(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=cf(i);return e?16+mh(e):16;case 5:return 2*i.stringValue.length;case 6:return Jr(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+mh(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return ta(s.fields,(u,h)=>{o+=u.length+mh(h)}),o}(i.mapValue);default:throw we()}}function vT(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function gp(i){return!!i&&"integerValue"in i}function rg(i){return!!i&&"arrayValue"in i}function ET(i){return!!i&&"nullValue"in i}function TT(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function ph(i){return!!i&&"mapValue"in i}function gP(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[OS])===null||t===void 0?void 0:t.stringValue)===DS}function $l(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return ta(i.mapValue.fields,(t,s)=>e.mapValue.fields[t]=$l(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=$l(i.arrayValue.values[t]);return e}return Object.assign({},i)}function yP(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===pP}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.value=e}static empty(){return new Ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!ph(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=$l(t)}setAll(e){let t=Ft.emptyPath(),s={},o=[];e.forEach((h,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,s,o),s={},o=[],t=d.popLast()}h?s[d.lastSegment()]=$l(h):o.push(d.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,s,o)}delete(e){const t=this.field(e.popLast());ph(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return bi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];ph(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){ta(t,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new Ln($l(this.value))}}function NS(i){const e=[];return ta(i.fields,(t,s)=>{const o=new Ft([t]);if(ph(s)){const u=NS(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)}),new Yn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,t,s,o,u,h,d){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=d}static newInvalidDocument(e){return new Zt(e,0,be.min(),be.min(),be.min(),Ln.empty(),0)}static newFoundDocument(e,t,s,o){return new Zt(e,1,t,be.min(),s,o,0)}static newNoDocument(e,t){return new Zt(e,2,t,be.min(),be.min(),Ln.empty(),0)}static newUnknownDocument(e,t){return new Zt(e,3,t,be.min(),be.min(),Ln.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,t){this.position=e,this.inclusive=t}}function AT(i,e,t){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],h=i.position[o];if(u.field.isKeyField()?s=_e.comparator(_e.fromName(h.referenceValue),t.key):s=uo(h,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function ST(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!bi(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,t="asc"){this.field=e,this.dir=t}}function _P(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{}class wt extends MS{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new EP(e,t,s):t==="array-contains"?new SP(e,s):t==="in"?new wP(e,s):t==="not-in"?new bP(e,s):t==="array-contains-any"?new RP(e,s):new wt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new TP(e,s):new AP(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(uo(t,this.value)):t!==null&&Zr(this.value)===Zr(t)&&this.matchesComparison(uo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Jn extends MS{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Jn(e,t)}matches(e){return PS(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function PS(i){return i.op==="and"}function xS(i){return vP(i)&&PS(i)}function vP(i){for(const e of i.filters)if(e instanceof Jn)return!1;return!0}function yp(i){if(i instanceof wt)return i.field.canonicalString()+i.op.toString()+co(i.value);if(xS(i))return i.filters.map(e=>yp(e)).join(",");{const e=i.filters.map(t=>yp(t)).join(",");return`${i.op}(${e})`}}function VS(i,e){return i instanceof wt?function(s,o){return o instanceof wt&&s.op===o.op&&s.field.isEqual(o.field)&&bi(s.value,o.value)}(i,e):i instanceof Jn?function(s,o){return o instanceof Jn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,h,d)=>u&&VS(h,o.filters[d]),!0):!1}(i,e):void we()}function kS(i){return i instanceof wt?function(t){return`${t.field.canonicalString()} ${t.op} ${co(t.value)}`}(i):i instanceof Jn?function(t){return t.op.toString()+" {"+t.getFilters().map(kS).join(" ,")+"}"}(i):"Filter"}class EP extends wt{constructor(e,t,s){super(e,t,s),this.key=_e.fromName(s.referenceValue)}matches(e){const t=_e.comparator(e.key,this.key);return this.matchesComparison(t)}}class TP extends wt{constructor(e,t){super(e,"in",t),this.keys=LS("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class AP extends wt{constructor(e,t){super(e,"not-in",t),this.keys=LS("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function LS(i,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>_e.fromName(s.referenceValue))}class SP extends wt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return rg(t)&&su(t.arrayValue,this.value)}}class wP extends wt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&su(this.value.arrayValue,t)}}class bP extends wt{constructor(e,t){super(e,"not-in",t)}matches(e){if(su(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!su(this.value.arrayValue,t)}}class RP extends wt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!rg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>su(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(e,t=null,s=[],o=[],u=null,h=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=d,this.le=null}}function wT(i,e=null,t=[],s=[],o=null,u=null,h=null){return new IP(i,e,t,s,o,u,h)}function sg(i){const e=Re(i);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>yp(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),uf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>co(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>co(s)).join(",")),e.le=t}return e.le}function ag(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!_P(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!VS(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!ST(i.startAt,e.startAt)&&ST(i.endAt,e.endAt)}function _p(i){return _e.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e,t=null,s=[],o=[],u=null,h="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=d,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function CP(i,e,t,s,o,u,h,d){return new vu(i,e,t,s,o,u,h,d)}function US(i){return new vu(i)}function bT(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function BS(i){return i.collectionGroup!==null}function Ql(i){const e=Re(i);if(e.he===null){e.he=[];const t=new Set;for(const u of e.explicitOrderBy)e.he.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let d=new Nt(Ft.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(e).forEach(u=>{t.has(u.canonicalString())||u.isKeyField()||e.he.push(new kh(u,s))}),t.has(Ft.keyField().canonicalString())||e.he.push(new kh(Ft.keyField(),s))}return e.he}function Ti(i){const e=Re(i);return e.Pe||(e.Pe=OP(e,Ql(i))),e.Pe}function OP(i,e){if(i.limitType==="F")return wT(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new kh(o.field,u)});const t=i.endAt?new Vh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Vh(i.startAt.position,i.startAt.inclusive):null;return wT(i.path,i.collectionGroup,e,i.filters,i.limit,t,s)}}function vp(i,e){const t=i.filters.concat([e]);return new vu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function Ep(i,e,t){return new vu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function hf(i,e){return ag(Ti(i),Ti(e))&&i.limitType===e.limitType}function zS(i){return`${sg(Ti(i))}|lt:${i.limitType}`}function Ja(i){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>kS(o)).join(", ")}]`),uf(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>co(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>co(o)).join(",")),`Target(${s})`}(Ti(i))}; limitType=${i.limitType})`}function ff(i,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):_e.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,o){for(const u of Ql(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(h,d,p){const g=AT(h,d,p);return h.inclusive?g<=0:g<0}(s.startAt,Ql(s),o)||s.endAt&&!function(h,d,p){const g=AT(h,d,p);return h.inclusive?g>=0:g>0}(s.endAt,Ql(s),o))}(i,e)}function DP(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function jS(i){return(e,t)=>{let s=!1;for(const o of Ql(i)){const u=NP(o,e,t);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function NP(i,e,t){const s=i.field.isKeyField()?_e.comparator(e.key,t.key):function(u,h,d){const p=h.data.field(u),g=d.data.field(u);return p!==null&&g!==null?uo(p,g):we()}(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return we()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ta(this.inner,(t,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return SS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MP=new ct(_e.comparator);function lr(){return MP}const qS=new ct(_e.comparator);function Hl(...i){let e=qS;for(const t of i)e=e.insert(t.key,t);return e}function HS(i){let e=qS;return i.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function Hs(){return Yl()}function FS(){return Yl()}function Yl(){return new na(i=>i.toString(),(i,e)=>i.isEqual(e))}const PP=new ct(_e.comparator),xP=new Nt(_e.comparator);function Le(...i){let e=xP;for(const t of i)e=e.add(t);return e}const VP=new Nt(Ne);function kP(){return VP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function og(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mh(e)?"-0":e}}function GS(i){return{integerValue:""+i}}function LP(i,e){return cP(e)?GS(e):og(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(){this._=void 0}}function UP(i,e,t){return i instanceof Lh?function(o,u){const h={fields:{[RS]:{stringValue:bS},[CS]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&ig(u)&&(u=cf(u)),u&&(h.fields[IS]=u),{mapValue:h}}(t,e):i instanceof au?$S(i,e):i instanceof ou?QS(i,e):function(o,u){const h=KS(o,u),d=RT(h)+RT(o.Ie);return gp(h)&&gp(o.Ie)?GS(d):og(o.serializer,d)}(i,e)}function BP(i,e,t){return i instanceof au?$S(i,e):i instanceof ou?QS(i,e):t}function KS(i,e){return i instanceof Uh?function(s){return gp(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Lh extends df{}class au extends df{constructor(e){super(),this.elements=e}}function $S(i,e){const t=YS(e);for(const s of i.elements)t.some(o=>bi(o,s))||t.push(s);return{arrayValue:{values:t}}}class ou extends df{constructor(e){super(),this.elements=e}}function QS(i,e){let t=YS(e);for(const s of i.elements)t=t.filter(o=>!bi(o,s));return{arrayValue:{values:t}}}class Uh extends df{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function RT(i){return _t(i.integerValue||i.doubleValue)}function YS(i){return rg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function zP(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof au&&o instanceof au||s instanceof ou&&o instanceof ou?lo(s.elements,o.elements,bi):s instanceof Uh&&o instanceof Uh?bi(s.Ie,o.Ie):s instanceof Lh&&o instanceof Lh}(i.transform,e.transform)}class jP{constructor(e,t){this.version=e,this.transformResults=t}}class ir{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ir}static exists(e){return new ir(void 0,e)}static updateTime(e){return new ir(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class mf{}function XS(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new JS(i.key,ir.none()):new Eu(i.key,i.data,ir.none());{const t=i.data,s=Ln.empty();let o=new Nt(Ft.comparator);for(let u of e.fields)if(!o.has(u)){let h=t.field(u);h===null&&u.length>1&&(u=u.popLast(),h=t.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new ia(i.key,s,new Yn(o.toArray()),ir.none())}}function qP(i,e,t){i instanceof Eu?function(o,u,h){const d=o.value.clone(),p=CT(o.fieldTransforms,u,h.transformResults);d.setAll(p),u.convertToFoundDocument(h.version,d).setHasCommittedMutations()}(i,e,t):i instanceof ia?function(o,u,h){if(!gh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const d=CT(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(WS(o)),p.setAll(d),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(i,e,t):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function Xl(i,e,t,s){return i instanceof Eu?function(u,h,d,p){if(!gh(u.precondition,h))return d;const g=u.value.clone(),_=OT(u.fieldTransforms,p,h);return g.setAll(_),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(i,e,t,s):i instanceof ia?function(u,h,d,p){if(!gh(u.precondition,h))return d;const g=OT(u.fieldTransforms,p,h),_=h.data;return _.setAll(WS(u)),_.setAll(g),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),d===null?null:d.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(A=>A.field))}(i,e,t,s):function(u,h,d){return gh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):d}(i,e,t)}function HP(i,e){let t=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=KS(s.transform,o||null);u!=null&&(t===null&&(t=Ln.empty()),t.set(s.field,u))}return t||null}function IT(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&lo(s,o,(u,h)=>zP(u,h))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Eu extends mf{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ia extends mf{constructor(e,t,s,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function WS(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}}),e}function CT(i,e,t){const s=new Map;$e(i.length===t.length);for(let o=0;o<t.length;o++){const u=i[o],h=u.transform,d=e.data.field(u.field);s.set(u.field,BP(h,d,t[o]))}return s}function OT(i,e,t){const s=new Map;for(const o of i){const u=o.transform,h=t.data.field(o.field);s.set(o.field,UP(u,h,e))}return s}class JS extends mf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class FP extends mf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&qP(u,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Xl(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Xl(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=FS();return this.mutations.forEach(o=>{const u=e.get(o.key),h=u.overlayedDocument;let d=this.applyToLocalView(h,u.mutatedFields);d=t.has(o.key)?null:d;const p=XS(h,d);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(be.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Le())}isEqual(e){return this.batchId===e.batchId&&lo(this.mutations,e.mutations,(t,s)=>IT(t,s))&&lo(this.baseMutations,e.baseMutations,(t,s)=>IT(t,s))}}class lg{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){$e(e.mutations.length===s.length);let o=function(){return PP}();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new lg(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var St,qe;function QP(i){switch(i){case re.OK:return we();case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return we()}}function ZS(i){if(i===void 0)return or("GRPC error has no .code"),re.UNKNOWN;switch(i){case St.OK:return re.OK;case St.CANCELLED:return re.CANCELLED;case St.UNKNOWN:return re.UNKNOWN;case St.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case St.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case St.INTERNAL:return re.INTERNAL;case St.UNAVAILABLE:return re.UNAVAILABLE;case St.UNAUTHENTICATED:return re.UNAUTHENTICATED;case St.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case St.NOT_FOUND:return re.NOT_FOUND;case St.ALREADY_EXISTS:return re.ALREADY_EXISTS;case St.PERMISSION_DENIED:return re.PERMISSION_DENIED;case St.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case St.ABORTED:return re.ABORTED;case St.OUT_OF_RANGE:return re.OUT_OF_RANGE;case St.UNIMPLEMENTED:return re.UNIMPLEMENTED;case St.DATA_LOSS:return re.DATA_LOSS;default:return we()}}(qe=St||(St={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YP=new Kr([4294967295,4294967295],0);function DT(i){const e=ES().encode(i),t=new dS;return t.update(e),new Uint8Array(t.digest())}function NT(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Kr([t,s],0),new Kr([o,u],0)]}class ug{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Fl(`Invalid padding: ${t}`);if(s<0)throw new Fl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Fl(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Fl(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Kr.fromNumber(this.Ee)}Ae(e,t,s){let o=e.add(t.multiply(Kr.fromNumber(s)));return o.compare(YP)===1&&(o=new Kr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=DT(e),[s,o]=NT(t);for(let u=0;u<this.hashCount;u++){const h=this.Ae(s,o,u);if(!this.Re(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new ug(u,o,t);return s.forEach(d=>h.insert(d)),h}insert(e){if(this.Ee===0)return;const t=DT(e),[s,o]=NT(t);for(let u=0;u<this.hashCount;u++){const h=this.Ae(s,o,u);this.Ve(h)}}Ve(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Fl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(e,t,s,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,Tu.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new pf(be.min(),o,new ct(Ne),lr(),Le())}}class Tu{constructor(e,t,s,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Tu(s,t,Le(),Le(),Le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e,t,s,o){this.me=e,this.removedTargetIds=t,this.key=s,this.fe=o}}class ew{constructor(e,t){this.targetId=e,this.ge=t}}class tw{constructor(e,t,s=Kt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class MT{constructor(){this.pe=0,this.ye=PT(),this.we=Kt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Le(),t=Le(),s=Le();return this.ye.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:we()}}),new Tu(this.we,this.Se,e,t,s)}Me(){this.be=!1,this.ye=PT()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,$e(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class XP{constructor(e){this.ke=e,this.qe=new Map,this.Qe=lr(),this.$e=eh(),this.Ue=eh(),this.Ke=new ct(Ne)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const s=this.He(t);switch(e.state){case 0:this.Je(t)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(t);break;case 3:this.Je(t)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),s.Ce(e.resumeToken));break;default:we()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((s,o)=>{this.Je(o)&&t(o)})}Ze(e){const t=e.targetId,s=e.ge.count,o=this.Xe(t);if(o){const u=o.target;if(_p(u))if(s===0){const h=new _e(u.path);this.ze(t,h,Zt.newNoDocument(h,be.min()))}else $e(s===1);else{const h=this.et(t);if(h!==s){const d=this.tt(e),p=d?this.nt(d,e,h):1;if(p!==0){this.Ye(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,g)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=t;let h,d;try{h=Jr(s).toUint8Array()}catch(p){if(p instanceof wS)return oo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new ug(h,o,u)}catch(p){return oo(p instanceof Fl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.Ee===0?null:d}nt(e,t,s){return t.ge.count===s-this.st(e,t.targetId)?0:2}st(e,t){const s=this.ke.getRemoteKeysForTarget(t);let o=0;return s.forEach(u=>{const h=this.ke.it(),d=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(d)||(this.ze(t,u,null),o++)}),o}ot(e){const t=new Map;this.qe.forEach((u,h)=>{const d=this.Xe(h);if(d){if(u.current&&_p(d.target)){const p=new _e(d.target.path);this._t(p).has(h)||this.ut(h,p)||this.ze(h,p,Zt.newNoDocument(p,e))}u.ve&&(t.set(h,u.Fe()),u.Me())}});let s=Le();this.Ue.forEach((u,h)=>{let d=!0;h.forEachWhile(p=>{const g=this.Xe(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(s=s.add(u))}),this.Qe.forEach((u,h)=>h.setReadTime(e));const o=new pf(e,t,this.Ke,this.Qe,s);return this.Qe=lr(),this.$e=eh(),this.Ue=eh(),this.Ke=new ct(Ne),o}Ge(e,t){if(!this.Je(e))return;const s=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,s),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}ze(e,t,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,t)?o.xe(t,1):o.Oe(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),this.Ue=this.Ue.insert(t,this.ct(t).add(e)),s&&(this.Qe=this.Qe.insert(t,s))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new MT,this.qe.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new Nt(Ne),this.Ue=this.Ue.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Nt(Ne),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||he("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new MT),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function eh(){return new ct(_e.comparator)}function PT(){return new ct(_e.comparator)}const WP={asc:"ASCENDING",desc:"DESCENDING"},JP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ZP={and:"AND",or:"OR"};class ex{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Tp(i,e){return i.useProto3Json||uf(e)?e:{value:e}}function Bh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function nw(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function tx(i,e){return Bh(i,e.toTimestamp())}function Ai(i){return $e(!!i),be.fromTimestamp(function(t){const s=Wr(t);return new Dt(s.seconds,s.nanos)}(i))}function cg(i,e){return Ap(i,e).canonicalString()}function Ap(i,e){const t=function(o){return new rt(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?t:t.child(e)}function iw(i){const e=rt.fromString(i);return $e(lw(e)),e}function Sp(i,e){return cg(i.databaseId,e.path)}function Fm(i,e){const t=iw(e);if(t.get(1)!==i.databaseId.projectId)throw new me(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new me(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new _e(sw(t))}function rw(i,e){return cg(i.databaseId,e)}function nx(i){const e=iw(i);return e.length===4?rt.emptyPath():sw(e)}function wp(i){return new rt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function sw(i){return $e(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function xT(i,e,t){return{name:Sp(i,e),fields:t.value.mapValue.fields}}function ix(i,e){let t;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:we()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,_){return g.useProto3Json?($e(_===void 0||typeof _=="string"),Kt.fromBase64String(_||"")):($e(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array),Kt.fromUint8Array(_||new Uint8Array))}(i,e.targetChange.resumeToken),h=e.targetChange.cause,d=h&&function(g){const _=g.code===void 0?re.UNKNOWN:ZS(g.code);return new me(_,g.message||"")}(h);t=new tw(s,o,u,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Fm(i,s.document.name),u=Ai(s.document.updateTime),h=s.document.createTime?Ai(s.document.createTime):be.min(),d=new Ln({mapValue:{fields:s.document.fields}}),p=Zt.newFoundDocument(o,u,h,d),g=s.targetIds||[],_=s.removedTargetIds||[];t=new yh(g,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Fm(i,s.document),u=s.readTime?Ai(s.readTime):be.min(),h=Zt.newNoDocument(o,u),d=s.removedTargetIds||[];t=new yh([],d,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Fm(i,s.document),u=s.removedTargetIds||[];t=new yh([],u,o,null)}else{if(!("filter"in e))return we();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new $P(o,u),d=s.targetId;t=new ew(d,h)}}return t}function rx(i,e){let t;if(e instanceof Eu)t={update:xT(i,e.key,e.value)};else if(e instanceof JS)t={delete:Sp(i,e.key)};else if(e instanceof ia)t={update:xT(i,e.key,e.data),updateMask:dx(e.fieldMask)};else{if(!(e instanceof FP))return we();t={verify:Sp(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(u,h){const d=h.transform;if(d instanceof Lh)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof au)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof ou)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Uh)return{fieldPath:h.field.canonicalString(),increment:d.Ie};throw we()}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:tx(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:we()}(i,e.precondition)),t}function sx(i,e){return i&&i.length>0?($e(e!==void 0),i.map(t=>function(o,u){let h=o.updateTime?Ai(o.updateTime):Ai(u);return h.isEqual(be.min())&&(h=Ai(u)),new jP(h,o.transformResults||[])}(t,e))):[]}function ax(i,e){return{documents:[rw(i,e.path)]}}function ox(i,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=rw(i,o);const u=function(g){if(g.length!==0)return ow(Jn.create(g,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const h=function(g){if(g.length!==0)return g.map(_=>function(b){return{field:Za(b.field),direction:cx(b.dir)}}(_))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const d=Tp(i,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ht:t,parent:o}}function lx(i){let e=nx(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){$e(s===1);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let u=[];t.where&&(u=function(A){const b=aw(A);return b instanceof Jn&&xS(b)?b.getFilters():[b]}(t.where));let h=[];t.orderBy&&(h=function(A){return A.map(b=>function(O){return new kh(eo(O.field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction))}(b))}(t.orderBy));let d=null;t.limit&&(d=function(A){let b;return b=typeof A=="object"?A.value:A,uf(b)?null:b}(t.limit));let p=null;t.startAt&&(p=function(A){const b=!!A.before,P=A.values||[];return new Vh(P,b)}(t.startAt));let g=null;return t.endAt&&(g=function(A){const b=!A.before,P=A.values||[];return new Vh(P,b)}(t.endAt)),CP(e,o,h,u,d,"F",p,g)}function ux(i,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function aw(i){return i.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=eo(t.unaryFilter.field);return wt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=eo(t.unaryFilter.field);return wt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=eo(t.unaryFilter.field);return wt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=eo(t.unaryFilter.field);return wt.create(h,"!=",{nullValue:"NULL_VALUE"});default:return we()}}(i):i.fieldFilter!==void 0?function(t){return wt.create(eo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return we()}}(t.fieldFilter.op),t.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(t){return Jn.create(t.compositeFilter.filters.map(s=>aw(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return we()}}(t.compositeFilter.op))}(i):we()}function cx(i){return WP[i]}function hx(i){return JP[i]}function fx(i){return ZP[i]}function Za(i){return{fieldPath:i.canonicalString()}}function eo(i){return Ft.fromServerFormat(i.fieldPath)}function ow(i){return i instanceof wt?function(t){if(t.op==="=="){if(TT(t.value))return{unaryFilter:{field:Za(t.field),op:"IS_NAN"}};if(ET(t.value))return{unaryFilter:{field:Za(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(TT(t.value))return{unaryFilter:{field:Za(t.field),op:"IS_NOT_NAN"}};if(ET(t.value))return{unaryFilter:{field:Za(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Za(t.field),op:hx(t.op),value:t.value}}}(i):i instanceof Jn?function(t){const s=t.getFilters().map(o=>ow(o));return s.length===1?s[0]:{compositeFilter:{op:fx(t.op),filters:s}}}(i):we()}function dx(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function lw(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e,t,s,o,u=be.min(),h=be.min(),d=Kt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new qr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(e){this.Tt=e}}function px(i){const e=lx({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Ep(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(){this.Tn=new yx}addToCollectionParentIndex(e,t){return this.Tn.add(t),ne.resolve()}getCollectionParents(e,t){return ne.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return ne.resolve()}deleteFieldIndex(e,t){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,t){return ne.resolve()}getDocumentsMatchingTarget(e,t){return ne.resolve(null)}getIndexType(e,t){return ne.resolve(0)}getFieldIndexes(e,t){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,t){return ne.resolve(Xr.min())}getMinOffsetFromCollectionGroup(e,t){return ne.resolve(Xr.min())}updateCollectionGroup(e,t,s){return ne.resolve()}updateIndexEntries(e,t){return ne.resolve()}}class yx{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Nt(rt.comparator),u=!o.has(s);return this.index[t]=o.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Nt(rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},uw=41943040;class cn{static withCacheSize(e){return new cn(e,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(uw,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new ho(0)}static Kn(){return new ho(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT="LruGarbageCollector",_x=1048576;function LT([i,e],[t,s]){const o=Ne(i,t);return o===0?Ne(e,s):o}class vx{constructor(e){this.Hn=e,this.buffer=new Nt(LT),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();LT(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Ex{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){he(kT,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){wo(t)?he(kT,"Ignoring IndexedDB error during garbage collection: ",t):await So(t)}await this.er(3e5)})}}class Tx{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return ne.resolve(lf.ae);const s=new vx(t);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.tr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(VT)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),VT):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let s,o,u,h,d,p,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,h=Date.now(),this.nthSequenceNumber(e,o))).next(A=>(s=A,d=Date.now(),this.removeTargets(e,s,t))).next(A=>(u=A,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(A=>(g=Date.now(),Wa()<=ke.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-_}ms
	Determined least recently used ${o} in `+(d-h)+`ms
	Removed ${u} targets in `+(p-d)+`ms
	Removed ${A} documents in `+(g-p)+`ms
Total Duration: ${g-_}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:A})))}}function Ax(i,e){return new Tx(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(){this.changes=new na(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?ne.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&Xl(s.mutation,o,Yn.empty(),Dt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Le()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Le()){const o=Hs();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(u=>{let h=Hl();return u.forEach((d,p)=>{h=h.insert(d,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const s=Hs();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Le()))}populateOverlays(e,t,s){const o=[];return s.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((h,d)=>{t.set(h,d)})})}computeViews(e,t,s,o){let u=lr();const h=Yl(),d=function(){return Yl()}();return t.forEach((p,g)=>{const _=s.get(g.key);o.has(g.key)&&(_===void 0||_.mutation instanceof ia)?u=u.insert(g.key,g):_!==void 0?(h.set(g.key,_.mutation.getFieldMask()),Xl(_.mutation,g,_.mutation.getFieldMask(),Dt.now())):h.set(g.key,Yn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,_)=>h.set(g,_)),t.forEach((g,_)=>{var A;return d.set(g,new wx(_,(A=h.get(g))!==null&&A!==void 0?A:null))}),d))}recalculateAndSaveOverlays(e,t){const s=Yl();let o=new ct((h,d)=>h-d),u=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const d of h)d.keys().forEach(p=>{const g=t.get(p);if(g===null)return;let _=s.get(p)||Yn.empty();_=d.applyToLocalView(g,_),s.set(p,_);const A=(o.get(d.batchId)||Le()).add(p);o=o.insert(d.batchId,A)})}).next(()=>{const h=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,_=p.value,A=FS();_.forEach(b=>{if(!u.has(b)){const P=XS(t.get(b),s.get(b));P!==null&&A.set(b,P),u=u.add(b)}}),h.push(this.documentOverlayCache.saveOverlays(e,g,A))}return ne.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(h){return _e.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):BS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-u.size):ne.resolve(Hs());let d=nu,p=u;return h.next(g=>ne.forEach(g,(_,A)=>(d<A.largestBatchId&&(d=A.largestBatchId),u.get(_)?ne.resolve():this.remoteDocumentCache.getEntry(e,_).next(b=>{p=p.insert(_,b)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,Le())).next(_=>({batchId:d,changes:HS(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new _e(t)).next(s=>{let o=Hl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const u=t.collectionGroup;let h=Hl();return this.indexManager.getCollectionParents(e,u).next(d=>ne.forEach(d,p=>{const g=function(A,b){return new vu(b,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(t,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(_=>{_.forEach((A,b)=>{h=h.insert(A,b)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,o))).next(h=>{u.forEach((p,g)=>{const _=g.getKey();h.get(_)===null&&(h=h.insert(_,Zt.newInvalidDocument(_)))});let d=Hl();return h.forEach((p,g)=>{const _=u.get(p);_!==void 0&&Xl(_.mutation,g,Yn.empty(),Dt.now()),ff(t,g)&&(d=d.insert(p,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return ne.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Ai(o.createTime)}}(t)),ne.resolve()}getNamedQuery(e,t){return ne.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(o){return{name:o.name,query:px(o.bundledQuery),readTime:Ai(o.readTime)}}(t)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(){this.overlays=new ct(_e.comparator),this.Rr=new Map}getOverlay(e,t){return ne.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Hs();return ne.forEach(t,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,u)=>{this.Et(e,t,u)}),ne.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),ne.resolve()}getOverlaysForCollection(e,t,s){const o=Hs(),u=t.length+1,h=new _e(t.child("")),d=this.overlays.getIteratorFrom(h);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let u=new ct((g,_)=>g-_);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let _=u.get(g.largestBatchId);_===null&&(_=Hs(),u=u.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const d=Hs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,_)=>d.set(g,_)),!(d.size()>=o)););return ne.resolve(d)}Et(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new KP(t,s));let u=this.Rr.get(t);u===void 0&&(u=Le(),this.Rr.set(t,u)),this.Rr.set(t,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(){this.sessionToken=Kt.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(){this.Vr=new Nt(Lt.mr),this.gr=new Nt(Lt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const s=new Lt(e,t);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.wr(new Lt(e,t))}Sr(e,t){e.forEach(s=>this.removeReference(s,t))}br(e){const t=new _e(new rt([])),s=new Lt(t,e),o=new Lt(t,e+1),u=[];return this.gr.forEachInRange([s,o],h=>{this.wr(h),u.push(h.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new _e(new rt([])),s=new Lt(t,e),o=new Lt(t,e+1);let u=Le();return this.gr.forEachInRange([s,o],h=>{u=u.add(h.key)}),u}containsKey(e){const t=new Lt(e,0),s=this.Vr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Lt{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return _e.comparator(e.key,t.key)||Ne(e.Cr,t.Cr)}static pr(e,t){return Ne(e.Cr,t.Cr)||_e.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Nt(Lt.mr)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new GP(u,t,s,o);this.mutationQueue.push(h);for(const d of o)this.Mr=this.Mr.add(new Lt(d.key,u)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ne.resolve(h)}lookupMutationBatch(e,t){return ne.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Nr(s),u=o<0?0:o;return ne.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?ng:this.Fr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Lt(t,0),o=new Lt(t,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,o],h=>{const d=this.Or(h.Cr);u.push(d)}),ne.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Nt(Ne);return t.forEach(o=>{const u=new Lt(o,0),h=new Lt(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,h],d=>{s=s.add(d.Cr)})}),ne.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let u=s;_e.isDocumentKey(u)||(u=u.child(""));const h=new Lt(new _e(u),0);let d=new Nt(Ne);return this.Mr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(d=d.add(p.Cr)),!0)},h),ne.resolve(this.Br(d))}Br(e){const t=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){$e(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return ne.forEach(t.mutations,o=>{const u=new Lt(o.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,t){const s=new Lt(t,0),o=this.Mr.firstAfterOrEqual(s);return ne.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(e){this.kr=e,this.docs=function(){return new ct(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),u=o?o.size:0,h=this.kr(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return ne.resolve(s?s.document.mutableCopy():Zt.newInvalidDocument(t))}getEntries(e,t){let s=lr();return t.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Zt.newInvalidDocument(o))}),ne.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let u=lr();const h=t.path,d=new _e(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:_}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||aP(sP(_),s)<=0||(o.has(_.key)||ff(t,_))&&(u=u.insert(_.key,_.mutableCopy()))}return ne.resolve(u)}getAllFromCollectionGroup(e,t,s,o){we()}qr(e,t){return ne.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new Nx(this)}getSize(e){return ne.resolve(this.size)}}class Nx extends Sx{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),ne.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(e){this.persistence=e,this.Qr=new na(t=>sg(t),ag),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.$r=0,this.Ur=new hg,this.targetCount=0,this.Kr=ho.Un()}forEachTarget(e,t){return this.Qr.forEach((s,o)=>t(o)),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.$r&&(this.$r=t),ne.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Kr=new ho(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,ne.resolve()}updateTargetData(e,t){return this.zn(t),ne.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Ur.br(t.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,t,s){let o=0;const u=[];return this.Qr.forEach((h,d)=>{d.sequenceNumber<=t&&s.get(d.targetId)===null&&(this.Qr.delete(h),u.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),ne.waitFor(u).next(()=>o)}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,t){const s=this.Qr.get(t)||null;return ne.resolve(s)}addMatchingKeys(e,t,s){return this.Ur.yr(t,s),ne.resolve()}removeMatchingKeys(e,t,s){this.Ur.Sr(t,s);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),ne.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.Ur.br(t),ne.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Ur.vr(t);return ne.resolve(s)}containsKey(e,t){return ne.resolve(this.Ur.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new lf(0),this.zr=!1,this.zr=!0,this.jr=new Cx,this.referenceDelegate=e(this),this.Hr=new Mx(this),this.indexManager=new gx,this.remoteDocumentCache=function(o){return new Dx(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new mx(t),this.Yr=new Rx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Ix,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Wr[e.toKey()];return s||(s=new Ox(t,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,s){he("MemoryPersistence","Starting transaction:",e);const o=new Px(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,t){return ne.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,t)))}}class Px extends lP{constructor(e){super(),this.currentSequenceNumber=e}}class fg{constructor(e){this.persistence=e,this.ti=new hg,this.ni=null}static ri(e){return new fg(e)}get ii(){if(this.ni)return this.ni;throw we()}addReference(e,t,s){return this.ti.addReference(s,t),this.ii.delete(s.toString()),ne.resolve()}removeReference(e,t,s){return this.ti.removeReference(s,t),this.ii.add(s.toString()),ne.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),ne.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.ii,s=>{const o=_e.fromPath(s);return this.si(e,o).next(u=>{u||t.removeEntry(o,be.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(s=>{s?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return ne.or([()=>ne.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class zh{constructor(e,t){this.persistence=e,this.oi=new na(s=>hP(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=Ax(this,t)}static ri(e,t){return new zh(e,t)}Zr(){}Xr(e){return ne.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}sr(e){let t=0;return this.rr(e,s=>{t++}).next(()=>t)}rr(e,t){return ne.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(u=>u?ne.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,h=>this.ar(e,h,t).next(d=>{d||(s++,u.removeEntry(h,be.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),ne.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.oi.set(s,e.currentSequenceNumber),ne.resolve()}removeReference(e,t,s){return this.oi.set(s,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),ne.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=mh(e.data.value)),t}ar(e,t,s){return ne.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.oi.get(t);return ne.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Hi=s,this.Ji=o}static Yi(e,t){let s=Le(),o=Le();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new dg(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return mC()?8:uP(tn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,s,o){const u={result:null};return this.rs(e,t).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ss(e,t,o,s).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new xx;return this._s(e,t,h).next(d=>{if(u.result=d,this.Xi)return this.us(e,t,h,d.size)})}).next(()=>u.result)}us(e,t,s,o){return s.documentReadCount<this.es?(Wa()<=ke.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",Ja(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ne.resolve()):(Wa()<=ke.DEBUG&&he("QueryEngine","Query:",Ja(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(Wa()<=ke.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",Ja(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ti(t))):ne.resolve())}rs(e,t){if(bT(t))return ne.resolve(null);let s=Ti(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=Ep(t,null,"F"),s=Ti(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const h=Le(...u);return this.ns.getDocuments(e,h).next(d=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.cs(t,d);return this.ls(t,g,h,p.readTime)?this.rs(e,Ep(t,null,"F")):this.hs(e,g,t,p)}))})))}ss(e,t,s,o){return bT(t)||o.isEqual(be.min())?ne.resolve(null):this.ns.getDocuments(e,s).next(u=>{const h=this.cs(t,u);return this.ls(t,h,s,o)?ne.resolve(null):(Wa()<=ke.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ja(t)),this.hs(e,h,t,rP(o,nu)).next(d=>d))})}cs(e,t){let s=new Nt(jS(e));return t.forEach((o,u)=>{ff(e,u)&&(s=s.add(u))}),s}ls(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,t,s){return Wa()<=ke.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",Ja(t)),this.ns.getDocumentsMatchingQuery(e,t,Xr.min(),s)}hs(e,t,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(u=>(t.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mg="LocalStore",kx=3e8;class Lx{constructor(e,t,s,o){this.persistence=e,this.Ps=t,this.serializer=o,this.Ts=new ct(Ne),this.Is=new na(u=>sg(u),ag),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new bx(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function Ux(i,e,t,s){return new Lx(i,e,t,s)}async function hw(i,e){const t=Re(i);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,t.As(e),t.mutationQueue.getAllMutationBatches(s))).next(u=>{const h=[],d=[];let p=Le();for(const g of o){h.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}for(const g of u){d.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}return t.localDocuments.getDocuments(s,p).next(g=>({Rs:g,removedBatchIds:h,addedBatchIds:d}))})})}function Bx(i,e){const t=Re(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=t.ds.newChangeBuffer({trackRemovals:!0});return function(d,p,g,_){const A=g.batch,b=A.keys();let P=ne.resolve();return b.forEach(O=>{P=P.next(()=>_.getEntry(p,O)).next(j=>{const V=g.docVersions.get(O);$e(V!==null),j.version.compareTo(V)<0&&(A.applyToRemoteDocument(j,g),j.isValidDocument()&&(j.setReadTime(g.commitVersion),_.addEntry(j)))})}),P.next(()=>d.mutationQueue.removeMutationBatch(p,A))}(t,s,e,u).next(()=>u.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(d){let p=Le();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function fw(i){const e=Re(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function zx(i,e){const t=Re(i),s=e.snapshotVersion;let o=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=t.ds.newChangeBuffer({trackRemovals:!0});o=t.Ts;const d=[];e.targetChanges.forEach((_,A)=>{const b=o.get(A);if(!b)return;d.push(t.Hr.removeMatchingKeys(u,_.removedDocuments,A).next(()=>t.Hr.addMatchingKeys(u,_.addedDocuments,A)));let P=b.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(A)!==null?P=P.withResumeToken(Kt.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):_.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(_.resumeToken,s)),o=o.insert(A,P),function(j,V,K){return j.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=kx?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0}(b,P,_)&&d.push(t.Hr.updateTargetData(u,P))});let p=lr(),g=Le();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(u,_))}),d.push(jx(u,h,e.documentUpdates).next(_=>{p=_.Vs,g=_.fs})),!s.isEqual(be.min())){const _=t.Hr.getLastRemoteSnapshotVersion(u).next(A=>t.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));d.push(_)}return ne.waitFor(d).next(()=>h.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(t.Ts=o,u))}function jx(i,e,t){let s=Le(),o=Le();return t.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let h=lr();return t.forEach((d,p)=>{const g=u.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(be.min())?(e.removeEntry(d,p.readTime),h=h.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(d,p)):he(mg,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)}),{Vs:h,fs:o}})}function qx(i,e){const t=Re(i);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=ng),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function Hx(i,e){const t=Re(i);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.Hr.getTargetData(s,e).next(u=>u?(o=u,ne.resolve(o)):t.Hr.allocateTargetId(s).next(h=>(o=new qr(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(s.targetId,s),t.Is.set(e,s.targetId)),s})}async function bp(i,e,t){const s=Re(i),o=s.Ts.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!wo(h))throw h;he(mg,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function UT(i,e,t){const s=Re(i);let o=be.min(),u=Le();return s.persistence.runTransaction("Execute query","readwrite",h=>function(p,g,_){const A=Re(p),b=A.Is.get(_);return b!==void 0?ne.resolve(A.Ts.get(b)):A.Hr.getTargetData(g,_)}(s,h,Ti(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(h,d.targetId).next(p=>{u=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(h,e,t?o:be.min(),t?u:Le())).next(d=>(Fx(s,DP(e),d),{documents:d,gs:u})))}function Fx(i,e,t){let s=i.Es.get(e)||be.min();t.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.Es.set(e,s)}class BT{constructor(){this.activeTargetIds=kP()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Gx{constructor(){this.ho=new BT,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,s){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new BT,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT="ConnectivityMonitor";class jT{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){he(zT,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){he(zT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let th=null;function Rp(){return th===null?th=function(){return 268435456+Math.round(2147483648*Math.random())}():th++,"0x"+th.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gm="RestConnection",$x={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Qx{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===Ph?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(e,t,s,o,u){const h=Rp(),d=this.bo(e,t.toUriEncodedString());he(Gm,`Sending RPC '${e}' ${h}:`,d,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,u),this.vo(e,d,p,s).then(g=>(he(Gm,`Received RPC '${e}' ${h}: `,g),g),g=>{throw oo(Gm,`RPC '${e}' ${h} failed with error: `,g,"url: ",d,"request:",s),g})}Co(e,t,s,o,u,h){return this.So(e,t,s,o,u)}Do(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ao}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}bo(e,t){const s=$x[e];return`${this.po}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wt="WebChannelConnection";class Xx extends Qx{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,s,o){const u=Rp();return new Promise((h,d)=>{const p=new mS;p.setWithCredentials(!0),p.listenOnce(pS.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case dh.NO_ERROR:const _=p.getResponseJson();he(Wt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(_)),h(_);break;case dh.TIMEOUT:he(Wt,`RPC '${e}' ${u} timed out`),d(new me(re.DEADLINE_EXCEEDED,"Request time out"));break;case dh.HTTP_ERROR:const A=p.getStatus();if(he(Wt,`RPC '${e}' ${u} failed with status:`,A,"response text:",p.getResponseText()),A>0){let b=p.getResponseJson();Array.isArray(b)&&(b=b[0]);const P=b==null?void 0:b.error;if(P&&P.status&&P.message){const O=function(V){const K=V.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(K)>=0?K:re.UNKNOWN}(P.status);d(new me(O,P.message))}else d(new me(re.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new me(re.UNAVAILABLE,"Connection failed."));break;default:we()}}finally{he(Wt,`RPC '${e}' ${u} completed.`)}});const g=JSON.stringify(o);he(Wt,`RPC '${e}' ${u} sending request:`,o),p.send(t,"POST",g,s,15)})}Wo(e,t,s){const o=Rp(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=_S(),d=yS(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const _=u.join("");he(Wt,`Creating RPC '${e}' stream ${o}: ${_}`,p);const A=h.createWebChannel(_,p);let b=!1,P=!1;const O=new Yx({Fo:V=>{P?he(Wt,`Not sending because RPC '${e}' stream ${o} is closed:`,V):(b||(he(Wt,`Opening RPC '${e}' stream ${o} transport.`),A.open(),b=!0),he(Wt,`RPC '${e}' stream ${o} sending:`,V),A.send(V))},Mo:()=>A.close()}),j=(V,K,Y)=>{V.listen(K,G=>{try{Y(G)}catch(ae){setTimeout(()=>{throw ae},0)}})};return j(A,ql.EventType.OPEN,()=>{P||(he(Wt,`RPC '${e}' stream ${o} transport opened.`),O.Qo())}),j(A,ql.EventType.CLOSE,()=>{P||(P=!0,he(Wt,`RPC '${e}' stream ${o} transport closed`),O.Uo())}),j(A,ql.EventType.ERROR,V=>{P||(P=!0,oo(Wt,`RPC '${e}' stream ${o} transport errored:`,V),O.Uo(new me(re.UNAVAILABLE,"The operation could not be completed")))}),j(A,ql.EventType.MESSAGE,V=>{var K;if(!P){const Y=V.data[0];$e(!!Y);const G=Y,ae=(G==null?void 0:G.error)||((K=G[0])===null||K===void 0?void 0:K.error);if(ae){he(Wt,`RPC '${e}' stream ${o} received error:`,ae);const ee=ae.status;let ce=function(R){const N=St[R];if(N!==void 0)return ZS(N)}(ee),D=ae.message;ce===void 0&&(ce=re.INTERNAL,D="Unknown error status: "+ee+" with message "+ae.message),P=!0,O.Uo(new me(ce,D)),A.close()}else he(Wt,`RPC '${e}' stream ${o} received:`,Y),O.Ko(Y)}}),j(d,gS.STAT_EVENT,V=>{V.stat===dp.PROXY?he(Wt,`RPC '${e}' stream ${o} detected buffering proxy`):V.stat===dp.NOPROXY&&he(Wt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{O.$o()},0),O}}function Km(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gf(i){return new ex(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(e,t,s=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=t,this.Go=s,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,t-s);o>0&&he("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT="PersistentStream";class mw{constructor(e,t,s,o,u,h,d,p){this.Ti=e,this.n_=s,this.r_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new dw(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===re.RESOURCE_EXHAUSTED?(or(t.toString()),or("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===t&&this.V_(s,o)},s=>{e(()=>{const o=new me(re.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,t){const s=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return he(qT,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(he(qT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Wx extends mw{constructor(e,t,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=ix(this.serializer,e),s=function(u){if(!("targetChange"in u))return be.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?be.min():h.readTime?Ai(h.readTime):be.min()}(e);return this.listener.p_(t,s)}y_(e){const t={};t.database=wp(this.serializer),t.addTarget=function(u,h){let d;const p=h.target;if(d=_p(p)?{documents:ax(u,p)}:{query:ox(u,p).ht},d.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){d.resumeToken=nw(u,h.resumeToken);const g=Tp(u,h.expectedCount);g!==null&&(d.expectedCount=g)}else if(h.snapshotVersion.compareTo(be.min())>0){d.readTime=Bh(u,h.snapshotVersion.toTimestamp());const g=Tp(u,h.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,e);const s=ux(this.serializer,e);s&&(t.labels=s),this.I_(t)}w_(e){const t={};t.database=wp(this.serializer),t.removeTarget=e,this.I_(t)}}class Jx extends mw{constructor(e,t,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return $e(!!e.streamToken),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){$e(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=sx(e.writeResults,e.commitTime),s=Ai(e.commitTime);return this.listener.v_(s,t)}C_(){const e={};e.database=wp(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>rx(this.serializer,s))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{}class eV extends Zx{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new me(re.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.So(e,Ap(t,s),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new me(re.UNKNOWN,u.toString())})}Co(e,t,s,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Co(e,Ap(t,s),o,h,d,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new me(re.UNKNOWN,h.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class tV{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(or(t),this.N_=!1):he("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs="RemoteStore";class nV{constructor(e,t,s,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(h=>{s.enqueueAndForget(async()=>{ra(this)&&(he(Xs,"Restarting streams for network reachability change."),await async function(p){const g=Re(p);g.W_.add(4),await Au(g),g.j_.set("Unknown"),g.W_.delete(4),await yf(g)}(this))})}),this.j_=new tV(s,o)}}async function yf(i){if(ra(i))for(const e of i.G_)await e(!0)}async function Au(i){for(const e of i.G_)await e(!1)}function pw(i,e){const t=Re(i);t.K_.has(e.targetId)||(t.K_.set(e.targetId,e),_g(t)?yg(t):bo(t).c_()&&gg(t,e))}function pg(i,e){const t=Re(i),s=bo(t);t.K_.delete(e),s.c_()&&gw(t,e),t.K_.size===0&&(s.c_()?s.P_():ra(t)&&t.j_.set("Unknown"))}function gg(i,e){if(i.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}bo(i).y_(e)}function gw(i,e){i.H_.Ne(e),bo(i).w_(e)}function yg(i){i.H_=new XP({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>i.K_.get(e)||null,it:()=>i.datastore.serializer.databaseId}),bo(i).start(),i.j_.B_()}function _g(i){return ra(i)&&!bo(i).u_()&&i.K_.size>0}function ra(i){return Re(i).W_.size===0}function yw(i){i.H_=void 0}async function iV(i){i.j_.set("Online")}async function rV(i){i.K_.forEach((e,t)=>{gg(i,e)})}async function sV(i,e){yw(i),_g(i)?(i.j_.q_(e),yg(i)):i.j_.set("Unknown")}async function aV(i,e,t){if(i.j_.set("Online"),e instanceof tw&&e.state===2&&e.cause)try{await async function(o,u){const h=u.cause;for(const d of u.targetIds)o.K_.has(d)&&(await o.remoteSyncer.rejectListen(d,h),o.K_.delete(d),o.H_.removeTarget(d))}(i,e)}catch(s){he(Xs,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await jh(i,s)}else if(e instanceof yh?i.H_.We(e):e instanceof ew?i.H_.Ze(e):i.H_.je(e),!t.isEqual(be.min()))try{const s=await fw(i.localStore);t.compareTo(s)>=0&&await function(u,h){const d=u.H_.ot(h);return d.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const _=u.K_.get(g);_&&u.K_.set(g,_.withResumeToken(p.resumeToken,h))}}),d.targetMismatches.forEach((p,g)=>{const _=u.K_.get(p);if(!_)return;u.K_.set(p,_.withResumeToken(Kt.EMPTY_BYTE_STRING,_.snapshotVersion)),gw(u,p);const A=new qr(_.target,p,g,_.sequenceNumber);gg(u,A)}),u.remoteSyncer.applyRemoteEvent(d)}(i,t)}catch(s){he(Xs,"Failed to raise snapshot:",s),await jh(i,s)}}async function jh(i,e,t){if(!wo(e))throw e;i.W_.add(1),await Au(i),i.j_.set("Offline"),t||(t=()=>fw(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{he(Xs,"Retrying IndexedDB access"),await t(),i.W_.delete(1),await yf(i)})}function _w(i,e){return e().catch(t=>jh(i,t,e))}async function _f(i){const e=Re(i),t=es(e);let s=e.U_.length>0?e.U_[e.U_.length-1].batchId:ng;for(;oV(e);)try{const o=await qx(e.localStore,s);if(o===null){e.U_.length===0&&t.P_();break}s=o.batchId,lV(e,o)}catch(o){await jh(e,o)}vw(e)&&Ew(e)}function oV(i){return ra(i)&&i.U_.length<10}function lV(i,e){i.U_.push(e);const t=es(i);t.c_()&&t.S_&&t.b_(e.mutations)}function vw(i){return ra(i)&&!es(i).u_()&&i.U_.length>0}function Ew(i){es(i).start()}async function uV(i){es(i).C_()}async function cV(i){const e=es(i);for(const t of i.U_)e.b_(t.mutations)}async function hV(i,e,t){const s=i.U_.shift(),o=lg.from(s,e,t);await _w(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await _f(i)}async function fV(i,e){e&&es(i).S_&&await async function(s,o){if(function(h){return QP(h)&&h!==re.ABORTED}(o.code)){const u=s.U_.shift();es(s).h_(),await _w(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await _f(s)}}(i,e),vw(i)&&Ew(i)}async function HT(i,e){const t=Re(i);t.asyncQueue.verifyOperationInProgress(),he(Xs,"RemoteStore received new credentials");const s=ra(t);t.W_.add(3),await Au(t),s&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await yf(t)}async function dV(i,e){const t=Re(i);e?(t.W_.delete(2),await yf(t)):e||(t.W_.add(2),await Au(t),t.j_.set("Unknown"))}function bo(i){return i.J_||(i.J_=function(t,s,o){const u=Re(t);return u.M_(),new Wx(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{xo:iV.bind(null,i),No:rV.bind(null,i),Lo:sV.bind(null,i),p_:aV.bind(null,i)}),i.G_.push(async e=>{e?(i.J_.h_(),_g(i)?yg(i):i.j_.set("Unknown")):(await i.J_.stop(),yw(i))})),i.J_}function es(i){return i.Y_||(i.Y_=function(t,s,o){const u=Re(t);return u.M_(),new Jx(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{xo:()=>Promise.resolve(),No:uV.bind(null,i),Lo:fV.bind(null,i),D_:cV.bind(null,i),v_:hV.bind(null,i)}),i.G_.push(async e=>{e?(i.Y_.h_(),await _f(i)):(await i.Y_.stop(),i.U_.length>0&&(he(Xs,`Stopping write stream with ${i.U_.length} pending writes`),i.U_=[]))})),i.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(e,t,s,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new $r,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,u){const h=Date.now()+s,d=new vg(e,t,h,o,u);return d.start(s),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Eg(i,e){if(or("AsyncQueue",`${e}: ${i}`),wo(i))return new me(re.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{static emptySet(e){return new so(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||_e.comparator(t.key,s.key):(t,s)=>_e.comparator(t.key,s.key),this.keyedMap=Hl(),this.sortedSet=new ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof so)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new so;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(){this.Z_=new ct(_e.comparator)}track(e){const t=e.doc.key,s=this.Z_.get(t);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(t):e.type===1&&s.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):we():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,s)=>{e.push(s)}),e}}class fo{constructor(e,t,s,o,u,h,d,p,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,o,u){const h=[];return t.forEach(d=>{h.push({type:0,doc:d})}),new fo(e,t,so.emptySet(t),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class pV{constructor(){this.queries=GT(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,s){const o=Re(t),u=o.queries;o.queries=GT(),u.forEach((h,d)=>{for(const p of d.ta)p.onError(s)})})(this,new me(re.ABORTED,"Firestore shutting down"))}}function GT(){return new na(i=>zS(i),hf)}async function gV(i,e){const t=Re(i);let s=3;const o=e.query;let u=t.queries.get(o);u?!u.na()&&e.ra()&&(s=2):(u=new mV,s=e.ra()?0:1);try{switch(s){case 0:u.ea=await t.onListen(o,!0);break;case 1:u.ea=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const d=Eg(h,`Initialization of query '${Ja(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,u),u.ta.push(e),e.sa(t.onlineState),u.ea&&e.oa(u.ea)&&Tg(t)}async function yV(i,e){const t=Re(i),s=e.query;let o=3;const u=t.queries.get(s);if(u){const h=u.ta.indexOf(e);h>=0&&(u.ta.splice(h,1),u.ta.length===0?o=e.ra()?0:1:!u.na()&&e.ra()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function _V(i,e){const t=Re(i);let s=!1;for(const o of e){const u=o.query,h=t.queries.get(u);if(h){for(const d of h.ta)d.oa(o)&&(s=!0);h.ea=o}}s&&Tg(t)}function vV(i,e,t){const s=Re(i),o=s.queries.get(e);if(o)for(const u of o.ta)u.onError(t);s.queries.delete(e)}function Tg(i){i.ia.forEach(e=>{e.next()})}var Ip,KT;(KT=Ip||(Ip={}))._a="default",KT.Cache="cache";class EV{constructor(e,t,s){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new fo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const s=t!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=fo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Ip.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(e){this.key=e}}class Aw{constructor(e){this.key=e}}class TV{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Le(),this.mutatedKeys=Le(),this.ya=jS(e),this.wa=new so(this.ya)}get Sa(){return this.fa}ba(e,t){const s=t?t.Da:new FT,o=t?t.wa:this.wa;let u=t?t.mutatedKeys:this.mutatedKeys,h=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((_,A)=>{const b=o.get(_),P=ff(this.query,A)?A:null,O=!!b&&this.mutatedKeys.has(b.key),j=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let V=!1;b&&P?b.data.isEqual(P.data)?O!==j&&(s.track({type:3,doc:P}),V=!0):this.va(b,P)||(s.track({type:2,doc:P}),V=!0,(p&&this.ya(P,p)>0||g&&this.ya(P,g)<0)&&(d=!0)):!b&&P?(s.track({type:0,doc:P}),V=!0):b&&!P&&(s.track({type:1,doc:b}),V=!0,(p||g)&&(d=!0)),V&&(P?(h=h.add(P),u=j?u.add(_):u.delete(_)):(h=h.delete(_),u=u.delete(_)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const _=this.query.limitType==="F"?h.last():h.first();h=h.delete(_.key),u=u.delete(_.key),s.track({type:1,doc:_})}return{wa:h,Da:s,ls:d,mutatedKeys:u}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const h=e.Da.X_();h.sort((_,A)=>function(P,O){const j=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we()}};return j(P)-j(O)}(_.type,A.type)||this.ya(_.doc,A.doc)),this.Ca(s),o=o!=null&&o;const d=t&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,g=p!==this.ga;return this.ga=p,h.length!==0||g?{snapshot:new fo(this.query,e.wa,u,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:d}:{Ma:d}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new FT,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Le(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const t=[];return e.forEach(s=>{this.pa.has(s)||t.push(new Aw(s))}),this.pa.forEach(s=>{e.has(s)||t.push(new Tw(s))}),t}Oa(e){this.fa=e.gs,this.pa=Le();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return fo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Ag="SyncEngine";class AV{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class SV{constructor(e){this.key=e,this.Ba=!1}}class wV{constructor(e,t,s,o,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.La={},this.ka=new na(d=>zS(d),hf),this.qa=new Map,this.Qa=new Set,this.$a=new ct(_e.comparator),this.Ua=new Map,this.Ka=new hg,this.Wa={},this.Ga=new Map,this.za=ho.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function bV(i,e,t=!0){const s=Cw(i);let o;const u=s.ka.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await Sw(s,e,t,!0),o}async function RV(i,e){const t=Cw(i);await Sw(t,e,!0,!1)}async function Sw(i,e,t,s){const o=await Hx(i.localStore,Ti(e)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,t);let d;return s&&(d=await IV(i,e,u,h==="current",o.resumeToken)),i.isPrimaryClient&&t&&pw(i.remoteStore,o),d}async function IV(i,e,t,s,o){i.Ha=(A,b,P)=>async function(j,V,K,Y){let G=V.view.ba(K);G.ls&&(G=await UT(j.localStore,V.query,!1).then(({documents:D})=>V.view.ba(D,G)));const ae=Y&&Y.targetChanges.get(V.targetId),ee=Y&&Y.targetMismatches.get(V.targetId)!=null,ce=V.view.applyChanges(G,j.isPrimaryClient,ae,ee);return QT(j,V.targetId,ce.Ma),ce.snapshot}(i,A,b,P);const u=await UT(i.localStore,e,!0),h=new TV(e,u.gs),d=h.ba(u.documents),p=Tu.createSynthesizedTargetChangeForCurrentChange(t,s&&i.onlineState!=="Offline",o),g=h.applyChanges(d,i.isPrimaryClient,p);QT(i,t,g.Ma);const _=new AV(e,t,h);return i.ka.set(e,_),i.qa.has(t)?i.qa.get(t).push(e):i.qa.set(t,[e]),g.snapshot}async function CV(i,e,t){const s=Re(i),o=s.ka.get(e),u=s.qa.get(o.targetId);if(u.length>1)return s.qa.set(o.targetId,u.filter(h=>!hf(h,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await bp(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&pg(s.remoteStore,o.targetId),Cp(s,o.targetId)}).catch(So)):(Cp(s,o.targetId),await bp(s.localStore,o.targetId,!0))}async function OV(i,e){const t=Re(i),s=t.ka.get(e),o=t.qa.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),pg(t.remoteStore,s.targetId))}async function DV(i,e,t){const s=LV(i);try{const o=await function(h,d){const p=Re(h),g=Dt.now(),_=d.reduce((P,O)=>P.add(O.key),Le());let A,b;return p.persistence.runTransaction("Locally write mutations","readwrite",P=>{let O=lr(),j=Le();return p.ds.getEntries(P,_).next(V=>{O=V,O.forEach((K,Y)=>{Y.isValidDocument()||(j=j.add(K))})}).next(()=>p.localDocuments.getOverlayedDocuments(P,O)).next(V=>{A=V;const K=[];for(const Y of d){const G=HP(Y,A.get(Y.key).overlayedDocument);G!=null&&K.push(new ia(Y.key,G,NS(G.value.mapValue),ir.exists(!0)))}return p.mutationQueue.addMutationBatch(P,g,K,d)}).next(V=>{b=V;const K=V.applyToLocalDocumentSet(A,j);return p.documentOverlayCache.saveOverlays(P,V.batchId,K)})}).then(()=>({batchId:b.batchId,changes:HS(A)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,d,p){let g=h.Wa[h.currentUser.toKey()];g||(g=new ct(Ne)),g=g.insert(d,p),h.Wa[h.currentUser.toKey()]=g}(s,o.batchId,t),await Su(s,o.changes),await _f(s.remoteStore)}catch(o){const u=Eg(o,"Failed to persist write");t.reject(u)}}async function ww(i,e){const t=Re(i);try{const s=await zx(t.localStore,e);e.targetChanges.forEach((o,u)=>{const h=t.Ua.get(u);h&&($e(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.Ba=!0:o.modifiedDocuments.size>0?$e(h.Ba):o.removedDocuments.size>0&&($e(h.Ba),h.Ba=!1))}),await Su(t,s,e)}catch(s){await So(s)}}function $T(i,e,t){const s=Re(i);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.ka.forEach((u,h)=>{const d=h.view.sa(e);d.snapshot&&o.push(d.snapshot)}),function(h,d){const p=Re(h);p.onlineState=d;let g=!1;p.queries.forEach((_,A)=>{for(const b of A.ta)b.sa(d)&&(g=!0)}),g&&Tg(p)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function NV(i,e,t){const s=Re(i);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Ua.get(e),u=o&&o.key;if(u){let h=new ct(_e.comparator);h=h.insert(u,Zt.newNoDocument(u,be.min()));const d=Le().add(u),p=new pf(be.min(),new Map,new ct(Ne),h,d);await ww(s,p),s.$a=s.$a.remove(u),s.Ua.delete(e),Sg(s)}else await bp(s.localStore,e,!1).then(()=>Cp(s,e,t)).catch(So)}async function MV(i,e){const t=Re(i),s=e.batch.batchId;try{const o=await Bx(t.localStore,e);Rw(t,s,null),bw(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Su(t,o)}catch(o){await So(o)}}async function PV(i,e,t){const s=Re(i);try{const o=await function(h,d){const p=Re(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let _;return p.mutationQueue.lookupMutationBatch(g,d).next(A=>($e(A!==null),_=A.keys(),p.mutationQueue.removeMutationBatch(g,A))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,_,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_)).next(()=>p.localDocuments.getDocuments(g,_))})}(s.localStore,e);Rw(s,e,t),bw(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Su(s,o)}catch(o){await So(o)}}function bw(i,e){(i.Ga.get(e)||[]).forEach(t=>{t.resolve()}),i.Ga.delete(e)}function Rw(i,e,t){const s=Re(i);let o=s.Wa[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function Cp(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.qa.get(e))i.ka.delete(s),t&&i.La.Ja(s,t);i.qa.delete(e),i.isPrimaryClient&&i.Ka.br(e).forEach(s=>{i.Ka.containsKey(s)||Iw(i,s)})}function Iw(i,e){i.Qa.delete(e.path.canonicalString());const t=i.$a.get(e);t!==null&&(pg(i.remoteStore,t),i.$a=i.$a.remove(e),i.Ua.delete(t),Sg(i))}function QT(i,e,t){for(const s of t)s instanceof Tw?(i.Ka.addReference(s.key,e),xV(i,s)):s instanceof Aw?(he(Ag,"Document no longer in limbo: "+s.key),i.Ka.removeReference(s.key,e),i.Ka.containsKey(s.key)||Iw(i,s.key)):we()}function xV(i,e){const t=e.key,s=t.path.canonicalString();i.$a.get(t)||i.Qa.has(s)||(he(Ag,"New document in limbo: "+t),i.Qa.add(s),Sg(i))}function Sg(i){for(;i.Qa.size>0&&i.$a.size<i.maxConcurrentLimboResolutions;){const e=i.Qa.values().next().value;i.Qa.delete(e);const t=new _e(rt.fromString(e)),s=i.za.next();i.Ua.set(s,new SV(t)),i.$a=i.$a.insert(t,s),pw(i.remoteStore,new qr(Ti(US(t.path)),s,"TargetPurposeLimboResolution",lf.ae))}}async function Su(i,e,t){const s=Re(i),o=[],u=[],h=[];s.ka.isEmpty()||(s.ka.forEach((d,p)=>{h.push(s.Ha(p,e,t).then(g=>{var _;if((g||t)&&s.isPrimaryClient){const A=g?!g.fromCache:(_=t==null?void 0:t.targetChanges.get(p.targetId))===null||_===void 0?void 0:_.current;s.sharedClientState.updateQueryState(p.targetId,A?"current":"not-current")}if(g){o.push(g);const A=dg.Yi(p.targetId,g);u.push(A)}}))}),await Promise.all(h),s.La.p_(o),await async function(p,g){const _=Re(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>ne.forEach(g,b=>ne.forEach(b.Hi,P=>_.persistence.referenceDelegate.addReference(A,b.targetId,P)).next(()=>ne.forEach(b.Ji,P=>_.persistence.referenceDelegate.removeReference(A,b.targetId,P)))))}catch(A){if(!wo(A))throw A;he(mg,"Failed to update sequence numbers: "+A)}for(const A of g){const b=A.targetId;if(!A.fromCache){const P=_.Ts.get(b),O=P.snapshotVersion,j=P.withLastLimboFreeSnapshotVersion(O);_.Ts=_.Ts.insert(b,j)}}}(s.localStore,u))}async function VV(i,e){const t=Re(i);if(!t.currentUser.isEqual(e)){he(Ag,"User change. New user:",e.toKey());const s=await hw(t.localStore,e);t.currentUser=e,function(u,h){u.Ga.forEach(d=>{d.forEach(p=>{p.reject(new me(re.CANCELLED,h))})}),u.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Su(t,s.Rs)}}function kV(i,e){const t=Re(i),s=t.Ua.get(e);if(s&&s.Ba)return Le().add(s.key);{let o=Le();const u=t.qa.get(e);if(!u)return o;for(const h of u){const d=t.ka.get(h);o=o.unionWith(d.view.Sa)}return o}}function Cw(i){const e=Re(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=ww.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=kV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=NV.bind(null,e),e.La.p_=_V.bind(null,e.eventManager),e.La.Ja=vV.bind(null,e.eventManager),e}function LV(i){const e=Re(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=MV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=PV.bind(null,e),e}class qh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=gf(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return Ux(this.persistence,new Vx,e.initialUser,this.serializer)}Xa(e){return new cw(fg.ri,this.serializer)}Za(e){return new Gx}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qh.provider={build:()=>new qh};class UV extends qh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){$e(this.persistence.referenceDelegate instanceof zh);const s=this.persistence.referenceDelegate.garbageCollector;return new Ex(s,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new cw(s=>zh.ri(s,t),this.serializer)}}class Op{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>$T(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=VV.bind(null,this.syncEngine),await dV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new pV}()}createDatastore(e){const t=gf(e.databaseInfo.databaseId),s=function(u){return new Xx(u)}(e.databaseInfo);return function(u,h,d,p){return new eV(u,h,d,p)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,u,h,d){return new nV(s,o,u,h,d)}(this.localStore,this.datastore,e.asyncQueue,t=>$T(this.syncEngine,t,0),function(){return jT.D()?new jT:new Kx}())}createSyncEngine(e,t){return function(o,u,h,d,p,g,_){const A=new wV(o,u,h,d,p,g);return _&&(A.ja=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const u=Re(o);he(Xs,"RemoteStore shutting down."),u.W_.add(5),await Au(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Op.provider={build:()=>new Op};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):or("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts="FirestoreClient";class zV{constructor(e,t,s,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=Jt.UNAUTHENTICATED,this.clientId=TS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async h=>{he(ts,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(he(ts,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new $r;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Eg(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function $m(i,e){i.asyncQueue.verifyOperationInProgress(),he(ts,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await hw(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function YT(i,e){i.asyncQueue.verifyOperationInProgress();const t=await jV(i);he(ts,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener(s=>HT(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>HT(e.remoteStore,o)),i._onlineComponents=e}async function jV(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){he(ts,"Using user provided OfflineComponentProvider");try{await $m(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===re.FAILED_PRECONDITION||o.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;oo("Error using user provided cache. Falling back to memory cache: "+t),await $m(i,new qh)}}else he(ts,"Using default OfflineComponentProvider"),await $m(i,new UV(void 0));return i._offlineComponents}async function Ow(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(he(ts,"Using user provided OnlineComponentProvider"),await YT(i,i._uninitializedComponentsProvider._online)):(he(ts,"Using default OnlineComponentProvider"),await YT(i,new Op))),i._onlineComponents}function qV(i){return Ow(i).then(e=>e.syncEngine)}async function HV(i){const e=await Ow(i),t=e.eventManager;return t.onListen=bV.bind(null,e.syncEngine),t.onUnlisten=CV.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=RV.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=OV.bind(null,e.syncEngine),t}function FV(i,e,t={}){const s=new $r;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,d,p,g){const _=new BV({next:b=>{_.su(),h.enqueueAndForget(()=>yV(u,A)),b.fromCache&&p.source==="server"?g.reject(new me(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(b)},error:b=>g.reject(b)}),A=new EV(d,_,{includeMetadataChanges:!0,Ta:!0});return gV(u,A)}(await HV(i),i.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dw(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nw(i,e,t){if(!t)throw new me(re.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function GV(i,e,t,s){if(e===!0&&s===!0)throw new me(re.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function WT(i){if(!_e.isDocumentKey(i))throw new me(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function JT(i){if(_e.isDocumentKey(i))throw new me(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function vf(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":we()}function Hh(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new me(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=vf(i);throw new me(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw="firestore.googleapis.com",ZT=!0;class e0{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new me(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Mw,this.ssl=ZT}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:ZT;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=uw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<_x)throw new me(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}GV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Dw((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new me(re.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new me(re.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new me(re.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ef{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new e0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new e0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new YM;switch(s.type){case"firstParty":return new ZM(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new me(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=XT.get(t);s&&(he("ComponentProvider","Removing Datastore"),XT.delete(t),s.terminate())}(this),Promise.resolve()}}function KV(i,e,t,s={}){var o;const u=(i=Hh(i,Ef))._getSettings(),h=Object.assign(Object.assign({},u),{emulatorOptions:i._getEmulatorOptions()}),d=`${e}:${t}`;u.host!==Mw&&u.host!==d&&oo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:d,ssl:!1,emulatorOptions:s});if(!Yr(p,h)&&(i._setSettings(p),s.mockUserToken)){let g,_;if(typeof s.mockUserToken=="string")g=s.mockUserToken,_=Jt.MOCK_USER;else{g=lC(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new me(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Jt(A)}i._authCredentials=new XM(new vS(g,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ro(this.firestore,e,this._query)}}class Bn{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Bn(this.firestore,e,this._key)}}class Qr extends Ro{constructor(e,t,s){super(e,t,US(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Bn(this.firestore,null,new _e(e))}withConverter(e){return new Qr(this.firestore,e,this._path)}}function Qm(i,e,...t){if(i=Gt(i),Nw("collection","path",e),i instanceof Ef){const s=rt.fromString(e,...t);return JT(s),new Qr(i,null,s)}{if(!(i instanceof Bn||i instanceof Qr))throw new me(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(rt.fromString(e,...t));return JT(s),new Qr(i.firestore,null,s)}}function $V(i,e,...t){if(i=Gt(i),arguments.length===1&&(e=TS.newId()),Nw("doc","path",e),i instanceof Ef){const s=rt.fromString(e,...t);return WT(s),new Bn(i,null,new _e(s))}{if(!(i instanceof Bn||i instanceof Qr))throw new me(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(rt.fromString(e,...t));return WT(s),new Bn(i.firestore,i instanceof Qr?i.converter:null,new _e(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0="AsyncQueue";class n0{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new dw(this,"async_queue_retry"),this.Su=()=>{const s=Km();s&&he(t0,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const t=Km();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Km();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new $r;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!wo(e))throw e;he(t0,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(h){let d=h.message||"";return h.stack&&(d=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),d}(s);throw or("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=t,t}enqueueAfterDelay(e,t,s){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const o=vg.createAndSchedule(this,e,t,s,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&we()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class wg extends Ef{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new n0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new n0(e),this._firestoreClient=void 0,await e}}}function QV(i,e){const t=typeof i=="object"?i:Lp(),s=typeof i=="string"?i:Ph,o=Zs(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=aC("firestore");u&&KV(o,...u)}return o}function Pw(i){if(i._terminated)throw new me(re.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||YV(i),i._firestoreClient}function YV(i){var e,t,s;const o=i._freezeSettings(),u=function(d,p,g,_){return new mP(d,p,g,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,Dw(_.experimentalLongPollingOptions),_.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new zV(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new mo(Kt.fromBase64String(e))}catch(t){throw new me(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new mo(Kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new me(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new me(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new me(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ne(this._lat,e._lat)||Ne(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XV=/^__.*__$/;class WV{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new ia(e,this.data,this.fieldMask,t,this.fieldTransforms):new Eu(e,this.data,t,this.fieldTransforms)}}function Vw(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we()}}class Cg{constructor(e,t,s,o,u,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Cg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Uu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Fh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(Vw(this.Lu)&&XV.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class JV{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||gf(e)}ju(e,t,s,o=!1){return new Cg({Lu:e,methodName:t,zu:s,path:Ft.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function kw(i){const e=i._freezeSettings(),t=gf(i._databaseId);return new JV(i._databaseId,!!e.ignoreUndefinedProperties,t)}function ZV(i,e,t,s,o,u={}){const h=i.ju(u.merge||u.mergeFields?2:0,e,t,o);Bw("Data must be an object, but it was:",h,s);const d=Lw(s,h);let p,g;if(u.merge)p=new Yn(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const _=[];for(const A of u.mergeFields){const b=tk(e,A,t);if(!h.contains(b))throw new me(re.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);ik(_,b)||_.push(b)}p=new Yn(_),g=h.fieldTransforms.filter(A=>p.covers(A.field))}else p=null,g=h.fieldTransforms;return new WV(new Ln(d),p,g)}function ek(i,e,t,s=!1){return Og(t,i.ju(s?4:3,e))}function Og(i,e){if(Uw(i=Gt(i)))return Bw("Unsupported field value:",e,i),Lw(i,e);if(i instanceof xw)return function(s,o){if(!Vw(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const u=[];let h=0;for(const d of s){let p=Og(d,o.Ku(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}}(i,e)}return function(s,o){if((s=Gt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return LP(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Dt.fromDate(s);return{timestampValue:Bh(o.serializer,u)}}if(s instanceof Dt){const u=new Dt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Bh(o.serializer,u)}}if(s instanceof Rg)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof mo)return{bytesValue:nw(o.serializer,s._byteString)};if(s instanceof Bn){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Wu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:cg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Ig)return function(h,d){return{mapValue:{fields:{[OS]:{stringValue:DS},[xh]:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw d.Wu("VectorValues must only contain numeric values.");return og(d.serializer,g)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${vf(s)}`)}(i,e)}function Lw(i,e){const t={};return SS(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ta(i,(s,o)=>{const u=Og(o,e.qu(s));u!=null&&(t[s]=u)}),{mapValue:{fields:t}}}function Uw(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Dt||i instanceof Rg||i instanceof mo||i instanceof Bn||i instanceof xw||i instanceof Ig)}function Bw(i,e,t){if(!Uw(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const s=vf(t);throw s==="an object"?e.Wu(i+" a custom object"):e.Wu(i+" "+s)}}function tk(i,e,t){if((e=Gt(e))instanceof bg)return e._internalPath;if(typeof e=="string")return zw(i,e);throw Fh("Field path arguments must be of type string or ",i,!1,void 0,t)}const nk=new RegExp("[~\\*/\\[\\]]");function zw(i,e,t){if(e.search(nk)>=0)throw Fh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new bg(...e.split("."))._internalPath}catch{throw Fh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Fh(i,e,t,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new me(re.INVALID_ARGUMENT,d+i+p)}function ik(i,e){return i.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(e,t,s,o,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Bn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new rk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Dg("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class rk extends jw{data(){return super.data()}}function Dg(i,e){return typeof e=="string"?zw(i,e):e instanceof bg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sk(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new me(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ng{}class ak extends Ng{}function i0(i,e,...t){let s=[];e instanceof Ng&&s.push(e),s=s.concat(t),function(u){const h=u.filter(p=>p instanceof Mg).length,d=u.filter(p=>p instanceof Tf).length;if(h>1||h>0&&d>0)throw new me(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)i=o._apply(i);return i}class Tf extends ak{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Tf(e,t,s)}_apply(e){const t=this._parse(e);return qw(e._query,t),new Ro(e.firestore,e.converter,vp(e._query,t))}_parse(e){const t=kw(e.firestore);return function(u,h,d,p,g,_,A){let b;if(g.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new me(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){s0(A,_);const O=[];for(const j of A)O.push(r0(p,u,j));b={arrayValue:{values:O}}}else b=r0(p,u,A)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||s0(A,_),b=ek(d,h,A,_==="in"||_==="not-in");return wt.create(g,_,b)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function ok(i,e,t){const s=e,o=Dg("where",i);return Tf._create(o,s,t)}class Mg extends Ng{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Mg(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:Jn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,u){let h=o;const d=u.getFlattenedFilters();for(const p of d)qw(h,p),h=vp(h,p)}(e._query,t),new Ro(e.firestore,e.converter,vp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function r0(i,e,t){if(typeof(t=Gt(t))=="string"){if(t==="")throw new me(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!BS(e)&&t.indexOf("/")!==-1)throw new me(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(rt.fromString(t));if(!_e.isDocumentKey(s))throw new me(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return vT(i,new _e(s))}if(t instanceof Bn)return vT(i,t._key);throw new me(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vf(t)}.`)}function s0(i,e){if(!Array.isArray(i)||i.length===0)throw new me(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function qw(i,e){const t=function(o,u){for(const h of o)for(const d of h.getFlattenedFilters())if(u.indexOf(d.op)>=0)return d.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new me(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new me(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class lk{convertValue(e,t="none"){switch(Zr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Jr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw we()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return ta(e,(o,u)=>{s[o]=this.convertValue(u,t)}),s}convertVectorValue(e){var t,s,o;const u=(o=(s=(t=e.fields)===null||t===void 0?void 0:t[xh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>_t(h.doubleValue));return new Ig(u)}convertGeoPoint(e){return new Rg(_t(e.latitude),_t(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=cf(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(iu(e));default:return null}}convertTimestamp(e){const t=Wr(e);return new Dt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=rt.fromString(e);$e(lw(s));const o=new ru(s.get(1),s.get(3)),u=new _e(s.popFirst(5));return o.isEqual(t)||or(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uk(i,e,t){let s;return s=i?i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ck extends jw{constructor(e,t,s,o,u,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new _h(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Dg("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class _h extends ck{data(e={}){return super.data(e)}}class hk{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new nh(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new _h(this._firestore,this._userDataWriter,s.key,s,new nh(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new me(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(d=>{const p=new _h(o._firestore,o._userDataWriter,d.doc.key,d.doc,new nh(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>u||d.type!==3).map(d=>{const p=new _h(o._firestore,o._userDataWriter,d.doc.key,d.doc,new nh(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,_=-1;return d.type!==0&&(g=h.indexOf(d.doc.key),h=h.delete(d.doc.key)),d.type!==1&&(h=h.add(d.doc),_=h.indexOf(d.doc.key)),{type:fk(d.type),doc:p,oldIndex:g,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function fk(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we()}}class dk extends lk{constructor(e){super(),this.firestore=e}convertBytes(e){return new mo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Bn(this.firestore,null,t)}}function a0(i){i=Hh(i,Ro);const e=Hh(i.firestore,wg),t=Pw(e),s=new dk(e);return sk(i._query),FV(t,i._query).then(o=>new hk(e,s,i,o))}function mk(i,e){const t=Hh(i.firestore,wg),s=$V(i),o=uk(i.converter,e);return pk(t,[ZV(kw(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,ir.exists(!1))]).then(()=>s)}function pk(i,e){return function(s,o){const u=new $r;return s.asyncQueue.enqueueAndForget(async()=>DV(await qV(s),o,u)),u.promise}(Pw(i),e)}(function(e,t=!0){(function(o){Ao=o})(yo),wi(new Xn("firestore",(s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),d=new wg(new WM(s.getProvider("auth-internal")),new eP(h,s.getProvider("app-check-internal")),function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new me(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ru(g.options.projectId,_)}(h,o),h);return u=Object.assign({useFetchStreams:t},u),d._setSettings(u),d},"PUBLIC").setMultipleInstances(!0)),Un(oT,lT,e),Un(oT,lT,"esm2017")})();const gk={apiKey:"AIzaSyDt3jalGC3bPfmee4mcaIV8jWlh1yWQw04",authDomain:"movieratings-c1445.firebaseapp.com",projectId:"movieratings-c1445",storageBucket:"movieratings-c1445.appspot.com",messagingSenderId:"193250184547",appId:"1:193250184547:web:a440429e8918152e219756",measurementId:"G-DJB83QFVQ4"},Pg=B0(gk);GM(Pg);const Ym=QV(Pg);gu(Pg);const o0="3ae7b5b217c5389d349a90262ba52dec",l0="https://api.themoviedb.org/3";function yk(){var K;const[i,e]=W.useState([]),[t,s]=W.useState(""),[o,u]=W.useState([]),[h,d]=W.useState(null),[p,g]=W.useState(null),[_,A]=W.useState(null);W.useEffect(()=>{const G=JD(async()=>{if(!t.trim()){u([]);return}try{const ee=(await mt.get(`${l0}/search/movie`,{params:{api_key:o0,query:t}})).data.results;u(ee||[])}catch(ae){console.error("Search failed",ae)}},400);return G(),()=>{G.cancel()}},[t]);const b=async(Y,G)=>{try{await mk(Qm(Ym,"ratings"),{title:Y.title,movieId:Y.id,rating:G,timestamp:new Date}),O(Y.id),fetchRatedMovies()}catch(ae){console.error("Error adding rating: ",ae)}},P=async()=>{try{const Y=i0(Qm(Ym,"ratings")),G=await a0(Y),ae={};G.forEach(D=>{const w=D.data(),{movieId:R,title:N,rating:k}=w;ae[R]||(ae[R]={title:N,movieId:R,total:0,count:0}),ae[R].total+=k,ae[R].count+=1});const ce=Object.values(ae).map(D=>({...D,average:D.total/D.count})).filter(D=>D.count>=2).sort((D,w)=>w.average-D.average).slice(0,10);e(ce)}catch(Y){console.error("Error fetching top rated movies:",Y)}};W.useEffect(()=>{P()},[]);const O=async Y=>{try{const G=i0(Qm(Ym,"ratings"),ok("movieId","==",Y)),ae=await a0(G);let ee=0,ce=0;ae.forEach(D=>{ee+=D.data().rating,ce++}),ce>0?A((ee/ce).toFixed(1)):A(null)}catch(G){console.error("Error fetching average rating: ",G)}},j=Y=>{g(Y),h&&b(h,Y)},V=async()=>{try{const Y=Math.floor(Math.random()*50)+1,ae=(await mt.get(`${l0}/movie/popular`,{params:{api_key:o0,page:Y}})).data.results;if(ae.length>0){const ee=Math.floor(Math.random()*ae.length),ce=ae[ee];d(ce),u([]),g(null),O(ce.id)}}catch(Y){console.error("Failed to fetch random movie:",Y)}};return de.jsxs("div",{className:"app",children:[de.jsx("h1",{children:" Movies"}),de.jsxs("div",{style:{position:"relative"},children:[de.jsx("input",{type:"text",value:t,onChange:Y=>s(Y.target.value),placeholder:"Search for a movie..."}),o.length>0&&de.jsx("ul",{className:"dropdown",children:o.slice(0,5).map(Y=>{var G;return de.jsxs("li",{onClick:()=>{d(Y),u([]),g(null),O(Y.id)},children:[Y.title," (",(G=Y.release_date)==null?void 0:G.slice(0,4),")"]},Y.id)})})]}),de.jsx("button",{onClick:V,style:{marginBottom:"10px"},children:"GAMBLING TIME"}),h&&de.jsxs("div",{className:"movie-card",children:[de.jsxs("h2",{children:[h.title," (",(K=h.release_date)==null?void 0:K.slice(0,4),")"]}),h.poster_path&&de.jsx("img",{src:`https://image.tmdb.org/t/p/w500${h.poster_path}`,alt:h.title}),de.jsx("p",{children:h.overview}),_&&de.jsxs("p",{children:[" Average Rating: ",_,"/10"]}),de.jsx("p",{children:"Rate this movie:"}),de.jsx("div",{className:"rating-buttons",children:[...Array(10)].map((Y,G)=>de.jsx("button",{onClick:()=>j(G+1),className:p===G+1?"selected-rating":"unselected-rating",children:G+1},G))})]}),i.length>0&&de.jsxs("div",{className:"rated-movies",children:[de.jsx("h3",{children:" Top 10 Rated Movies"}),de.jsx("ul",{children:i.map((Y,G)=>de.jsxs("li",{children:[de.jsxs("strong",{children:[G+1,". ",Y.title]})," "," ",Y.average.toFixed(1),"/10 (",Y.count," ","rating",Y.count>1?"s":"",")"]},Y.movieId))})]})]})}function u0({className:i,to:e,children:t}){const s=cu();function o(){s(e)}return de.jsx(de.Fragment,{children:de.jsx("button",{className:`nav-bar-button ${i}`,onClick:o,children:t})})}function _k({to:i,children:e}){const t=cu();function s(){t(i)}return de.jsx("h1",{className:"logo",onClick:s,children:e})}function vk(i,e){switch(e.type){case"LOGIN":return{currentUser:e.payload};case"LOGOUT":return{currentUser:null};default:return i}}const Hw={currentUser:null},xg=W.createContext(Hw);function Ek({children:i}){const[e,t]=W.useReducer(vk,Hw);return W.useEffect(()=>{const s=gu();xO(s,o=>{t(o?{type:"LOGIN",payload:o}:{type:"LOGOUT"})})},[]),de.jsx(xg.Provider,{value:{currentUser:e.currentUser},children:i})}function Tk(){const{currentUser:i}=W.useContext(xg),e=gu();function t(){VO(e).then(()=>{}).catch(s=>{console.error(s.code)})}return de.jsx("button",{onClick:t,children:"Sign Out"})}function Ak(){gu();const i=cu();function e(){i("/movie-rating/login")}return de.jsx("button",{onClick:e,children:"Sign In"})}function Sk(){const{currentUser:i}=W.useContext(xg);return i?de.jsx(Tk,{}):de.jsx(Ak,{})}function wk(){return de.jsxs(de.Fragment,{children:[de.jsxs("nav",{className:"nav-bar",children:[de.jsx("div",{className:"nav-item left",children:de.jsx("div",{children:de.jsx(_k,{to:"/movie-rating",children:"Fawaz.com"})})}),de.jsx("div",{className:"nav-item center",children:de.jsxs("div",{children:[de.jsx(u0,{to:"/movie-rating/",className:"button-primary",children:"Home"}),de.jsx(u0,{to:"/movie-rating/login",className:"button-secondary",children:"Login"})]})}),de.jsx("div",{className:"nav-item right",children:de.jsx("div",{children:de.jsx(Sk,{})})})]}),de.jsx(gI,{})]})}function bk(){return de.jsx(qI,{children:de.jsx(_I,{children:de.jsxs(ih,{path:"movie-rating/",element:de.jsx(wk,{}),children:[de.jsx(ih,{index:!0,element:de.jsx(yk,{})}),de.jsx(ih,{path:"login",element:de.jsx(YD,{})})]})})})}wR.createRoot(document.getElementById("root")).render(de.jsx(W.StrictMode,{children:de.jsx(Ek,{children:de.jsx(bk,{})})}));
